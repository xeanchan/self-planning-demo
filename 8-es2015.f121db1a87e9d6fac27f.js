(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"A/ap":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,e),window.removeEventListener("testPassiveEventSupport",n,e),i.hasSupport=t}}};i.update(),e.default=i},"CFj+":function(t,e,n){"use strict";n.r(e),n.d(e,"SiteModule",(function(){return ld}));var i=n("ofXK"),r=n("tyNb"),o=["rgb","rgba","hsl","hsla"],a="undefined"!=typeof document&&document,s=["webkit","ms","moz","o"],l=function(t){if(!a)return"";var e=(a.body||a.documentElement).style,n=s.length;if(void 0!==e[t])return t;for(var i=0;i<n;++i){var r="-"+s[i]+"-"+t;if(void 0!==e[r])return r}return""},c=l("transform"),u=l("filter"),h=l("animation"),d=['"',"'",'\\"',"\\'"],p={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return void 0===e&&(e=window.innerWidth),t/100*e},vh:function(t,e){return void 0===e&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return void 0===e&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return void 0===e&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};function g(t){return void 0===t}function f(t){return t&&"object"==typeof t}function b(t){return Array.isArray(t)}function v(t){return"string"==typeof t}function m(t){return"function"==typeof t}function y(t,e,n,i){for(var r=n;r<i;++r){var o=e[r].trim();if(o===t)return r;var a=r;if("("===o?a=y(")",e,r+1,i):d.indexOf(o)>-1&&(a=y(o,e,r+1,i)),-1===a)break;r=a}return-1}function w(t,e){for(var n=new RegExp("(\\s*"+(e||",")+"\\s*|\\(|\\)|\"|'|\\\\\"|\\\\'|\\s+)","g"),i=t.split(n).filter(Boolean),r=i.length,o=[],a=[],s=0;s<r;++s){var l=i[s].trim(),c=s;if("("===l)c=y(")",i,s+1,r);else{if(")"===l)throw new Error("invalid format");if(d.indexOf(l)>-1)c=y(l,i,s+1,r);else if(l===e){a.length&&(o.push(a.join("")),a=[]);continue}}-1===c&&(c=r-1),a.push(i.slice(s,c+1).join("")),s=c}return a.length&&o.push(a.join("")),o}function x(t){return w(t,"")}function O(t){return w(t,",")}function _(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function C(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);return e?{prefix:e[1],unit:e[3],value:parseFloat(e[2])}:{prefix:"",unit:"",value:NaN}}function M(t,e){return void 0===e&&(e="-"),t.replace(/([a-z])([A-Z])/g,(function(t,n,i){return""+n+e+i.toLowerCase()}))}function T(){return Date.now?Date.now():(new Date).getTime()}function S(t,e,n){void 0===n&&(n=-1);for(var i=t.length,r=0;r<i;++r)if(e(t[r],r,t))return r;return n}function E(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in e)e.push(n);return e}function P(t,e){void 0===e&&(e=[]),t.sort((function(t,n){var i=e.indexOf(t),r=e.indexOf(n);return-1===r&&-1===i?0:-1===i?1:-1===r?-1:i-r}))}function U(t,e){var n=C(t),i=n.value,r=n.unit;if(f(e)){var o=e[r];if(o){if(m(o))return o(i);if(p[r])return p[r](i,o)}}else if("%"===r)return i*e/100;return p[r]?p[r](i):i}function I(t,e,n){return Math.max(e,Math.min(t,n))}function L(t,e){return e?Math.round(t/e)*e:t}function k(t,e,n){return[[L(e[0],1e-7),L(e[0]*t[1]/t[0],1e-7)],[L(e[1]*t[0]/t[1],1e-7),L(e[1],1e-7)]].filter((function(t){return t.every((function(t,i){return n?t<=e[i]:t>=e[i]}))}))[0]||t}function R(t){for(var e=t.length,n=0,i=e-1;i>=0;--i)n+=t[i];return e?n/e:0}function D(t,e){var n=Math.atan2(e[1]-t[1],e[0]-t[0]);return n>=0?n:n+2*Math.PI}function G(t){var e=function(t){return[0,1].map((function(e){return R(t.map((function(t){return t[e]})))}))}(t),n=D(e,t[0]),i=D(e,t[1]);return n<i&&i-n<Math.PI||n>i&&i-n<-Math.PI?1:-1}function F(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function j(t){if("#"===t.charAt(0))return function(t){var e=function(t){return t.replace("#","")}(t),n=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16),o=parseInt(e.substring(6,8),16)/255;return isNaN(o)&&(o=1),[n,i,r,o]}(4===t.length||5===t.length?["#",c=(l=t).charAt(1),c,u=l.charAt(2),u,h=l.charAt(3),h,d=l.charAt(4),d].join(""):t);if(-1!==t.indexOf("(")){var e=_(t),n=e.prefix,i=e.value;if(!n||!i)return;var r=O(i),o=[0,0,0,1],a=r.length;switch(n){case"rgb":case"rgba":for(var s=0;s<a;++s)o[s]=parseFloat(r[s]);return o;case"hsl":case"hsla":for(s=0;s<a;++s)o[s]=-1!==r[s].indexOf("%")?parseFloat(r[s])/100:parseFloat(r[s]);return function(t){var e,n=t[0],i=t[1],r=t[2];n<0&&(n+=360*Math.floor((Math.abs(n)+360)/360)),n%=360;var o,a=(1-Math.abs(2*r-1))*i,s=a*(1-Math.abs(n/60%2-1)),l=r-a/2;return o=n<60?[a,s,0]:n<120?[s,a,0]:n<180?[0,a,s]:n<240?[0,s,a]:n<300?[s,0,a]:n<360?[a,0,s]:[0,0,0],[Math.round(255*(o[0]+l)),Math.round(255*(o[1]+l)),Math.round(255*(o[2]+l)),null!==(e=t[3])&&void 0!==e?e:1]}(o)}}var l,c,u,h,d}function A(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function B(t,e,n,i){t.addEventListener(e,n,i)}function H(t,e,n){t.removeEventListener(e,n)}var z=function(){return(z=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},N=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(f(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(f(t))for(var n in t)this.off(n);else if(e){var i=this._events[t];if(i){var r=S(i,(function(t){return t.listener===e}));r>-1&&i.splice(r,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this;void 0===e&&(e={});var i=this._events[t];if(!t||!i)return!0;var r=!1;return e.eventType=t,e.stop=function(){r=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}(i).forEach((function(i){i.listener(e),i.once&&n.off(t,i.listener)})),!r},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,n){var i=this._events;i[t]=i[t]||[],i[t].push(z({listener:e},n))},t}(),V=function(){function t(t){this.separator=t,this.orderMap={}}var e=t.prototype;return e.getFullName=function(t){return t.join(this.separator)},e.get=function(t){return this.orderMap[this.getFullName(t)]},e.gets=function(t,e){void 0===e&&(e=!0);var n=[],i=this;return function t(e,r){var o=i.get(e);if(o)return o.forEach((function(i){var o=r.concat([i]),a=t(e.concat([i]),o);a&&a.length||n.push(r.concat([i]))})),o}(t,e?t:[]),n},e.set=function(t,e){var n=this;return t.forEach((function(e,i){n.addName(t.slice(0,i),e)})),this.orderMap[this.getFullName(t)]=e,e},e.add=function(t){var e=t.length;return e?this.addName(t.slice(0,-1),t[e-1]):[]},e.addName=function(t,e){var n=this.get(t)||this.set(t,[]);return-1===n.indexOf(e)&&n.push(e),n},e.findIndex=function(t,e){var n=this.orderMap[this.getFullName(t)];return n?n.indexOf(e):-1},e.remove=function(t){var e=this.getFullName(t),n=this.orderMap;for(var i in n)0===i.indexOf(e)&&delete n[i];var r=t.length;if(r){var o=t.slice(0,-1);this.splice(o,this.findIndex(o,t[r-1]),1)}return this},e.filter=function(e,n,i){void 0===i&&(i=!0);var r=this.gets(e,i).filter(n),o=new t(this.separator),a=i?[]:e;return r.forEach((function(t){o.add(a.concat(t))})),o},e.splice=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var o=this.get(t)||this.set(t,[]);return o.splice.apply(o,[e,n].concat(i)),this},e.clear=function(){this.orderMap={}},e.setObject=function(t){var e=this.orderMap;for(var n in t)e[n]=t[n].slice()},e.getObject=function(){var t={},e=this.orderMap;for(var n in e)t[n]=e[n].slice();return t},e.clone=function(){var e=new t(this.separator);return e.setObject(e.orderMap),e},t}();function q(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function $(t,e,n){var i=1-n;return n*n*n+3*n*n*i*e+3*n*i*i*t}function Y(t,e,n,i){var r=function(r){var o=function(t,e,n){for(var i=n,r=1;Math.abs(r)>.001;){if(r=$(t,e,i)-n,Math.abs(r)<.001)return i;i-=r/2}return i}(t,n,I(r,0,1));return $(e,i,o)};return r.easingName="cubic-bezier("+t+","+e+","+n+","+i+")",r}function X(t,e){var n=function(n){var i=1/t;return n>=1?1:("start"===e?i:0)+Math.floor(n/i)*i};return n.easingName="steps("+t+", "+e+")",n}var W,Q=X(1,"start"),K=X(1,"end"),J=Y(0,0,1,1),Z=Y(.25,.1,.25,1),tt=Y(.42,0,1,1),et=Y(0,0,.58,1),nt=Y(.42,0,.58,1),it="animation-timing-function",rt={transform:{},filter:{},attribute:{},html:!0},ot={easing:[it]},at=((W={})[it]=!0,W.contents=!0,W.html=!0,W),st={linear:J,ease:Z,"ease-in":tt,"ease-out":et,"ease-in-out":nt,"step-start":Q,"step-end":K},lt=function(){function t(t,e){this.prefix="",this.suffix="",this.model="",this.type="",this.separator=",",e&&this.setOptions(e),this.value=v(t)?t.split(this.separator):t}var e=t.prototype;return e.setOptions=function(t){for(var e in t)this[e]=t[e];return this},e.size=function(){return this.value.length},e.get=function(t){return this.value[t]},e.set=function(t,e){return this.value[t]=e,this},e.clone=function(){var e=this,n=e.separator,i=e.prefix,r=e.suffix,o=e.model,a=e.type;return new t(this.value.map((function(e){return e instanceof t?e.clone():e})),{separator:n,prefix:i,suffix:r,model:o,type:a})},e.toValue=function(){return this.prefix+this.join()+this.suffix},e.join=function(){return this.value.map((function(e){return e instanceof t?e.toValue():e})).join(this.separator)},e.forEach=function(t){return this.value.forEach(t),this},t}();function ct(t){for(var e=w(t,";"),n={},i=e.length,r=i,o=0;o<i;++o){var a=w(e[o],":");a.length<2||!a[1]?--r:n[a[0].trim()]=dt(a[1].trim())}return{styles:n,length:r}}function ut(t){return 3===t.length&&(t[3]=1),new lt(t,{model:"rgba",separator:",",type:"color",prefix:"rgba(",suffix:")"})}function ht(t,e){return new lt(t,{type:"array",separator:e})}function dt(t,e){if(!v(t))return b(t)?ht(t,","):t;var n=O(t);return n.length>1?ht(n.map((function(t){return dt(t)})),","):(n=x(t)).length>1?ht(n.map((function(t){return dt(t)}))," "):(n=/^(['"])([^'"]*)(['"])$/g.exec(t))&&n[1]===n[3]?new lt([dt(n[2])],{prefix:n[1],suffix:n[1]}):-1!==t.indexOf("(")?function(t){var e=_(t),n=e.prefix,i=e.value,r=e.suffix;if(void 0===i)return t;if(o.indexOf(n)>-1)return ut(j(t));var a=dt(i,n),s=[i],l=",",c=n+"(",u=")"+r;return a instanceof lt&&(l=a.separator,s=a.value,c+=a.prefix,u=a.suffix+u),new lt(s,{separator:l,model:n,prefix:c,suffix:u})}(t):"#"===t.charAt(0)&&"url"!==e?function(t){var e=j(t);return e?ut(e):t}(t):t}function pt(t,e){void 0===e&&(e={});var n=t.model;if(n){t.setOptions({model:"",suffix:"",prefix:""});var i=t.size()>1?t:t.get(0);e[n]=i}else t.forEach((function(t){pt(t,e)}));return e}function gt(t){return t instanceof lt}function ft(t){var e=typeof t;if("object"===e){if(b(t))return"array";if(gt(t))return"property"}else if("string"===e||"number"===e)return"value";return e}function bt(t,e,n){void 0===n&&(n=t.length);for(var i=e,r=0;r<n;++r){if(!f(i)||null==i)return;i=i[t[r]]}return i}function vt(t,e,n){var i=e.length,r=t;if(0===i)return!1;for(var o=0;o<i;++o){if(!0===r)return!1;if(!(r=r[e[o]])||!n&&!0===r)return!1}return!0}function mt(t,e){return vt(rt,t,e)}function yt(t){return vt(at,t,!0)}function wt(t,e){if(void 0===e&&(e=[]),!t)return"";var n=[],i=E(t);return P(i,e),i.forEach((function(e){n.push(e.replace(/\d$/g,"")+"("+t[e]+")")})),n.join(" ")}function xt(t,e){return void 0===e&&(e=!1),Ot({},t,e)}function Ot(t,e,n){for(var i in void 0===n&&(n=!1),e){var r=e[i],o=ft(r);"property"===o?t[i]=n?r.toValue():r.clone():"function"===o?t[i]=n?Ct([i],r):r:"array"===o?t[i]=r.slice():"object"===o?f(t[i])&&!gt(t[i])?Ot(t[i],r,n):t[i]=xt(r,n):t[i]=e[i]}return t}function _t(t){return t[0]in ot?ot[t[0]]:t}function Ct(t,e){var n=ft(e);if("property"===n)return e.toValue();if("function"===n){if(t[0]!==it)return Ct(t,e())}else if("object"===n)return xt(e,!0);return e}q(["id","iterationCount","delay","fillMode","direction","playSpeed","duration","playSpeed","iterationTime","playState"],["easing","easingName"]);var Mt=function(){function t(t){void 0===t&&(t={}),this.properties={},this.orderMap=new V("_///_"),this.properties={},this.set(t)}var e=t.prototype;return e.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.raw.apply(this,t);return Ct(_t(t),n)},e.getOrders=function(t){return this.orderMap.get(t)},e.setOrders=function(t,e){return this.orderMap.set(t,e)},e.getOrderObject=function(){return this.orderMap.getObject()},e.setOrderObject=function(t){this.orderMap.setObject(t)},e.getKeys=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.raw.apply(this,t),i="object"===ft(n)?E(n):[];return P(i,this.orderMap.get(t)),i},e.gets=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this.get.apply(this,e),r=this.getKeys.apply(this,e);return r.map((function(n){return{key:n,value:i[n],children:t.gets.apply(t,q(e,[n]))}}))},e.raw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return bt(_t(t),this.properties)},e.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=_t(t),i=n.length;if(!i)return this;this.orderMap.remove(n);var r=bt(n,this.properties,i-1);return f(r)&&delete r[n[i-1]],this},e.set=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this,r=e.length,o=e.slice(0,-1),a=e[r-1],s=o[0];if(1===r&&a instanceof t)i.merge(a);else if(s in ot)i._set(ot[s],a);else if(2===r&&b(s))i._set(s,a);else if(gt(a))mt(o)?i.set.apply(i,q(o,[pt(a)])):i._set(o,a);else if(b(a))i._set(o,a);else if(f(a))for(var l in!i.has.apply(i,o)&&mt(o)&&i._set(o,{}),a)i.set.apply(i,q(o,[l,a[l]]));else if(v(a)){if(mt(o,!0)){if(yt(o)||!mt(o))this._set(o,a);else{var c=dt(a);f(c)&&i.set.apply(i,q(o,[c]))}return this}var u=ct(a),h=u.styles,d=u.length;for(var l in h)i.set.apply(i,q(o,[l,h[l]]));if(d)return this;i._set(o,a)}else i._set(o,a);return i},e.getNames=function(){return function t(e,n){var i,r=[];if(f(i=e)&&i.constructor===Object)for(var o in e)n.push(o),r=r.concat(t(e[o],n)),n.pop();else r.push(n.slice());return r}(this.properties,[])},e.has=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=_t(t),i=n.length;return!!i&&!g(bt(n,this.properties,i))},e.clone=function(){var e=new t;return e.setOrderObject(this.orderMap.orderMap),e.merge(this)},e.merge=function(t){var e=t.properties;return e&&Ot(this.properties,e),this},e.toCSSObject=function(){var t=this.get(),e={};for(var n in t)if(!mt([n],!0)){var i=t[n];n===it?e[it.replace("animation",h)]=(v(i)?i:i.easingName)||"initial":e[n]=i}var r=wt(t.transform,this.orderMap.get(["transform"])),o=wt(t.filter,this.orderMap.get([u]));return c&&r&&(e[c]=r),u&&o&&(e[u]=o),e},e.toCSS=function(){var t=this.toCSSObject(),e=[],n=E(t);return P(n,this.orderMap.get([])),n.forEach((function(n){e.push(n+":"+t[n]+";")})),e.join("")},e.clear=function(){return this.properties={},this.orderMap.clear(),this},e._set=function(t,e){for(var n=this.properties,i=t.length,r=0;r<i-1;++r){var o=t[r];!(o in n)&&(n[o]={}),n=n[o]}if(i){var a=t[i-1];this.orderMap.add(t),n[a]=1===i&&a===it?function(t){var e;if(v(t))if(t in st)e=st[t];else{var n=dt(t);if(v(n))return 0;if("cubic-bezier"===n.model)e=Y((t=n.value.map((function(t){return parseFloat(t)})))[0],t[1],t[2],t[3]);else{if("steps"!==n.model)return 0;e=X(parseFloat(n.value[0]),n.value[1])}}else e=b(t)?Y(t[0],t[1],t[2],t[3]):t;return e}(e):v(e)&&!yt(t)?dt(e,a):e}},t}(),Tt=n("0IaG"),St=n("LVmW"),Et=n("LvDl"),Pt=n("u47x"),Ut=n("8LU1"),It=n("FtGj"),Lt=n("fXoL"),kt=n("XNiG"),Rt=n("quSY"),Dt=n("VRyK"),Gt=n("LRne"),Ft=n("7Hc7"),jt=n("JX91"),At=n("eIep"),Bt=n("IzEk"),Ht=n("pLZG"),zt=n("1G5W"),Nt=n("D0XW"),Vt=n("7o/Q"),qt=n("WMd4");function $t(t,e=Nt.a){var n;const i=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new Yt(i,e))}class Yt{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Xt(t,this.delay,this.scheduler))}}class Xt extends Vt.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Xt.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new Wt(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(qt.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(qt.a.createComplete()),this.unsubscribe()}}class Wt{constructor(t,e){this.time=t,this.notification=e}}var Qt=n("R0Ic"),Kt=n("+rOU"),Jt=n("FKr1"),Zt=n("rDax"),te=n("nLfN"),ee=n("vxfF"),ne=n("cH1L");const ie=["mat-menu-item",""],re=["*"];function oe(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"div",0),Lt.cc("keydown",(function(e){return Lt.xc(t),Lt.gc()._handleKeydown(e)}))("click",(function(){return Lt.xc(t),Lt.gc().closed.emit("click")}))("@transformMenu.start",(function(e){return Lt.xc(t),Lt.gc()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return Lt.xc(t),Lt.gc()._onAnimationDone(e)})),Lt.Ub(1,"div",1),Lt.jc(2),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc();Lt.lc("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Lt.Db("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const ae={transformMenu:Object(Qt.n)("transformMenu",[Object(Qt.k)("void",Object(Qt.l)({opacity:0,transform:"scale(0.8)"})),Object(Qt.m)("void => enter",Object(Qt.g)([Object(Qt.i)(".mat-menu-content, .mat-mdc-menu-content",Object(Qt.e)("100ms linear",Object(Qt.l)({opacity:1}))),Object(Qt.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(Qt.l)({transform:"scale(1)"}))])),Object(Qt.m)("* => void",Object(Qt.e)("100ms 25ms linear",Object(Qt.l)({opacity:0})))]),fadeInItems:Object(Qt.n)("fadeInItems",[Object(Qt.k)("showing",Object(Qt.l)({opacity:1})),Object(Qt.m)("void => *",[Object(Qt.l)({opacity:0}),Object(Qt.e)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let se=(()=>{class t{constructor(t,e,n,i,r,o,a){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=i,this._viewContainerRef=r,this._document=o,this._changeDetectorRef=a,this._attached=new kt.a}attach(t={}){this._portal||(this._portal=new Kt.h(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Kt.e(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Lt.M),Lt.Pb(Lt.j),Lt.Pb(Lt.g),Lt.Pb(Lt.r),Lt.Pb(Lt.P),Lt.Pb(i.d),Lt.Pb(Lt.h))},t.\u0275dir=Lt.Kb({type:t,selectors:[["ng-template","matMenuContent",""]]}),t})();const le=new Lt.q("MAT_MENU_PANEL");class ce{}const ue=Object(Jt.o)(Object(Jt.p)(ce));let he=(()=>{class t extends ue{constructor(t,e,n,i){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=i,this.role="menuitem",this._hovered=new kt.a,this._focused=new kt.a,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._elementRef,!1),i&&i.addItem&&i.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const i=t.childNodes.length;for(let r=0;r<i;r++)t.childNodes[r].nodeType===e&&(n+=t.childNodes[r].textContent)}return n.trim()}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Lt.l),Lt.Pb(i.d),Lt.Pb(Pt.f),Lt.Pb(le,8))},t.\u0275cmp=Lt.Jb({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&Lt.cc("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(Lt.Db("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),Lt.Gb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Lt.zb],attrs:ie,ngContentSelectors:re,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(Lt.kc(),Lt.jc(0),Lt.Qb(1,"div",0)),2&t&&(Lt.Cb(1),Lt.lc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[Jt.i],encapsulation:2,changeDetection:0}),t})();const de=new Lt.q("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let pe=0,ge=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Lt.D,this._tabSubscription=Rt.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new kt.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Lt.n,this.close=this.closed,this.panelId="mat-menu-panel-"+pe++}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Object(Ut.b)(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Object(Ut.b)(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Pt.e(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Object(jt.a)(this._directDescendantItems),Object(At.a)(t=>Object(Dt.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Object(jt.a)(this._directDescendantItems),Object(At.a)(t=>Object(Dt.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case It.e:Object(It.o)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case It.g:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case It.i:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case It.f:case It.c:Object(It.o)(t)||(e===It.f?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:e!==It.l&&e!==It.b||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(Object(Bt.a)(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Object(jt.a)(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Lt.l),Lt.Pb(Lt.z),Lt.Pb(de))},t.\u0275dir=Lt.Kb({type:t,contentQueries:function(t,e,n){var i;1&t&&(Lt.Ib(n,se,!0),Lt.Ib(n,he,!0),Lt.Ib(n,he,!1)),2&t&&(Lt.sc(i=Lt.dc())&&(e.lazyContent=i.first),Lt.sc(i=Lt.dc())&&(e._allItems=i),Lt.sc(i=Lt.dc())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&Lt.Nc(Lt.M,!0),2&t&&Lt.sc(n=Lt.dc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),fe=(()=>{class t extends ge{}return t.\u0275fac=function(e){return be(e||t)},t.\u0275dir=Lt.Kb({type:t,features:[Lt.zb]}),t})();const be=Lt.Wb(fe);let ve=(()=>{class t extends fe{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Lt.l),Lt.Pb(Lt.z),Lt.Pb(de))},t.\u0275cmp=Lt.Jb({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[Lt.Bb([{provide:le,useExisting:fe},{provide:fe,useExisting:t}]),Lt.zb],ngContentSelectors:re,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(Lt.kc(),Lt.Ec(0,oe,3,6,"ng-template"))},directives:[i.j],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[ae.transformMenu,ae.fadeInItems]},changeDetection:0}),t})();const me=new Lt.q("mat-menu-scroll-strategy"),ye={provide:me,deps:[Zt.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},we=Object(te.f)({passive:!0});let xe=(()=>{class t{constructor(t,e,n,i,r,o,a,s){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=r,this._menuItemInstance=o,this._dir=a,this._focusMonitor=s,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Rt.a.EMPTY,this._hoverSubscription=Rt.a.EMPTY,this._menuCloseSubscription=Rt.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new Lt.n,this.onMenuOpen=this.menuOpened,this.menuClosed=new Lt.n,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,we),o&&(o._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=i}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,we),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof fe&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof fe?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Object(Ht.a)(t=>"void"===t.toState),Object(Bt.a)(1),Object(zt.a)(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Zt.d({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[i,r]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[o,a]=[i,r],[s,l]=[e,n],c=0;this.triggersSubmenu()?(l=e="before"===this.menu.xPosition?"start":"end",n=s="end"===e?"start":"end",c="bottom"===i?8:-8):this.menu.overlapTrigger||(o="top"===i?"bottom":"top",a="top"===r?"bottom":"top"),t.withPositions([{originX:e,originY:o,overlayX:s,overlayY:i,offsetY:c},{originX:n,originY:o,overlayX:l,overlayY:i,offsetY:c},{originX:e,originY:a,overlayX:s,overlayY:r,offsetY:-c},{originX:n,originY:a,overlayX:l,overlayY:r,offsetY:-c}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMenu?this._parentMenu.closed:Object(Gt.a)(),i=this._parentMenu?this._parentMenu._hovered().pipe(Object(Ht.a)(t=>t!==this._menuItemInstance),Object(Ht.a)(()=>this._menuOpen)):Object(Gt.a)();return Object(Dt.a)(t,n,i,e)}_handleMousedown(t){Object(Pt.j)(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(e===It.i&&"ltr"===this.dir||e===It.g&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Object(Ht.a)(t=>t===this._menuItemInstance&&!t.disabled),$t(0,Ft.a)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof fe&&this.menu._isAnimating?this.menu._animationDone.pipe(Object(Bt.a)(1),$t(0,Ft.a),Object(zt.a)(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new Kt.h(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Zt.c),Lt.Pb(Lt.l),Lt.Pb(Lt.P),Lt.Pb(me),Lt.Pb(fe,8),Lt.Pb(he,10),Lt.Pb(ne.b,8),Lt.Pb(Pt.f))},t.\u0275dir=Lt.Kb({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&Lt.cc("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&Lt.Db("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),Oe=(()=>{class t{}return t.\u0275mod=Lt.Nb({type:t}),t.\u0275inj=Lt.Mb({factory:function(e){return new(e||t)},providers:[ye],imports:[Jt.e]}),t})(),_e=(()=>{class t{}return t.\u0275mod=Lt.Nb({type:t}),t.\u0275inj=Lt.Mb({factory:function(e){return new(e||t)},providers:[ye],imports:[[i.c,Jt.e,Jt.j,Zt.f,Oe],ee.b,Jt.e,Oe]}),t})();var Ce=n("oUye"),Me=n("EUZL"),Te=n("jYCk"),Se=n("6uu6"),Ee=n("9F8z"),Pe=n("sYmb"),Ue=n("tk/3"),Ie=n("Qu3c"),Le=n("XhcP"),ke=n("bTqV"),Re=n("kmnG"),De=n("EY2u");n("xgIS"),n("3UWI");const Ge=Object(te.f)({passive:!0});let Fe=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return De.a;const e=Object(Ut.d)(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const i=new kt.a,r="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,Ge),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",o,Ge)}}),i.asObservable()}stopMonitoring(t){const e=Object(Ut.d)(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(Lt.Yb(te.a),Lt.Yb(Lt.z))},t.\u0275prov=Object(Lt.Lb)({factory:function(){return new t(Object(Lt.Yb)(te.a),Object(Lt.Yb)(Lt.z))},token:t,providedIn:"root"}),t})(),je=(()=>{class t{}return t.\u0275mod=Lt.Nb({type:t}),t.\u0275inj=Lt.Mb({factory:function(e){return new(e||t)},imports:[[te.b]]}),t})();var Ae=n("3Pt+");const Be=new Lt.q("MAT_INPUT_VALUE_ACCESSOR"),He=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ze=0;class Ne{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const Ve=Object(Jt.q)(Ne);let qe=(()=>{class t extends Ve{constructor(t,e,n,i,r,o,a,s,l){super(o,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=s,this._uid="mat-input-"+ze++,this.focused=!1,this.stateChanges=new kt.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Object(te.e)().has(t));const c=this._elementRef.nativeElement,u=c.nodeName.toLowerCase();this._inputValueAccessor=a||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u,this._isTextarea="textarea"===u,this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Object(Ut.b)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Object(Ut.b)(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Object(te.e)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Object(Ut.b)(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(He.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Lt.l),Lt.Pb(te.a),Lt.Pb(Ae.j,10),Lt.Pb(Ae.m,8),Lt.Pb(Ae.f,8),Lt.Pb(Jt.a),Lt.Pb(Be,10),Lt.Pb(Fe),Lt.Pb(Lt.z))},t.\u0275dir=Lt.Kb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&Lt.cc("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(Lt.Xb("disabled",e.disabled)("required",e.required),Lt.Db("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),Lt.Gb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[Lt.Bb([{provide:Re.c,useExisting:t}]),Lt.zb,Lt.Ab]}),t})(),$e=(()=>{class t{}return t.\u0275mod=Lt.Nb({type:t}),t.\u0275inj=Lt.Mb({factory:function(e){return new(e||t)},providers:[Jt.a],imports:[[je,Re.d],je,Re.d]}),t})();var Ye=n("jaxi");function Xe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map((function(e){return e.split(" ").map((function(e){return e?""+t+e:""})).join(" ")})).join(" ")}function We(t,e){return function(n){n&&(t[e]=n)}}function Qe(t,e,n){return function(i){i&&(t[e][n]=i)}}function Ke(t,e){return function(n){var i=n.prototype;t.forEach((function(t){e(i,t)}))}}function Je(t,e){return void 0===e&&(e={}),function(n,i){t.forEach((function(t){var r=e[t]||t;n[r]||(n[r]=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=(e=this[i])[t].apply(e,n);return o===this[i]?this:o})}))}}var Ze=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,i=this.values,r=n.indexOf(t),o=-1===r?n.length:r;n[o]=t,i[o]=e},t}(),tn=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),en="function"==typeof Map,nn=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}(),rn=function(){function t(t,e,n,i,r,o,a,s){this.prevList=t,this.list=e,this.added=n,this.removed=i,this.changed=r,this.maintained=o,this.changedBeforeAdded=a,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=function(t,e){var n=[],i=[];return t.forEach((function(t){var e=t[0],r=t[1],o=new nn;n[e]=o,i[r]=o})),n.forEach((function(t,e){t.connect(n[e-1])})),t.filter((function(t,n){return!e[n]})).map((function(t,e){var r=t[0],o=t[1];if(r===o)return[0,0];var a=n[r],s=i[o-1],l=a.getIndex();return a.disconnect(),s?a.connect(s,s.next):a.connect(void 0,n[0]),[l,a.getIndex()]}))}(this.changedBeforeAdded,this.fixed),e=this.changed,n=[];this.cacheOrdered=t.filter((function(t,i){var r=e[i];if(t[0]!==t[1])return n.push([r[0],r[1]]),!0})),this.cachePureChanged=n},t}();function on(t,e,n){var i=en?Map:n?tn:Ze,r=n||function(t){return t},o=[],a=[],s=[],l=t.map(r),c=e.map(r),u=new i,h=new i,d=[],p=[],g={},f=[],b=0,v=0;return l.forEach((function(t,e){u.set(t,e)})),c.forEach((function(t,e){h.set(t,e)})),l.forEach((function(t,e){var n=h.get(t);void 0===n?(++v,a.push(e)):g[n]=v})),c.forEach((function(t,e){var n=u.get(t);void 0===n?(o.push(e),++b):(s.push([n,e]),d.push([n-(v=g[e]||0),e-b]),p.push(e===n),n!==e&&f.push([n,e]))})),a.reverse(),new rn(t,e,o,a,f,s,d,p)}var an=function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}return t.prototype.update=function(t){var e=[].slice.call(t),n=on(this.list,e,this.findKeyCallback);return this.list=e,n},t}(),sn=function(t,e){return(sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function ln(t,e){function n(){this.constructor=t}sn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var cn=function(){return(cn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function un(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function hn(t,e){if(t===e)return!1;for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1}function dn(t,e){var n=Object.keys(t),i=Object.keys(e),r=on(n,i,(function(t){return t})),o={},a={},s={};return r.added.forEach((function(t){var n=i[t];o[n]=e[n]})),r.removed.forEach((function(e){var i=n[e];a[i]=t[i]})),r.maintained.forEach((function(i){var r=n[i[0]];t[r]!==e[r]&&(s[r]=[t[r],e[r]])})),{added:o,removed:a,changed:s}}function pn(t){t.forEach((function(t){t()}))}function gn(t){var e=0;return t.map((function(t){return null==t?"$compat"+ ++e:""+t}))}function fn(t,e,n,i){return v(t)?new On("text_"+t,e,n,i,null,{}):new("string"==typeof t.type?_n:t.type.prototype.render?Sn:Mn)(t.type,e,n,i,t.ref,t.props)}function bn(t){var e=[];return t.forEach((function(t){e=e.concat(b(t)?bn(t):t)})),e}function vn(t){var e=t.className,n=un(t,["className"]);return null!=e&&(n.class=e),delete n.style,delete n.children,n}function mn(t,e){if(!e)return t;for(var n in e)g(t[n])&&(t[n]=e[n]);return t}function yn(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=e||{},o=r.key,a=r.ref,s=un(r,["key","ref"]);return{type:t,key:o,ref:a,props:cn(cn({},s),{children:bn(n).filter((function(t){return null!=t&&!1!==t}))})}}var wn=function(){function t(t,e,n,i,r,o){void 0===o&&(o={}),this.type=t,this.key=e,this.index=n,this.container=i,this.ref=r,this.props=o,this._providers=[]}var e=t.prototype;return e._should=function(t,e){return!0},e._update=function(t,e,n,i){if(this.base&&!v(e)&&!i&&!this._should(e.props,n))return!1;this.original=e,this._setState(n);var r=this.props;return v(e)||(this.props=e.props,this.ref=e.ref),this._render(t,this.base?r:{},n),!0},e._mounted=function(){var t=this.ref;t&&t(this.base)},e._setState=function(t){},e._updated=function(){var t=this.ref;t&&t(this.base)},e._destroy=function(){var t=this.ref;t&&t(null)},t}();function xn(t){var e={},n={};for(var i in t)0===i.indexOf("on")?n[i.replace("on","").toLowerCase()]=t[i]:e[i]=t[i];return{attributes:e,events:n}}var On=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}ln(e,t);var n=e.prototype;return n._render=function(t){var e=this,n=!this.base;return n&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push((function(){n?e._mounted():e._updated()})),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(wn),_n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events={},e}ln(e,t);var n=e.prototype;return n.addEventListener=function(t,e){var n=this.events;n[t]=function(t){t.nativeEvent=t,e(t)},this.base.addEventListener(t,n[t])},n.removeEventListener=function(t){var e=this.events;this.base.removeEventListener(t,e[t]),delete e[t]},n._should=function(t){return hn(this.props,t)},n._render=function(t,e){var n=this,i=!this.base;i&&(this.base=document.createElement(this.type)),In(this,this._providers,this.props.children,t,null);var r=this.base,o=xn(e),a=o.attributes,s=o.events,l=xn(this.props),c=l.attributes,u=l.events;return function(t,e,n){var i=dn(t,e),r=i.added,o=i.removed,a=i.changed;for(var s in r)n.setAttribute(s,r[s]);for(var s in a)n.setAttribute(s,a[s][1]);for(var s in o)n.removeAttribute(s)}(vn(a),vn(c),r),function(t,e,n){var i=dn(t,e),r=i.added,o=i.removed,a=i.changed;for(var s in o)n.removeEventListener(s);for(var s in r)n.addEventListener(s,r[s]);for(var s in a)n.removeEventListener(s),n.addEventListener(s,a[s][1]);for(var s in o)n.removeEventListener(s)}(s,u,this),function(t,e,n){var i=n.style,r=dn(t,e),o=r.added,a=r.removed,s=r.changed;for(var l in o){var c=M(l,"-");i.setProperty?i.setProperty(c,o[l]):i[c]=o[l]}for(var l in s)c=M(l,"-"),i.setProperty?i.setProperty(c,s[l][1]):i[c]=s[l][1];for(var l in a)c=M(l,"-"),i.removeProperty?i.removeProperty(c):i[c]=""}(e.style||{},this.props.style||{},r),t.push((function(){i?n._mounted():n._updated()})),!0},n._unmount=function(){var t=this.events,e=this.base;for(var n in t)e.removeEventListener(n,t[n]);this._providers.forEach((function(t){t._unmount()})),this.events={},e.parentNode.removeChild(e)},e}(wn);function Cn(t){if(!t)return null;if(t instanceof Node)return t;var e=t._provider._providers;return e.length?Cn(e[0].base):null}var Mn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}ln(e,t);var n=e.prototype;return n._render=function(t){var e=this.type(this.props);return In(this,this._providers,e?[e]:[],t),!0},n._unmount=function(){this._providers.forEach((function(t){t._unmount()}))},e}(wn),Tn=function(t){function e(e){var n=t.call(this,"container","container",0,null)||this;return n.base=e,n}ln(e,t);var n=e.prototype;return n._render=function(){return!0},n._unmount=function(){},e}(wn),Sn=function(t){function e(e,n,i,r,o,a){return void 0===a&&(a={}),t.call(this,e,n,i,r,o,mn(a,e.defaultProps))||this}ln(e,t);var n=e.prototype;return n._should=function(t,e){return this.base.shouldComponentUpdate(mn(t,this.type.defaultProps),e||this.base.state)},n._render=function(t,e,n){var i=this;this.props=mn(this.props,this.type.defaultProps);var r=!this.base;r?(this.base=new this.type(this.props),this.base._provider=this):this.base.props=this.props;var o=this.base,a=o.state,s=o.render();s&&s.props&&!s.props.children.length&&(s.props.children=this.props.children),In(this,this._providers,s?[s]:[],t,n,null),t.push((function(){r?(i._mounted(),o.componentDidMount()):(i._updated(),o.componentDidUpdate(e,a))}))},n._setState=function(t){t&&(this.base.state=t)},n._unmount=function(){this._providers.forEach((function(t){t._unmount()})),this.base.componentWillUnmount()},e}(wn),En=function(){function t(t){void 0===t&&(t={}),this.props=t,this.state={}}var e=t.prototype;return e.shouldComponentUpdate=function(t,e){return!0},e.render=function(){return null},e.setState=function(t,e,n){var i=[],r=this._provider;In(r.container,[r],[r.original],i,cn(cn({},this.state),t),n)&&(e&&i.push(e),pn(i))},e.forceUpdate=function(t){this.setState(this.state,t,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(t,e){},e.componentWillUnmount=function(){},t}(),Pn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ln(e,t),e.prototype.shouldComponentUpdate=function(t,e){return hn(this.props,t)||hn(this.state,e)},e}(En),Un=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}ln(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props,e=t.element,n=t.container;this._portalProvider=new Tn(n),Ln(e,n,this._portalProvider)},n.componentDidUpdate=function(){var t=this.props;Ln(t.element,t.container,this._portalProvider)},n.componentWillUnmount=function(){Ln(null,this.props.container,this._portalProvider),this._portalProvider=null},e}(Pn);function In(t,e,n,i,r,o){var a=function(t,e,n){var i=n.map((function(t){return v(t)?null:t.key})),r=on(gn(e.map((function(t){return t.key}))),gn(i),(function(t){return t}));r.removed.forEach((function(t){e.splice(t,1)[0]._unmount()})),r.ordered.forEach((function(t){var n=t[1],i=e.splice(t[0],1)[0];e.splice(n,0,i);var r=Cn(i.base),o=Cn(e[n+1]&&e[n+1].base);r&&r.parentNode.insertBefore(r,o)})),r.added.forEach((function(r){e.splice(r,0,fn(n[r],i[r],r,t))}));var o=r.maintained.filter((function(r){var o=r[1],a=n[o],s=e[o];return(v(a)?"text_"+a:a.type)!==s.type?(s._unmount(),e.splice(o,1,fn(a,i[o],o,t)),!0):(s.index=o,!1)}));return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}(r.added,o.map((function(t){return t[1]})))}(t,e,n),s=e.filter((function(t,e){return t._update(i,n[e],r,o)})),l=function t(e){if(!e)return null;var n=e.base;return n instanceof Node?n:t(e.container)}(t);return l&&a.reverse().forEach((function(n){var i=e[n],r=Cn(i.base);if(r&&l!==r&&!r.parentNode){var o=function(t,e){for(var n=t._providers,i=n.length,r=e.index+1;r<i;++r){var o=Cn(n[r].base);if(o)return o}return null}(t,i);l.insertBefore(r,o)}})),s.length>0}function Ln(t,e,n){void 0===n&&(n=e.__REACT_COMPAT__);var i=!!n;return n||(n=new Tn(e)),function(t,e,n){var i=[];In(t,t._providers,e,i,void 0),pn(i)}(n,t?[t]:[]),i||(e.__REACT_COMPAT__=n),n}function kn(t,e,n){var i=e.__REACT_COMPAT__;t&&!i&&(e.innerHTML=""),Ln(t,e,i),n&&n()}function Rn(t,e){for(var n=t.length,i=0;i<n;++i)if(e(t[i],i))return!0;return!1}function Dn(t,e){for(var n=t.length,i=0;i<n;++i)if(e(t[i],i))return t[i];return null}function Gn(t,e){try{return new RegExp(t,"g").exec(e)}catch(n){return null}}function Fn(t){return t.replace(/_/g,".")}function jn(t,e){var n=null,i="-1";return Rn(t,(function(t){var r=Gn("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!(!r||t.brand||(n=t,i=r[3]||"-1",t.versionAlias?i=t.versionAlias:t.versionTest&&(i=function(t,e){var n=Gn("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return n?n[3]:""}(t.versionTest.toLowerCase(),e)||i),i=Fn(i),0))})),{preset:n,version:i}}function An(t,e){return Dn(t,(function(t){return Gn(""+e.test,t.brand.toLowerCase())}))}var Bn=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],Hn=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",brand:!0}],zn=[{test:"applewebkit",id:"webkit"}],Nn=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Vn=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"mac os x",id:"mac"},{test:"android",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function qn(t,e,n,i,r,o){for(var a=0;a<r;++a){var s=n+a*r,l=i+a*r;t[s]+=t[l]*o,e[s]+=e[l]*o}}function $n(t,e,n,i,r){for(var o=0;o<r;++o){var a=n+o*r,s=i+o*r,l=t[a],c=e[a];t[a]=t[s],t[s]=l,e[a]=e[s],e[s]=c}}function Yn(t,e,n,i,r){for(var o=0;o<i;++o){var a=n+o*i;t[a]/=r,e[a]/=r}}function Xn(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var i=t.slice(),r=0;r<n;++r)i[r*n+e-1]=0,i[(e-1)*n+r]=0;return i[(e-1)*(n+1)]=1,i}function Wn(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),i=di(e),r=0;r<e;++r){var o=e*r+r;if(!L(n[o],1e-7))for(var a=r+1;a<e;++a)if(n[e*r+a]){$n(n,i,r,a,e);break}if(!L(n[o],1e-7))return[];for(Yn(n,i,r,e,n[o]),a=0;a<e;++a){var s=a,l=n[a+r*e];L(l,1e-7)&&r!==a&&qn(n,i,s,r,e,-l)}}return i}function Qn(t,e){for(var n=t.slice(),i=t.length;i<e-1;++i)n[i]=0;return n[e-1]=1,n}function Kn(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var i=di(n),r=Math.min(e,n),o=0;o<r-1;++o){for(var a=0;a<r-1;++a)i[o*n+a]=t[o*e+a];i[(o+1)*n-1]=t[(o+1)*e-1],i[(n-1)*n+o]=t[(e-1)*e+o]}return i[n*n-1]=t[e*e-1],i}function Jn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=di(t);return e.forEach((function(e){i=Zn(i,e,t)})),i}function Zn(t,e,n){void 0===n&&(n=Math.sqrt(t.length));var i=[],r=t.length/n,o=e.length/r;if(!r)return e;if(!o)return t;for(var a=0;a<n;++a)for(var s=0;s<o;++s){i[s*n+a]=0;for(var l=0;l<r;++l)i[s*n+a]+=t[l*n+a]*e[s*r+l]}return i}function ti(t,e){for(var n=Math.min(t.length,e.length),i=t.slice(),r=0;r<n;++r)i[r]=i[r]+e[r];return i}function ei(t,e){for(var n=Math.min(t.length,e.length),i=t.slice(),r=0;r<n;++r)i[r]=i[r]-e[r];return i}function ni(t,e){return void 0===e&&(e=9===t.length),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function ii(t,e,n){void 0===n&&(n=e.length);var i=Zn(t,e,n),r=i[n-1];return i.map((function(t){return t/r}))}function ri(t,e){return Zn(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function oi(t,e){return Zn(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function ai(t,e){return Zn(t,hi(e,4))}function si(t,e){var n=e[0],i=e[1],r=e[2];return Zn(t,[void 0===n?1:n,0,0,0,0,void 0===i?1:i,0,0,0,0,void 0===r?1:r,0,0,0,0,1],4)}function li(t,e){return ii(hi(e,3),Qn(t,3))}function ci(t,e){var n=e[0],i=e[1],r=e[2];return Zn(t,[1,0,0,0,0,1,0,0,0,0,1,0,void 0===n?0:n,void 0===i?0:i,void 0===r?0:r,1],4)}function ui(t,e){return Zn(t,e,4)}function hi(t,e){var n=Math.cos(t),i=Math.sin(t),r=di(e);return r[0]=n,r[1]=i,r[e]=-i,r[e+1]=n,r}function di(t){for(var e=t*t,n=[],i=0;i<e;++i)n[i]=i%(t+1)?0:1;return n}function pi(t,e){for(var n=di(e),i=Math.min(t.length,e-1),r=0;r<i;++r)n[(e+1)*r]=t[r];return n}function gi(t,e){for(var n=di(e),i=Math.min(t.length,e-1),r=0;r<i;++r)n[e*(e-1)+r]=t[r];return n}function fi(t,e,n,i,r,o,a,s){var l=t[0],c=t[1],u=e[0],h=e[1],d=n[0],p=n[1],g=i[0],f=i[1],b=r[0],v=r[1],m=o[0],y=o[1],w=a[0],x=a[1],O=s[0],_=s[1],C=Wn([l,0,u,0,d,0,g,0,c,0,h,0,p,0,f,0,1,0,1,0,1,0,1,0,0,l,0,u,0,d,0,g,0,c,0,h,0,p,0,f,0,1,0,1,0,1,0,1,-b*l,-v*l,-m*u,-y*u,-w*d,-x*d,-O*g,-_*g,-b*c,-v*c,-m*h,-y*h,-w*p,-x*p,-O*f,-_*f],8);if(!C.length)return[];var M=Zn(C,[b,v,m,y,w,x,O,_],8);return M[8]=1,Kn(function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],i=0;i<e;++i)for(var r=0;r<e;++r)n[r*e+i]=t[e*i+r];return n}(M),3,4)}function bi(t){var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach((function(t){var n=t.matrixFunction;n&&(e=n(e,t.functionValue))})),e}function vi(t){return(b(t)?t:x(t)).map((function(t){var e=_(t),n=e.prefix,i=e.value,r=null,o=n,a="";if("translate"===n||"translateX"===n||"translate3d"===n){var s=O(i).map((function(t){return parseFloat(t)})),l=s[1],c=s[2];r=ci,a=[s[0],void 0===l?0:l,void 0===c?0:c]}else if("translateY"===n)r=ci,a=[0,parseFloat(i),0];else if("translateZ"===n)r=ci,a=[0,0,parseFloat(i)];else if("scale"===n||"scale3d"===n){var u=O(i).map((function(t){return parseFloat(t)})),h=u[1],d=u[2];r=si,a=[p=u[0],void 0===h?p:h,void 0===d?1:d]}else if("scaleX"===n){var p;r=si,a=[p=parseFloat(i),1,1]}else if("scaleY"===n)r=si,a=[1,parseFloat(i),1];else if("scaleZ"===n)r=si,a=[1,1,parseFloat(i)];else if("rotate"===n||"rotateZ"===n||"rotateX"===n||"rotateY"===n){var g=C(i),f=g.value;"rotate"===n||"rotateZ"===n?(o="rotateZ",r=ai):"rotateX"===n?r=ri:"rotateY"===n&&(r=oi),a="rad"===g.unit?f:f*Math.PI/180}else if("matrix3d"===n)r=ui,a=O(i).map((function(t){return parseFloat(t)}));else if("matrix"===n){var b=O(i).map((function(t){return parseFloat(t)}));r=ui,a=[b[0],b[1],0,0,b[2],b[3],0,0,0,0,1,0,b[4],b[5],0,1]}else o="";return{name:n,functionName:o,value:i,matrixFunction:r,functionValue:a}}))}function mi(t){return t.length<3?0:Math.abs(function(t){for(var e=0,n=t.length-1;n>=0;--n)e+=t[n];return e}(t.map((function(e,n){var i=t[n+1]||t[0];return e[0]*i[1]-i[0]*e[1]}))))/2}function yi(t,e){var n=e.width,i=e.height,r=e.left,o=e.top,a=wi(t),s=a.minX,l=a.minY,c=n/(a.maxX-s),u=i/(a.maxY-l);return t.map((function(t){return[r+(t[0]-s)*c,o+(t[1]-l)*u]}))}function wi(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,n)}}function xi(t,e,n){var i=t[0],r=t[1],o=wi(e),a=[[o.minX,r],[o.maxX,r]],s=[[i,o.minY],[i,o.maxY]],l=Oi(a[0],a[1]),c=Oi(s[0],s[1]),u=Mi(e),h=[],d=[];return u.forEach((function(t){var e=Oi(t[0],t[1]),n=Ci(_i(l,e),[a,t]),o=Ci(_i(c,e),[s,t]);1===n.length&&t[0][1]===r||h.push.apply(h,n),1===o.length&&t[0][0]===i||d.push.apply(d,o),e[0]||h.push.apply(h,n),e[1]||d.push.apply(d,o)})),!n&&(S(h,(function(t){return t[0]===i}))>-1||S(d,(function(t){return t[1]===r}))>-1)||!!(h.filter((function(t){return t[0]>i})).length%2&&d.filter((function(t){return t[1]>r})).length%2)}function Oi(t,e){var n=t[0],i=t[1],r=e[0],o=e[1];if(n===r&&i===o)return[0,0,0];if(n===r)return[1,0,-n];if(i===o)return[0,1,-i];var a=(r-n)/(i-o);return[1,a,-n-a*i]}function _i(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],l=e[1],c=e[2],u=0===r&&0===s,h=0===o&&0===l;if(u&&h)return[];if(u){var d=-a/o;return d!==-c/l?[]:[[-1/0,d],[1/0,d]]}if(h){var p=-a/r;return p!==-c/s?[]:[[p,-1/0],[p,1/0]]}return 0===r?[[n=-(l*(i=-a/o)+c)/s,i]]:0===s?[[n=-(o*(i=-c/l)+a)/r,i]]:0===o?[[n=-a/r,i=-(s*n+c)/l]]:0===l?[[n=-c/s,i=-(r*n+a)/o]]:[[n=(o*c-l*a)/(l*r-o*s),i=-(r*n+a)/o]]}function Ci(t,e){var n=e.map((function(t){return[0,1].map((function(e){return[Math.min(t[0][e],t[1][e]),Math.max(t[0][e],t[1][e])]}))}));if(2===t.length){var i=t[0],r=i[0],o=i[1];if(r===t[1][0]){var a=Math.max.apply(Math,n.map((function(t){return t[1][0]}))),s=Math.min.apply(Math,n.map((function(t){return t[1][1]})));return a>s?[]:[[r,a],[r,s]]}if(o===t[1][1]){var l=Math.max.apply(Math,n.map((function(t){return t[0][0]}))),c=Math.min.apply(Math,n.map((function(t){return t[0][1]})));return l>c?[]:[[l,o],[c,o]]}}return t.filter((function(t){return n.every((function(e){return e[0][0]<=t[0]&&t[0]<=e[0][1]&&e[1][0]<=t[1]&&t[1]<=e[1][1]}))}))}function Mi(t){return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}(t.slice(1),[t[0]]).map((function(e,n){return[t[n],e]}))}var Ti=function(t,e){return(Ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Si(t){var e=t.container;return[e.scrollLeft,e.scrollTop]}var Ei=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startRect=null,e.startPos=[],e.prevTime=0,e.timer=0,e}!function(t,e){function n(){this.constructor=t}Ti(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.dragStart=function(t,e){var n=e.container.getBoundingClientRect(),i=n.top,r=n.left,o=n.width,a=n.height;this.startPos=[t.clientX,t.clientY],this.startRect={top:i,left:r,width:o,height:a}},n.drag=function(t,e){var n=this,i=t.clientX,r=t.clientY,o=e.container,a=e.threshold,s=void 0===a?0:a,l=e.throttleTime,c=void 0===l?0:l,u=e.getScrollPosition,h=void 0===u?Si:u,d=this.startRect,p=this.startPos,g=T(),f=Math.max(c+this.prevTime-g,0),b=[0,0];if(d.top>r-s?(p[1]>d.top||r<p[1])&&(b[1]=-1):d.top+d.height<r+s&&(p[1]<d.top+d.height||r>p[1])&&(b[1]=1),d.left>i-s?(p[0]>d.left||i<p[0])&&(b[0]=-1):d.left+d.width<i+s&&(p[0]<d.left+d.width||i>p[0])&&(b[0]=1),clearTimeout(this.timer),!b[0]&&!b[1])return!1;if(f>0)return this.timer=window.setTimeout((function(){n.drag(t,e)}),f),!1;this.prevTime=g;var v=h({container:o,direction:b});this.trigger("scroll",{container:o,direction:b,inputEvent:t});var m=h({container:o,direction:b}),y=m[0]-v[0],w=m[1]-v[1];return!(!y&&!w||(this.trigger("move",{offsetX:b[0]?y:0,offsetY:b[1]?w:0,inputEvent:t}),c&&(this.timer=window.setTimeout((function(){n.drag(t,e)}),c)),0))},n.dragEnd=function(){clearTimeout(this.timer)},e}(N),Pi=function(t,e){return(Pi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},Ui=function(){return(Ui=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function Ii(t){return 180*(e=[t[0].clientX,t[0].clientY],n=[t[1].clientX,t[1].clientY],((i=Math.atan2(n[1]-e[1],n[0]-e[0]))>=0?i:i+2*Math.PI)/Math.PI);var e,n,i}function Li(t){return t.touches?function(t){for(var e=Math.min(t.length,2),n=[],i=0;i<e;++i)n.push(Di(t[i]));return n}(t.touches):[Di(t)]}function ki(t,e,n){var i=n.length,r=Gi(t,i),o=r.clientX,a=r.clientY,s=r.originalClientX,l=r.originalClientY,c=Gi(e,i),u=c.clientX,h=c.clientY,d=Gi(n,i);return{clientX:s,clientY:l,deltaX:o-u,deltaY:a-h,distX:o-d.clientX,distY:a-d.clientY}}function Ri(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Di(t){return{clientX:t.clientX,clientY:t.clientY}}function Gi(t,e){void 0===e&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},i=0;i<e;++i){var r=t[i];n.originalClientX+="originalClientX"in r?r.originalClientX:r.clientX,n.originalClientY+="originalClientY"in r?r.originalClientY:r.clientY,n.clientX+=r.clientX,n.clientY+=r.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var Fi=function(){function t(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}var e=t.prototype;return e.addClients=function(t){void 0===t&&(t=this.prevClients);var e=this.getPosition(t),n=e.deltaX,i=e.deltaY;return this.movement+=Math.sqrt(n*n+i*i),this.prevClients=t,e},e.getAngle=function(t){return void 0===t&&(t=this.prevClients),Ii(t)},e.getRotation=function(t){return void 0===t&&(t=this.prevClients),Ii(t)-Ii(this.startClients)},e.getPosition=function(t){return ki(t||this.prevClients,this.prevClients,this.startClients)},e.getPositions=function(t){void 0===t&&(t=this.prevClients);var e=this.prevClients;return this.startClients.map((function(n,i){return ki([t[i]],[e[i]],[n])}))},e.getMovement=function(t){var e=this.movement;if(!t)return e;var n=Gi(t,this.length),i=Gi(this.prevClients,this.length),r=n.clientX-i.clientX,o=n.clientY-i.clientY;return Math.sqrt(r*r+o*o)+e},e.getDistance=function(t){return void 0===t&&(t=this.prevClients),Ri(t)},e.getScale=function(t){return void 0===t&&(t=this.prevClients),Ri(t)/Ri(this.startClients)},e.move=function(t,e){this.startClients.forEach((function(n){n.clientX-=t,n.clientY-=e})),this.prevClients.forEach((function(n){n.clientX-=t,n.clientY-=e}))},t}(),ji=["textarea","input"],Ai=function(t){function e(e,n){void 0===n&&(n={});var i=t.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.datas={},i.isDrag=!1,i.isPinch=!1,i.isMouse=!1,i.isTouch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i.onDragStart=function(t,e){if(void 0===e&&(e=!0),i.flag||!1!==t.cancelable){var n=i.options,r=n.container,o=n.pinchOutside,a=n.preventRightClick,s=n.preventDefault,l=n.checkInput,c=i.isTouch,u=!i.flag;if(u){var h=document.activeElement,d=t.target,p=d.tagName.toLowerCase(),g=ji.indexOf(p)>-1,f=d.isContentEditable;if(g||f){if(l||h===d)return!1;if(h&&f&&h.isContentEditable&&h.contains(d))return!1}else(s||"touchstart"===t.type)&&h&&(h.isContentEditable||ji.indexOf(h.tagName)>-1)&&h.blur();if(i.clientStores=[new Fi(Li(t))],i.flag=!0,i.isDrag=!1,i.datas={},a&&(3===t.which||2===t.button))return i.initDrag(),!1;i.doubleFlag=T()-i.prevTime<200,!1===i.emit("dragStart",Ui({datas:i.datas,inputEvent:t,isTrusted:e,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()))&&i.initDrag(),i.flag&&s&&t.preventDefault()}if(!i.flag)return!1;var b=0;if(u&&c&&o&&(b=setTimeout((function(){B(r,"touchstart",i.onDragStart,{passive:!1})}))),!u&&c&&o&&H(r,"touchstart",i.onDragStart),i.flag&&function(t){return t.touches&&t.touches.length>=2}(t)){if(clearTimeout(b),u&&t.touches.length!==t.changedTouches.length)return;i.pinchFlag||i.onPinchStart(t)}}},i.onDrag=function(t,e){if(i.flag){var n=Li(t),r=i.moveClients(n,t,!1);(i.pinchFlag||r.deltaX||r.deltaY)&&i.emit("drag",Ui({},r,{isScroll:!!e,inputEvent:t})),i.pinchFlag&&i.onPinch(t,n),i.getCurrentStore().addClients(n)}},i.onDragEnd=function(t){if(i.flag){var e=i.options;i.isTouch&&e.pinchOutside&&H(e.container,"touchstart",i.onDragStart),i.flag=!1;var n=i.getCurrentStore().getPosition(),r=T(),o=!i.isDrag&&i.doubleFlag;i.prevTime=i.isDrag||o?0:r,i.emit("dragEnd",Ui({datas:i.datas,isDouble:o,isDrag:i.isDrag,inputEvent:t},n)),i.pinchFlag&&i.onPinchEnd(t),i.clientStores=[]}},i.onBlur=function(){i.onDragEnd()};var r=[].concat(e);i.options=Ui({checkInput:!1,container:r.length>1?window:r[0],preventRightClick:!0,preventDefault:!0,checkWindowBlur:!1,pinchThreshold:0,events:["touch","mouse"]},n);var o=i.options,a=o.container,s=o.events,l=o.checkWindowBlur;if(i.isTouch=s.indexOf("touch")>-1,i.isMouse=s.indexOf("mouse")>-1,i.targets=r,i.isMouse&&(r.forEach((function(t){B(t,"mousedown",i.onDragStart)})),B(a,"mousemove",i.onDrag),B(a,"mouseup",i.onDragEnd),B(a,"contextmenu",i.onDragEnd)),l&&B(window,"blur",i.onBlur),i.isTouch){var c={passive:!1};r.forEach((function(t){B(t,"touchstart",i.onDragStart,c)})),B(a,"touchmove",i.onDrag,c),B(a,"touchend",i.onDragEnd,c),B(a,"touchcancel",i.onDragEnd,c)}return i}!function(t,e){function n(){this.constructor=t}Pi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.getMovement=function(t){return this.getCurrentStore().getMovement(t)+this.clientStores.slice(1).reduce((function(t,e){return t+e.movement}),0)},n.isDragging=function(){return this.isDrag},n.isFlag=function(){return this.flag},n.isPinchFlag=function(){return this.pinchFlag},n.isDoubleFlag=function(){return this.doubleFlag},n.isPinching=function(){return this.isPinch},n.scrollBy=function(t,e,n,i){void 0===i&&(i=!0),this.flag&&(this.clientStores[0].move(t,e),i&&this.onDrag(n,!0))},n.move=function(t,e){var n=t[0],i=t[1],r=this.getCurrentStore();return this.moveClients(r.prevClients.map((function(t){var e=t.clientX,r=t.clientY;return{clientX:e+n,clientY:r+i,originalClientX:e,originalClientY:r}})),e,!0)},n.triggerDragStart=function(t){this.onDragStart(t,!1)},n.setEventDatas=function(t){var e=this.datas;for(var n in t)e[n]=t[n];return this},n.getEventDatas=function(){return this.datas},n.unset=function(){var t=this,e=this.targets,n=this.options.container;this.off(),H(window,"blur",this.onBlur),this.isMouse&&(e.forEach((function(e){H(e,"mousedown",t.onDragStart)})),H(n,"mousemove",this.onDrag),H(n,"mouseup",this.onDragEnd),H(n,"contextmenu",this.onDragEnd)),this.isTouch&&(e.forEach((function(e){H(e,"touchstart",t.onDragStart)})),H(n,"touchstart",this.onDragStart),H(n,"touchmove",this.onDrag),H(n,"touchend",this.onDragEnd),H(n,"touchcancel",this.onDragEnd))},n.onPinchStart=function(t){var e=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>e)){var n=new Fi(Li(t));this.pinchFlag=!0,this.clientStores.splice(0,0,n),!1===this.emit("pinchStart",Ui({datas:this.datas,angle:n.getAngle(),touches:this.getCurrentStore().getPositions()},n.getPosition(),{inputEvent:t}))&&(this.pinchFlag=!1)}},n.onPinch=function(t,e){if(this.flag&&this.pinchFlag&&!(e.length<2)){var n=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Ui({datas:this.datas,movement:this.getMovement(e),angle:n.getAngle(e),rotation:n.getRotation(e),touches:n.getPositions(e),scale:n.getScale(e),distance:n.getDistance(e)},n.getPosition(e),{inputEvent:t}))}},n.onPinchEnd=function(t){if(this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.getCurrentStore();this.emit("pinchEnd",Ui({datas:this.datas,isPinch:e,touches:n.getPositions()},n.getPosition(),{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}},n.initDrag=function(){this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1},n.getCurrentStore=function(){return this.clientStores[0]},n.moveClients=function(t,e,n){var i=this.getCurrentStore()[n?"addClients":"getPosition"](t);return this.isDrag=!0,Ui({datas:this.datas},i,{movement:this.getMovement(t),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},e}(N),Bi=function(t,e){return(Bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Hi(t,e){function n(){this.constructor=t}Bi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var zi,Ni=function(){return(Ni=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Vi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.injectResult=null,e.tag="div",e}Hi(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.className,n=void 0===e?"":e,i=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(t,["className","cspNonce"]),r=this.injector.className;return yn(this.tag,Ni({ref:We(this,"element"),"data-styled-id":r,className:n+" "+r},i))},n.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},n.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},n.getElement=function(){return this.element},e}(En),qi=function(t,e){var n=function(t){var e,n="rCS"+function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(t).toString(36),i=0;return{className:n,inject:function(r,o){void 0===o&&(o={});var a,s=function(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(r),l=0===i;return(s||l)&&(a=function(t,e,n,i){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.setAttribute("data-styled-id",t),n.nonce&&r.setAttribute("nonce",n.nonce),r.innerHTML=function(t,e,n){return n.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/gm,(function(e,n){var i=n.trim();return(i?O(i):[""]).map((function(e){var n=e.trim();return 0===n.indexOf("@")?n:n.indexOf(":global")>-1?n.replace(/\:global/g,""):n.indexOf(":host")>-1?""+n.replace(/\:host/g,"."+t):n?"."+t+" "+n:"."+t})).join(", ")+" {"}))}(t,e,n),(i||document.head||document.body).appendChild(r),r}(n,t,o,s)),l&&(e=a),s||++i,{destroy:function(){s?(r.removeChild(a),a=null):(i>0&&--i,0===i&&e&&(e.parentNode.removeChild(e),e=null))}}}}}(e);return function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.injector=n,i.tag=t,i}return Hi(i,e),i}(Vi)},$i=function(t,e){return($i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},Yi="function"==typeof Map?void 0:(zi=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++zi)}),Xi=function(t){function e(e){return void 0===e&&(e=[]),t.call(this,e,Yi)||this}return function(t,e){function n(){this.constructor=t}$i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(an),Wi=function(t,e){return(Wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Qi(t,e){function n(){this.constructor=t}Wi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ki=function(){return(Ki=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function Ji(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function Zi(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*t+'px" height="'+32*t+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+e+'deg);transform-origin: 16px 16px"></path></svg>'}var tr,er,nr=(void 0===er&&function(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!(!e||!e.length)}()?function(t){var e=navigator.userAgentData,n=(e.uaList||e.brands).slice(),i=e.mobile||!1,r=n[0],o={name:r.brand,version:r.version,majorVersion:-1,webkit:!1,webview:Rn(Nn,(function(t){return An(n,t)})),chromium:Rn(Hn,(function(t){return An(n,t)}))},a={name:"unknown",version:"-1",majorVersion:-1};if(void(o.webkit=!o.chromium&&Rn(zn,(function(t){return An(n,t)})))){var s=(void 0).platform.toLowerCase(),l=Dn(Vn,(function(t){return new RegExp(""+t.test,"g").exec(s)}));a.name=l?l.id:s,a.version=(void 0).platformVersion}return Rn(Bn,(function(t){var e=An(n,t);return!!e&&(o.name=t.id,o.version=e.version,!0)})),"Linux armv8l"===navigator.platform?a.name="android":o.webkit&&(a.name=i?"ios":"mac"),"ios"===a.name&&o.webview&&(o.version="-1"),a.version=Fn(a.version),o.version=Fn(o.version),a.majorVersion=parseInt(a.version,10),o.majorVersion=parseInt(o.version,10),{browser:o,os:a,isMobile:i,isHints:!0}}():function(t){var e=function(t){var e=t;if(void 0===e){if("undefined"==typeof navigator||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}(t),n=!!/mobi/g.exec(e),i={name:"unknown",version:"-1",majorVersion:-1,webview:!!jn(Nn,e).preset,chromium:!!jn(Hn,e).preset,webkit:!1},r={name:"unknown",version:"-1",majorVersion:-1},o=jn(Bn,e),a=o.preset,s=o.version,l=jn(Vn,e),c=l.preset,u=l.version;return i.webkit=!i.chromium&&!!jn(zn,e).preset,c&&(r.name=c.id,r.version=u,r.majorVersion=parseInt(u,10)),a&&(i.name=a.id,i.version=s,i.webview&&"ios"===r.name&&"safari"!==i.name&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:r,isMobile:n,isHints:!1}}(er)).browser.webkit,ir=nr&&!!(tr=/applewebkit\/([^\s]+)/g.exec(navigator.userAgent.toLowerCase()))&&parseFloat(tr[1])<605,rr="\n{\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tleft: 0;\n\ttop: 0;\n    z-index: 3000;\n    --moveable-color: #4af;\n    --zoom: 1;\n    --zoompx: 1px;\n    will-change: transform;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n    background: #4af;\n    background: var(--moveable-color);\n\tmargin-top: -7px;\n    margin-left: -7px;\n    border: 2px solid #fff;\n    z-index: 10;\n}\n.padding {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100px;\n    height: 100px;\n    transform-origin: 0 0;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n    height: 1px;\n    background: #4af;\n    background: var(--moveable-color);\n\ttransform-origin: 0px 50%;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n    border-top-color: #4af;\n    border-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n    border-left-color: #4af;\n    border-left-color: var(--moveable-color);\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n}\n.line.horizontal.bold {\n    height: 2px;\n}\n\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n    margin-left: -6px;\n\tpointer-events: none;\n}\n"+[0,15,30,45,60,75,90,105,120,135,150,165].map((function(t){return'\n.direction[data-rotation="'+t+'"] {\n\t'+function(t){var e=Zi(1,t),n=Zi(2,t),i=45*Math.round(t/45)%180,r=135===i?"nwse-resize":45===i?"nesw-resize":90===i?"ew-resize":"ns-resize";return"cursor:"+r+";cursor: url('"+e+"') 16 16, "+r+";cursor: -webkit-image-set(url('"+e+"') 1x, url('"+n+"') 2x) 16 16, "+r+";"}(t)+"\n}\n"})).join("\n")+"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid, .area.pass {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n\n"+(ir?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n",or=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],ar=Math.pow(10,10),sr=-ar,lr=["n","w","s","e","nw","ne","sw","se"],cr={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},ur={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},hr=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager"];function dr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Xe.apply(void 0,Ji(["moveable-"],t))}function pr(t,e,n){return Jn(e,gi(n,e),t,gi(n.map((function(t){return-t})),e))}function gr(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function fr(t,e,n){for(var i=document.body,r=!t||n?t:t.parentElement,o=!1,a="relative";r&&r!==i;){e===r&&(o=!0);var s=Vr(r),l=s.transform;if("static"!==(a=s.position)||l&&"none"!==l)break;r=r.parentElement,a="relative"}return{isStatic:"static"===a,isEnd:o||!r||r===i,offsetParent:r||i}}function br(t,e,n,i){var r,o=t.tagName.toLowerCase(),a=t.offsetLeft,s=t.offsetTop;if(i){var l=(e||document.documentElement).getBoundingClientRect();a-=l.left,s-=l.top}var c,u,h=g(a),d=!h;return d||"svg"===o?u=(c=gr(n).map((function(t){return parseFloat(t)}))).slice():(u=(c=ir?function(t){return gr(Vr(t,":before")).map((function(e,n){var i=C(e);return i.value*function(t,e,n){return"%"===e?wr(t.ownerSVGElement)[n?"width":"height"]/100:1}(t,i.unit,0===n)}))}(t):gr(n).map((function(t){return parseFloat(t)}))).slice(),d=!0,"g"===o?(a=0,s=0):(a=(r=function(t,e){if(!t.getBBox)return[0,0];var n=t.getBBox(),i=wr(t.ownerSVGElement),r=n.x-i.x,o=n.y-i.y;return[r,o,e[0]-r,e[1]-o]}(t,c))[0],s=r[1],c[0]=r[2],c[1]=r[3])),{isSVG:h,hasOffset:d,offset:[a||0,s||0],origin:c,targetOrigin:u}}function vr(t,e,n){void 0===n&&(n=window.getComputedStyle(t));var i=window.getComputedStyle(document.body),r=i.position;if(!(e||r&&"static"!==r))return[0,0];var o=parseInt(i.marginLeft,10),a=parseInt(i.marginTop,10);return"absolute"===n.position&&("auto"===n.top&&"auto"===n.bottom||(a=0),"auto"===n.left&&"auto"===n.right||(o=0)),[o,a]}function mr(t,e){for(var n,i,r,o,a,s,l=t,c=[],u=!1,h=!1,d=3,p=fr(e,e,!0).offsetParent;l&&!u;){var g=Vr(l),b=l.tagName.toLowerCase(),v=g.position,m="fixed"===v,y=(o=(s=g.transform)&&"none"!==s?f(s)?s:_(s).value.split(/s*,\s*/g).map((function(t){return parseFloat(t)})):[1,0,0,1,0,0],void 0===(a=void 0)&&(a=6===o.length),a?[o[0],o[1],0,o[2],o[3],0,o[4],o[5],1]:o),w=y.length;if(!h&&16===w){h=!0,d=4;for(var x=c.length,O=0;O<x;++O)c[O]=Kn(c[O],3,4)}h&&9===w&&(y=Kn(y,3,4));var C=br(l,e,g,m),M=C.hasOffset,T=C.isSVG,S=C.origin,E=C.targetOrigin,P=C.offset,U=P[0],I=P[1];"svg"===b&&r&&c.push(xr(l,d),di(d));var L=fr(l,e),k=L.offsetParent,R=L.isEnd;nr&&M&&!T&&L.isStatic&&("relative"===v||"static"===v)&&(U-=k.offsetLeft,I-=k.offsetTop,u=u||R);var D=0,G=0;if(M&&p!==k&&(D=k.clientLeft,G=k.clientTop),M&&k===document.body){var F=vr(l,!1,g);U+=F[0],I+=F[1]}if(c.push(pr(y,d,S),gi(M?[U-l.scrollLeft+D,I-l.scrollTop+G]:[l,S],d)),r||(r=y),n||(n=S),i||(i=E),u||m)break;l=k,u=R}return r||(r=di(d)),n||(n=[0,0]),i||(i=[0,0]),{offsetContainer:p,matrixes:c,targetMatrix:r,transformOrigin:n,targetOrigin:i,is3d:h}}function yr(t,e){return void 0===e&&(e=t.length>9),(e?"matrix3d":"matrix")+"("+ni(t,!e).join(",")+")"}function wr(t){if(!t)return{x:0,y:0,width:0,height:0};var e=t.viewBox,n=e&&e.baseVal||{x:0,y:0,width:0,height:0};return{x:n.x,y:n.y,width:n.width||t.clientWidth,height:n.height||t.clientHeight}}function xr(t,e){var n=t.clientWidth,i=t.clientHeight,r=wr(t),o=r.width,a=r.height,s=n/o,l=i/a,c=t.preserveAspectRatio.baseVal,u=c.align,h=c.meetOrSlice,d=[0,0],p=[s,l],g=[0,0];if(1!==u){var f=(u-2)%3,b=Math.floor((u-2)/3);d[0]=o*f/2,d[1]=a*b/2;var v=2===h?Math.max(l,s):Math.min(s,l);p[0]=v,p[1]=v,g[0]=(n-o)/2*f,g[1]=(i-a)/2*b}var m=pi(p,e);return m[e*(e-1)]=g[0],m[e*(e-1)+1]=g[1],pr(m,e,d)}function Or(t,e,n){return ii(t,Qn(e,n),n)}function _r(t,e,n,i){return[[0,0],[e,0],[0,n],[e,n]].map((function(e){return Or(t,e,i)}))}function Cr(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]})),i=Math.min.apply(Math,e),r=Math.min.apply(Math,n),o=Math.max.apply(Math,e),a=Math.max.apply(Math,n);return{left:i,top:r,right:o,bottom:a,width:o-i,height:a-r}}function Mr(t,e,n,i){return Cr(_r(t,e,n,i))}function Tr(t,e,n,i){var r=16===t.length?4:3,o=_r(t,n,i,r),a=o[0],s=a[0],l=a[1],c=o[1],u=c[0],h=c[1],d=o[2],p=d[0],g=d[1],f=o[3],b=f[0],v=f[1],m=Or(t,e,r),y=m[0],w=m[1],x=Math.min(s,u,p,b),O=Math.min(l,h,g,v),_=Math.max(s,u,p,b);return s=s-x||0,{left:x,top:O,right:_,bottom:Math.max(l,h,g,v),origin:[y=y-x||0,w=w-O||0],pos1:[s,l=l-O||0],pos2:[u=u-x||0,h=h-O||0],pos3:[p=p-x||0,g=g-O||0],pos4:[b=b-x||0,v=v-O||0],direction:G(o)}}function Sr(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Er(t,e){return Sr([e[0]-t[0],e[1]-t[1]])}function Pr(t,e,n,i){void 0===n&&(n=1),void 0===i&&(i=D(t,e));var r=Er(t,e);return{transform:"translateY(-50%) translate("+t[0]+"px, "+t[1]+"px) rotate("+i+"rad) scaleY("+n+")",width:r+"px"}}function Ur(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=n.length,o=n.reduce((function(t,e){return t+e[0]}),0)/r,a=n.reduce((function(t,e){return t+e[1]}),0)/r;return{transform:"translateZ(0px) translate("+o+"px, "+a+"px) rotate("+t+"rad) scale("+e+")"}}function Ir(t,e,n,i){void 0===e&&(e=window.getComputedStyle(t)),void 0===i&&(i=n||"border-box"===e.boxSizing);var r=t.offsetWidth,o=t.offsetHeight,a=!g(r);if((n||i)&&a)return[r,o];if(!a&&"svg"!==t.tagName.toLowerCase()){var s=t.getBBox();return[s.width,s.height]}return r=t.clientWidth,o=t.clientHeight,n||i?[r+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),o+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)]:[r-(parseFloat(e.paddingLeft)||0)-(parseFloat(e.paddingRight)||0),o-(parseFloat(e.paddingTop)||0)-(parseFloat(e.paddingBottom)||0)]}function Lr(t,e){return D(e>0?t[0]:t[1],e>0?t[1]:t[0])}function kr(t,e,n,i,r){var o=1,a=[0,0],s={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},l={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},c={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},u=function(t,e,n,i){var r;void 0===n&&(n=e);var o=0,a=0,s=0,l={};if(t){var c=Vr(t);a=t.offsetHeight,g(o=t.offsetWidth)&&(o=(r=Ir(t,c,!0))[0],a=r[1])}if(t){var u=function(t,e,n,i){void 0===n&&(n=e);var r=mr(t,e),o=r.matrixes,a=r.is3d,s=r.targetMatrix,l=r.transformOrigin,c=r.targetOrigin,u=mr(r.offsetContainer,n),h=u.matrixes,d=u.is3d,p=d||a,g=p?4:3,b="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,v=e||document.body,m=s,y=di(g),w=di(g),x=di(g),O=di(g),_=o.length,C=fr(v,v,!0).offsetParent;h.reverse(),o.reverse(),!a&&p&&(m=Kn(m,3,4),o.forEach((function(t,e){o[e]=Kn(t,3,4)}))),!d&&p&&h.forEach((function(t,e){h[e]=Kn(t,3,4)})),h.forEach((function(t){w=Zn(w,t,g)})),o.forEach((function(t,e){var n;_-2===e&&(x=y.slice()),_-1===e&&(O=y.slice()),f(t[g*(g-1)])&&(n=function(t,e,n,i,r,o){var a,s=Ir(t,void 0,!0),l=s[0],c=s[1],u=e.getBoundingClientRect(),h=[0,0];e===document.body&&(h=vr(t,!0));for(var d=t.getBoundingClientRect(),p=d.left-u.left+e.scrollLeft-(e.clientLeft||0)+h[0],g=d.top-u.top+e.scrollTop-(e.clientTop||0)+h[1],f=d.width,b=d.height,v=Jn(n,r,o),m=Mr(v,l,c,n),y=m.left,w=m.top,x=m.width,O=m.height,_=Or(v,i,n),C=ei(_,[y,w]),M=[p+C[0]*f/x,g+C[1]*b/O],T=[0,0],S=0;++S<10;){var E=Wn(r,n);a=ei(Or(E,M,n),Or(E,_,n)),T[0]=a[0],T[1]=a[1];var P=Mr(Jn(n,r,gi(T,n),o),l,c,n),U=P.left-p,I=P.top-g;if(Math.abs(U)<2&&Math.abs(I)<2)break;M[0]-=U,M[1]-=I}return T.map((function(t){return Math.round(t)}))}(t[g*(g-1)],C,g,t[g*(g-1)+1],y,o[e+1]),t[g*(g-1)]=n[0],t[g*(g-1)+1]=n[1]),y=Zn(y,t,g)}));var M=!b&&a;m||(m=di(M?4:3));var T=yr(b&&16===m.length?Kn(m,4,3):m,M);return{rootMatrix:w=Xn(w,g,g),beforeMatrix:x,offsetMatrix:O,allMatrix:y,targetMatrix:m,targetTransform:T,transformOrigin:l,targetOrigin:c,is3d:p}}(t,e,n),h=Tr(u.allMatrix,u.transformOrigin,o,a);l=Ki(Ki({},u),h);var d=Tr(u.allMatrix,[50,50],100,100);s=Lr([d.pos1,d.pos2],d.direction)}return Ki({width:o,height:a,rotation:s,rootMatrix:di(3),beforeMatrix:di(3),offsetMatrix:di(3),allMatrix:di(3),targetMatrix:di(3),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!1,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1},l)}(e,n,r);if(e){var h=Tr(u.offsetMatrix,ti(u.transformOrigin,function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],i=t[e*e-1],r=0;r<e-1;++r)n[r]=t[e*(e-1)+r]/i;return n[e-1]=0,n}(u.targetMatrix,u.is3d?4:3)),u.width,u.height);o=h.direction,a=ti(h.origin,[h.left-u.left,h.top-u.top]),s=Rr(e),l=Rr(fr(i,i,!0).offsetParent||document.body,!0),t&&(c=Rr(t))}return Ki({targetClientRect:s,containerClientRect:l,moveableClientRect:c,beforeDirection:o,beforeOrigin:a,originalBeforeOrigin:a,target:e},u)}function Rr(t,e){var n=t.getBoundingClientRect(),i={left:n.left,right:n.right,top:n.top,bottom:n.bottom,width:n.width,height:n.height};return e&&(i.clientLeft=t.clientLeft,i.clientTop=t.clientTop,i.clientWidth=t.clientWidth,i.clientHeight=t.clientHeight,i.scrollWidth=t.scrollWidth,i.scrollHeight=t.scrollHeight,i.overflow="visible"!==Vr(t).overflow),i}function Dr(t){if(t){var e=t.getAttribute("data-direction");if(e){var n=[0,0];return e.indexOf("w")>-1&&(n[0]=-1),e.indexOf("e")>-1&&(n[0]=1),e.indexOf("n")>-1&&(n[1]=-1),e.indexOf("s")>-1&&(n[1]=1),n}}}function Gr(t,e){return[ti(e,t[0]),ti(e,t[1]),ti(e,t[2]),ti(e,t[3])]}function Fr(t){return Gr([t.pos1,t.pos2,t.pos3,t.pos4],[t.left,t.top])}function jr(t,e){return e?Math.round(t/e)*e:t}function Ar(t,e){return t.forEach((function(n,i){t[i]=jr(t[i],e)})),t}function Br(t,e){t[e]&&(t[e].unset(),t[e]=null)}function Hr(t,e,n){var i=e.datas;i.datas||(i.datas={});var r=Ki(Ki({},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas});return i.isStartEvent?i.lastEvent=r:i.isStartEvent=!0,r}function zr(t,e,n){var i=e.datas,r="isDrag"in n?n.isDrag:e.isDrag;return i.datas||(i.datas={}),Ki(Ki({isDrag:r},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:i.lastEvent,isDouble:e.isDouble,datas:i.datas})}function Nr(t,e,n,i){return t.triggerEvent(e,n,i)}function Vr(t,e){return window.getComputedStyle(t,e)}function qr(t,e,n){var i={},r={};return t.filter((function(t){var o=t.name;if(i[o]||!e.some((function(e){return t[e]})))return!1;if(!n&&t.ableGroup){if(r[t.ableGroup])return!1;r[t.ableGroup]=!0}return i[o]=!0,!0}))}function $r(t,e){return t===e||null==t&&null==e}function Yr(t,e){var n=[],i=[];return t.forEach((function(r,o){var a=e(r,o,t),s=i.indexOf(a),l=n[s]||[];-1===s&&(i.push(a),n.push(l)),l.push(r)})),n}function Xr(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function Wr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return Math.abs(e)-Math.abs(t)})),t[0]}function Qr(t,e,n){return ii(Wn(t,n),Qn(e,n),n)}function Kr(t,e){var n;return n=Qr(t.rootMatrix,[e.distX,e.distY],t.is3d?4:3),e.distX=n[0],e.distY=n[1],e}function Jr(t,e,n,i,r){return ei(Or(t,ti(n,e),r),i)}function Zr(t,e,n){return n?t/e*100+"%":t+"px"}function to(t){return Math.abs(t)<=1e-7?0:t}function eo(t){return t.isRequest?("resizable"===t.requestAble||"scalable"===t.requestAble)&&t.parentDirection:A(t.inputEvent.target,dr("direction"))}function no(t){var e={};for(var n in t)e[t[n]]=n;return e}function io(t,e){return t?v(t)?e?document.querySelector(t):t:m(t)?t():"current"in t?t.current:t:null}function ro(t){return t?((e=t)&&f(e)&&(b(e)||"length"in e)?[].slice.call(t):[t]).map((function(t){return io(t)})):[];var e}var oo={name:"pinchable",updateRect:!0,props:{pinchable:Boolean},events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(t,e){var n=e.datas,i=e.targets,r=e.angle,o=e.originalDatas,a=t.props,s=a.pinchable;if(!s)return!1;var l="onPinch"+(i?"Group":"")+"Start",c="drag"+(i?"Group":"")+"ControlStart",u=(!0===s?t.controlAbles:a.ables.filter((function(t){return s.indexOf(t.name)>-1}))).filter((function(t){return t.canPinch&&t[c]})),h=Hr(t,e,{});i&&(h.targets=i);var d=Nr(t,l,h);n.isPinch=!1!==d,n.ables=u;var p=n.isPinch;return!!p&&(u.forEach((function(n){if(o[n.name]=o[n.name]||{},n[c]){var i=Ki(Ki({},e),{datas:o[n.name],parentRotate:r,isPinch:!0});n[c](t,i)}})),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},p)},pinch:function(t,e){var n=e.datas,i=e.originalDatas,r=e.inputEvent,o=e.targets,a=e.angle;if(n.isPinch){var s=e.distance*(1-1/e.scale),l=Hr(t,e,{});o&&(l.targets=o),Nr(t,"onPinch"+(o?"Group":""),l);var c="drag"+(o?"Group":"")+"Control";return n.ables.forEach((function(n){n[c]&&n[c](t,Ki(Ki({},e),{datas:i[n.name],inputEvent:r,parentDistance:s,parentRotate:a,isPinch:!0}))})),l}},pinchEnd:function(t,e){var n=e.datas,i=e.isPinch,r=e.inputEvent,o=e.targets,a=e.originalDatas;if(n.isPinch){var s="onPinch"+(o?"Group":"")+"End",l=zr(t,e,{isDrag:i});o&&(l.targets=o),Nr(t,s,l);var c="drag"+(o?"Group":"")+"ControlEnd";return n.ables.forEach((function(n){n[c]&&n[c](t,Ki(Ki({},e),{isDrag:i,datas:a[n.name],inputEvent:r,isPinch:!0}))})),i}},pinchGroupStart:function(t,e){return this.pinchStart(t,Ki(Ki({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,Ki(Ki({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,Ki(Ki({},e),{targets:t.props.targets}))}};function ao(t,e,n,i,r){var o=e.gesto.move(n,t.inputEvent),a=o.originalDatas||o.datas,s=a.draggable||(a.draggable={});return Ki(Ki({},r?Kr(e,o):o),{isDrag:!0,isPinch:!!i,parentEvent:!0,datas:s,originalDatas:t.originalDatas})}var so=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var e=t.prototype;return e.dragStart=function(t,e){this.isDrag=!1,this.isFlag=!1;var n=e.originalDatas;return this.datas=n,n.draggable||(n.draggable={}),Ki(Ki({},this.move(t,e.inputEvent)),{type:"dragstart"})},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var n,i;return this.isFlag?(n=this.prevX+t[0],i=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],i=t[1],this.isFlag=!0),this.prevX=n,this.prevY=i,{type:"drag",clientX:n,clientY:i,inputEvent:e,isDrag:this.isDrag,distX:n-this.startX,distY:i-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function lo(t,e,n){var i=n.originalDatas;i.groupable=i.groupable||{};var r=i.groupable;r.childDatas=r.childDatas||[];var o=r.childDatas,a=n.inputEvent,s=n.isPinch,l=n.clientX,c=n.clientY,u=n.distX,h=n.distY;return t.moveables.map((function(t,n){return o[n]=o[n]||{},o[n][e]=o[n][e]||{},{inputEvent:a,datas:o[n][e],originalDatas:o[n],isPinch:s,clientX:l,clientY:c,distX:u,distY:h}}))}function co(t,e,n,i,r,o){var a=!!n.match(/Start$/g),s=!!n.match(/End$/g),l=r.isPinch,c=r.datas,u=lo(t,e.name,r),h=t.moveables,d=u.map((function(t,r){var u=h[r],d=t;a?d=(new so).dragStart(i,t):(u.state.gesto||(u.state.gesto=c.childGestos[r]),d=ao(t,u.state,i,l,o));var p=e[n](u,Ki(Ki({},d),{parentFlag:!0}));return s&&(u.state.gesto=null),p}));return a&&(c.childGestos=h.map((function(t){return t.state.gesto}))),d}function uo(t,e,n,i,r,o){void 0===r&&(r=function(t,e){return e});var a=!!n.match(/End$/g),s=lo(t,e.name,i),l=t.moveables;return s.map((function(t,i){var s,c=l[i];s=r(c,t);var u=e[n](c,Ki(Ki({},s),{parentFlag:!0}));return u&&o&&o(c,t,u,i),a&&(c.state.gesto=null),u}))}function ho(t,e){var n=e.datas,i=t.state,r=i.moveableClientRect,o=i.pos1,a=ei(Qr(i.rootMatrix,[e.clientX-r.left,e.clientY-r.top],i.is3d?4:3),o),s=mo({datas:n,distX:a[0],distY:a[1]});return[s[0],s[1]]}function po(t,e){var n=e.datas,i=t.state,r=i.allMatrix,o=i.beforeMatrix,a=i.is3d,s=i.left,l=i.top,c=i.origin,u=i.offsetMatrix,h=i.targetMatrix,d=i.transformOrigin,p=a?4:3;n.is3d=a,n.matrix=r,n.targetMatrix=h,n.beforeMatrix=o,n.offsetMatrix=u,n.transformOrigin=d,n.inverseMatrix=Wn(r,p),n.inverseBeforeMatrix=Wn(o,p),n.absoluteOrigin=Qn(ti([s,l],c),p),n.startDragBeforeDist=ii(n.inverseBeforeMatrix,n.absoluteOrigin,p),n.startDragDist=ii(n.inverseMatrix,n.absoluteOrigin,p)}function go(t,e){var n=t.datas,i=t.originalDatas.beforeRenderable,r=n.transformIndex,o=i.nextTransforms,a=i.nextTransformAppendedIndexes,s=-1===r?o.length:r+a.filter((function(t){return t<r})).length,l=function(t,e){var n=t.slice(0,e<0?void 0:e),i=t[e]||"",r=e<0?[]:t.slice(e),o=vi(n),a=vi([i]),s=vi(r),l=bi(o),c=bi(s),u=Zn(l,c,4);return{transforms:t,beforeFunctionMatrix:l,targetFunctionMatrix:bi(a),afterFunctionMatrix:c,allFunctionMatrix:u,beforeFunctions:o,targetFunction:a[0],afterFunctions:s,beforeFunctionTexts:n,targetFunctionText:i,afterFunctionTexts:r}}(o,s),c=l.targetFunction,u="rotate"===e?"rotateZ":e;n.beforeFunctionTexts=l.beforeFunctionTexts,n.afterFunctionTexts=l.afterFunctionTexts,n.beforeTransform=l.beforeFunctionMatrix,n.targetTansform=l.targetFunctionMatrix,n.afterTransform=l.afterFunctionMatrix,n.targetAllTransform=l.allFunctionMatrix,c.functionName===u?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):(n.isAppendTransform=!0,i.nextTransformAppendedIndexes=Ji(a,[s]))}function fo(t,e,n){return t.beforeFunctionTexts.join(" ")+" "+(t.isAppendTransform?n:e)+" "+t.afterFunctionTexts.join(" ")}function bo(t,e,n){var i=t.beforeTransform,r=t.afterTransform,o=t.targetAllTransform,a=n?Zn(o,e,4):Zn(e,o,4),s=Zn(Wn(i,4),a,4);return Zn(s,Wn(r,4),4)}function vo(t){var e=t.datas,n=e.startDragBeforeDist,i=e.is3d?4:3;return ei(ii(e.inverseBeforeMatrix,ti(e.absoluteOrigin,[t.distX,t.distY]),i),n)}function mo(t,e){var n=t.datas,i=n.startDragBeforeDist,r=n.startDragDist,o=n.is3d?4:3;return ei(ii(e?n.inverseBeforeMatrix:n.inverseMatrix,ti(n.absoluteOrigin,[t.distX,t.distY]),o),e?i:r)}function yo(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function wo(t,e){return yo(e).map((function(e){return t[e]}))}function xo(t,e){var n=wo(t,e);return[R(n.map((function(t){return t[0]}))),R(n.map((function(t){return t[1]})))]}function Oo(t,e,n,i){return Zn(t,pr(e,i,n),i)}function _o(t){var e=t.originalDatas.beforeRenderable;return{setTransform:function(n,i){void 0===i&&(i=-1),e.startTransforms=b(n)?n:x(n),Mo(t,i)},setTransformIndex:function(e){Mo(t,e)}}}function Co(t){Mo(t,-1)}function Mo(t,e){var n=t.originalDatas.beforeRenderable,i=t.datas;if(i.transformIndex=e,-1!==e){var r=n.startTransforms[e];if(r){var o=vi([r]);i.startValue=o[0].functionValue}}}function To(t,e){t.originalDatas.beforeRenderable.nextTransforms=x(e)}function So(t,e,n,i,r){return To(r,e),{transform:e,drag:Ma.drag(t,ao(r,t.state,n,i,!1))}}function Eo(t,e,n,i,r){var o=t.state,a=t.props.groupable,s=a?o.left:0,l=a?o.top:0,c=ei(i,Uo(t,n,function(t,e,n){var i=t.transformOrigin,r=e.afterTransform,o=t.is3d?4:3;return Oo(t.offsetMatrix,Kn(Zn(Zn(e.beforeTransform,function(t){return bi(vi(t))}([n]),4),r,4),4,o),i,o)}(t.state,r,e)));return ei(c,[s,l])}function Po(t){var e=t.state,n=e.transformOrigin;return[n[0]/(e.width/2)-1,n[1]/(e.height/2)-1]}function Uo(t,e,n){void 0===n&&(n=t.state.allMatrix);var i=t.state;return Or(n,[i.width/2*(1+e[0]),i.height/2*(1+e[1])],i.is3d?4:3)}function Io(t,e){return xo(Fr(t.state),e)}function Lo(t,e,n){var i=Or(t,[e.clientLeft,e.clientTop],n);return[e.left+i[0],e.top+i[1]]}function ko(t,e,n,i,r,o){var a=r[0],s=r[1],l=o[0],c=o[1],u=[],h=i?0:1,d="vertical"===e?"horizontal":"vertical",p=Yr(t.filter((function(t){return t.type===e})),(function(t){return t.element})).map((function(t){return t[0]})).filter((function(t){var e=t.pos;return e[h]<=c&&l<=e[h]+t.sizes[h]}));return p.forEach((function(t){var e=t.pos[i],r=e+t.sizes[i];p.forEach((function(t){var o=t.pos,l=t.sizes,c=t.element,h=o[i],g=h+l[i],f=0,b=0,v=!0;if(r<=h)a<(f=g-(b=r-h))-n&&(v=!1);else{if(!(g<=e))return;s>(f=h-(b=e-g))+n&&(v=!1)}if(v&&u.push({pos:"vertical"===d?[f,o[1]]:[o[0],f],element:c,sizes:l,size:0,type:d,gap:b,gapGuidelines:p}),r<=a&&s<=h){var m=(h+r-(s-a))/2;jr(a-(m-n),.1)>=0&&u.push({pos:"vertical"===d?[m,o[1]]:[o[0],m],element:c,sizes:l,size:0,type:d,gap:r-a,gapGuidelines:p})}}))})),u}function Ro(t,e,n,i,r,o,a){return void 0===o&&(o=0),void 0===a&&(a=0),i&&i.forEach((function(n){t.push({type:"horizontal",pos:[0,jr(n-a,.1)],size:e})})),r&&r.forEach((function(e){t.push({type:"vertical",pos:[jr(e-o,.1),0],size:n})})),t}function Do(t,e){var n=[],i=t.state;if(e&&i.guidelines&&i.guidelines.length)return n;var r=t.props,o=r.elementGuidelines,a=void 0===o?[]:o,s=r.snapCenter;if(!a.length)return n;var l=i.targetClientRect,c=l.top,u=l.left,h=i.rootMatrix,d=i.is3d?4:3,p=Lo(h,i.containerClientRect,d),g=p[0],f=p[1],b=wi(Fr(i)),v=ei([b.minX,b.minY],Qr(h,[u-g,c-f],d)).map((function(t){return e=t,Math.round(e%1==-.5?e-1:e);var e})),m=v[0],y=v[1];return a.map((function(t){return"parentElement"in t?{element:t}:t})).filter((function(t){return t.refresh&&e||!t.refresh&&!e})).forEach((function(t){var e=t.element,i=t.top,r=t.left,o=t.right,a=t.bottom,l=e.getBoundingClientRect(),c=l.left-g,u=l.top-f,p=u+l.height,b=c+l.width,v=Qr(h,[c,u],d),w=v[0],x=v[1],O=Qr(h,[b,p],d),_=O[0],C=O[1],M=_-w,T=C-x,S=[M,T];!1!==i&&n.push({type:"vertical",element:e,pos:[jr(w+m,.1),x],size:T,sizes:S}),!1!==a&&n.push({type:"vertical",element:e,pos:[jr(_+m,.1),x],size:T,sizes:S}),!1!==r&&n.push({type:"horizontal",element:e,pos:[w,jr(x+y,.1)],size:M,sizes:S}),!1!==o&&n.push({type:"horizontal",element:e,pos:[w,jr(C+y,.1)],size:M,sizes:S}),s&&(n.push({type:"vertical",element:e,pos:[jr((w+_)/2+m,.1),x],size:T,sizes:S,center:!0}),n.push({type:"horizontal",element:e,pos:[w,jr((x+C)/2+y,.1)],size:M,sizes:S,center:!0}))})),n}function Go(t){var e=t.state,n=e.staticGuidelines,i=e.containerClientRect,r=i.scrollHeight,o=i.scrollWidth,a=i.clientHeight,s=i.clientWidth,l=i.overflow,c=i.clientLeft,u=i.clientTop,h=t.props,d=h.snapHorizontal,p=void 0===d||d,g=h.snapVertical,f=void 0===g||g,b=h.snapGap,v=void 0===b||b,m=h.verticalGuidelines,y=h.horizontalGuidelines,w=h.snapThreshold,x=void 0===w?5:w,O=Ji(n,Do(t,!0));if(v){var _=Cr(Fr(t.state)),C=_.top,M=_.left,T=_.bottom,S=_.right,E=n.filter((function(t){return t.element}));O.push.apply(O,Ji(ko(E,"horizontal",x,0,[M,S],[C,T]),ko(E,"vertical",x,1,[C,T],[M,S])))}return Ro(O,l?o:s,l?r:a,p&&y,f&&m,c,u),O}function Fo(t,e,n,i,r){var o=t.props,a=o.snapElement,s=void 0===a||a,l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,i=0;i<n;++i){var r=t[i];if(!g(r))return r}return t[n]}(r,o.snapThreshold,5);return jo(t.state.guidelines,e,n,{snapThreshold:l,snapCenter:i,snapElement:s})}function jo(t,e,n,i){return{vertical:Ho(t,"vertical",e,i),horizontal:Ho(t,"horizontal",n,i)}}function Ao(t,e,n,i){var r=t.props.snapCenter&&n,o=["left","right"],a=["top","bottom"];return r&&(o.push("center"),a.push("middle")),o=o.filter((function(t){return t in e})),a=a.filter((function(t){return t in e})),Fo(t,o.map((function(t){return e[t]})),a.map((function(t){return e[t]})),r,i)}function Bo(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],i=n.guidelineInfos[0];return{isSnap:e,offset:i.offset,dist:i.dist,pos:n.pos,guideline:i.guideline}}function Ho(t,e,n,i){var r=void 0===i?{}:i,o=r.snapThreshold,a=void 0===o?5:o,s=r.snapElement,l=r.snapCenter;if(!t||!t.length)return{isSnap:!1,index:-1,posInfos:[]};var c="vertical"===e?0:1,u=n.map((function(n,i){var r=t.map((function(t){var e=n-t.pos[c];return{offset:e,dist:Math.abs(e),guideline:t}})).filter((function(t){var n=t.guideline;return!(!s&&n.element||!l&&n.center||n.type!==e||t.dist>a)})).sort((function(t,e){return t.dist-e.dist}));return{pos:n,index:i,guidelineInfos:r}})).filter((function(t){return t.guidelineInfos.length>0})).sort((function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist})),h=u.length>0;return{isSnap:h,index:h?u[0].index:-1,posInfos:u}}function zo(t,e){var n=Math.abs(t.offset),i=Math.abs(e.offset);return t.isBound&&e.isBound?i-n:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?i-n:t.isSnap?-1:e.isSnap||n<1e-7?1:i<1e-7?-1:n-i}function No(t,e){return t.slice().sort((function(t,n){return t.sign[e]?n.sign[e]?zo({isBound:t.isBound,isSnap:t.isSnap,offset:t.offset[e]},{isBound:n.isBound,isSnap:n.isSnap,offset:n.offset[e]}):-1:1}))[0]}function Vo(t,e){var n=R([e[0][0],e[1][0]]),i=R([e[0][1],e[1][1]]);return{vertical:n<=t[0],horizontal:i<=t[1]}}function qo(t,e){var n,i,r=e[0],o=e[1],a=o[0]-r[0],s=o[1]-r[1];return Math.abs(a)<1e-7&&(a=0),Math.abs(s)<1e-7&&(s=0),a?s?(n=s/a*(t[0]-r[0])+r[1],i=t[1]):(n=r[1],i=t[1]):(n=r[0],i=t[0]),n-i}function $o(t,e,n){void 0===n&&(n=1e-7);var i=qo(t[0],e)<=0;return t.slice(1).every((function(t){var r=qo(t,e);return r<=0===i||Math.abs(r)<=n}))}function Yo(t,e,n,i,r){return void 0===r&&(r=0),i&&e-r<=t||!i&&t<=n+r?{isBound:!0,offset:i?e-t:n-t}:{isBound:!1,offset:0}}function Xo(t,e,n,i,r){var o,a=t[0],s=t[1],l=e[0],c=e[1],u=to(s[1]-a[1]),h=to(s[0]-a[0]),d=to(c[1]-l[1]);if(!to(c[0]-l[0])){if(r&&!u)return{isBound:!1,offset:0};if(h)return Yo(u/h*(l[0]-a[0])+a[1],l[1],c[1],n,i);var p=l[0]-a[0];return{isBound:o=Math.abs(p)<=(i||0),offset:o?p:0}}return d||r&&!h?{isBound:!1,offset:0}:u?Yo((l[1]-a[1])/(u/h)+a[0],l[0],c[0],n,i):(p=l[1]-a[1],{isBound:o=Math.abs(p)<=(i||0),offset:o?p:0})}function Wo(t,e,n,i){return e.map((function(e){var r=e[0],o=function(t,e,n){var i=t.props.innerBounds;if(!i)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var r=i.left,o=i.top,a=i.width,s=i.height,l=[[r,o],[r,o+s]],c=[[r,o],[r+a,o]],u=[[r+a,o],[r+a,o+s]],h=[[r,o+s],[r+a,o+s]],d=Vo(n,e),p=d.horizontal,g=d.vertical;if($o([n,[r,o],[r+a,o],[r,o+s],[r+a,o+s]],e))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var f=Xo(e,c,g),b=Xo(e,h,g),v=Xo(e,l,p),m=Xo(e,u,p),y=f.isBound&&b.isBound,w=f.isBound||b.isBound,x=v.isBound&&m.isBound,O=v.isBound||m.isBound,_=Wr(f.offset,b.offset),C=Wr(v.offset,m.offset),M=[0,0],T=!1,S=!1;return Math.abs(C)<Math.abs(_)?(M=[_,0],T=w,S=y):(M=[0,C],T=O,S=x),{isAllBound:S,isVerticalBound:w,isHorizontalBound:O,isBound:T,offset:M}}(t,[e[1],e[2]],n),a=o.isBound,s=o.offset,l=o.isVerticalBound,c=o.isHorizontalBound,u=mo({datas:i,distX:s[0],distY:s[1]}).map((function(t,e){return t*(r[e]?2/r[e]:0)}));return{sign:r,isBound:a,isVerticalBound:l,isHorizontalBound:c,isSnap:!1,offset:u}}))}function Qo(t,e,n){return function(t,e){var n=[],i=t[0],r=t[1];return i&&r?n.push([[0,2*r],t,[-i,r]],[[2*i,0],t,[i,-r]]):i?(n.push([[2*i,0],[i,1],[i,-1]]),e&&n.push([[0,-1],[i,-1],[-i,-1]],[[0,1],[i,1],[-i,1]])):r?(n.push([[0,2*r],[1,r],[-1,r]]),e&&n.push([[-1,0],[-1,r],[-1,-r]],[[1,0],[1,r],[1,-r]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}(e,n).map((function(e){var n=e[2];return[e[0],xo(t,e[1]),xo(t,n)]}))}function Ko(t,e,n,i){var r=i?t.map((function(t){return li(t,i)})):t,o=Ji([n],e);return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].some((function(t,e){return!$o(o,t)}))}function Jo(t,e,n){var i=t||{},r=i.left,o=i.top,a=i.right,s=i.bottom,l={left:void 0===r?-1/0:r,top:void 0===o?-1/0:o,right:void 0===a?1/0:a,bottom:void 0===s?1/0:s};return{vertical:Zo(l,e,!0),horizontal:Zo(l,n,!1)}}function Zo(t,e,n){var i=t[n?"left":"top"],r=t[n?"right":"bottom"],o=Math.min.apply(Math,e),a=Math.max.apply(Math,e),s=[];return i+1>o&&s.push({isBound:!0,offset:o-i,pos:i}),r-1<a&&s.push({isBound:!0,offset:a-r,pos:r}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort((function(t,e){return Math.abs(e.offset)-Math.abs(t.offset)}))}function ta(t,e,n){return(n?t.map((function(t){return li(t,n)})):t).some((function(t){return t[0]<e.left&&Math.abs(t[0]-e.left)>.1||t[0]>e.right&&Math.abs(t[0]-e.right)>.1||t[1]<e.top&&Math.abs(t[1]-e.top)>.1||t[1]>e.bottom&&Math.abs(t[1]-e.bottom)>.1}))}var ea=["horizontal","left","top","width","Y","X"],na=["vertical","top","left","height","X","Y"];function ia(t){var e=t.state;e.guidelines&&e.guidelines.length||(e.staticGuidelines=Do(t,!1),e.guidelines=Go(t),e.enableSnap=!0)}function ra(t,e){var n=t.props,i=n.snappable,r=n.bounds,o=n.innerBounds,a=n.verticalGuidelines,s=n.horizontalGuidelines,l=t.state,c=l.guidelines;return!(!i||!l.enableSnap||e&&!0!==i&&i.indexOf(e)<0||!(r||o||c&&c.length||a&&a.length||s&&s.length))}function oa(t,e,n,i,r){var o=function(t,e,n,i){var r=e[0]-t[0],o=e[1]-t[1];if(Math.abs(r)<1e-7&&(r=0),Math.abs(o)<1e-7&&(o=0),!r)return i?[0,0]:[0,n];if(!o)return i?[n,0]:[0,0];var a=o/r,s=t[1]-a*t[0];return i?[n,a*(e[0]+n)+s-e[1]]:[(e[1]+n-s)/a-e[0],n]}(t,e,n,i);if(!o)return[0,0];var a=mo({datas:r,distX:o[0],distY:o[1]});return[a[0],a[1]]}function aa(t,e,n,i,r,o){var a=_r(t,e,n,o?4:3);return Gr(a,ei(i,function(t,e){return xo(t,e.map((function(t){return-t})))}(a,r)))}function sa(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function la(t,e){return t.isBound?t.offset:e.isSnap?Bo(e).offset:0}function ca(t,e,n,i){void 0===i&&(i=n);var r=Jo(t.props.bounds,i.map((function(t){return t[0]})),i.map((function(t){return t[1]}))),o=r.horizontal,a=r.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Fo(t,n.map((function(t){return t[0]})),n.map((function(t){return t[1]})),t.props.snapCenter),l=s.horizontal,c=s.vertical,u=la(o[0],l),h=la(a[0],c),d=Math.abs(u),p=Math.abs(h);return{horizontal:{isBound:o[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:u,dist:d,bounds:o,snap:l},vertical:{isBound:a[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:h,dist:p,bounds:a,snap:c}}}function ua(t,e,n,i,r){void 0===r&&(r={});var o=Jo(e,n,i),a=o.horizontal,s=o.vertical,l=r.isRequest?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:jo(t,n,i,r),c=l.horizontal,u=l.vertical,h=la(a[0],c),d=la(s[0],u),p=Math.abs(h),g=Math.abs(d);return{horizontal:{isBound:a[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:h,dist:p,bounds:a,snap:c},vertical:{isBound:s[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:d,dist:g,bounds:s,snap:u}}}function ha(t){return t?t/Math.abs(t):0}function da(t,e,n,i,r,o){var a=function(t,e){var n=[],i=[-t[0],-t[1]];return t[0]&&t[1]?(n.push([i,[t[0],-t[1]]],[i,[-t[0],t[1]]]),e&&n.push([i,t])):t[0]?e?n.push([i,[i[0],-1]],[i,[i[0],1]],[i,[t[0],-1]],[i,t],[i,[t[0],1]]):n.push([[i[0],-1],[t[0],-1]],[[i[0],0],[t[0],0]],[[i[0],1],[t[0],1]]):t[1]?e?n.push([i,[-1,i[1]]],[i,[1,i[1]]],[i,[-1,t[1]]],[i,[1,t[1]]],[i,t]):n.push([[-1,i[1]],[-1,t[1]]],[[0,i[1]],[0,t[1]]],[[1,i[1]],[1,t[1]]]):n.push([i,[1,0]],[i,[-1,0]],[i,[0,-1]],[i,[0,1]],[[1,0],[1,-1]],[[1,0],[1,1]],[[0,1],[1,1]],[[0,1],[-1,1]],[[-1,0],[-1,-1]],[[-1,0],[-1,1]],[[0,-1],[1,-1]],[[0,-1],[-1,-1]]),n}(n,i),s=Qo(e,n,i),l=Ji(function(t,e,n,i,r,o){return n.map((function(n){var a=n[0],s=n[1],l=xo(e,a),c=xo(e,s),u=i?function(t,e,n,i){var r=function(t,e,n){var i=t.props.bounds||{},r=i.left,o=void 0===r?-1/0:r,a=i.top,s=void 0===a?-1/0:a,l=i.right,c=void 0===l?1/0:l,u=i.bottom,h=void 0===u?1/0:u,d=n[0],p=n[1],g=ei(n,e),f=g[0],b=g[1];Math.abs(f)<1e-7&&(f=0),Math.abs(b)<1e-7&&(b=0);var v=b>0,m=f>0,y={isBound:!1,offset:0,pos:0},w={isBound:!1,offset:0,pos:0};if(0===f&&0===b)return{vertical:y,horizontal:w};if(0===f)v?h<p&&(w.pos=h,w.offset=p-h):s>p&&(w.pos=s,w.offset=p-s);else if(0===b)m?c<d&&(y.pos=c,y.offset=d-c):o>d&&(y.pos=o,y.offset=d-o);else{var x=b/f,O=n[1]-x*d,_=0,C=0,M=!1;m&&c<=d?(_=x*c+O,C=c,M=!0):!m&&d<=o&&(_=x*o+O,C=o,M=!0),M&&(_<s||_>h)&&(M=!1),M||(v&&h<=p?(C=((_=h)-O)/x,M=!0):!v&&p<=s&&(C=((_=s)-O)/x,M=!0)),M&&(y.isBound=!0,y.pos=C,y.offset=d-C,w.isBound=!0,w.pos=_,w.offset=p-_)}return{vertical:y,horizontal:w}}(t,e,n),o=r.horizontal,a=r.vertical,s=i?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(t,e,n){var i=n[0],r=n[1],o=e[0],a=e[1],s=ei(n,e),l=s[0],c=s[1],u=c>0,h=l>0;l=to(l),c=to(c);var d={isSnap:!1,offset:0,pos:0},p={isSnap:!1,offset:0,pos:0};if(0===l&&0===c)return{vertical:d,horizontal:p};var g=Fo(t,l?[i]:[],c?[r]:[]),f=g.vertical,b=g.horizontal;f.posInfos.filter((function(t){var e=t.pos;return h?e>=o:e<=o})),b.posInfos.filter((function(t){var e=t.pos;return u?e>=a:e<=a})),f.isSnap=f.posInfos.length>0,b.isSnap=b.posInfos.length>0;var v=Bo(f),m=v.isSnap,y=v.guideline,w=Bo(b),x=w.isSnap,O=w.guideline,_=x?O.pos[1]:0,C=m?y.pos[0]:0;if(0===l)x&&(p.isSnap=!0,p.pos=O.pos[1],p.offset=r-p.pos);else if(0===c)m&&(d.isSnap=!0,d.pos=C,d.offset=i-C);else{var M=c/l,T=n[1]-M*i,S=0,E=0,P=!1;m?(S=M*(E=C)+T,P=!0):x&&(E=((S=_)-T)/M,P=!0),P&&(d.isSnap=!0,d.pos=E,d.offset=i-E,p.isSnap=!0,p.pos=S,p.offset=r-S)}return{vertical:d,horizontal:p}}(t,e,n),l=s.horizontal,c=s.vertical,u=sa(o,l),h=sa(a,c),d=Math.abs(u),p=Math.abs(h);return{horizontal:{isBound:o.isBound,isSnap:l.isSnap,offset:u,dist:d},vertical:{isBound:a.isBound,isSnap:c.isSnap,offset:h,dist:p}}}(t,l,c,r):ca(t,r,[c]),h=u.horizontal,d=h.offset,p=h.isBound,g=h.isSnap,f=u.vertical,b=f.offset,v=f.isBound,m=f.isSnap,y=ei(s,a);if(!b&&!d)return{isBound:v||p,isSnap:m||g,sign:y,offset:[0,0]};var w=function(t,e,n,i){var r=D(t,e)/Math.PI*180,o=n.vertical,a=n.horizontal,s=r%180,l=s<3||s>177,c=s>87&&s<93;return a.dist<o.dist&&(o.isBound||o.isSnap&&!c&&(!i||!l))?"vertical":!a.isBound&&(!a.isSnap||l||i&&c)?"":"horizontal"}(l,c,u,i);if(!w)return{sign:y,isBound:!1,isSnap:!1,offset:[0,0]};var x="vertical"===w,O=oa(l,c,-(x?b:d),x,o).map((function(t,e){return t*(y[e]?2/y[e]:0)}));return{sign:y,isBound:x?v:p,isSnap:x?m:g,offset:O}}))}(t,e,a,i,r,o),Wo(t,s,xo(e,[0,0]),o)),c=No(l,0),u=No(l,1);return{width:{isBound:c.isBound,offset:c.offset[0]},height:{isBound:u.isBound,offset:u.offset[1]}}}function pa(t,e,n,i,r,o,a,s){for(var l=Fr(t.state),c=t.props.keepRatio,u=0,h=0,d=0;d<2;++d){var p=da(t,e(u,h),r,c,a,s),g=p.width,f=p.height,b=g.isBound,v=f.isBound,m=g.offset,y=f.offset;if(1===d&&(b||(m=0),v||(y=0)),0===d&&a&&!b&&!v)return[0,0];if(c){var w=Math.abs(m)*(n?1/n:1),x=Math.abs(y)*(i?1/i:1);(b&&v?w<x:v||!b&&w<x)?m=n*y/i:y=i*m/n}u+=m,h+=y}if(r[0]&&r[1]){var O=function(t,e,n,i,r){var o=[-n[0],-n[1]],a=t.state,s=a.width,l=a.height,c=t.props.bounds,u=1/0,h=1/0;if(c){var d=c.left,p=void 0===d?-1/0:d,g=c.top,f=void 0===g?-1/0:g,b=c.right,v=void 0===b?1/0:b,m=c.bottom,y=void 0===m?1/0:m;[[n[0],-n[1]],[-n[0],n[1]]].forEach((function(t){var n=t[0]!==o[0],a=t[1]!==o[1],c=xo(e,t),d=ha(t[1]-o[1]),g=ha(t[0]-o[0]),b=360*D(i,c)/Math.PI;if(a){var m=c.slice();(Math.abs(b-360)<2||Math.abs(b-180)<2)&&(m[1]=i[1]);var w=oa(i,m,(i[1]<c[1]?y:f)-c[1],!1,r)[1];isNaN(w)||(h=l+d*w)}if(n){m=c.slice(),(Math.abs(b-90)<2||Math.abs(b-270)<2)&&(m[0]=i[0]);var x=oa(i,m,(i[0]<c[0]?v:p)-c[0],!0,r)[0];isNaN(x)||(u=s+g*x)}}))}return{maxWidth:u,maxHeight:h}}(t,l,r,o,s),_=O.maxWidth,C=O.maxHeight,M=function(t,e,n,i,r,o,a,s,l){var c=ca(t,s,[xo(e,a)]),u=c.horizontal.offset,h=c.vertical.offset;if(h||u){var d=mo({datas:l,distX:-h,distY:-u}),p=d[1];return[Math.min(r||1/0,n+a[0]*d[0])-n,Math.min(o||1/0,i+a[1]*p)-i]}return[0,0]}(t,e(u,h),n+u,i+h,_,C,r,a,s);u+=m=M[0],h+=y=M[1]}return[u,h]}function ga(t,e,n,i){if(!ra(t,"rotatable"))return i;var r=i*Math.PI/180,o=[e.pos1,e.pos2,e.pos3,e.pos4].map((function(t){return ei(t,n)})),a=o.map((function(t){return li(t,r)})),s=Ji(function(t,e,n,i,r){var o=t.props.bounds,a=r*Math.PI/180;if(!o)return[];var s=o.left,l=o.top,c=o.right,u=o.bottom,h=(void 0===s?-1/0:s)-i[0],d=(void 0===c?1/0:c)-i[0],p=(void 0===l?-1/0:l)-i[1],g=(void 0===u?1/0:u)-i[1],f={left:h,top:p,right:d,bottom:g};if(!ta(n,f,0))return[];var b=[];return[[h,0],[d,0],[p,1],[g,1]].forEach((function(t,i){var r=t[0],o=t[1];n.forEach((function(t){var n=D([0,0],t);b.push.apply(b,function(t,e,n){var i=Sr(t),r=Math.sqrt(i*i-e*e)||0;return[r,-r].sort((function(e,i){return Math.abs(e-t[n?0:1])-Math.abs(i-t[n?0:1])})).map((function(t){return D([0,0],n?[t,e]:[e,t])}))}(t,r,o).map((function(t){return a+t-n})).filter((function(t){return!ta(e,f,t)})).map((function(t){return jr(180*t/Math.PI,1e-7)})))}))})),b}(t,o,a,n,i),function(t,e,n,i,r){var o=t.props.innerBounds,a=r*Math.PI/180;if(!o)return[];var s=o.left,l=o.top,c=s-i[0],u=s+o.width-i[0],h=l-i[1],d=l+o.height-i[1],p=[[c,h],[u,h],[c,d],[u,d]],g=xo(n,[0,0]);if(!Ko(n,p,g,0))return[];var f=[],b=p.map((function(t){return[Sr(t),D([0,0],t)]}));return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach((function(t){var n=D([0,0],function(t){var e=t[0],n=t[1],i=n[0]-e[0],r=n[1]-e[1];if(!i)return[e[0],0];if(!r)return[0,e[1]];var o=r/i,a=-o*e[0]+e[1];return[-a/(o+1/o),a/(o*o+1)]}(t)),i=function(t){var e=t[0],n=t[1],i=n[0]-e[0],r=n[1]-e[1];if(!i)return Math.abs(e[0]);if(!r)return Math.abs(e[1]);var o=r/i;return Math.abs((-o*e[0]+e[1])/Math.sqrt(Math.pow(o,2)+1))}(t);f.push.apply(f,b.filter((function(t){var e=t[0];return e&&i<=e})).map((function(t){var e=t[0],r=t[1],o=Math.acos(e?i/e:0);return[a+(r+o)-n,a+(r-o)-n]})).reduce((function(t,e){return t.push.apply(t,e),t}),[]).filter((function(t){return!Ko(e,p,g,t)})).map((function(t){return jr(180*t/Math.PI,1e-7)})))})),f}(t,o,a,n,i));return s.sort((function(t,e){return Math.abs(t-i)-Math.abs(e-i)})),s.length?s[0]:i}function fa(t){var e=[];return t.forEach((function(t){t.guidelineInfos.forEach((function(t){var n=t.guideline;e.indexOf(n)>-1||e.push(n)}))})),e}function ba(t,e,n,i){var r=t-n,o=r<0?r+e:i;return{size:(r<0?0:r)-o,pos:o}}function va(t,e,n,i){var r=[],o=Yr(t.filter((function(t){return t.element&&!t.gap})),(function(t){var n=t.element,o=t.pos,a=o[i],s=(Math.min(0,a-e)<0?-1:1)+"_"+o[i?0:1],l=function(t,e,i){var r=S(t,(function(t){return n===t[0]&&a===t[1]}));return r>-1?t[r]:void 0}(r);return l?l[2]:(r.push([n,a,s]),s)}));return o.forEach((function(t){t.sort((function(t,r){return ba(t.pos[i],t.size,e,n).size-ba(r.pos[i],t.size,e,n).size||t.pos[i?0:1]-r.pos[i?0:1]}))})),o}function ma(t,e,n,i,r,o,a,s,l,c,u,h){var d=n[0],p=n[1],g=n[2],f=n[3],b=n[4],v=n[5],m=t.props,y=m.zoom,w=m.isDisplaySnapDigit,x=void 0===w||w;return Xr(e.map((function(t,e){var n=!0;return t.map((function(t,m){var w,O,_=t.pos,C=ba(_[c],t.size,r,o),M=C.pos,T=C.size;if(T<s)return null;var S=n;n=!1;var E=x&&S?parseFloat(T.toFixed(l)):0;return h.createElement("div",{key:d+"LinkGuideline"+e+"-"+m,className:dr("guideline-group",d),style:(w={},w[p]=i+M+"px",w[g]=-a+_[c?0:1]+"px",w[f]=T+"px",w)},h.createElement("div",{className:dr("line",d,"guideline","dashed"),style:(O={},O[p]="0%",O[g]="0%",O[f]="100%",O.transform="translate"+b+"(-50%) scale"+b+"("+y+")",O)}),h.createElement("div",{className:dr("size-value"),style:{transform:"translate"+v+"(-50%) scale("+y+")"}},E>0?u(E):""))}))})))}function ya(t,e,n,i,r,o,a){var s=n[0],l=n[1],c=n[2],u=n[3],h=n[4],d=t.props.zoom;return e.map((function(t,e){var n,p=t.pos;return a.createElement("div",{className:dr("line",s,"guideline","target","bold",t.type),key:s+"TargetGuideline"+e,style:(n={},n[l]=i+"px",n[c]=-r+p+"px",n[u]=o+"px",n.transform="translate"+h+"(-50%) scale"+h+"("+d+")",n)})}))}function wa(t,e,n,i,r,o,a){var s=n[0],l=n[1],c=n[2],u=n[3],h=n[4],d=t.props.zoom;return e.map((function(t,e){var n,p=t.pos,g=t.size;return a.createElement("div",{className:dr("line",s,"guideline",t.element?"bold":""),key:s+"Guideline"+e,style:(n={},n[l]=-i+p[o]+"px",n[c]=-r+p[o?0:1]+"px",n[u]=g+"px",n.transform="translate"+h+"(-50%) scale"+h+"("+d+")",n)})}))}function xa(t,e,n,i){var r=t.filter((function(t){return t.element&&t.gap&&t.type===e})),o="vertical"===e?[0,1]:[1,0],a=o[0],s=o[1];return Xr(r.map((function(t){var e=t.pos,r=t.gap,o=t.gapGuidelines,l=t.sizes,c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return Math.abs(t)-Math.abs(e)})),t[0]}(e[s]+l[s]-n[s],e[s]-n[s]-i[s]),u=Math.min(l[s],i[s]);c>0&&c>u?c=2*(c-u/2):c<0&&c<-u&&(c=2*(c+u/2));var h=(c>0?0:i[s])+c/2;return Ji(function(t,e,n,i,r,o,a){var s=Math.abs(o),l=r[e]+(o>0?i[0]:0);return t.filter((function(t){return t.pos[e]<=n[e]})).sort((function(t,n){return n.pos[e]-t.pos[e]})).filter((function(t){var n=t.pos[e];return jr(n+t.sizes[e],1e-4)===jr(l-s,1e-4)&&(l=n,!0)})).map((function(t){var i=-n[e]+t.pos[e]+t.sizes[e];return Ki(Ki({},t),{gap:o,renderPos:e?[a,i]:[i,a]})}))}(o,a,n,i,e,r,h),function(t,e,n,i,r,o,a){var s=Math.abs(o),l=r[e]+(o<0?i[e]:0);return t.filter((function(t){return t.pos[e]>n[e]})).sort((function(t,n){return t.pos[e]-n.pos[e]})).filter((function(t){var n=t.sizes,i=t.pos[e];return jr(i,1e-4)===jr(l+s,1e-4)&&(l=i+n[e],!0)})).map((function(t){var i=-n[e]+t.pos[e]-s;return Ki(Ki({},t),{gap:o,renderPos:e?[a,i]:[i,a]})}))}(o,a,n,i,e,r,h))})))}function Oa(t,e,n,i,r,o){var a=i[0],s=i[1],l=i[2],c=i[3],u=i[4],h=i[5],d=t.props,p=d.snapDigit,g=void 0===p?0:p,f=d.isDisplaySnapDigit,b=void 0===f||f,v=d.zoom,m="vertical"===n?"horizontal":"vertical",y="vertical"===n?[0,1]:[1,0],w=y[0],x=y[1];return e.map((function(t,e){var n,i,d=t.renderPos,p=Math.abs(t.gap),f=b?parseFloat(p.toFixed(g)):0;return o.createElement("div",{key:m+"GapGuideline"+e,className:dr("guideline-group",a),style:(n={},n[s]=d[w]+"px",n[l]=d[x]+"px",n[c]=p+"px",n)},o.createElement("div",{className:dr("line",a,"guideline","gap"),style:(i={},i[c]="100%",i.transform="translate"+u+"(-50%) scale"+u+"("+v+")",i)}),o.createElement("div",{className:dr("size-value","gap"),style:{transform:"translate"+h+"(-50%) scale("+v+")"}},f>0?r(f):""))}))}function _a(t,e,n,i,r,o){var a=Jo(o||t.props.bounds,e,n),s=a.horizontal;a.vertical.forEach((function(t){t.isBound&&i.push({type:"bounds",pos:t.pos})})),s.forEach((function(t){t.isBound&&r.push({type:"bounds",pos:t.pos})}));var l=function(t){var e=t.props.innerBounds;if(!e)return{vertical:[],horizontal:[]};var n=t.getRect(),i=n.pos1,r=n.pos2,o=n.pos3,a=n.pos4,s=xo([i,r,o,a],[0,0]),l=e.left,c=e.top,u=e.width,h=e.height,d=[[l,c],[l,c+h]],p=[[l,c],[l+u,c]],g=[[l+u,c],[l+u,c+h]],f=[[l,c+h],[l+u,c+h]],b=[],v=[],m={top:!1,bottom:!1,left:!1,right:!1};return[[i,r],[r,a],[a,o],[o,i]].forEach((function(t){var e=Vo(s,t),n=e.horizontal,i=e.vertical,r=Xo(t,p,i,1,!0),o=Xo(t,f,i,1,!0),a=Xo(t,d,n,1,!0),y=Xo(t,g,n,1,!0);r.isBound&&!m.top&&(b.push(c),m.top=!0),o.isBound&&!m.bottom&&(b.push(c+h),m.bottom=!0),a.isBound&&!m.left&&(v.push(l),m.left=!0),y.isBound&&!m.right&&(v.push(l+u),m.right=!0)})),{horizontal:b,vertical:v}}(t),c=l.horizontal;l.vertical.forEach((function(t){S(i,(function(e){return"bounds"===e.type&&e.pos===t}))>=0||i.push({type:"bounds",pos:t})})),c.forEach((function(t){S(r,(function(e){return"bounds"===e.type&&e.pos===t}))>=0||r.push({type:"bounds",pos:t})}))}var Ca={name:"snappable",props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,isDisplaySnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function},events:{onSnap:"snap"},css:[":host {\n    --bounds-color: #d66;\n}\n.guideline {\n    pointer-events: none;\n    z-index: 2;\n}\n.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}\n.guideline-group {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.guideline-group .size-value {\n    position: absolute;\n    color: #f55;\n    font-size: 12px;\n    font-weight: bold;\n}\n.guideline-group.horizontal .size-value {\n    transform-origin: 50% 100%;\n    transform: translateX(-50%);\n    left: 50%;\n    bottom: 5px;\n}\n.guideline-group.vertical .size-value {\n    transform-origin: 0% 50%;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.guideline.gap {\n    background: #f55;\n}\n.size-value.gap {\n    color: #f55;\n}\n"],render:function(t,e){var n=t.state,i=n.top,r=n.left,o=n.pos1,a=n.pos2,s=n.pos3,l=n.pos4,c=n.snapRenderInfo,u=n.targetClientRect,h=n.containerClientRect,d=n.is3d,p=n.rootMatrix;if(!c||!ra(t,""))return[];var g=d?4:3,f=Math.min(o[0],a[0],s[0],l[0]),b=Math.min(o[1],a[1],s[1],l[1]),v=Lo(p,h,g),m=Qr(p,[u.left-v[0],u.top-v[1]],g),y=m[0],w=m[1],x=t.props,O=x.snapThreshold,_=void 0===O?5:O,C=x.snapDigit,M=void 0===C?0:C,T=x.snapDistFormat,S=void 0===T?function(t){return t}:T,E=c.externalPoses||[],P=Fr(t.state),U=[],I=[],L=[],k=[],R=[],D=Cr(P),G=D.width,F=D.height,j=D.top,A=D.left,B=D.bottom,H=D.right,z=E.length>0,N=z?Cr(E):{};if(!c.request){if(c.direction&&R.push(function(t,e,n){var i=[];if(n[0]&&n[1])i=[n,[-n[0],n[1]],[n[0],-n[1]]].map((function(t){return xo(e,t)}));else if(n[0]||n[1])t.props.keepRatio?i=[[-1,-1],[-1,1],[1,-1],[1,1],n].map((function(t){return xo(e,t)})):(i=wo(e,n)).length>1&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]);else for(var r=[e[0],e[1],e[3],e[2],e[0]],o=0;o<4;++o)i.push(r[o]),i.push([(r[o][0]+r[o+1][0])/2,(r[o][1]+r[o+1][1])/2]);return Fo(t,i.map((function(t){return t[0]})),i.map((function(t){return t[1]})),!0,1)}(t,P,c.direction)),c.snap){var V=Cr(P);c.center&&(V.middle=(V.top+V.bottom)/2,V.center=(V.left+V.right)/2),R.push(Ao(t,V,!0,1))}z&&(c.center&&(N.middle=(N.top+N.bottom)/2,N.center=(N.left+N.right)/2),R.push(Ao(t,N,!0,1))),R.forEach((function(t){var e=t.vertical.posInfos,n=t.horizontal.posInfos;U.push.apply(U,e.map((function(t){return{type:"snap",pos:t.pos}}))),I.push.apply(I,n.map((function(t){return{type:"snap",pos:t.pos}}))),L.push.apply(L,fa(e)),k.push.apply(k,fa(n))}))}_a(t,[A,H],[j,B],U,I),z&&_a(t,[N.left,N.right],[N.top,N.bottom],U,I,c.externalBounds);var q=va(k,y,G,0),$=va(L,w,F,1),Y=xa(L,"vertical",[r,i],[G,F]),X=xa(k,"horizontal",[r,i],[G,F]),W=Ji(L,k);return Nr(t,"onSnap",{guidelines:W.filter((function(t){return!t.element})),elements:Yr(W.filter((function(t){return t.element})),(function(t){return t.element})),gaps:Ji(Y,X)},!0),Ji(Oa(t,Y,"vertical",ea,S,e),Oa(t,X,"horizontal",na,S,e),ma(t,q,ea,f,y,G,i,_,M,0,S,e),ma(t,$,na,b,w,F,r,_,M,1,S,e),ya(t,I,ea,f,i,G,e),ya(t,U,na,b,r,F,e),wa(t,k,ea,r,i,0,e),wa(t,L,na,i,r,1,e))},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},ia(t)},drag:function(t,e){t.state.guidelines=Go(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t){return!(!eo(t)&&!Ua(t))||(!t.isRequest&&t.inputEvent?A(t.inputEvent.target,dr("snap-control")):void 0)},dragControlStart:function(t){t.state.snapRenderInfo=null,ia(t)},dragControl:function(t){t.state.guidelines=Go(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){t.state.guidelines=Go(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,ia(t)},dragGroupControl:function(t){t.state.guidelines=Go(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null}},Ma={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(t,e){var n=t.props,i=n.zoom,r=t.state,o=r.dragInfo,a=r.beforeOrigin;if(!n.throttleDragRotate||!o)return[];var s=o.dist;if(!s[0]&&!s[1])return[];var l=Sr(s),c=D(s,[0,0]);return[e.createElement("div",{className:dr("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:l+"px",transform:"translate("+a[0]+"px, "+a[1]+"px) rotate("+c+"rad) scaleY("+i+")"}})]},dragStart:function(t,e){var n=e.datas,i=e.parentEvent,r=t.state,o=r.target;if(r.gesto)return!1;r.gesto=e.parentGesto||t.targetGesto;var a=window.getComputedStyle(o);n.datas={},n.left=parseFloat(a.left||"")||0,n.top=parseFloat(a.top||"")||0,n.bottom=parseFloat(a.bottom||"")||0,n.right=parseFloat(a.right||"")||0,n.startValue=[0,0],po(t,e),Co(e),function(t,e){e.absolutePoses=Fr(t.state)}(t,n),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1;var s=Hr(t,e,Ki({set:function(t){n.startValue=t}},_o(e)));return!1!==(i||Nr(t,"onDragStart",s))?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(r.gesto=null,n.isPinch=!1),!!n.isDrag&&s},drag:function(t,e){go(e,"translate");var n=e.datas,i=e.parentEvent,r=e.parentFlag,o=e.isPinch,a=e.isRequest,s=e.distX,l=e.distY,c=n.prevDist,u=n.prevBeforeDist,h=n.startValue;if(n.isDrag){var d=t.props,p=d.parentMoveable,g=i?0:d.throttleDrag||0,f=i?0:d.throttleDragRotate||0,b=!1,v=0;if(!i&&f>0&&(s||l)){var m=d.startDragRotate||0,y=jr(m+180*D([0,0],[s,l])/Math.PI,f)-m,w=l*Math.abs(Math.cos((y-90)/180*Math.PI)),x=Sr([s*Math.abs(Math.cos(y/180*Math.PI)),w]);v=y*Math.PI/180,s=x*Math.cos(v),l=x*Math.sin(v)}if(!o&&!i&&!r&&(!f||s||l)){var O=function(t,e,n,i,r,o){if(!ra(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var a=Gr(o.absolutePoses,[e,n]),s=Cr(a),l=s.left,c=s.right,u=s.top,h=s.bottom,d=[[l,u],[c,u],[l,h],[c,h]];t.props.snapCenter&&d.push([(l+c)/2,(u+h)/2]);var p=ca(t,r,d,a),g=p.vertical,f=p.horizontal,b=function(t,e,n){var i,r=Wo(t,Qo(e,[0,0],!1).map((function(t){var e=t[1],n=t[2];return[t[0].map((function(t){return 2*Math.abs(t)})),e,n]})),xo(e,[0,0]),n),o=No(r,0),a=No(r,1),s=0,l=0,c=o.isVerticalBound||a.isVerticalBound,u=o.isHorizontalBound||a.isHorizontalBound;return(c||u)&&(s=(i=function(t,e){var n=t.datas,i=n.absoluteOrigin,r=n.is3d?4:3;return ei(ii(n.matrix,ti(n.startDragDist,[t.distX,t.distY]),r),i)}({datas:n,distX:-o.offset[0],distY:-a.offset[1]}))[0],l=i[1]),{vertical:{isBound:c,offset:s},horizontal:{isBound:u,offset:l}}}(t,a,o),v=b.vertical,m=b.horizontal,y=g.isSnap,w=f.isSnap,x=g.isBound||v.isBound,O=f.isBound||m.isBound,_=function(t,e,n,i,r){var o=e[0],a=e[1],s=n[0],l=n[1],c=i[0],u=i[1],h=r[0],d=r[1],p=-h,g=-d;if(t&&o&&a){p=0,g=0;var f=[];if(s&&l?f.push([0,d],[h,0]):s?f.push([h,0]):l?f.push([0,d]):c&&u?f.push([0,d],[h,0]):c?f.push([h,0]):u&&f.push([0,d]),f.length){f.sort((function(t,e){return Sr(ei([o,a],t))-Sr(ei([o,a],e))}));var b=f[0];if(b[0]&&Math.abs(o)>1e-7)p=-b[0],g=a*Math.abs(o+p)/Math.abs(o)-a;else if(b[1]&&Math.abs(a)>1e-7){var v=a;g=-b[1],p=o*Math.abs(a+g)/Math.abs(v)-o}if(t&&l&&s)if(Math.abs(p)>1e-7&&Math.abs(p)<Math.abs(h))p*=m=Math.abs(h)/Math.abs(p),g*=m;else if(Math.abs(g)>1e-7&&Math.abs(g)<Math.abs(d)){var m;p*=m=Math.abs(d)/Math.abs(g),g*=m}else p=Wr(-h,p),g=Wr(-d,g)}}else p=o||s?-h:0,g=a||l?-d:0;return[p,g]}(i,[e,n],[x,O],[y,w],[Wr(g.offset,v.offset),Wr(f.offset,m.offset)]);return[{isBound:x,isSnap:y,offset:_[0]},{isBound:O,isSnap:w,offset:_[1]}]}(t,s,l,f,a,n),_=O[0],C=O[1];b=_.isSnap||C.isSnap||_.isBound||C.isBound,s+=_.offset,l+=C.offset}n.passDeltaX=s-(n.passDistX||0),n.passDeltaY=l-(n.passDistY||0),n.passDistX=s,n.passDistY=l;var M=ti(vo({datas:n,distX:s,distY:l}),h),T=ti(function(t){var e=t.datas,n=vo({datas:e,distX:t.distX,distY:t.distY});return ii(bo(e,function(t,e){for(var n=di(4),i=0;i<3;++i)n[12+i]=t[i]||0;return n}([n[0],n[1]])),Qn([0,0,0],4),4)}({datas:n,distX:s,distY:l}),h);f||b||(Ar(T,g),Ar(M,g));var S=ei(M,h),E=ei(T,h),P=ei(E,c),U=ei(S,u);n.prevDist=E,n.prevBeforeDist=S;var I=n.left+S[0],L=n.top+S[1],k=n.right-S[0],R=n.bottom-S[1],G=fo(n,"translate("+T[0]+"px, "+T[1]+"px)","translate("+E[0]+"px, "+E[1]+"px)");if(t.state.dragInfo.dist=i?[0,0]:E,i||p||!P.every((function(t){return!t}))||!U.some((function(t){return!t}))){var F=t.state,j=Hr(t,e,{transform:G,dist:E,delta:P,translate:T,beforeDist:S,beforeDelta:U,beforeTranslate:M,left:I,top:L,right:k,bottom:R,width:F.width,height:F.height,isPinch:o});return!i&&Nr(t,"onDrag",j),j}}},dragEnd:function(t,e){var n=e.parentEvent,i=e.datas,r=e.isDrag;if(t.state.gesto=null,t.state.dragInfo=null,i.isDrag)return i.isDrag=!1,!n&&Nr(t,"onDragEnd",zr(t,e,{})),r},dragGroupStart:function(t,e){var n=e.datas,i=e.clientX,r=e.clientY,o=this.dragStart(t,e);if(!o)return!1;var a=co(t,this,"dragStart",[i||0,r||0],e,!1),s=Nr(t,"onDragGroupStart",Ki(Ki({},o),{targets:t.props.targets,events:a}));return n.isDrag=!1!==s,!!n.isDrag&&o},dragGroup:function(t,e){if(e.datas.isDrag){var n=this.drag(t,e),i=e.datas,r=co(t,this,"drag",[i.passDeltaX,i.passDeltaY],e,!1);if(n){var o=Ki({targets:t.props.targets,events:r},n);return Nr(t,"onDragGroup",o),o}}},dragGroupEnd:function(t,e){var n=e.isDrag;if(e.datas.isDrag)return this.dragEnd(t,e),co(t,this,"dragEnd",[0,0],e,!1),Nr(t,"onDragGroupEnd",zr(t,e,{targets:t.props.targets})),n},request:function(t){var e={},n=t.getRect(),i=0,r=0;return{isControl:!1,requestStart:function(){return{datas:e}},request:function(t){return"x"in t?i=t.x-n.left:"deltaX"in t&&(i+=t.deltaX),"y"in t?r=t.y-n.top:"deltaY"in t&&(r+=t.deltaY),{datas:e,distX:i,distY:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.dragInfo=null}};function Ta(t,e,n,i,r,o){var a=Or(t.state.rootMatrix,r,t.state.is3d?4:3),s=ti([o.left,o.top],a);e.startAbsoluteOrigin=s,e.prevDeg=D(s,[n,i])/Math.PI*180,e.prevSnapDeg=e.prevDeg,e.startDeg=e.prevDeg,e.loop=0}function Sa(t,e,n,i,r,o){var a=n.prevDeg,s=ga(t,e,n.origin,i);return n.prevDeg=s,[s-a,s,o+s]}function Ea(t,e,n,i,r,o,a,s){var l=n.prevDeg,c=n.prevSnapDeg,u=n.startDeg,h=n.loop;l>i&&l>270&&i<90?++n.loop:l<i&&l<90&&i>270&&--n.loop;var d=n.loop,p=360*h+c-u+o,g=360*d+i-u+o;n.prevDeg=g-360*d+u-o;var f=r*((g=jr(g,a))-o);return s&&(g=(f=ga(t,e,n.origin,f))/r+o),n.prevSnapDeg=g-360*d+u-o,[r*(g-p),f,o+f]}function Pa(t,e,n,i,r,o,a,s){return Ea(t,e,n,D(n.startAbsoluteOrigin,[r,o])/Math.PI*180,i,a,s,!0)}function Ua(t){return t.isRequest?"rotatable"===t.requestAble:A(t.inputEvent.target,dr("rotation-control"))}var Ia={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number},events:{onRotateStart:"rotateStart",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[".rotation {\n            position: absolute;\n            height: 40px;\n            width: 1px;\n            transform-origin: 50% 100%;\n            height: calc(40px * var(--zoom));\n            top: auto;\n            left: 0;\n            bottom: 100%;\n            will-change: transform;\n        }\n        .rotation .rotation-line {\n            display: block;\n            width: 100%;\n            height: 100%;\n            transform-origin: 50% 50%;\n        }\n        .rotation .rotation-control {\n            border-color: #4af;\n            border-color: var(--moveable-color);\n            background:#fff;\n            cursor: alias;\n        }"],render:function(t,e){var n=t.props,i=n.zoom,r=t.state;if(!n.rotatable)return null;var o=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=(t||"top").split("-"),l=s[0],c=s[1],u=[i,r];"left"===l?u=[o,i]:"right"===l?u=[r,a]:"bottom"===l&&(u=[a,o]);var h=[(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2],d=Lr(u,n);if(c){var p="top"===c||"left"===c,g="bottom"===l||"left"===l;h=u[p&&!g||!p&&g?0:1]}return[h,d]}(n.rotationPosition,r.renderPoses,r.direction),a=o[0],s=o[1];return e.createElement("div",{key:"rotation",className:dr("rotation"),style:{transform:"translate(-50%) translate("+a[0]+"px, "+a[1]+"px) rotate("+s+"rad)"}},e.createElement("div",{className:dr("line rotation-line"),style:{transform:"scaleX("+i+")"}}),e.createElement("div",{className:dr("control rotation-control"),style:{transform:"translate(0.5px) scale("+i+")"}}))},dragControlCondition:Ua,dragControlStart:function(t,e){var n=e.datas,i=e.clientX,r=e.clientY,o=e.parentRotate,a=e.parentFlag,s=e.isPinch,l=e.isRequest,c=t.state,u=c.left,h=c.top,d=c.origin,p=c.beforeOrigin,g=c.direction,f=c.beforeDirection,b=c.targetTransform,v=c.moveableClientRect;if(!l&&!c.target)return!1;var m=t.getRect();if(n.rect=m,n.transform=b,n.left=u,n.top=h,n.fixedPosition=Uo(t,Po(t)),n.absoluteInfo={origin:m.origin,startValue:m.rotation},Ta(t,n.absoluteInfo,i,r,d,v),l||s||a){var y=o||0;n.beforeInfo={origin:m.beforeOrigin,prevDeg:y,startDeg:y,prevSnapDeg:y,loop:0},n.afterInfo={origin:m.origin,prevDeg:y,startDeg:y,prevSnapDeg:y,loop:0}}else n.beforeInfo={origin:m.beforeOrigin},n.afterInfo={origin:m.origin},Ta(t,n.beforeInfo,i,r,p,v),Ta(t,n.afterInfo,i,r,d,v);n.direction=g,n.beforeDirection=f,n.startValue=0,n.datas={},Co(e);var w=Hr(t,e,Ki(Ki({set:function(t){n.startValue=t*Math.PI/180}},_o(e)),{dragStart:Ma.dragStart(t,(new so).dragStart([0,0],e))})),x=Nr(t,"onRotateStart",w);return n.isRotate=!1!==x,t.state.snapRenderInfo={request:e.isRequest},!!n.isRotate&&w},dragControl:function(t,e){var n,i,r,o,a,s,l,c,u,h=e.datas,d=e.clientX,p=e.clientY,g=e.parentRotate,f=e.parentFlag,b=e.isPinch,v=e.groupDelta,m=h.beforeDirection,y=h.beforeInfo,w=h.afterInfo,x=h.absoluteInfo,O=h.startValue,_=h.rect;if(h.isRotate){go(e,"rotate");var C,M,T,S,E,P,U,I,L,k=m*function(t){return Tr(t.datas.beforeTransform,[50,50],100,100).direction}(e),R=t.props,D=R.throttleRotate,G=void 0===D?0:D,F=R.parentMoveable,j=180/Math.PI*O,A=x.startValue;if(!f&&"parentDist"in e){var B=e.parentDist;C=(n=Sa(t,_,w,B,0,j))[0],M=n[1],T=n[2],S=(i=Sa(t,_,y,B,0,j))[0],E=i[1],P=i[2],U=(r=Sa(t,_,x,B,0,A))[0],I=r[1],L=r[2]}else b||f?(C=(o=Ea(t,_,w,g,k,j,G))[0],M=o[1],T=o[2],S=(a=Ea(t,_,y,g,m,j,G))[0],E=a[1],P=a[2],U=(s=Ea(t,_,x,g,k,A,G))[0],I=s[1],L=s[2]):(C=(l=Pa(t,_,w,k,d,p,j,G))[0],M=l[1],T=l[2],S=(c=Pa(t,_,y,m,d,p,j,G))[0],E=c[1],P=c[2],U=(u=Pa(t,_,x,k,d,p,A,G))[0],I=u[1],L=u[2]);if(U||C||S||F){var H=fo(h,"rotate("+T+"deg)","rotate("+M+"deg)"),z=function(t,e,n,i){return Eo(t,"rotate("+e+"deg)",Po(t),n,i)}(t,M,h.fixedPosition,h),N=ei(ti(v||[0,0],z),h.prevInverseDist||[0,0]);h.prevInverseDist=z;var V=Hr(t,e,Ki({delta:C,dist:M,rotate:T,beforeDist:E,beforeDelta:S,beforeRotate:P,absoluteDist:I,absoluteDelta:U,absoluteRotate:L,isPinch:!!b},So(t,H,N,b,e)));return Nr(t,"onRotate",V),V}}},dragControlEnd:function(t,e){var n=e.datas,i=e.isDrag;return!!n.isRotate&&(n.isRotate=!1,Nr(t,"onRotateEnd",zr(t,e,{})),i)},dragGroupControlCondition:Ua,dragGroupControlStart:function(t,e){var n=e.datas,i=t.state,r=i.left,o=i.top,a=i.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(n.beforeDirection*t.rotation);var l=uo(t,this,"dragControlStart",e,(function(t,e){var n=t.state,i=n.beforeOrigin,s=ti(ei([n.left,n.top],[r,o]),ei(i,a));return e.datas.groupClient=s,Ki(Ki({},e),{parentRotate:0})})),c=Nr(t,"onRotateGroupStart",Ki(Ki({},s),{targets:t.props.targets,events:l}));return n.isRotate=!1!==c,!!n.isRotate&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isRotate){var i=this.dragControl(t,e);if(i){var r=n.beforeDirection,o=i.beforeDist,a=i.beforeDelta/180*Math.PI,s=uo(t,this,"dragControl",e,(function(t,e){var n=e.datas.groupClient,i=n[0],s=n[1],l=li([i,s],a*r),c=l[0],u=l[1],h=[c-i,u-s];return e.datas.groupClient=[c,u],Ki(Ki({},e),{parentRotate:o,groupDelta:h})}));t.rotation=r*i.beforeRotate;var l=Ki({targets:t.props.targets,events:s,set:function(e){t.rotation=e}},i);return Nr(t,"onRotateGroup",l),l}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isRotate)return this.dragControlEnd(t,e),uo(t,this,"dragControlEnd",e),Nr(t,"onRotateGroupEnd",zr(t,e,{targets:t.props.targets})),n},request:function(t){var e={},n=0,i=t.getRotation();return{isControl:!0,requestStart:function(t){return{datas:e}},request:function(t){return"deltaRotate"in t?n+=t.deltaRotate:"rotate"in t&&(n=t.rotate-i),{datas:e,parentDist:n}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function La(t,e,n){var i=t.state,r=i.renderPoses,o=i.rotation,a=t.props,s=a.renderDirections,l=void 0===s?e:s,c=a.zoom,u=t.state.direction,h={};return l.forEach((function(t){h[t]=!0})),l.map((function(t){var e=cr[t];if(!e||!h[t])return null;var i=jr(o/Math.PI*180,15)+ur[t];return u<1&&(i=360-i),i%=180,n.createElement("div",{className:dr("control","direction",t),"data-rotation":i,"data-direction":t,key:"direction-"+t,style:Ur.apply(void 0,Ji([o,c],e.map((function(t){return r[t]}))))})}))}function ka(t,e,n,i,r,o){for(var a=[],s=6;s<arguments.length;s++)a[s-6]=arguments[s];var l=D(n,i),c=e?jr(l/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line"+o,className:dr.apply(void 0,Ji(["line","direction",e],a)),"data-rotation":c,"data-line-index":o,"data-direction":e,style:Pr(n,i,r,l)})}function Ra(t,e){return La(t,lr,e)}function Da(t,e){return La(t,["nw","ne","sw","se"],e)}var Ga={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean},events:{onResizeStart:"resizeStart",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:function(t,e){var n=t.props;if(n.resizable)return n.edge?Da(t,e):Ra(t,e)},dragControlCondition:eo,dragControlStart:function(t,e){var n,i=e.isPinch,r=e.datas,o=e.parentFlag,a=e.parentDirection||(i?[0,0]:Dr(e.inputEvent.target)),s=t.state,l=s.target,c=s.width,u=s.height;if(!a||!l)return!1;!i&&po(t,e),r.datas={},r.direction=a,r.startOffsetWidth=c,r.startOffsetHeight=u,r.prevWidth=0,r.prevHeight=0,n=function(t){var e=window.getComputedStyle(t);return[parseFloat(e.width),parseFloat(e.height)]}(l),r.startWidth=n[0],r.startHeight=n[1];var h=[Math.max(0,c-r.startWidth),Math.max(0,u-r.startHeight)];if(r.minSize=h,r.maxSize=[1/0,1/0],!o){var d=window.getComputedStyle(l);r.minSize=ti([parseFloat(d.minWidth)||0,parseFloat(d.minHeight)||0],h),r.maxSize=ti([parseFloat(d.maxWidth)||1/0,parseFloat(d.maxHeight)||1/0],h)}var p=t.props.transformOrigin||"% %";function g(t){r.ratio=t&&isFinite(t)?t:0}function f(e){r.fixedDirection=e,r.fixedPosition=Io(t,e)}r.transformOrigin=p&&v(p)?p.split(" "):p,r.isWidth=!a[0]&&!a[1]||a[0]||!a[1],g(c/u),f([-a[0],-a[1]]);var b=Hr(t,e,{direction:a,set:function(t){var e=t[1];r.startWidth=t[0],r.startHeight=e},setMin:function(t){r.minSize=t},setMax:function(t){r.maxSize=t},setRatio:g,setFixedDirection:f,setOrigin:function(t){r.transformOrigin=t},dragStart:Ma.dragStart(t,(new so).dragStart([0,0],e))});return!1!==Nr(t,"onResizeStart",b)&&(r.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:a}),!!r.isResize&&b},dragControl:function(t,e){var n,i=e.datas,r=e.distX,o=e.distY,a=e.isPinch,s=e.parentDistance,l=e.parentScale,c=e.dragClient,u=e.parentDist,h=e.isRequest,d=i.transformOrigin,p=i.fixedDirection,g=i.startWidth,f=i.startHeight,b=i.prevWidth,v=i.prevHeight,m=i.minSize,y=i.maxSize,w=i.ratio,x=i.isWidth;if(i.isResize){var O=t.props,_=O.throttleResize,M=void 0===_?0:_,T=O.parentMoveable,S=O.snapThreshold,E=void 0===S?5:S,P=i.direction,U=P,L=0,R=0;P[0]||P[1]||(U=[1,1]);var G=w&&(t.props.keepRatio||e.parentKeepRatio),F=c,j=i.startOffsetWidth,A=i.startOffsetHeight;if(c||(F=!e.parentFlag&&a?Io(t,[0,0]):i.fixedPosition),u)L=u[0],R=u[1];else if(l)L=(l[0]-1)*j,R=(l[1]-1)*A;else if(a)s&&(L=s,R=s*A/j);else{var B=mo({datas:i,distX:r,distY:o});if(L=U[0]*B[0],R=U[1]*B[1],G&&j&&A){var H=D([0,0],B),z=D([0,0],U),N=D([0,0],[j,A]),V=Sr([L,R]),q=Math.cos(H-z)*V;U[0]?U[1]?(L=Math.cos(N)*q,R=Math.sin(N)*q):R=(L=q)*w:L=(R=q)/w}else if(!G){var $=Ji(P);j||(B[0]<0?$[0]=-1:B[0]>0&&($[0]=1)),A||(B[1]<0?$[1]=-1:B[1]>0&&($[1]=1)),P=$,L=(U=$)[0]*B[0],R=U[1]*B[1]}}var Y=U[0]||G?Math.max(j+L,1e-7):j,X=U[1]||G?Math.max(A+R,1e-7):A;G&&j&&A&&(x?X=Y/w:Y=X*w);var W=[0,0];if(a||(W=function(t,e,n,i,r,o,a){if(!ra(t,"resizable"))return[0,0];var s=t.state,l=s.allMatrix,c=s.is3d;return pa(t,(function(t,o){return aa(l,e+t,n+o,r,i,c)}),e,n,i,r,o,a)}(t,Y,X,P,F,h,i)),u&&(!u[0]&&(W[0]=0),!u[1]&&(W[1]=0)),G){U[0]&&U[1]&&W[0]&&W[1]&&(Math.abs(W[0])>Math.abs(W[1])?W[1]=0:W[0]=0);var Q=!W[0]&&!W[1];Q&&(x?Y=jr(Y,M):X=jr(X,M)),U[0]&&!U[1]||W[0]&&!W[1]||Q&&x?X=(Y+=W[0])/w:(!U[0]&&U[1]||!W[0]&&W[1]||Q&&!x)&&(Y=(X+=W[1])*w)}else j+L<-E&&(W[0]=0),j+R<-E&&(W[1]=0),Y+=W[0],X+=W[1],W[0]||(Y=jr(Y,M)),W[1]||(X=jr(X,M));Y=(n=function(t,e,n,i){if(!i)return t.map((function(t,i){return I(t,e[i],n[i])}));var r=t[0],o=t[1],a=k(t,e,!1),s=a[0],l=a[1],c=k(t,n,!0),u=c[0],h=c[1];return r<s||o<l?(r=s,o=l):(r>u||o>h)&&(r=u,o=h),[r,o]}([Y,X],m,y,G))[0],X=n[1];var K=[(L=(Y=Math.round(Y))-j)-b,(R=(X=Math.round(X))-A)-v];i.prevWidth=L,i.prevHeight=R;var J=function(t,e,n,i,r,o){var a=t.props.groupable,s=t.state,l=s.is3d?4:3,c=a?s.left:0,u=a?s.top:0;return ei(function(t,e,n,i,r,o){var a=xo(_r(e,n,i,r),o);return[t[0]-a[0],t[1]-a[1]]}(r,Oo(s.offsetMatrix,s.targetMatrix,function(t,e,n,i,r,o){return void 0===i&&(i=e),void 0===r&&(r=n),void 0===o&&(o=[0,0]),t?t.map((function(t,a){var s=C(t),l=s.value,c=s.unit,u=a?r:i,h=a?n:e;return"%"===t||isNaN(l)?h*(u?o[a]/u:0):"%"!==c?l:h*l/100})):o}(o,e,n,s.width,s.height,s.transformOrigin),l),e,n,l,i),[c,u])}(t,Y,X,p,F,d);if(T||!K.every((function(t){return!t}))||!J.every((function(t){return!t}))){var Z=Hr(t,e,{width:g+L,height:f+R,offsetWidth:Y,offsetHeight:X,direction:P,dist:[L,R],delta:K,isPinch:!!a,drag:Ma.drag(t,ao(e,t.state,J,!!a,!1))});return Nr(t,"onResize",Z),Z}}},dragControlAfter:function(t,e){var n=e.datas;if(n.isResize){var i=t.state,r=i.width-(n.startOffsetWidth+n.prevWidth),o=i.height-(n.startOffsetHeight+n.prevHeight),a=Math.abs(r)>3,s=Math.abs(o)>3;return a&&(n.startWidth+=r,n.startOffsetWidth+=r,n.prevWidth+=r),s&&(n.startHeight+=o,n.startOffsetHeight+=o,n.prevHeight+=o),a||s?(this.dragControl(t,e),!0):void 0}},dragControlEnd:function(t,e){var n=e.datas,i=e.isDrag;return!!n.isResize&&(n.isResize=!1,Nr(t,"onResizeEnd",zr(t,e,{})),i)},dragGroupControlCondition:eo,dragGroupControlStart:function(t,e){var n=e.datas,i=this.dragControlStart(t,e);if(!i)return!1;var r=lo(t,"resizable",e);function o(e,i){var r=n.fixedPosition,o=Io(e,n.fixedDirection),a=ii(hi(-t.rotation/180*Math.PI,3),[o[0]-r[0],o[1]-r[1],1],3),s=a[1];return i.datas.originalX=a[0],i.datas.originalY=s,i}var a=uo(t,this,"dragControlStart",e,(function(t,e){return o(t,e)})),s=Ki(Ki({},i),{targets:t.props.targets,events:a,setFixedDirection:function(e){i.setFixedDirection(e),a.forEach((function(n,i){n.setFixedDirection(e),o(t.moveables[i],r[i])}))}}),l=Nr(t,"onResizeGroupStart",s);return n.isResize=!1!==l,!!n.isResize&&i},dragGroupControl:function(t,e){var n=e.datas;if(n.isResize){var i=this.dragControl(t,e);if(i){var r=i.offsetWidth,o=i.offsetHeight,a=i.dist,s=t.props.keepRatio,l=[r/(r-a[0]),o/(o-a[1])],c=n.fixedPosition,u=uo(t,this,"dragControl",e,(function(e,n){var i=ii(hi(t.rotation/180*Math.PI,3),[n.datas.originalX*l[0],n.datas.originalY*l[1],1],3),r=i[0],o=i[1];return Ki(Ki({},n),{parentDist:null,parentScale:l,dragClient:ti(c,[r,o]),parentKeepRatio:s})})),h=Ki({targets:t.props.targets,events:u},i);return Nr(t,"onResizeGroup",h),h}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isResize)return this.dragControlEnd(t,e),uo(t,this,"dragControlEnd",e),Nr(t,"onResizeGroupEnd",zr(t,e,{targets:t.props.targets})),n},request:function(t){var e={},n=0,i=0,r=t.getRect();return{isControl:!0,requestStart:function(t){return{datas:e,parentDirection:t.direction||[1,1]}},request:function(t){return"offsetWidth"in t?n=t.offsetWidth-r.offsetWidth:"deltaWidth"in t&&(n+=t.deltaWidth),"offsetHeight"in t?i=t.offsetHeight-r.offsetHeight:"deltaHeight"in t&&(i+=t.deltaHeight),{datas:e,parentDist:[n,i]}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},Fa={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},events:{onScaleStart:"scaleStart",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:function(t,e){var n=t.props;if(!n.resizable&&n.scalable)return n.edge?Da(t,e):Ra(t,e)},dragControlCondition:eo,dragControlStart:function(t,e){var n=e.datas,i=e.isPinch,r=e.parentDirection||(i?[0,0]:Dr(e.inputEvent.target)),o=t.state,a=o.width,s=o.height,l=o.targetTransform;if(!r||!o.target)return!1;function c(e){n.fixedDirection=e,n.fixedPosition=Io(t,e)}i||po(t,e),Co(e),n.datas={},n.transform=l,n.prevDist=[1,1],n.direction=r,n.width=a,n.height=s,n.startValue=[1,1],n.isWidth=!r[0]&&!r[1]||r[0]||!r[1],c([-r[0],-r[1]]);var u=Hr(t,e,Ki(Ki({direction:r,set:function(t){n.startValue=t},setFixedDirection:c},_o(e)),{dragStart:Ma.dragStart(t,(new so).dragStart([0,0],e))}));return!1!==Nr(t,"onScaleStart",u)&&(n.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:r}),!!n.isScale&&u},dragControl:function(t,e){go(e,"scale");var n=e.datas,i=e.distX,r=e.distY,o=e.parentScale,a=e.parentDistance,s=e.isPinch,l=e.dragClient,c=e.parentDist,u=e.isRequest,h=n.prevDist,d=n.direction,p=n.width,g=n.height,f=n.startValue,v=n.isWidth,m=n.fixedDirection;if(!n.isScale)return!1;var y=t.props,w=y.throttleScale,x=y.parentMoveable,O=d;d[0]||d[1]||(O=[1,1]);var _=t.props.keepRatio||e.parentKeepRatio,C=t.state,M=p*f[0],T=g*f[1],S=M/T,E=1,P=1,U=l;if(l||(U=!e.parentFlag&&s?Io(t,[0,0]):n.fixedPosition),c)E=(p+c[0])/p,P=(g+c[1])/g;else if(o)E=o[0],P=o[1];else if(s)a&&(E=(p+a)/p,P=(g+a*g/p)/g);else{var I=mo({datas:n,distX:i,distY:r}),L=O[0]*I[0],k=O[1]*I[1];if(_&&p&&g){var R=D([0,0],I),G=D([0,0],O),F=D([0,0],[M,T]),j=Sr([L,k]),A=Math.cos(R-G)*j;O[0]?O[1]?(L=Math.cos(F)*A,k=Math.sin(F)*A):k=(L=A)/S:L=(k=A)*S}E=(p+L)/p,P=(g+k)/g}0===(E=O[0]||_?E*f[0]:f[0])&&(E=1e-9*(h[0]>0?1:-1)),0===(P=O[1]||_?P*f[1]:f[1])&&(P=1e-9*(h[1]>0?1:-1));var B=[E/f[0],P/f[1]],H=[E,P];if(!s&&t.props.groupable){var z=(C.snapRenderInfo||{}).direction;b(z)&&(z[0]||z[1])&&(C.snapRenderInfo={direction:d,request:e.isRequest})}var N=[0,0];if(s||(N=function(t,e,n,i,r){var o=r.width,a=r.height,s=r.fixedPosition;if(!ra(t,"scalable"))return[0,0];var l=r.is3d,c=pa(t,(function(t,i){return aa(function(t,e){var n=t.transformOrigin,i=t.is3d?4:3;return Oo(t.offsetMatrix,Zn(t.targetMatrix,pi(e,i),i),n,i)}(r,ti(e,[t/o,i/a])),o,a,s,n,l)}),o,a,n,s,i,r);return[c[0]/o,c[1]/a]}(t,B,d,u,n)),_){O[0]&&O[1]&&N[0]&&N[1]&&(Math.abs(N[0])>Math.abs(N[1])?N[1]=0:N[0]=0);var V=!N[0]&&!N[1];V&&(v?B[0]=jr(B[0]*f[0],w)/f[0]:B[1]=jr(B[1]*f[1],w)/f[1]),O[0]&&!O[1]||N[0]&&!N[1]||V&&v?(B[0]+=N[0],B[1]=p*B[0]*f[0]/S/g/f[1]):(!O[0]&&O[1]||!N[0]&&N[1]||V&&!v)&&(B[1]+=N[1],B[0]=g*B[1]*f[1]*S/p/f[0])}else B[0]+=N[0],B[1]+=N[1],N[0]||(B[0]=jr(B[0]*f[0],w)/f[0]),N[1]||(B[1]=jr(B[1]*f[1],w)/f[1]);0===B[0]&&(B[0]=1e-9*(h[0]>0?1:-1)),0===B[1]&&(B[1]=1e-9*(h[1]>0?1:-1));var q,$,Y=[B[0]/h[0],B[1]/h[1]];H=[(q=B)[0]*($=f)[0],q[1]*$[1]];var X=function(t,e,n,i,r){return Eo(t,"scale("+e.join(", ")+")",n,i,r)}(t,B,m,U,n),W=ei(X,n.prevInverseDist||[0,0]);if(n.prevDist=B,n.prevInverseDist=X,E===h[0]&&P===h[1]&&W.every((function(t){return!t}))&&!x)return!1;var Q=fo(n,"scale("+H.join(", ")+")","scale("+B.join(", ")+")"),K=Hr(t,e,Ki({offsetWidth:p,offsetHeight:g,direction:d,scale:H,dist:B,delta:Y,isPinch:!!s},So(t,Q,W,s,e)));return Nr(t,"onScale",K),K},dragControlEnd:function(t,e){var n=e.datas,i=e.isDrag;return!!n.isScale&&(n.isScale=!1,Nr(t,"onScaleEnd",zr(t,e,{})),i)},dragGroupControlCondition:eo,dragGroupControlStart:function(t,e){var n=e.datas,i=this.dragControlStart(t,e);if(!i)return!1;var r=lo(t,"resizable",e);function o(e,i){var r=n.fixedPosition,o=Io(e,n.fixedDirection),a=ii(hi(-t.rotation/180*Math.PI,3),[o[0]-r[0],o[1]-r[1],1],3),s=a[1];return i.datas.originalX=a[0],i.datas.originalY=s,i}n.moveableScale=t.scale;var a=uo(t,this,"dragControlStart",e,(function(t,e){return o(t,e)})),s=Ki(Ki({},i),{targets:t.props.targets,events:a,setFixedDirection:function(e){i.setFixedDirection(e),a.forEach((function(n,i){n.setFixedDirection(e),o(t.moveables[i],r[i])}))}}),l=Nr(t,"onScaleGroupStart",s);return n.isScale=!1!==l,!!n.isScale&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isScale){var i=this.dragControl(t,e);if(i){var r=n.moveableScale;t.scale=[i.scale[0]*r[0],i.scale[1]*r[1]];var o=t.props.keepRatio,a=i.dist,s=i.scale,l=n.fixedPosition,c=uo(t,this,"dragControl",e,(function(e,n){var i=ii(hi(t.rotation/180*Math.PI,3),[n.datas.originalX*a[0],n.datas.originalY*a[1],1],3),r=i[0],c=i[1];return Ki(Ki({},n),{parentDist:null,parentScale:s,parentKeepRatio:o,dragClient:ti(l,[r,c])})})),u=Ki({targets:t.props.targets,events:c},i);return Nr(t,"onScaleGroup",u),u}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isScale)return this.dragControlEnd(t,e),uo(t,this,"dragControlEnd",e),Nr(t,"onScaleGroupEnd",zr(t,e,{targets:t.props.targets})),n},request:function(){var t={},e=0,n=0;return{isControl:!0,requestStart:function(e){return{datas:t,parentDirection:e.direction||[1,1]}},request:function(i){return{datas:t,parentDist:[e+=i.deltaWidth,n+=i.deltaHeight]}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function ja(t,e){return t.map((function(t,n){return(t*2+e[n]*1)/3}))}function Aa(t,e,n){var i=D(t,e),r=D(t,n)-i;return r>=0?r:r+2*Math.PI}var Ba={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},render:function(t,e){var n=t.props,i=n.zoom;if(n.resizable||n.scalable||!n.warpable)return[];var r=t.state,o=r.pos1,a=r.pos2,s=r.pos3,l=r.pos4,c=ja(o,a),u=ja(a,o),h=ja(o,s),d=ja(s,o),p=ja(s,l),g=ja(l,s),f=ja(a,l),b=ja(l,a);return Ji([e.createElement("div",{className:dr("line"),key:"middeLine1",style:Pr(c,p,i)}),e.createElement("div",{className:dr("line"),key:"middeLine2",style:Pr(u,g,i)}),e.createElement("div",{className:dr("line"),key:"middeLine3",style:Pr(h,f,i)}),e.createElement("div",{className:dr("line"),key:"middeLine4",style:Pr(d,b,i)})],Ra(t,e))},dragControlCondition:function(t){return!t.isRequest&&A(t.inputEvent.target,dr("direction"))},dragControlStart:function(t,e){var n=e.datas,i=t.props.target,r=Dr(e.inputEvent.target);if(!r||!i)return!1;var o=t.state,a=o.transformOrigin,s=o.is3d,l=o.targetTransform,c=o.targetMatrix,u=o.width,h=o.height,d=o.left,p=o.top;return n.datas={},n.targetTransform=l,n.warpTargetMatrix=s?c:Kn(c,3,4),n.targetInverseMatrix=Xn(Wn(n.warpTargetMatrix,4),3,4),n.direction=r,n.left=d,n.top=p,po(t,e),Co(e),n.poses=[[0,0],[u,0],[0,h],[u,h]].map((function(t){return ei(t,a)})),n.nextPoses=n.poses.map((function(t){return ii(n.warpTargetMatrix,[t[0],t[1],0,1],4)})),n.startValue=di(4),n.prevMatrix=di(4),n.absolutePoses=Fr(o),n.posIndexes=yo(r),o.snapRenderInfo={request:e.isRequest,direction:r},!1!==Nr(t,"onWarpStart",Hr(t,e,Ki({set:function(t){n.startValue=t}},_o(e))))&&(n.isWarp=!0),n.isWarp},dragControl:function(t,e){var n=e.datas,i=e.isRequest,r=e.distX,o=e.distY,a=n.targetInverseMatrix,s=n.prevMatrix,l=n.startValue,c=n.poses,u=n.posIndexes,h=n.absolutePoses;if(!n.isWarp)return!1;if(go(e,"matrix3d"),ra(t,"warpable")){var d=u.map((function(t){return h[t]}));d.length>1&&d.push([(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2]);var p=ca(t,i,d.map((function(t){return[t[0]+r,t[1]+o]})));o-=p.horizontal.offset,r-=p.vertical.offset}var g=mo({datas:n,distX:r,distY:o},!0),f=n.nextPoses.slice();if(u.forEach((function(t){f[t]=ti(f[t],g)})),!or.every((function(t){return e=t.map((function(t){return c[t]})),n=t.map((function(t){return f[t]})),i=Aa(e[0],e[1],e[2]),r=Aa(n[0],n[1],n[2]),!(i>=(o=Math.PI)&&r<=o||i<=o&&r>=o);var e,n,i,r,o})))return!1;var b=fi(c[0],c[2],c[1],c[3],f[0],f[2],f[1],f[3]);if(!b.length)return!1;var v=bo(n,Zn(a,b,4),!0),m=Zn(Wn(s,4),v,4);n.prevMatrix=v;var y=Zn(l,v,4),w=fo(n,"matrix3d("+y.join(", ")+")","matrix3d("+v.join(", ")+")");return To(e,w),Nr(t,"onWarp",Hr(t,e,{delta:m,matrix:y,dist:v,multiply:Zn,transform:w})),!0},dragControlEnd:function(t,e){var n=e.datas,i=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,Nr(t,"onWarpEnd",zr(t,e,{})),i)}},Ha=dr("area-pieces"),za=dr("area-piece"),Na=dr("avoid");function Va(t){var e=t.areaElement,n=t.state,i=n.width,r=n.height;(function(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}})(e,Na),e.style.cssText+="left: 0px; top: 0px; width: "+i+"px; height: "+r+"px"}function qa(t){return t.createElement("div",{key:"area_pieces",className:Ha},t.createElement("div",{className:za}),t.createElement("div",{className:za}),t.createElement("div",{className:za}),t.createElement("div",{className:za}))}var $a={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(t,e){var n=t.props,i=n.target,r=n.dragArea,o=n.groupable,a=t.state,s=a.width,l=a.height,c=a.renderPoses,u=n.passDragArea?dr("area","pass"):dr("area");if(o)return[e.createElement("div",{key:"area",ref:We(t,"areaElement"),className:u}),qa(e)];if(!i||!r)return[];var h=fi([0,0],[s,0],[0,l],[s,l],c[0],c[1],c[2],c[3]),d=h.length?yr(h,!0):"none";return[e.createElement("div",{key:"area",ref:We(t,"areaElement"),className:u,style:{top:"0px",left:"0px",width:s+"px",height:l+"px",transformOrigin:"0 0",transform:d}}),qa(e)]},dragStart:function(t,e){var n=e.clientX,i=e.clientY;if(!e.inputEvent)return!1;e.datas.isDragArea=!1;var r,o,a=t.areaElement,s=t.state,l=s.moveableClientRect,c=s.rootMatrix,u=s.is3d,h=l.left,d=l.top,p=Cr(s.renderPoses),g=p.left,f=p.top,b=p.width,v=p.height,m=Qr(c,[n-h,i-d],u?4:3),y=m[0],w=m[1],x=[{left:g,top:f,width:b,height:(w-=f)-10},{left:g,top:f,width:(y-=g)-10,height:v},{left:g,top:f+w+10,width:b,height:v-w-10},{left:g+y+10,top:f,width:b-y-10,height:v}],O=[].slice.call(a.nextElementSibling.children);x.forEach((function(t,e){O[e].style.cssText="left: "+t.left+"px;top: "+t.top+"px; width: "+t.width+"px; height: "+t.height+"px;"})),o=Na,(r=a).classList?r.classList.add(o):r.className+=" "+o},drag:function(t,e){var n=e.datas;if(!e.inputEvent)return!1;n.isDragArea||(n.isDragArea=!0,Va(t))},dragEnd:function(t,e){if(!e.inputEvent)return!1;e.datas.isDragArea||Va(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){Va(t)}},Ya={name:"origin",props:{origin:Boolean},events:{},render:function(t,e){var n=t.props.zoom,i=t.state,r=i.beforeOrigin,o=i.rotation;return[e.createElement("div",{className:dr("control","origin"),style:Ur(o,n,r),key:"beforeOrigin"})]}};function Xa(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var Wa={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragStart:function(t,e){var n=t.props.scrollContainer,i=void 0===n?t.getContainer():n,r=new Ei,o=io(i,!0);e.datas.dragScroll=r;var a=e.isControl?"controlGesto":"targetGesto",s=e.targets;r.on("scroll",(function(n){var i=Hr(t,e,{scrollContainer:n.container,direction:n.direction}),r=s?"onScrollGroup":"onScroll";s&&(i.targets=s),Nr(t,r,i)})).on("move",(function(n){t[a].scrollBy(n.offsetX,n.offsetY,e.inputEvent,!1)})),r.dragStart(e,{container:o})},checkScroll:function(t,e){var n=e.datas.dragScroll;if(n){var i=t.props,r=i.scrollContainer,o=void 0===r?t.getContainer():r,a=i.scrollThreshold,s=i.getScrollPosition,l=void 0===s?Xa:s;return n.drag(e,{container:o,threshold:void 0===a?0:a,getScrollPosition:function(t){return l({scrollContainer:t.container,direction:t.direction})}}),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,Ki(Ki({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,Ki(Ki({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,Ki(Ki({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,Ki(Ki({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,Ki(Ki({},e),{targets:t.props.targets,isControl:!0}))},dragGroupContro:function(t,e){return this.drag(t,Ki(Ki({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,Ki(Ki({},e),{targets:t.props.targets}))}},Qa={name:"",props:{target:Object,dragTarget:Object,container:Object,rootContainer:Object,zoom:Number,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,props:Object},events:{}},Ka={name:"padding",props:{padding:Object},events:{},render:function(t,e){var n=t.props;if(n.dragArea)return[];var i=n.padding||{},r=i.left,o=i.top,a=void 0===o?0:o,s=i.right,l=void 0===s?0:s,c=i.bottom,u=void 0===c?0:c,h=t.state,d=h.renderPoses,p=[h.pos1,h.pos2,h.pos3,h.pos4],g=[];return(void 0===r?0:r)>0&&g.push([0,2]),a>0&&g.push([0,1]),l>0&&g.push([1,3]),u>0&&g.push([2,3]),g.map((function(t,n){var i=t[0],r=t[1],o=fi([0,0],[100,0],[0,100],[100,100],p[i],p[r],d[i],d[r]);if(o.length)return e.createElement("div",{key:"padding"+n,className:dr("padding"),style:{transform:yr(o,!0)}})}))}},Ja=["nw","ne","se","sw"];function Za(t,e){var n=t[0]+t[1],i=n>e?e/n:1;return t[0]*=i,t[1]=e-t[1]*i,t}var ts=[1,2,5,6],es=[0,3,4,7],ns=[1,-1,-1,1],is=[1,1,-1,-1];function rs(t,e,n,i,r,o,a,s,l){void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=i),void 0===l&&(l=r);var c=[],u=!1,h=t.map((function(t,h){var d=e[h],p=d.horizontal,g=d.vertical;if(g&&!u&&(u=!0,c.push("/")),u){var f=Math.max(0,1===g?t[1]-a:l-t[1]);return c.push(Zr(f,r,n)),f}return f=Math.max(0,1===p?t[0]-o:s-t[0]),c.push(Zr(f,i,n)),f}));return{styles:c,raws:h}}function os(t){for(var e=[0,0],n=[0,0],i=t.length,r=0;r<i;++r){var o=t[r];o.sub&&(o.horizontal&&(0===e[1]&&(e[0]=r),e[1]=r-e[0]+1,n[0]=r+1),o.vertical&&(0===n[1]&&(n[0]=r),n[1]=r-n[0]+1))}return{horizontalRange:e,verticalRange:n}}function as(t,e,n,i,r,o){var a,s,l,c;void 0===o&&(o=[0,0]);var u=t.indexOf("/"),h=(u>-1?t.slice(0,u):t).length,d=t.slice(0,h),p=t.slice(h+1),g=d[0],f=void 0===g?"0px":g,b=d[1],v=void 0===b?f:b,m=d[2],y=d[3],w=p[0],x=void 0===w?f:w,O=p[1],_=void 0===O?x:O,C=p[2],M=void 0===C?x:C,T=p[3],S=void 0===T?_:T,E=[f,v,void 0===m?f:m,void 0===y?v:y].map((function(t){return U(t,e)})),P=[x,_,M,S].map((function(t){return U(t,n)})),I=E.slice(),L=P.slice();a=Za([I[0],I[1]],e),I[0]=a[0],I[1]=a[1],s=Za([I[3],I[2]],e),I[3]=s[0],I[2]=s[1],l=Za([L[0],L[3]],n),L[0]=l[0],L[3]=l[1],c=Za([L[1],L[2]],n),L[1]=c[0],L[2]=c[1];var k=I.slice(0,Math.max(o[0],d.length)),R=L.slice(0,Math.max(o[1],p.length));return Ji(k.map((function(t,e){return{horizontal:ns[e],vertical:0,pos:[i+t,r+(-1===is[e]?n:0)],sub:!0,raw:E[e],direction:Ja[e]}})),R.map((function(t,n){return{horizontal:0,vertical:is[n],pos:[i+(-1===ns[n]?e:0),r+t],sub:!0,raw:P[n],direction:Ja[n]}})))}function ss(t,e,n,i,r){void 0===r&&(r=e.length);var o=os(t.slice(i)),a=o.horizontalRange,s=o.verticalRange,l=n-i,c=0;if(0===l)c=r;else if(l>0&&l<a[1])c=a[1]-l;else{if(!(l>=s[0]))return;c=s[0]+s[1]-l}t.splice(n,c),e.splice(n,c)}function ls(t,e,n,i,r,o,a,s,l,c,u){void 0===c&&(c=0),void 0===u&&(u=0);var h=os(t.slice(n)),d=h.horizontalRange,p=h.verticalRange;if(i>-1)for(var g=1===ns[i]?o-c:s-o,f=d[1];f<=i;++f){var b=0;if(i===f?b=o:0===f?b=c+g:-1===ns[f]&&(b=s-(e[n][0]-c)),t.splice(n+f,0,{horizontal:ns[f],vertical:0,pos:[b,w=1===is[f]?u:l]}),e.splice(n+f,0,[b,w]),0===f)break}else if(r>-1){var v=1===is[r]?a-u:l-a;if(0===d[1]&&0===p[1]){var m=[c+v,u];t.push({horizontal:ns[0],vertical:0,pos:m}),e.push(m)}var y=p[0];for(f=p[1];f<=r;++f){var w=0;if(r===f?w=a:0===f?w=u+v:1===is[f]?w=e[n+y][1]:-1===is[f]&&(w=l-(e[n+y][1]-u)),t.push({horizontal:0,vertical:is[f],pos:[b=1===ns[f]?c:s,w]}),e.push([b,w]),0===f)break}}}function cs(t,e){return void 0===e&&(e=t.map((function(t){return t.raw}))),{horizontals:t.map((function(t,n){return t.horizontal?e[n]:null})).filter((function(t){return null!=t})),verticals:t.map((function(t,n){return t.vertical?e[n]:null})).filter((function(t){return null!=t}))}}var us=[[0,-1,"n"],[1,0,"e"]],hs=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function ds(t,e,n){var i=t.props.clipRelative,r=t.state,o=r.width,a=r.height,s=e.type,l=e.poses,c="rect"===s,u="circle"===s;if("polygon"===s)return n.map((function(t){return Zr(t[0],o,i)+" "+Zr(t[1],a,i)}));if(c||"inset"===s){var h=n[1][1],d=n[3][0],p=n[7][0],g=n[5][1];if(c)return[h,d,g,p].map((function(t){return t+"px"}));var f=[h,o-d,a-g,p].map((function(t,e){return Zr(t,e%2?o:a,i)}));if(n.length>8){var b=ei(n[4],n[0]),v=b[0],m=b[1];f.push.apply(f,Ji(["round"],rs(n.slice(8),l.slice(8),i,v,m,p,h,d,g).styles))}return f}if(u||"ellipse"===s){var y=n[0],w=Zr(Math.abs(n[1][1]-y[1]),u?Math.sqrt((o*o+a*a)/2):a,i);return(f=u?[w]:[Zr(Math.abs(n[2][0]-y[0]),o,i),w]).push("at",Zr(y[0],o,i),Zr(y[1],a,i)),f}}function ps(t,e,n,i){var r=[i,(i+e)/2,e],o=[t,(t+n)/2,n];return hs.map((function(t){var e=t[0],n=t[1],i=t[2],a=r[e+1],s=o[n+1];return{vertical:Math.abs(n),horizontal:Math.abs(e),direction:i,pos:[a,s]}}))}function gs(t,e,n,i,r){var o,a,s,l,c,u,h,d=r;if(!d){var p=getComputedStyle(t),g=p.clipPath;d="none"!==g?g:p.clip}if(d&&"none"!==d&&"auto"!==d||(d=i)){var f=_(d),b=f.prefix,v=void 0===b?d:b,m=f.value,y=void 0===m?"":m,w="circle"===v,M=" ";if("polygon"===v)return M=",",{type:v,clipText:d,poses:R=(L=O(y||"0% 0%, 100% 0%, 100% 100%, 0% 100%")).map((function(t){var i=t.split(" "),r=i[1];return{vertical:1,horizontal:1,pos:[U(i[0],e),U(r,n)]}})),splitter:M};if(w||"ellipse"===v){var T,S="",E="",P=0,I=0,L=x(y);w?(S=void 0===(a=L[2])?"50%":a,E=void 0===(s=L[3])?"50%":s,P=U(void 0===(o=L[0])?"50%":o,Math.sqrt((e*e+n*n)/2)),I=P):(T=void 0===(c=L[1])?"50%":c,S=void 0===(u=L[3])?"50%":u,E=void 0===(h=L[4])?"50%":h,P=U(void 0===(l=L[0])?"50%":l,e),I=U(T,n));var k=[U(S,e),U(E,n)],R=Ji([{vertical:1,horizontal:1,pos:k,direction:"nesw"}],us.slice(0,w?1:2).map((function(t){return{vertical:Math.abs(t[1]),horizontal:t[0],direction:t[2],sub:!0,pos:[k[0]+t[0]*P,k[1]+t[1]*I]}})));return{type:v,clipText:d,radiusX:P,radiusY:I,left:k[0]-P,top:k[1]-I,poses:R,splitter:M}}if("inset"===v){var D=(L=x(y||"0 0 0 0")).indexOf("round"),G=(D>-1?L.slice(0,D):L).length,F=L.slice(G+1),j=L.slice(0,G),A=j[0],B=j[1],H=void 0===B?A:B,z=j[2],N=j[3],V=void 0===N?H:N,q=[A,void 0===z?A:z].map((function(t){return U(t,n)})),$=q[0],Y=q[1],X=[V,H].map((function(t){return U(t,e)})),W=e-(J=X[1]),Q=n-Y,K=as(F,W-(Z=X[0]),Q-$,Z,$);return{type:"inset",clipText:d,poses:R=Ji(ps($,W,Q,Z),K),top:$,left:Z,right:W,bottom:Q,radius:F,splitter:M}}if("rect"===v){M=",";var J,Z,tt=(L=O(y||"0px, "+e+"px, "+n+"px, 0px")).map((function(t){return C(t).value}));return{type:"rect",clipText:d,poses:R=ps($=tt[0],J=tt[1],Y=tt[2],Z=tt[3]),top:$,right:J,bottom:Y,left:Z,values:L,splitter:M}}}}var fs={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[".control.clip-control {\n    background: #6d6;\n    cursor: pointer;\n}\n.control.clip-control.clip-radius {\n    background: #d66;\n}\n.line.clip-line {\n    background: #6e6;\n    cursor: move;\n    z-index: 1;\n}\n.clip-area {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.clip-ellipse {\n    position: absolute;\n    cursor: move;\n    border: 1px solid #6d6;\n    border: var(--zoompx) solid #6d6;\n    border-radius: 50%;\n    transform-origin: 0px 0px;\n}",":host {\n    --bounds-color: #d66;\n}",".guideline {\n    pointer-events: none;\n    z-index: 2;\n}",".line.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}"],render:function(t,e){var n=t.props,i=n.clipArea,r=n.zoom,o=t.state,a=o.target,s=o.width,l=o.height,c=o.allMatrix,u=o.is3d,h=o.left,d=o.top,p=o.pos1,g=o.pos2,f=o.pos3,b=o.pos4,v=o.snapBoundInfos;if(!a)return[];var m=gs(a,s,l,n.defaultClipPath||"inset",o.clipPathState||n.customClipPath);if(!m)return[];var y=u?4:3,w=m.type,x=m.poses.map((function(t){var e=Or(c,t.pos,y);return[e[0]-h,e[1]-d]})),O=[],_=[],C="rect"===w,M="inset"===w,T="polygon"===w;if(C||M||T){var S=M?x.slice(0,8):x;_=S.map((function(t,n){var i=0===n?S[S.length-1]:S[n-1],o=D(i,t),a=Er(i,t);return e.createElement("div",{key:"clipLine"+n,className:dr("line","clip-line","snap-control"),"data-clip-index":n,style:{width:a+"px",transform:"translate("+i[0]+"px, "+i[1]+"px) rotate("+o+"rad) scaleY("+r+")"}})}))}if(O=x.map((function(t,n){return e.createElement("div",{key:"clipControl"+n,className:dr("control","clip-control","snap-control"),"data-clip-index":n,style:{transform:"translate("+t[0]+"px, "+t[1]+"px) scale("+r+")"}})})),M&&O.push.apply(O,x.slice(8).map((function(t,n){return e.createElement("div",{key:"clipRadiusControl"+n,className:dr("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+n,style:{transform:"translate("+t[0]+"px, "+t[1]+"px) scale("+r+")"}})}))),"circle"===w||"ellipse"===w){var E=m.radiusX,P=m.radiusY,U=ei(Or(c,[m.left,m.top],y),Or(c,[0,0],y)),I=U[0],L=U[1],k="none";if(!i){for(var R=Math.max(10,E/5,P/5),G=[],F=0;F<=R;++F){var j=2*Math.PI/R*F;G.push([E+(E-r)*Math.cos(j),P+(P-r)*Math.sin(j)])}G.push([E,-2]),G.push([-2,-2]),G.push([-2,2*P+2]),G.push([2*E+2,2*P+2]),G.push([2*E+2,-2]),G.push([E,-2]),k="polygon("+G.map((function(t){return t[0]+"px "+t[1]+"px"})).join(", ")+")"}O.push(e.createElement("div",{key:"clipEllipse",className:dr("clip-ellipse","snap-control"),style:{width:2*E+"px",height:2*P+"px",clipPath:k,transform:"translate("+(-h+I)+"px, "+(-d+L)+"px) "+yr(c)}}))}if(i){var A=Cr(Ji([p,g,f,b],x)),B=A.width,H=A.height,z=A.left,N=A.top;(T||C||M)&&(G=M?x.slice(0,8):x,O.push(e.createElement("div",{key:"clipArea",className:dr("clip-area","snap-control"),style:{width:B+"px",height:H+"px",transform:"translate("+z+"px, "+N+"px)",clipPath:"polygon("+G.map((function(t){return t[0]-z+"px "+(t[1]-N)+"px"})).join(", ")+")"}})))}return v&&["vertical","horizontal"].forEach((function(t){var n=v[t],i="horizontal"===t;n.isSnap&&_.push.apply(_,n.snap.posInfos.map((function(n,o){var a=n.pos,u=ei(Or(c,i?[0,a]:[a,0],y),[h,d]),p=ei(Or(c,i?[s,a]:[a,l],y),[h,d]);return ka(e,"",u,p,r,"clip"+t+"snap"+o,"guideline")}))),n.isBound&&_.push.apply(_,n.bounds.map((function(n,o){var a=n.pos,u=ei(Or(c,i?[0,a]:[a,0],y),[h,d]),p=ei(Or(c,i?[s,a]:[a,l],y),[h,d]);return ka(e,"",u,p,r,"clip"+t+"bounds"+o,"guideline","bounds","bold")})))})),Ji(O,_)},dragControlCondition:function(t){return t.inputEvent&&(t.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var n=t.props.dragWithClip;return!(void 0===n||n)&&this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,e)},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var n=t.state,i=t.props,r=i.defaultClipPath,o=i.customClipPath,a=n.target,s=n.width,l=n.height,c=e.inputEvent?e.inputEvent.target:null,u=c?c.getAttribute("class"):"",h=e.datas,d=gs(a,s,l,r||"inset",o);if(!d)return!1;var p=d.clipText;return!1===Nr(t,"onClipStart",Hr(t,e,{clipType:d.type,clipStyle:p,poses:d.poses.map((function(t){return t.pos}))}))?(h.isClipStart=!1,!1):(h.isControl=u.indexOf("clip-control")>-1,h.isLine=u.indexOf("clip-line")>-1,h.isArea=u.indexOf("clip-area")>-1||u.indexOf("clip-ellipse")>-1,h.index=c?parseInt(c.getAttribute("data-clip-index"),10):-1,h.clipPath=d,h.isClipStart=!0,n.clipPathState=p,po(t,e),!0)},dragControl:function(t,e){var n=e.datas,i=e.originalDatas;if(!n.isClipStart)return!1;var r=i&&i.draggable||{},o=n.isControl,a=n.isLine,s=n.isArea,l=n.index,c=n.clipPath;if(!c)return!1;var u=r.isDrag?r.prevDist:mo(e),h=u[0],d=u[1],p=t.props,g=t.state,f=g.width,b=g.height,v=!s&&!o&&!a,m=c.type,y=c.poses,w=c.splitter,x=y.map((function(t){return t.pos}));v&&(h=-h,d=-d);var O=!o||"nesw"===y[l].direction,_="inset"===m||"rect"===m,C=y.map((function(){return[0,0]}));if(o&&!O){var M=y[l],T=M.vertical,S=[h*Math.abs(M.horizontal),d*Math.abs(T)];C=function(t,e,n,i){var r=t[e],o=r.direction,a=r.sub,s=t.map((function(){return[0,0]})),l=o?o.split(""):[];if(i&&e<8){var c=l.filter((function(t){return"w"===t||"e"===t}))[0],u=l.filter((function(t){return"n"===t||"s"===t}))[0];s[e]=n,t.forEach((function(t,e){var i=t.direction;i&&(i.indexOf(c)>-1&&(s[e][0]=n[0]),i.indexOf(u)>-1&&(s[e][1]=n[1]))})),c&&(s[1][0]=n[0]/2,s[5][0]=n[0]/2),u&&(s[3][1]=n[1]/2,s[7][1]=n[1]/2)}else o&&!a?l.forEach((function(e){var i="n"===e||"s"===e;t.forEach((function(t,r){var o=t.direction,a=t.horizontal,l=t.vertical;o&&-1!==o.indexOf(e)&&(s[r]=[i||!a?0:n[0],i&&l?n[1]:0])}))})):s[e]=n;return s}(y,l,S,_)}else O&&(C=x.map((function(){return[h,d]})));var E=x.map((function(t,e){return ti(t,C[e])})),P=Ji(E);g.snapBoundInfos=null;var I="circle"===c.type,L="ellipse"===c.type;if(I||L){var k=Cr(E),R=Math.abs(k.bottom-k.top),D=Math.abs(L?k.right-k.left:R),G=E[0][1]+R,F=E[0][0]-D;I&&(P.push([E[0][0]+D,k.bottom]),C.push([1,0])),P.push([k.left,G]),C.push([0,1]),P.push([F,k.bottom]),C.push([1,0])}var j=Ro([],f,b,(p.clipHorizontalGuidelines||[]).map((function(t){return U(""+t,b)})),(p.clipVerticalGuidelines||[]).map((function(t){return U(""+t,f)}))),A=[],B=[];if(I||L)A=[P[4][0],P[2][0]],B=[P[1][1],P[3][1]];else if(_){var H=[C[0],C[2],C[4],C[6]];A=($=[P[0],P[2],P[4],P[6]]).filter((function(t,e){return H[e][0]})).map((function(t){return t[0]})),B=$.filter((function(t,e){return H[e][1]})).map((function(t){return t[1]}))}else A=P.filter((function(t,e){return C[e][0]})).map((function(t){return t[0]})),B=P.filter((function(t,e){return C[e][1]})).map((function(t){return t[1]}));for(var z=function(t){var e=ua(j,p.clipTargetBounds&&{left:0,top:0,right:f,bottom:b},A,B,{snapThreshold:5}),n=e.horizontal,i=e.vertical,r=n.offset,o=i.offset;if(!L&&!I||0!==C[0][0]||0!==C[0][1])return P.forEach((function(t,e){var n=C[e];n[0]&&(t[0]-=o),n[1]&&(t[1]-=r)})),"break";var a=Cr(E),s=a.bottom-a.top,l=L?a.right-a.left:s;l-=i.isBound?Math.abs(o):0===i.snapIndex?-o:o,s-=n.isBound?Math.abs(r):0===n.snapIndex?-r:r,I&&(l=s=zo(i,n)>0?s:l);var c=P[0];P[1][1]=c[1]-s,P[2][0]=c[0]+l,P[3][1]=c[1]+s,P[4][0]=c[0]-l},N=0;N<2&&"break"!==z();++N);var V=ds(t,c,E),q=m+"("+V.join(w)+")";if(g.clipPathState=q,I||L)A=[P[4][0],P[2][0]],B=[P[1][1],P[3][1]];else if(_){var $;A=($=[P[0],P[2],P[4],P[6]]).map((function(t){return t[0]})),B=$.map((function(t){return t[1]}))}else A=P.map((function(t){return t[0]})),B=P.map((function(t){return t[1]}));return g.snapBoundInfos=ua(j,p.clipTargetBounds&&{left:0,top:0,right:f,bottom:b},A,B,{snapThreshold:1}),Nr(t,"onClip",Hr(t,e,{clipEventType:"changed",clipType:m,poses:E,clipStyle:q,clipStyles:V,distX:h,distY:d})),!0},dragControlEnd:function(t,e){this.unset(t);var n=e.isDrag,i=e.datas,r=e.isDouble,o=i.isLine,a=i.isControl;return!!i.isClipStart&&(Nr(t,"onClipEnd",zr(t,e,{})),r&&(a?function(t,e){var n=e.datas,i=n.clipPath,r=n.index,o=i.type,a=i.poses,s=i.splitter,l=a.map((function(t){return t.pos})),c=l.length;if("polygon"===o)a.splice(r,1),l.splice(r,1);else{if("inset"!==o)return;if(r<8)return;if(ss(a,l,r,8,c),c===a.length)return}var u=ds(t,i,l);Nr(t,"onClip",Hr(t,e,{clipEventType:"removed",clipType:o,poses:l,clipStyles:u,clipStyle:o+"("+u.join(s)+")",distX:0,distY:0}))}(t,e):o&&function(t,e){var n=ho(t,e),i=n[0],r=n[1],o=e.datas,a=o.clipPath,s=o.index,l=a.type,c=a.poses,u=a.splitter,h=c.map((function(t){return t.pos}));if("polygon"===l)h.splice(s,0,[i,r]);else{if("inset"!==l)return;var d=ts.indexOf(s),p=es.indexOf(s),g=c.length;if(ls(c,h,8,d,p,i,r,h[4][0],h[4][1],h[0][0],h[0][1]),g===c.length)return}var f=ds(t,a,h);Nr(t,"onClip",Hr(t,e,{clipEventType:"added",clipType:l,poses:h,clipStyles:f,clipStyle:l+"("+f.join(u)+")",distX:0,distY:0}))}(t,e)),r||n)},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},bs={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[":host[data-able-origindraggable] .control.origin {\n    pointer-events: auto;\n}"],dragControlCondition:function(t){return t.isRequest?"originDraggable"===t.requestAble:A(t.inputEvent.target,dr("origin"))},dragControlStart:function(t,e){var n=e.datas;po(t,e);var i=Hr(t,e,{dragStart:Ma.dragStart(t,(new so).dragStart([0,0],e))}),r=Nr(t,"onDragOriginStart",i);return n.startOrigin=t.state.transformOrigin,n.startTargetOrigin=t.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,!1===r?(n.isDragOrigin=!1,!1):i},dragControl:function(t,e){var n=e.datas,i=e.isPinch,r=e.isRequest;if(!n.isDragOrigin)return!1;var o=mo(e),a=t.state,s=a.width,l=a.height,c=a.offsetMatrix,u=a.targetMatrix,h=t.props.originRelative,d=void 0===h||h,p=a.is3d?4:3,g=[o[0],o[1]];if(r){var f=e.distOrigin;(f[0]||f[1])&&(g=f)}var b=ti(n.startOrigin,g),v=ti(n.startTargetOrigin,g),m=ei(g,n.prevOrigin),y=Oo(c,u,b,p),w=t.getRect(),x=Cr(_r(y,s,l,p)),O=[w.left-x.left,w.top-x.top];n.prevOrigin=g;var _=Hr(t,e,{width:s,height:l,origin:b,dist:g,delta:m,transformOrigin:[Zr(v[0],s,d),Zr(v[1],l,d)].join(" "),drag:Ma.drag(t,ao(e,t.state,O,!!i,!1))});return Nr(t,"onDragOrigin",_),_},dragControlEnd:function(t,e){return!!e.datas.isDragOrigin&&(Nr(t,"onDragOriginEnd",zr(t,e,{})),!0)},dragGroupControlCondition:function(t){return this.dragControlCondition(t)},dragGroupControlStart:function(t,e){return!!this.dragControlStart(t,e)},dragGroupControl:function(t,e){var n=this.dragControl(t,e);return!!n&&(t.transformOrigin=n.transformOrigin,!0)},request:function(t){var e={},n=t.getRect(),i=0,r=0,o=n.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaOrigin"in t?(a[0]+=t.deltaOrigin[0],a[1]+=t.deltaOrigin[1]):"origin"in t?(a[0]=t.origin[0]-o[0],a[1]=t.origin[1]-o[1]):("x"in t?i=t.x-n.left:"deltaX"in t&&(i+=t.deltaX),"y"in t?r=t.y-n.top:"deltaY"in t&&(r+=t.deltaY)),{datas:e,distX:i,distY:r,distOrigin:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function vs(t,e,n,i,r){var o;if(void 0===i&&(i=[0,0]),r)o=r;else{var a=window.getComputedStyle(t);o=a&&a.borderRadius||""}return as(!o||!r&&"0px"===o?[]:x(o),e,n,0,0,i)}function ms(t,e,n,i,r,o){var a=t.state,s=a.width,l=a.height,c=rs(o,r,t.props.roundRelative,s,l),u=c.styles,h=cs(r,c.raws),d=h.horizontals,p=h.verticals,g=u.join(" ");a.borderRadiusState=g,Nr(t,"onRound",Hr(t,e,{horizontals:d,verticals:p,borderRadius:g,width:s,height:l,delta:i,dist:n}))}var ys={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[".control.border-radius {\n    background: #d66;\n    cursor: pointer;\n}",":host[data-able-roundable] .line.direction {\n    cursor: pointer;\n}"],render:function(t,e){var n=t.state,i=n.target,r=n.allMatrix,o=n.left,a=n.top,s=t.props,l=s.minRoundControls,c=s.maxRoundControls,u=void 0===c?[4,4]:c,h=s.zoom;if(!i)return null;var d=n.is3d?4:3,p=vs(i,n.width,n.height,void 0===l?[0,0]:l,n.borderRadiusState);if(!p)return null;var g=0,f=0;return p.map((function(t,n){f+=Math.abs(t.horizontal),g+=Math.abs(t.vertical);var i=ei(Or(r,t.pos,d),[o,a]),s=t.vertical?g<=u[1]:f<=u[0];return e.createElement("div",{key:"borderRadiusControl"+n,className:dr("control","border-radius"),"data-radius-index":n,style:{display:s?"block":"none",transform:"translate("+i[0]+"px, "+i[1]+"px) scale("+h+")"}})}))},dragControlCondition:function(t){if(!t.inputEvent||t.isRequest)return!1;var e=t.inputEvent.target.getAttribute("class")||"";return e.indexOf("border-radius")>-1||e.indexOf("moveable-line")>-1&&e.indexOf("moveable-direction")>-1},dragControlStart:function(t,e){var n=e.datas,i=e.inputEvent.target,r=i.getAttribute("class")||"",o=r.indexOf("border-radius")>-1,a=r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1,s=o?parseInt(i.getAttribute("data-radius-index"),10):-1,l=a?parseInt(i.getAttribute("data-line-index"),10):-1;if(!o&&!a)return!1;if(!1===Nr(t,"onRoundStart",Hr(t,e,{})))return!1;n.lineIndex=l,n.controlIndex=s,n.isControl=o,n.isLine=a,po(t,e);var c=t.props,u=c.roundRelative,h=c.minRoundControls,d=void 0===h?[0,0]:h,p=t.state,g=p.target,f=p.width,b=p.height;n.isRound=!0,n.prevDist=[0,0];var v=vs(g,f,b,d)||[];return n.controlPoses=v,p.borderRadiusState=rs(v.map((function(t){return t.pos})),v,u,f,b).styles.join(" "),!0},dragControl:function(t,e){var n=e.datas;if(!n.isRound||!n.isControl||!n.controlPoses.length)return!1;var i=n.controlIndex,r=n.controlPoses,o=mo(e),a=o[0],s=o[1],l=[a,s],c=ei(l,n.prevDist),u=t.props.maxRoundControls,h=void 0===u?[4,4]:u,d=t.state,p=d.width,g=d.height,f=r[i],b=f.vertical,v=f.horizontal,m=r.map((function(t,e){var n=t.horizontal,i=t.vertical,r=[n*v*l[0],i*b*l[1]];if(n){if(1===h[0])return r;if(h[0]<4&&n!==v)return r}else{if(0===h[1])return r[1]=i*v*l[0]/p*g,r;if(b){if(1===h[1])return r;if(h[1]<4&&i!==b)return r}}return[0,0]}));m[i]=l;var y=r.map((function(t,e){return ti(t.pos,m[e])}));return n.prevDist=[a,s],ms(t,e,l,c,r,y),!0},dragControlEnd:function(t,e){var n=t.state;n.borderRadiusState="";var i=e.datas,r=e.isDouble;if(!i.isRound)return!1;var o=n.width,a=n.height,s=i.isControl,l=i.controlIndex,c=i.isLine,u=i.lineIndex,h=i.controlPoses,d=h.map((function(t){return t.pos})),p=d.length,g=t.props.roundClickable;if(r&&(void 0===g||g)){if(s)ss(h,d,l,0);else if(c){var f=ho(t,e);!function(t,e,n,i,r,o,a){var s=cs(t),l=s.horizontals.length,c=s.verticals.length,u=-1,h=-1;0===n?0===l?u=0:1===l&&(u=1):3===n&&(l<=2?u=2:l<=3&&(u=3)),2===n?0===c?h=0:c<4&&(h=3):1===n&&(c<=1?h=1:c<=2&&(h=2)),ls(t,e,0,u,h,i,r,o,a)}(h,d,u,f[0],f[1],o,a)}p!==h.length&&ms(t,e,[0,0],[0,0],h,d),Nr(t,"onRoundEnd",zr(t,e,{}))}return n.borderRadiusState="",!0},unset:function(t){t.state.borderRadiusState=""}},ws={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},setTransform:function(t,e){var n=t.state,i=n.targetMatrix,r=n.is3d?"matrix3d("+i.join(",")+")":"matrix("+ni(i,!0)+")";e.datas.startTransforms=[r]},resetTransform:function(t,e){e.datas.nextTransforms=e.datas.startTransforms,e.datas.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return Hr(t,e,{setTransform:function(t){e.datas.startTransforms=b(t)?t:x(t)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return Hr(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),Nr(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){this.resetTransform(t,e),Nr(t,"onBeforeRender",Hr(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){Nr(t,"onBeforeRenderEnd",Hr(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var n=this;this.dragStart(t,e);var i=lo(t,"beforeRenderable",e),r=t.moveables,o=i.map((function(t,e){var i=r[e];return n.setTransform(i,t),n.fillDragStartParams(i,t)}));Nr(t,"onBeforeRenderGroupStart",Hr(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:o}))},dragGroup:function(t,e){var n=this;this.drag(t,e);var i=lo(t,"beforeRenderable",e),r=t.moveables,o=i.map((function(t,e){var i=r[e];return n.resetTransform(i,t),n.fillDragParams(i,t)}));Nr(t,"onBeforeRenderGroup",Hr(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:o}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),Nr(t,"onBeforeRenderGroupEnd",Hr(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},xs={name:"Renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragStart:function(t,e){Nr(t,"onRenderStart",Hr(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){Nr(t,"onRender",Hr(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){Nr(t,"onRenderEnd",Hr(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){Nr(t,"onRenderGroupStart",Hr(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){Nr(t,"onRenderGroup",Hr(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroupEnd:function(t,e){Nr(t,"onRenderGroupEnd",Hr(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}};function Os(t,e,n,i,r,o,a){var s="Start"===r,l=o.isRequest;if(!t.state.target||s&&i.indexOf("Control")>-1&&!l&&t.areaElement===o.inputEvent.target)return!1;var c=""+n+i+r,u=""+n+i+"Condition",h="End"===r,d=r.indexOf("After")>-1,p=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());p&&t.updateRect(r,!0,!1),""!==r||d||Kr(t.state,o);var g=i.indexOf("Group")>-1,f=Ji([ws],t[e].slice(),[xs]);if(l){var b=o.requestAble;f.some((function(t){return t.name===b}))||f.push.apply(f,t.props.ables.filter((function(t){return t.name===b})))}if(!f.length)return!1;var v=f.filter((function(t){return t[c]})),m=o.datas;p&&v.forEach((function(e){e.unset&&e.unset(t)}));var y,w=o.inputEvent;h&&w&&(y=document.elementFromPoint(o.clientX,o.clientY)||w.target);var x=v.filter((function(e){var n=e.name,i=m[n]||(m[n]={});return s&&(i.isEventStart=!e[u]||e[u](o,t)),!!i.isEventStart&&e[c](t,Ki(Ki({},o),{datas:i,originalDatas:m,inputTarget:y}))})),O=x.length,_=s&&v.length&&!O;return(h||_)&&(t.state.gesto=null,t.moveables&&t.moveables.forEach((function(t){t.state.gesto=null}))),p&&_&&v.forEach((function(e){e.unset&&e.unset(t)})),!t.isUnmounted&&!_&&((!s&&O&&!a||h)&&(x.some((function(t){return t.updateRect}))&&!g?t.updateRect(r,!1,!1):t.updateRect(r,!0,!1),t.forceUpdate()),s||h||d||!O||a||Os(t,e,n,i,r+"After",o),!0)}function _s(t,e,n){var i=t.controlBox.getElement(),r=[];r.push(i),t.props.dragArea&&!t.props.dragTarget||r.push(e);var o=function(e){var n=e.inputEvent.target;return n===t.areaElement||!t.isMoveableElement(n)||A(n,"moveable-area")||A(n,"moveable-padding")};return Cs(t,r,"targetAbles",n,{dragStart:o,pinchStart:o})}function Cs(t,e,n,i,r){void 0===r&&(r={});var o=t.props,a={container:window,pinchThreshold:o.pinchThreshold,pinchOutside:o.pinchOutside},s=new Ai(e,a);return["drag","pinch"].forEach((function(e){["Start","","End"].forEach((function(o){s.on(""+e+o,(function(a){var s=a.eventType;(!r[s]||r[s](a))&&Os(t,n,e,i,o,a)||a.stop()}))}))})),s}var Ms=function(){function t(t,e,n){var i=this;this.target=t,this.moveable=e,this.eventName=n,this.ables=[],this.onEvent=function(t){var e=i.eventName,n=i.moveable;i.ables.forEach((function(i){i[e]({inputEvent:t},n)}))},this.target.addEventListener(this.eventName.toLowerCase(),this.onEvent)}var e=t.prototype;return e.setAbles=function(t){this.ables=t},e.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this.onEvent),this.target=null,this.moveable=null},t}(),Ts=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=Ki({container:null,target:null,gesto:null,renderPoses:[[0,0],[0,0],[0,0],[0,0]]},kr(null)),e.enabledAbles=[],e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isUnmounted=!1,e.events={mouseEnter:null,mouseLeave:null},e}Qi(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=this.state,n=t.edge,i=t.parentPosition,r=t.className,o=t.target,a=t.zoom,s=t.cspNonce,l=t.translateZ,c=t.cssStyled;this.checkUpdate(),this.updateRenderPoses();var u=i||{left:0,top:0},h=u.left,d=u.top,p=e.left,g=e.top,f=e.direction,b=e.renderPoses,v=t.targets,m=(v&&v.length||o)&&e.target,y=this.isDragging(),w={},x={createElement:yn};return this.getEnabledAbles().forEach((function(t){w["data-able-"+t.name.toLowerCase()]=!0})),yn(c,Ki({cspNonce:s,ref:We(this,"controlBox"),className:dr("control-box",-1===f?"reverse":"",y?"dragging":"")+" "+r},w,{style:{position:"absolute",display:m?"block":"none",transform:"translate("+(p-h)+"px, "+(g-d)+"px) translateZ("+l+"px)","--zoom":a,"--zoompx":a+"px"}}),this.renderAbles(),ka(x,n?"n":"",b[0],b[1],a,0),ka(x,n?"e":"",b[1],b[3],a,1),ka(x,n?"w":"",b[0],b[2],a,2),ka(x,n?"s":"",b[2],b[3],a,3))},n.componentDidMount=function(){this.controlBox.getElement();var t=this.props,e=t.parentMoveable,n=t.container,i=t.wrapperMoveable;this.updateEvent(t),this.updateNativeEvents(t),n||e||i||this.updateRect("",!1,!0),this.updateCheckInput()},n.componentDidUpdate=function(t){this.updateNativeEvents(t),this.updateEvent(t),this.updateCheckInput()},n.componentWillUnmount=function(){this.isUnmounted=!0,Br(this,"targetGesto"),Br(this,"controlGesto");var t=this.events;for(var e in t){var n=t[e];n&&n.destroy()}},n.getContainer=function(){var t=this.props,e=t.parentMoveable,n=t.wrapperMoveable;return t.container||n&&n.getContainer()||e&&e.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(t){return t&&(t.getAttribute("class")||"").indexOf("moveable-")>-1},n.dragStart=function(t){return this.targetGesto&&this.targetGesto.triggerDragStart(t),this},n.hitTest=function(t){var e,n=this.state,i=n.pos1,r=n.pos2,o=n.pos3,a=n.pos4,s=n.targetClientRect;if(!n.target)return 0;if(t instanceof Element){var l=t.getBoundingClientRect();e={left:l.left,top:l.top,width:l.width,height:l.height}}else e=Ki({width:0,height:0},t);var c=e.left,u=e.top,h=e.width,d=e.height,p=yi([i,r,a,o],s),g=mi(function(t,e){var n=t.slice(),i=e.slice();-1===G(n)&&n.reverse(),-1===G(i)&&i.reverse();var r=Mi(n),o=Mi(i),a=r.map((function(t){return Oi(t[0],t[1])})),s=o.map((function(t){return Oi(t[0],t[1])})),l=[];a.forEach((function(t,e){var n=r[e],a=[];s.forEach((function(i,r){var s=Ci(_i(t,i),[n,o[r]]);a.push.apply(a,s.map((function(t){return{index1:e,index2:r,pos:t}})))})),a.sort((function(t,e){return F(n[0],t.pos)-F(n[0],e.pos)})),l.push.apply(l,a),xi(n[1],i)&&l.push({index1:e,index2:-1,pos:n[1]})})),o.forEach((function(t,e){if(xi(t[1],n)){var i=!1,r=S(l,(function(t){return t.index2===e?(i=!0,!1):!!i}));-1===r&&(i=!1,r=S(l,(function(t){return-1===t.index1&&t.index2+1===e?(i=!0,!1):!!i}))),-1===r?l.push({index1:-1,index2:e,pos:t[1]}):l.splice(r,0,{index1:-1,index2:e,pos:t[1]})}}));var c=l.map((function(t){return t.pos})),u={};return c.filter((function(t){var e=t[0]+"x"+t[1];return!u[e]&&(u[e]=!0,!0)}))}(p,[[c,u],[c+h,u],[c+h,u+d],[c,u+d]])),f=mi(p);return g&&f?Math.min(100,g/f*100):0},n.isInside=function(t,e){var n=this.state;return!!n.target&&xi([t,e],yi([n.pos1,n.pos2,n.pos4,n.pos3],n.targetClientRect))},n.updateRect=function(t,e,n){void 0===n&&(n=!0);var i=this.props,r=i.parentMoveable,o=this.state.target||this.props.target,a=this.getContainer(),s=r?r.props.rootContainer:i.rootContainer;this.updateState(kr(this.controlBox&&this.controlBox.getElement(),o,a,a,s||a),!r&&n)},n.isTargetChanged=function(t,e){var n=this.props,i=n.dragArea;return!i&&(t.dragTarget||t.target)!==(n.dragTarget||n.target)||(e||i)&&t.dragArea!==i},n.updateNativeEvents=function(t){var e=this,n=this.props.dragArea?this.areaElement:this.state.target,i=this.events,r=E(i);if(this.isTargetChanged(t))for(var o in i){var a=i[o];a&&a.destroy(),i[o]=null}if(n){var s=this.enabledAbles;r.forEach((function(t){var r=qr(s,[t]),o=i[t];r.length>0?(o||(o=new Ms(n,e,t),i[t]=o),o.setAbles(r)):o&&(o.destroy(),i[t]=null)}))}},n.updateEvent=function(t){var e=this.controlBox.getElement(),n=this.targetAbles.length,i=this.controlAbles.length,r=this.props,o=r.dragTarget||r.target,a=this.isTargetChanged(t,!0),s=!n&&this.targetGesto||a;s&&(Br(this,"targetGesto"),this.updateState({gesto:null})),i||Br(this,"controlGesto"),o&&n&&!this.targetGesto&&(this.targetGesto=_s(this,o,"")),!this.controlGesto&&i&&(this.controlGesto=Cs(this,e,"controlAbles","Control")),s&&this.unsetAbles()},n.isDragging=function(){return!!this.targetGesto&&this.targetGesto.isFlag()||!!this.controlGesto&&this.controlGesto.isFlag()},n.updateTarget=function(t){this.updateRect(t,!0)},n.getRect=function(){var t=this.state,e=Fr(this.state),n=e[0],i=e[1],r=e[2],o=e[3],a=Cr(e),s=t.width,l=t.height,c=a.width,u=a.height,h=a.left,d=a.top,p=[t.left,t.top],g=ti(p,t.origin);return{width:c,height:u,left:h,top:d,pos1:n,pos2:i,pos3:r,pos4:o,offsetWidth:s,offsetHeight:l,beforeOrigin:ti(p,t.beforeOrigin),origin:g,transformOrigin:t.transformOrigin,rotation:this.getRotation()}},n.getManager=function(){return this},n.getRotation=function(){var t,e,n=this.state;return t=n.direction,e=D(n.pos1,n.pos2)/Math.PI*180,(e=t>=0?e:180-e)>=0?e:360+e},n.request=function(t,e,n){void 0===e&&(e={});var i=this.props,r=i.groupable,o=i.ables.filter((function(e){return e.name===t}))[0];if(this.isDragging()||!o||!o.request)return{request:function(){return this},requestEnd:function(){return this}};var a=this,s=o.request(this),l=n||e.isInstant,c=s.isControl?"controlAbles":"targetAbles",u=(r?"Group":"")+(s.isControl?"Control":""),h={request:function(e){return Os(a,c,"drag",u,"",Ki(Ki({},s.request(e)),{requestAble:t,isRequest:!0}),l),this},requestEnd:function(){return Os(a,c,"drag",u,"End",Ki(Ki({},s.requestEnd()),{requestAble:t,isRequest:!0}),l),this}};return Os(a,c,"drag",u,"Start",Ki(Ki({},s.requestStart(e)),{requestAble:t,isRequest:!0}),l),l?h.request(e).requestEnd():h},n.destroy=function(){this.componentWillUnmount()},n.updateRenderPoses=function(){var t=this.state,e=this.props,n=t.originalBeforeOrigin,i=t.transformOrigin,r=t.allMatrix,o=t.pos1,a=t.pos2,s=t.pos3,l=t.pos4,c=e.padding||{},u=c.left,h=void 0===u?0:u,d=c.top,p=void 0===d?0:d,g=c.bottom,f=void 0===g?0:g,b=c.right,v=void 0===b?0:b,m=t.is3d?4:3,y=e.groupable?n:ti(n,[t.left,t.top]);t.renderPoses=[ti(o,Jr(r,[-h,-p],i,y,m)),ti(a,Jr(r,[v,-p],i,y,m)),ti(s,Jr(r,[-h,f],i,y,m)),ti(l,Jr(r,[v,f],i,y,m))]},n.checkUpdate=function(){var t=this.props,e=t.target,n=t.container,i=t.parentMoveable,r=this.state,o=r.target,a=r.container;(o||e)&&(this.updateAbles(),(!$r(o,e)||!$r(a,n))&&(this.updateState({target:e,container:n}),i||!n&&!this.controlBox||this.updateRect("End",!1,!1)))},n.triggerEvent=function(t,e){var n=this.props[t];return n&&n(e)},n.useCSS=function(t,e){var n=this.props.customStyledMap,i=t+e;return n[i]||(n[i]=qi(t,e)),n[i]},n.unsetAbles=function(){var t=this;this.targetAbles.filter((function(e){return!!e.unset&&(e.unset(t),!0)})).length&&this.forceUpdate()},n.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props,i=n.triggerAblesSimultaneously,r=t.filter((function(t){return t&&(t.always||n[t.name])})),o="drag"+e+"ControlStart",a=qr(r,["drag"+e+"Start","pinch"+e+"Start"],i),s=qr(r,[o],i);this.enabledAbles=r,this.targetAbles=a,this.controlAbles=s},n.updateState=function(t,e){if(e)this.setState(t);else{var n=this.state;for(var i in t)n[i]=t[i]}},n.getEnabledAbles=function(){var t=this.props;return t.ables.filter((function(e){return e&&t[e.name]}))},n.renderAbles=function(){var t,e,n,i,r=this,o=this.props.triggerAblesSimultaneously,a={createElement:yn};return(t=Xr(qr(this.getEnabledAbles(),["render"],o).map((function(t){return(0,t.render)(r,a)||[]}))).filter((function(t){return t})),e=function(t){return t.key},n=[],i={},t.forEach((function(t,r){var o=e(t),a=i[o];a||(i[o]=a=[],n.push(a)),a.push(t)})),n).map((function(t){return t[0]}))},n.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,wrapperMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,cspNonce:"",translateZ:50,cssStyled:null,customStyledMap:{},props:{}},e}(Pn),Ss={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean},events:{},render:function(t,e){var n=t.props.targets||[];t.moveables=[];var i=t.state,r={left:i.left,top:i.top};return n.map((function(n,i){return e.createElement(Ts,{key:"moveable"+i,ref:Qe(t,"moveables",i),target:n,origin:!1,cssStyled:t.props.cssStyled,customStyledMap:t.props.customStyledMap,parentMoveable:t,parentPosition:r})}))}};function Es(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),Ki(Ki({},t),{datas:e})}var Ps={name:"edgeDraggable",props:{edgeDraggable:Boolean},events:{},dragControlCondition:function(t,e){if(!e.props.edgeDraggable||!t.inputEvent)return!1;var n=t.inputEvent.target;return A(n,dr("direction"))&&A(n,dr("line"))},dragControlStart:function(t,e){return Ma.dragStart(t,Es(e))},dragControl:function(t,e){return Ma.drag(t,Es(e))},dragControlEnd:function(t,e){return Ma.dragEnd(t,Es(e))},dragGroupControlCondition:function(t,e){if(!e.props.edgeDraggable||!t.inputEvent)return!1;var n=t.inputEvent.target;return A(n,dr("direction"))&&A(n,dr("line"))},dragGroupControlStart:function(t,e){return Ma.dragGroupStart(t,Es(e))},dragGroupControl:function(t,e){return Ma.dragGroup(t,Es(e))},dragGroupControlEnd:function(t,e){return Ma.dragGroupEnd(t,Es(e))},unset:function(t){t.state.dragInfo=null}},Us={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},Is=[ws,Qa,Ca,oo,Ma,Ps,Ia,Ga,Fa,Ba,Wa,Ka,Ya,bs,fs,ys,Ss,Us,{name:"clickable",props:{},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var n=t.state.target,i=e.inputTarget;if(e.inputEvent&&i&&!e.isDrag&&!t.isMoveableElement(i)){var r=n.contains(i);Nr(t,"onClick",Hr(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:n===i,containsTarget:r}))}},dragGroupEnd:function(t,e){var n=e.inputTarget;if(e.inputEvent&&n&&!e.isDrag&&!t.isMoveableElement(n)&&e.datas.inputTarget!==n){var i=t.props.targets,r=i.indexOf(n),o=r>-1,a=!1;-1===r&&(a=(r=S(i,(function(t){return t.contains(n)})))>-1),Nr(t,"onClickGroup",Hr(t,e,{isDouble:e.isDouble,targets:i,inputTarget:n,targetIndex:r,isTarget:o,containsTarget:a}))}}},$a,xs],Ls=Is.reduce((function(t,e){return Ki(Ki({},t),e.events)}),{}),ks=Is.reduce((function(t,e){return Ki(Ki({},t),e.props)}),{}),Rs=Object.keys(no(Ls)),Ds=Object.keys(ks);function Gs(t,e){return Math.max.apply(Math,t.map((function(t){return Math.max(t[0][e],t[1][e],t[2][e],t[3][e])})))}function Fs(t,e){return Math.min.apply(Math,t.map((function(t){return Math.min(t[0][e],t[1][e],t[2][e],t[3][e])})))}var js=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.differ=new Xi,e.moveables=[],e.transformOrigin="50% 50%",e}Qi(e,t);var n=e.prototype;return n.updateEvent=function(t){var e=this.state,n=this.props,i=n.dragTarget||this.areaElement;(t.dragTarget||e.target)!==i&&(Br(this,"targetGesto"),Br(this,"controlGesto"),e.target=null),e.target||(e.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetGesto=_s(this,i,"Group"),this.controlGesto=Cs(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var r=!$r(t.container,n.container);r&&(e.container=n.container);var o=this.differ.update(n.targets);(r||o.added.length||o.changed.length||o.removed.length)&&this.updateRect()},n.checkUpdate=function(){this.updateAbles()},n.updateRect=function(t,e,n){if(void 0===n&&(n=!0),this.controlBox){this.moveables.forEach((function(e){e.updateRect(t,!1,!1)}));var i=this.state,r=this.props,o=i.target||r.target;(!e||""!==t&&r.updateGroup)&&(this.rotation=r.defaultGroupRotate,this.transformOrigin=r.defaultGroupOrigin||"50% 50%",this.scale=[1,1]);var a=this.rotation,s=this.scale,l=function(t,e){if(!t.length)return[0,0,0,0];var n=t.map((function(t){return Fr(t.state)})),i=ar,r=ar,o=0,a=0,s=jr(e,1e-7);if(s%90){var l=s/180*Math.PI,c=Math.tan(l),u=-1/c,h=[sr,ar],d=[sr,ar];n.forEach((function(t){t.forEach((function(t){var e=t[1]-c*t[0],n=t[1]-u*t[0];h[0]=Math.max(h[0],e),h[1]=Math.min(h[1],e),d[0]=Math.max(d[0],n),d[1]=Math.min(d[1],n)}))})),h.forEach((function(t){d.forEach((function(e){var n=(e-t)/(c-u),o=c*n+t;i=Math.min(i,n),r=Math.min(r,o)}))}));var p=n.map((function(t){var e=t[1],n=t[2],i=t[3];return[li(t[0],-l),li(e,-l),li(n,-l),li(i,-l)]}));o=Gs(p,0)-Fs(p,0),a=Gs(p,1)-Fs(p,1)}else if(i=Fs(n,0),r=Fs(n,1),o=Gs(n,0)-i,a=Gs(n,1)-r,s%180){var g=o;o=a,a=g}return[i,r,o,a]}(this.moveables,a),c=l[0],u=l[1],h=l[2],d=l[3],p="rotate("+a+"deg) scale("+(s[0]>=0?1:-1)+", "+(s[1]>=0?1:-1)+")";o.style.cssText+="left:0px;top:0px; transform-origin: "+this.transformOrigin+"; width:"+h+"px; height:"+d+"px;transform:"+p,i.width=h,i.height=d;var g=this.getContainer(),f=kr(this.controlBox.getElement(),o,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||g),b=[f.left,f.top],v=Fr(f),m=v[0],y=v[1],w=v[2],x=v[3],O=wi([m,y,w,x]),_=[O.minX,O.minY];f.pos1=ei(m,_),f.pos2=ei(y,_),f.pos3=ei(w,_),f.pos4=ei(x,_),f.left=c-f.left+_[0],f.top=u-f.top+_[1],f.origin=ei(ti(b,f.origin),_),f.beforeOrigin=ei(ti(b,f.beforeOrigin),_),f.originalBeforeOrigin=ti(b,f.originalBeforeOrigin);var C=f.targetClientRect,M=s[0]*s[1]>0?1:-1;C.top+=f.top-i.top,C.left+=f.left-i.left,o.style.transform="translate("+-_[0]+"px, "+-_[1]+"px) "+p,this.updateState(Ki(Ki({},f),{direction:M,beforeDirection:M}),n)}},n.getRect=function(){return Ki(Ki({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},n.triggerEvent=function(e,n,i){if(i||e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,n)},n.updateAbles=function(){t.prototype.updateAbles.call(this,Ji(this.props.ables,[Ss]),"Group")},e.defaultProps=Ki(Ki({},Ts.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(Ts),As=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveables=[],e}Qi(e,t);var n=e.prototype;return n.render=function(){var t=this,e=this.props,n=e.targets;return yn(e.cssStyled,{cspNonce:e.cspNonce,ref:We(this,"controlBox"),className:dr("control-box")},n.map((function(e,n){return yn(Ts,Ki({key:"moveable"+n,ref:Qe(t,"moveables",n)},t.props,{target:e,wrapperMoveable:t}))})))},n.componentDidUpdate=function(){},n.updateRect=function(t,e,n){void 0===n&&(n=!0),this.moveables.forEach((function(i){i.updateRect(t,e,n)}))},n.getRect=function(){return Ki(Ki({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},n.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},n.dragStart=function(){return this},n.hitTest=function(){return 0},n.isInside=function(){return!1},n.isDragging=function(){return!1},n.updateRenderPoses=function(){},n.updateEvent=function(){},n.checkUpdate=function(){},n.triggerEvent=function(){},n.updateAbles=function(){},e}(Ts),Bs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qi(e,t),e.defaultAbles=Is,e}(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.refTargets=[],e.selectorMap={},e}Qi(e,t);var n=e.prototype;return e.makeStyled=function(){var t={};this.getTotalAbles().forEach((function(e){var n=e.css;n&&n.forEach((function(e){t[e]=!0}))}));var e=E(t).join("\n");this.defaultStyled=qi("div",(rr+e).replace(/([^}{]*){/gm,(function(t,e){return e.replace(/\.([^{,\s\d.]+)/g,".moveable-$1")+"{"})))},e.getTotalAbles=function(){return Ji([Qa,Ss,Us,$a],this.defaultAbles)},n.render=function(){var t=this.constructor;t.defaultStyled||t.makeStyled();var e=this.props,n=e.ables,i=e.props,r=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(e,["ables","props"]),o=ro(r.target||r.targets),a=function(t,e){var n=[];return t.forEach((function(t){t&&(v(t)?e[t]&&n.push.apply(n,e[t]):n.push(t))})),n}(o,this.selectorMap);this.refTargets=o;var s=a.length>1,l=Ji(t.getTotalAbles(),n||[]),c=Ki(Ki(Ki({},r),i||{}),{ables:l,cssStyled:t.defaultStyled,customStyledMap:t.customStyledMap});return s?r.individualGroupable?yn(As,Ki({key:"individual-group",ref:We(this,"moveable")},c,{target:null,targets:a})):yn(js,Ki({key:"group",ref:We(this,"moveable")},c,{target:null,targets:a})):yn(Ts,Ki({key:"single",ref:We(this,"moveable")},c,{target:a[0]}))},n.componentDidMount=function(){this.updateRefs()},n.componentDidUpdate=function(){this.updateRefs()},n.updateRefs=function(t){var e=ro(this.props.target||this.props.targets),n=this.refTargets.some((function(t,n){var i=e[n];return!(!t&&!i)&&t!==i})),i=t?{}:this.selectorMap,r={};this.refTargets.forEach((function(t){v(t)&&(i[t]?r[t]=i[t]:(n=!0,r[t]=[].slice.call(document.querySelectorAll(t))))})),this.selectorMap=r,n&&this.forceUpdate()},n.getManager=function(){return this.moveable},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([Je(hr)],e.prototype,"moveable",void 0),e}(Pn)),Hs=function(t,e){return(Hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function zs(t,e){function n(){this.constructor=t}Hs(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ns=function(){return(Ns=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Vs=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n.state=n.props,n}return zs(e,t),e.prototype.render=function(){return t=yn(Bs,Ns({ref:We(this,"moveable")},this.state)),yn(Un,{element:t,container:this.state.parentElement});var t},e}(En),qs=Ds,$s=hr,Ys=Rs,Xs=function(){return(Xs=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return zs(e,t),e}(function(t){function e(e,n){void 0===n&&(n={});var i=t.call(this)||this;i.tempElement=document.createElement("div");var r=Ns({container:e||document.body},n),o={};Ys.forEach((function(t){var e;o[(e="on "+t,e.replace(/[\s-_]([a-z])/g,(function(t,e){return e.toUpperCase()})))]=function(e){return i.trigger(t,e)}})),kn(yn(Vs,Ns({ref:We(i,"innerMoveable"),parentElement:e},r,o)),i.tempElement);var a=r.target;return b(a)&&a.length>1&&i.updateRect(),i}zs(e,t);var n=e.prototype;return n.setState=function(t,e){this.innerMoveable.setState(t,e)},n.destroy=function(){kn(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},n.getMoveable=function(){return this.innerMoveable.moveable},function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([Ke($s,(function(t,e){t[e]||(t[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.getMoveable();if(i&&i[e])return i[e].apply(i,t)})})),Ke(qs,(function(t,e){Object.defineProperty(t,e,{get:function(){return this.getMoveable().props[e]},set:function(t){var n;this.setState(((n={})[e]=t,n))},enumerable:!0,configurable:!0})}))],e)}(function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(f(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(f(t))for(var n in t)this.off(n);else if(e){var i=this._events[t];if(i){var r=S(i,(function(t){return t.listener===e}));r>-1&&i.splice(r,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this;void 0===e&&(e={});var i=this._events[t];if(!t||!i)return!0;var r=!1;return e.eventType=t,e.stop=function(){r=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}(i).forEach((function(i){i.listener(e),i.once&&n.off(t,i.listener)})),!r},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,n){var i=this._events;i[t]=i[t]||[],i[t].push(Xs({listener:e},n))},t}()));function Qs(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}let Ks=(()=>{class t{}return function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([Je($s,{dragStart:"ngDragStart"}),Qs("design:type",Ws)],t.prototype,"moveable",void 0),t})(),Js=(()=>{class t extends Ks{constructor(){super(),Ys.forEach(t=>{this[t]=new Lt.n})}ngOnInit(){const t={},e={};qs.forEach(e=>{t[e]=this[e]}),Ys.forEach(t=>{e[t]=e=>{this[t].emit(e)}}),this.moveable=new Ws(this.container||document.body,t),this.moveable.on(e)}ngOnChanges(t){const e=this.moveable;if(e)for(const n in t){const{previousValue:i,currentValue:r}=t[n];i!==r&&(e[n]=r)}}ngOnDestroy(){try{this.moveable.destroy()}catch(t){}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Lt.Jb({type:t,selectors:[["ngx-moveable"]],inputs:{draggable:"draggable",resizable:"resizable",scalable:"scalable",rotatable:"rotatable",warpable:"warpable",pinchable:"pinchable",snappable:"snappable",origin:"origin",target:"target",container:"container",throttleDrag:"throttleDrag",throttleDragRotate:"throttleDragRotate",throttleResize:"throttleResize",throttleScale:"throttleScale",throttleRotate:"throttleRotate",keepRatio:"keepRatio",edge:"edge",pinchThreshold:"pinchThreshold",snapCenter:"snapCenter",snapVertical:"snapVertical",snapElement:"snapElement",snapHorizontal:"snapHorizontal",snapThreshold:"snapThreshold",horizontalGuidelines:"horizontalGuidelines",verticalGuidelines:"verticalGuidelines",elementGuidelines:"elementGuidelines",bounds:"bounds",dragArea:"dragArea",rotationPosition:"rotationPosition",baseDirection:"baseDirection",defaultGroupRotate:"defaultGroupRotate",ables:"ables",edgeDraggable:"edgeDraggable",translateZ:"translateZ",passDragArea:"passDragArea",clipTargetBounds:"clipTargetBounds",clipVerticalGuidelines:"clipVerticalGuidelines",clipHorizontalGuidelines:"clipHorizontalGuidelines",clipSnapThreshold:"clipSnapThreshold",className:"className",renderDirections:"renderDirections",scrollable:"scrollable",scrollContainer:"scrollContainer",scrollThreshold:"scrollThreshold",getScrollPosition:"getScrollPosition",rootContainer:"rootContainer",zoom:"zoom",transformOrigin:"transformOrigin",snapDigit:"snapDigit",isDisplaySnapDigit:"isDisplaySnapDigit",innerBounds:"innerBounds",triggerAblesSimultaneously:"triggerAblesSimultaneously",snapGap:"snapGap",pinchOutside:"pinchOutside",padding:"padding",snapDistFormat:"snapDistFormat",dragTarget:"dragTarget",checkInput:"checkInput",cspNonce:"cspNonce",startDragRotate:"startDragRotate",originDraggable:"originDraggable",originRelative:"originRelative",defaultGroupOrigin:"defaultGroupOrigin",groupable:"groupable",clippable:"clippable",customClipPath:"customClipPath",defaultClipPath:"defaultClipPath",clipRelative:"clipRelative",dragWithClip:"dragWithClip",clipArea:"clipArea",roundable:"roundable",roundRelative:"roundRelative",roundClickable:"roundClickable",minRoundControls:"minRoundControls",maxRoundControls:"maxRoundControls",props:"props",individualGroupable:"individualGroupable"},outputs:{dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",dragGroupStart:"dragGroupStart",dragGroup:"dragGroup",dragGroupEnd:"dragGroupEnd",resizeStart:"resizeStart",resize:"resize",resizeEnd:"resizeEnd",resizeGroupStart:"resizeGroupStart",resizeGroup:"resizeGroup",resizeGroupEnd:"resizeGroupEnd",scaleStart:"scaleStart",scale:"scale",scaleEnd:"scaleEnd",scaleGroupStart:"scaleGroupStart",scaleGroup:"scaleGroup",scaleGroupEnd:"scaleGroupEnd",rotateStart:"rotateStart",rotate:"rotate",rotateEnd:"rotateEnd",rotateGroupStart:"rotateGroupStart",rotateGroup:"rotateGroup",rotateGroupEnd:"rotateGroupEnd",warpStart:"warpStart",warp:"warp",warpEnd:"warpEnd",pinchStart:"pinchStart",pinch:"pinch",pinchEnd:"pinchEnd",pinchGroupStart:"pinchGroupStart",pinchGroup:"pinchGroup",pinchGroupEnd:"pinchGroupEnd",click:"click",clickGroup:"clickGroup",renderStart:"renderStart",render:"render",renderEnd:"renderEnd",renderGroupStart:"renderGroupStart",renderGroup:"renderGroup",renderGroupEnd:"renderGroupEnd",scroll:"scroll",scrollGroup:"scrollGroup",snap:"snap",clipStart:"clipStart",clip:"clip",clipEnd:"clipEnd",roundStart:"roundStart",round:"round",roundEnd:"roundEnd",dragOriginStart:"dragOriginStart",dragOrigin:"dragOrigin",dragOriginEnd:"dragOriginEnd",beforeRenderStart:"beforeRenderStart",beforeRender:"beforeRender",beforeRenderEnd:"beforeRenderEnd",beforeRenderGroupStart:"beforeRenderGroupStart",beforeRenderGroup:"beforeRenderGroup",beforeRenderGroupEnd:"beforeRenderGroupEnd"},features:[Lt.zb,Lt.Ab],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),Zs=(()=>{class t{}return t.\u0275mod=Lt.Nb({type:t}),t.\u0275inj=Lt.Mb({factory:function(e){return new(e||t)},imports:[[]]}),t})();var tl=n("0EQZ");let el=0,nl=(()=>{class t{constructor(){this._stateChanges=new kt.a,this._openCloseAllActions=new kt.a,this.id="cdk-accordion-"+el++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=Object(Ut.b)(t)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(t){this.multi&&this._openCloseAllActions.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Lt.Kb({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Lt.Ab]}),t})(),il=0,rl=(()=>{class t{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=Rt.a.EMPTY,this.closed=new Lt.n,this.opened=new Lt.n,this.destroyed=new Lt.n,this.expandedChange=new Lt.n,this.id="cdk-accordion-child-"+il++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=Object(Ut.b)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(Ut.b)(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(nl,12),Lt.Pb(Lt.h),Lt.Pb(tl.c))},t.\u0275dir=Lt.Kb({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Lt.Bb([{provide:nl,useValue:void 0}])]}),t})(),ol=(()=>{class t{}return t.\u0275mod=Lt.Nb({type:t}),t.\u0275inj=Lt.Mb({factory:function(e){return new(e||t)}}),t})();var al=n("/uUt"),sl=n("R1ws");const ll=["body"];function cl(t,e){}const ul=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],hl=["mat-expansion-panel-header","*","mat-action-row"],dl=function(t,e){return{collapsedHeight:t,expandedHeight:e}},pl=function(t,e){return{value:t,params:e}};function gl(t,e){if(1&t&&Lt.Qb(0,"span",2),2&t){const t=Lt.gc();Lt.lc("@indicatorRotate",t._getExpandedState())}}const fl=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],bl=["mat-panel-title","mat-panel-description","*"],vl=new Lt.q("MAT_ACCORDION"),ml={indicatorRotate:Object(Qt.n)("indicatorRotate",[Object(Qt.k)("collapsed, void",Object(Qt.l)({transform:"rotate(0deg)"})),Object(Qt.k)("expanded",Object(Qt.l)({transform:"rotate(180deg)"})),Object(Qt.m)("expanded <=> collapsed, void => collapsed",Object(Qt.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:Object(Qt.n)("expansionHeight",[Object(Qt.k)("collapsed, void",Object(Qt.l)({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),Object(Qt.k)("expanded",Object(Qt.l)({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),Object(Qt.m)("expanded <=> collapsed, void => collapsed",Object(Qt.g)([Object(Qt.i)("@indicatorRotate",Object(Qt.f)(),{optional:!0}),Object(Qt.e)("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:Object(Qt.n)("bodyExpansion",[Object(Qt.k)("collapsed, void",Object(Qt.l)({height:"0px",visibility:"hidden"})),Object(Qt.k)("expanded",Object(Qt.l)({height:"*",visibility:"visible"})),Object(Qt.m)("expanded <=> collapsed, void => collapsed",Object(Qt.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};let yl=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Lt.M))},t.\u0275dir=Lt.Kb({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),wl=0;const xl=new Lt.q("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Ol=(()=>{class t extends rl{constructor(t,e,n,i,r,o,a){super(t,e,n),this._viewContainerRef=i,this._animationMode=o,this._hideToggle=!1,this.afterExpand=new Lt.n,this.afterCollapse=new Lt.n,this._inputChanges=new kt.a,this._headerId="mat-expansion-panel-header-"+wl++,this._bodyAnimationDone=new kt.a,this.accordion=t,this._document=r,this._bodyAnimationDone.pipe(Object(al.a)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),a&&(this.hideToggle=a.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Object(Ut.b)(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Object(jt.a)(null),Object(Ht.a)(()=>this.expanded&&!this._portal),Object(Bt.a)(1)).subscribe(()=>{this._portal=new Kt.h(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(vl,12),Lt.Pb(Lt.h),Lt.Pb(tl.c),Lt.Pb(Lt.P),Lt.Pb(i.d),Lt.Pb(sl.a,8),Lt.Pb(xl,8))},t.\u0275cmp=Lt.Jb({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var i;1&t&&Lt.Ib(n,yl,!0),2&t&&Lt.sc(i=Lt.dc())&&(e._lazyContent=i.first)},viewQuery:function(t,e){var n;1&t&&Lt.Nc(ll,!0),2&t&&Lt.sc(n=Lt.dc())&&(e._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&Lt.Gb("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Lt.Bb([{provide:vl,useValue:void 0}]),Lt.zb,Lt.Ab],ngContentSelectors:hl,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(Lt.kc(ul),Lt.jc(0),Lt.Ub(1,"div",0,1),Lt.cc("@bodyExpansion.done",(function(t){return e._bodyAnimationDone.next(t)})),Lt.Ub(3,"div",2),Lt.jc(4,1),Lt.Ec(5,cl,0,0,"ng-template",3),Lt.Tb(),Lt.jc(6,2),Lt.Tb()),2&t&&(Lt.Cb(1),Lt.lc("@bodyExpansion",e._getExpandedState())("id",e.id),Lt.Db("aria-labelledby",e._headerId),Lt.Cb(4),Lt.lc("cdkPortalOutlet",e._portal))},directives:[Kt.c],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[ml.bodyExpansion]},changeDetection:0}),t})(),_l=(()=>{class t{constructor(t,e,n,i,r){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=i,this._parentChangeSubscription=Rt.a.EMPTY,this._animationsDisabled=!0;const o=t.accordion?t.accordion._stateChanges.pipe(Object(Ht.a)(t=>!(!t.hideToggle&&!t.togglePosition))):De.a;this._parentChangeSubscription=Object(Dt.a)(t.opened,t.closed,o,t._inputChanges.pipe(Object(Ht.a)(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Object(Ht.a)(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),n.monitor(e).subscribe(e=>{e&&t.accordion&&t.accordion._handleHeaderFocus(this)}),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}_animationStarted(){this._animationsDisabled=!1}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_keydown(t){switch(t.keyCode){case It.j:case It.d:Object(It.o)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t="program",e){this._focusMonitor.focusVia(this._element,t,e)}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Ol,1),Lt.Pb(Lt.l),Lt.Pb(Pt.f),Lt.Pb(Lt.h),Lt.Pb(xl,8))},t.\u0275cmp=Lt.Jb({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:19,hostBindings:function(t,e){1&t&&(Lt.Hb("@expansionHeight.start",(function(){return e._animationStarted()})),Lt.cc("click",(function(){return e._toggle()}))("keydown",(function(t){return e._keydown(t)}))),2&t&&(Lt.Db("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),Lt.Mc("@.disabled",e._animationsDisabled)("@expansionHeight",Lt.qc(16,pl,e._getExpandedState(),Lt.qc(13,dl,e.collapsedHeight,e.expandedHeight))),Lt.Gb("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:bl,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(Lt.kc(fl),Lt.Ub(0,"span",0),Lt.jc(1),Lt.jc(2,1),Lt.jc(3,2),Lt.Tb(),Lt.Ec(4,gl,1,1,"span",1)),2&t&&(Lt.Cb(4),Lt.lc("ngIf",e._showToggle()))},directives:[i.l],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;position:relative}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[ml.indicatorRotate,ml.expansionHeaderHeight]},changeDetection:0}),t})(),Cl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Lt.Kb({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),t})(),Ml=(()=>{class t extends nl{constructor(){super(...arguments),this._ownHeaders=new Lt.D,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=Object(Ut.b)(t)}ngAfterContentInit(){this._headers.changes.pipe(Object(jt.a)(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(t=>t.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Pt.e(this._ownHeaders).withWrap()}_handleHeaderKeydown(t){const{keyCode:e}=t,n=this._keyManager;e===It.f?Object(It.o)(t)||(n.setFirstItemActive(),t.preventDefault()):e===It.c?Object(It.o)(t)||(n.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}}return t.\u0275fac=function(e){return Tl(e||t)},t.\u0275dir=Lt.Kb({type:t,selectors:[["mat-accordion"]],contentQueries:function(t,e,n){var i;1&t&&Lt.Ib(n,_l,!0),2&t&&Lt.sc(i=Lt.dc())&&(e._headers=i)},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,e){2&t&&Lt.Gb("mat-accordion-multi",e.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[Lt.Bb([{provide:vl,useExisting:t}]),Lt.zb]}),t})();const Tl=Lt.Wb(Ml);let Sl=(()=>{class t{}return t.\u0275mod=Lt.Nb({type:t}),t.\u0275inj=Lt.Mb({factory:function(e){return new(e||t)},imports:[[i.c,ol,Kt.g]]}),t})();var El=n("QibW"),Pl=n("R9Cn"),Ul=n("bSwM");const Il=["moveable"],Ll=["chart"],kl=["materialModal"],Rl=["RfModal"];function Dl(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"span",1),Lt.cc("click",(function(){return Lt.xc(t),Lt.gc().addMoveable("defaultBS")})),Lt.hc(1,"translate"),Lt.fc(),Lt.Ub(2,"svg",88),Lt.Ub(3,"g"),Lt.Qb(4,"rect",89),Lt.Tb(),Lt.Ub(5,"g"),Lt.Qb(6,"path",90),Lt.Qb(7,"path",91),Lt.Tb(),Lt.Tb(),Lt.Tb()}2&t&&Lt.mc("matTooltip",Lt.ic(1,1,"defaultBs"))}function Gl(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"span",1),Lt.cc("click",(function(){return Lt.xc(t),Lt.gc().addMoveable("candidate")})),Lt.hc(1,"translate"),Lt.fc(),Lt.Ub(2,"svg",92),Lt.Ub(3,"g"),Lt.Ub(4,"title"),Lt.Gc(5,"background"),Lt.Tb(),Lt.Qb(6,"rect",93),Lt.Ub(7,"g",94),Lt.Qb(8,"rect",11),Lt.Tb(),Lt.Tb(),Lt.Ub(9,"g"),Lt.Ub(10,"title"),Lt.Gc(11,"Layer 1"),Lt.Tb(),Lt.Qb(12,"rect",95),Lt.Ub(13,"text",96),Lt.Gc(14,"New"),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb()}2&t&&Lt.mc("matTooltip",Lt.ic(1,1,"candidateBs"))}function Fl(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"mat-button-toggle",97),Lt.cc("click",(function(){return Lt.xc(t),Lt.gc().result()})),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Tb()}2&t&&(Lt.Cb(1),Lt.Hc(Lt.ic(2,1,"planning.result")))}function jl(t,e){if(1&t&&(Lt.fc(),Lt.Ub(0,"svg",102),Lt.Ub(1,"g"),Lt.Qb(2,"rect",3),Lt.Ub(3,"g",4),Lt.Qb(4,"rect",5),Lt.Tb(),Lt.Tb(),Lt.Ub(5,"g"),Lt.Qb(6,"rect",6),Lt.Qb(7,"rect",103),Lt.Tb(),Lt.Tb()),2&t){const t=Lt.gc().$implicit,e=Lt.gc();Lt.Db("width",e.svgStyle[t].width)("height",e.svgStyle[t].height),Lt.Cb(7),Lt.lc("ngStyle",e.rectStyle[t])}}function Al(t,e){if(1&t&&(Lt.fc(),Lt.Ub(0,"svg",104),Lt.Ub(1,"g"),Lt.Qb(2,"rect",9),Lt.Ub(3,"g",10),Lt.Qb(4,"rect",11),Lt.Tb(),Lt.Tb(),Lt.Ub(5,"g"),Lt.Qb(6,"rect",12),Lt.Qb(7,"ellipse",105),Lt.Tb(),Lt.Tb()),2&t){const t=Lt.gc().$implicit,e=Lt.gc();Lt.lc("ngStyle",e.svgStyle[t]),Lt.Cb(7),Lt.lc("ngStyle",e.ellipseStyle[t])}}function Bl(t,e){if(1&t&&(Lt.fc(),Lt.Ub(0,"svg",104),Lt.Ub(1,"g"),Lt.Qb(2,"rect",106),Lt.Ub(3,"g",4),Lt.Qb(4,"rect",107),Lt.Tb(),Lt.Tb(),Lt.Ub(5,"g"),Lt.Qb(6,"rect",6),Lt.Qb(7,"polygon",108),Lt.Tb(),Lt.Tb()),2&t){const t=Lt.gc().$implicit,e=Lt.gc();Lt.lc("ngStyle",e.svgStyle[t]),Lt.Cb(7),Lt.lc("ngStyle",e.polygonStyle[t]),Lt.Db("points",e.polygonStyle[t].points)}}function Hl(t,e){if(1&t&&(Lt.fc(),Lt.Ub(0,"svg",109),Lt.Ub(1,"g"),Lt.Qb(2,"rect",110),Lt.Ub(3,"g",4),Lt.Qb(4,"rect",5),Lt.Tb(),Lt.Tb(),Lt.Ub(5,"g"),Lt.Qb(6,"rect",20),Lt.Qb(7,"path",111),Lt.Tb(),Lt.Tb()),2&t){const t=Lt.gc().$implicit,e=Lt.gc();Lt.lc("ngStyle",e.svgStyle[t]),Lt.Cb(7),Lt.lc("ngStyle",e.trapezoidStyle[t])}}function zl(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"span",98),Lt.cc("mouseover",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().hover(n,i)}))("mouseout",(function(e){return Lt.xc(t),Lt.gc().hoverout(e)}))("click",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().moveClick(n)}))("contextmenu",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().onRightClick(n,i)})),Lt.Ec(1,jl,8,3,"svg",99),Lt.Ec(2,Al,8,2,"svg",100),Lt.Ec(3,Bl,8,3,"svg",100),Lt.Ec(4,Hl,8,2,"svg",101),Lt.Tb()}if(2&t){const t=e.$implicit,n=Lt.gc();Lt.mc("id",t),Lt.lc("ngStyle",n.spanStyle[t]),Lt.Cb(1),Lt.lc("ngIf","rect"===n.dragObject[t].element||"0"==n.dragObject[t].element),Lt.Cb(1),Lt.lc("ngIf","ellipse"===n.dragObject[t].element||"2"==n.dragObject[t].element),Lt.Cb(1),Lt.lc("ngIf","polygon"===n.dragObject[t].element||"1"==n.dragObject[t].element),Lt.Cb(1),Lt.lc("ngIf","trapezoid"===n.dragObject[t].element||"3"==n.dragObject[t].element)}}function Nl(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"span",112),Lt.cc("mouseover",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().hover(n,i)}))("mouseout",(function(e){return Lt.xc(t),Lt.gc().hoverout(e)}))("click",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().moveClick(n)}))("contextmenu",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().onRightClick(n,i)})),Lt.fc(),Lt.Ub(1,"svg",113),Lt.Ub(2,"g"),Lt.Qb(3,"rect",89),Lt.Tb(),Lt.Ub(4,"g"),Lt.Qb(5,"path",90),Lt.Qb(6,"path",114),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=e.$implicit,n=Lt.gc();Lt.mc("id",t),Lt.lc("ngStyle",n.spanStyle[t]),Lt.Cb(1),Lt.lc("ngStyle",n.svgStyle[t]),Lt.Cb(5),Lt.lc("ngStyle",n.pathStyle[t])}}function Vl(t,e){if(1&t&&(Lt.Ub(0,"span",115),Lt.Gc(1),Lt.Tb()),2&t){const t=e.$implicit,n=e.index,i=Lt.gc();Lt.nc("id","",t,"_circle"),Lt.lc("ngStyle",i.circleStyle[t]),Lt.Cb(1),Lt.Hc(n+1)}}function ql(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"span",116),Lt.cc("mouseover",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().hover(n,i)}))("mouseout",(function(e){return Lt.xc(t),Lt.gc().hoverout(e)}))("click",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().moveClick(n)}))("contextmenu",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().onRightClick(n,i)})),Lt.fc(),Lt.Ub(1,"svg",113),Lt.Ub(2,"g"),Lt.Qb(3,"rect",117),Lt.Tb(),Lt.Ub(4,"g"),Lt.Ub(5,"g"),Lt.Qb(6,"rect",118),Lt.Tb(),Lt.Ub(7,"g"),Lt.Ub(8,"g",119),Lt.Ub(9,"g",119),Lt.Qb(10,"rect",120),Lt.Ub(11,"text",121),Lt.Gc(12,"New"),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=e.$implicit,n=Lt.gc();Lt.mc("id",t),Lt.lc("ngStyle",n.spanStyle[t]),Lt.Cb(1),Lt.lc("ngStyle",n.svgStyle[t])}}function $l(t,e){if(1&t&&(Lt.Ub(0,"span",122),Lt.Gc(1),Lt.Tb()),2&t){const t=e.$implicit,n=e.index,i=Lt.gc();Lt.nc("id","",t,"_circle"),Lt.lc("ngStyle",i.circleStyle[t]),Lt.Cb(1),Lt.Hc(n+1)}}function Yl(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"span",123),Lt.cc("mouseover",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().hover(n,i)}))("mouseout",(function(e){return Lt.xc(t),Lt.gc().hoverout(e)}))("click",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().moveClick(n)}))("contextmenu",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().onRightClick(n,i)})),Lt.fc(),Lt.Ub(1,"svg",124),Lt.Ub(2,"g"),Lt.Qb(3,"rect",125),Lt.Tb(),Lt.Ub(4,"g"),Lt.Qb(5,"path",126),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=e.$implicit,n=Lt.gc();Lt.mc("id",t),Lt.lc("ngStyle",n.spanStyle[t]),Lt.Cb(5),Lt.lc("ngStyle",n.pathStyle[t])}}function Xl(t,e){if(1&t&&Lt.Qb(0,"span",127),2&t){const t=Lt.gc();Lt.lc("ngStyle",t.tooltipStyle)("innerHTML",t.tooltipStr,Lt.yc)}}function Wl(t,e){1&t&&(Lt.Sb(0),Lt.Gc(1),Lt.hc(2,"translate"),Lt.hc(3,"translate"),Lt.Rb()),2&t&&(Lt.Cb(1),Lt.Jc(" ",Lt.ic(2,2,"altitude.setting"),"/",Lt.ic(3,4,"material.setting")," "))}function Ql(t,e){1&t&&(Lt.Gc(0),Lt.hc(1,"translate")),2&t&&Lt.Hc(Lt.ic(1,1,"altitude.setting"))}function Kl(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"button",128),Lt.cc("click",(function(){Lt.xc(t);const e=Lt.gc(2);return e.openRfParamSetting(e.svgId)})),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Tb()}2&t&&(Lt.Cb(1),Lt.Hc(Lt.ic(2,1,"rfparam.setting")))}function Jl(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"button",128),Lt.cc("click",(function(){return Lt.xc(t),Lt.gc().delete()})),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Tb(),Lt.Ub(3,"button",129),Lt.cc("click",(function(e){return Lt.xc(t),e.stopPropagation()}))("colorPickerChange",(function(e){return Lt.xc(t),Lt.gc().color=e}))("colorPickerChange",(function(){return Lt.xc(t),Lt.gc().colorChange()})),Lt.Gc(4),Lt.hc(5,"translate"),Lt.Tb(),Lt.Ub(6,"button",128),Lt.cc("click",(function(){return Lt.xc(t),Lt.gc().openHeightSetting()})),Lt.Ec(7,Wl,4,6,"ng-container",76),Lt.Ec(8,Ql,2,3,"ng-template",null,130,Lt.Fc),Lt.Tb(),Lt.Ec(10,Kl,3,3,"button",131)}if(2&t){const t=Lt.tc(9),e=Lt.gc();Lt.Cb(1),Lt.Hc(Lt.ic(2,6,"delete")),Lt.Cb(2),Lt.lc("colorPicker",e.color),Lt.Cb(1),Lt.Hc(Lt.ic(5,8,"planning.changeColor")),Lt.Cb(3),Lt.lc("ngIf","obstacle"===e.dragObject[e.svgId].type)("ngIfElse",t),Lt.Cb(3),Lt.lc("ngIf","defaultBS"===e.dragObject[e.svgId].type||"candidate"===e.dragObject[e.svgId].type)}}function Zl(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"div",132),Lt.Ub(1,"mat-checkbox",133),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().calculateForm.isAverageSinr=e})),Lt.hc(2,"translate"),Lt.Gc(3),Lt.hc(4,"translate"),Lt.Tb(),Lt.Ub(5,"mat-checkbox",133),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().calculateForm.isCoverage=e})),Lt.hc(6,"translate"),Lt.Gc(7),Lt.hc(8,"translate"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc();Lt.Cb(1),Lt.mc("matTooltip",Lt.ic(2,6,"isAverageSinr.tooltip")),Lt.lc("ngModel",t.calculateForm.isAverageSinr),Lt.Cb(2),Lt.Ic(" ",Lt.ic(4,8,"isAverageSinr")," "),Lt.Cb(2),Lt.mc("matTooltip",Lt.ic(6,10,"isCoverage.tooltip")),Lt.lc("ngModel",t.calculateForm.isCoverage),Lt.Cb(2),Lt.Ic(" ",Lt.ic(8,12,"isCoverage")," ")}}function tc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"div",132),Lt.Ub(1,"mat-checkbox",133),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().calculateForm.isUeAvgSinr=e})),Lt.hc(2,"translate"),Lt.Gc(3),Lt.hc(4,"translate"),Lt.Tb(),Lt.Ub(5,"mat-checkbox",133),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().calculateForm.isUeAvgThroughput=e})),Lt.hc(6,"translate"),Lt.Gc(7),Lt.hc(8,"translate"),Lt.Tb(),Lt.Ub(9,"mat-checkbox",133),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().calculateForm.isUeTpByDistance=e})),Lt.hc(10,"translate"),Lt.Gc(11),Lt.hc(12,"translate"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc();Lt.Cb(1),Lt.mc("matTooltip",Lt.ic(2,9,"isUeAvgSinr.tooltip")),Lt.lc("ngModel",t.calculateForm.isUeAvgSinr),Lt.Cb(2),Lt.Ic(" ",Lt.ic(4,11,"isUeAvgSinr")," "),Lt.Cb(2),Lt.mc("matTooltip",Lt.ic(6,13,"isUeAvgThroughput.tooltip")),Lt.lc("ngModel",t.calculateForm.isUeAvgThroughput),Lt.Cb(2),Lt.Ic(" ",Lt.ic(8,15,"isUeAvgThroughput")," "),Lt.Cb(2),Lt.mc("matTooltip",Lt.ic(10,17,"isUeTpByDistance.tooltip")),Lt.lc("ngModel",t.calculateForm.isUeTpByDistance),Lt.Cb(2),Lt.Ic(" ",Lt.ic(12,19,"isUeTpByDistance")," ")}}function ec(t,e){1&t&&(Lt.Sb(0),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Rb()),2&t&&(Lt.Cb(1),Lt.Hc(Lt.ic(2,1,"availableNewBsNumber.wifi")))}function nc(t,e){1&t&&(Lt.Gc(0),Lt.hc(1,"translate")),2&t&&Lt.Hc(Lt.ic(1,1,"availableNewBsNumber.gen"))}function ic(t,e){if(1&t&&(Lt.Ub(0,"p",134),Lt.Ec(1,ec,3,3,"ng-container",76),Lt.Ec(2,nc,2,3,"ng-template",null,135,Lt.Fc),Lt.Tb()),2&t){const t=Lt.tc(3),e=Lt.gc();Lt.Cb(1),Lt.lc("ngIf","2"==e.calculateForm.objectiveIndex)("ngIfElse",t)}}function rc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"div",136),Lt.Ub(1,"input",79),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().calculateForm.availableNewBsNumber=e})),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc();Lt.Cb(1),Lt.lc("ngModel",t.calculateForm.availableNewBsNumber)}}function oc(t,e){if(1&t&&(Lt.Ub(0,"span",137),Lt.Gc(1),Lt.Tb()),2&t){const t=Lt.gc();Lt.Cb(1),Lt.Hc(t.calculateForm.mapName)}}function ac(t,e){if(1&t){const t=Lt.Vb();Lt.Sb(0),Lt.Ub(1,"li"),Lt.Ub(2,"p"),Lt.Gc(3),Lt.hc(4,"translate"),Lt.Tb(),Lt.Ub(5,"select",138),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().subcarrier=e})),Lt.Ub(6,"option",139),Lt.Gc(7,"15"),Lt.Tb(),Lt.Ub(8,"option",140),Lt.Gc(9,"30"),Lt.Tb(),Lt.Ub(10,"option",141),Lt.Gc(11,"60"),Lt.Tb(),Lt.Ub(12,"option",142),Lt.Gc(13,"120"),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Rb()}if(2&t){const t=Lt.gc();Lt.Cb(3),Lt.Ic("",Lt.ic(4,2,"subcarrier"),"\t"),Lt.Cb(2),Lt.lc("ngModel",t.subcarrier)}}function sc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li"),Lt.Ub(1,"p"),Lt.Gc(2),Lt.hc(3,"translate"),Lt.Tb(),Lt.Ub(4,"mat-radio-group",143),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().duplexMode=e})),Lt.Ub(5,"mat-radio-button",144),Lt.Gc(6,"TDD"),Lt.Tb(),Lt.Ub(7,"mat-radio-button",145),Lt.Gc(8,"FDD"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc();Lt.Cb(2),Lt.Ic("",Lt.ic(3,2,"duplex"),"\t"),Lt.Cb(2),Lt.lc("ngModel",t.duplexMode)}}function lc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li"),Lt.Ub(1,"p"),Lt.Gc(2),Lt.hc(3,"translate"),Lt.Tb(),Lt.Gc(4),Lt.hc(5,"translate"),Lt.Ub(6,"input",79),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().dlRatio=e})),Lt.Tb(),Lt.Gc(7),Lt.hc(8,"translate"),Lt.Tb()}if(2&t){const t=Lt.gc();Lt.Cb(2),Lt.Ic("",Lt.ic(3,5,"upDownRatio"),"\t"),Lt.Cb(2),Lt.Ic(" ",Lt.ic(5,7,"dlRatio"),""),Lt.Cb(2),Lt.lc("ngModel",t.dlRatio),Lt.Cb(1),Lt.Jc("% (",Lt.ic(8,9,"ulRatio"),"",100-t.dlRatio,"%) ")}}function cc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li"),Lt.Ub(1,"p"),Lt.Gc(2),Lt.hc(3,"translate"),Lt.Tb(),Lt.Ub(4,"select",146),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().wifiFrequency=e}))("change",(function(){return Lt.xc(t),Lt.gc().changeWifiFrequency()})),Lt.Ub(5,"option",72),Lt.Gc(6,"sub-1GHz"),Lt.Tb(),Lt.Ub(7,"option",73),Lt.Gc(8,"2.4GHz"),Lt.Tb(),Lt.Ub(9,"option",74),Lt.Gc(10,"5GHz"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc();Lt.Cb(2),Lt.Hc(Lt.ic(3,2,"wifiFrequency")),Lt.Cb(2),Lt.lc("ngModel",t.wifiFrequency)}}function uc(t,e){if(1&t){const t=Lt.Vb();Lt.Sb(0),Lt.Ub(1,"select",143),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().calculateForm.bandwidth=e})),Lt.Ub(2,"option",147),Lt.Gc(3,"3"),Lt.Tb(),Lt.Ub(4,"option",148),Lt.Gc(5,"5"),Lt.Tb(),Lt.Ub(6,"option",149),Lt.Gc(7,"10"),Lt.Tb(),Lt.Ub(8,"option",139),Lt.Gc(9,"15"),Lt.Tb(),Lt.Ub(10,"option",150),Lt.Gc(11,"20"),Lt.Tb(),Lt.Tb(),Lt.Rb()}if(2&t){const t=Lt.gc();Lt.Cb(1),Lt.lc("ngModel",t.calculateForm.bandwidth)}}function hc(t,e){1&t&&(Lt.Sb(0),Lt.Ub(1,"option",148),Lt.Gc(2,"5"),Lt.Tb(),Lt.Ub(3,"option",149),Lt.Gc(4,"10"),Lt.Tb(),Lt.Ub(5,"option",139),Lt.Gc(6,"15"),Lt.Tb(),Lt.Ub(7,"option",150),Lt.Gc(8,"20"),Lt.Tb(),Lt.Ub(9,"option",151),Lt.Gc(10,"25"),Lt.Tb(),Lt.Ub(11,"option",140),Lt.Gc(12,"30"),Lt.Tb(),Lt.Ub(13,"option",152),Lt.Gc(14,"40"),Lt.Tb(),Lt.Ub(15,"option",153),Lt.Gc(16,"50"),Lt.Tb(),Lt.Rb())}function dc(t,e){1&t&&(Lt.Sb(0),Lt.Ub(1,"option",141),Lt.Gc(2,"60"),Lt.Tb(),Lt.Ub(3,"option",154),Lt.Gc(4,"70"),Lt.Tb(),Lt.Ub(5,"option",155),Lt.Gc(6,"80"),Lt.Tb(),Lt.Ub(7,"option",156),Lt.Gc(8,"90"),Lt.Tb(),Lt.Ub(9,"option",157),Lt.Gc(10,"100"),Lt.Tb(),Lt.Rb())}function pc(t,e){1&t&&(Lt.Sb(0),Lt.Ub(1,"option",149),Lt.Gc(2,"10"),Lt.Tb(),Lt.Ub(3,"option",139),Lt.Gc(4,"15"),Lt.Tb(),Lt.Ub(5,"option",150),Lt.Gc(6,"20"),Lt.Tb(),Lt.Ub(7,"option",151),Lt.Gc(8,"25"),Lt.Tb(),Lt.Ub(9,"option",140),Lt.Gc(10,"30"),Lt.Tb(),Lt.Ub(11,"option",152),Lt.Gc(12,"40"),Lt.Tb(),Lt.Ub(13,"option",153),Lt.Gc(14,"50"),Lt.Tb(),Lt.Ub(15,"option",141),Lt.Gc(16,"60"),Lt.Tb(),Lt.Ub(17,"option",154),Lt.Gc(18,"70"),Lt.Tb(),Lt.Ub(19,"option",155),Lt.Gc(20,"80"),Lt.Tb(),Lt.Ub(21,"option",156),Lt.Gc(22,"90"),Lt.Tb(),Lt.Ub(23,"option",157),Lt.Gc(24,"100"),Lt.Tb(),Lt.Ub(25,"option",158),Lt.Gc(26,"200"),Lt.Tb(),Lt.Rb())}function gc(t,e){1&t&&(Lt.Sb(0),Lt.Ub(1,"option",153),Lt.Gc(2,"50"),Lt.Tb(),Lt.Ub(3,"option",157),Lt.Gc(4,"100"),Lt.Tb(),Lt.Ub(5,"option",158),Lt.Gc(6,"200"),Lt.Tb(),Lt.Ub(7,"option",159),Lt.Gc(8,"400"),Lt.Tb(),Lt.Rb())}function fc(t,e){if(1&t){const t=Lt.Vb();Lt.Sb(0),Lt.Ub(1,"select",143),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().calculateForm.bandwidth=e})),Lt.Ec(2,hc,17,0,"ng-container",75),Lt.Ec(3,dc,11,0,"ng-container",75),Lt.Ec(4,pc,27,0,"ng-container",75),Lt.Ec(5,gc,9,0,"ng-container",75),Lt.Tb(),Lt.Rb()}if(2&t){const t=Lt.gc();Lt.Cb(1),Lt.lc("ngModel",t.calculateForm.bandwidth),Lt.Cb(1),Lt.lc("ngIf",15==t.subcarrier||30==t.subcarrier),Lt.Cb(1),Lt.lc("ngIf",30==t.subcarrier),Lt.Cb(1),Lt.lc("ngIf",60==t.subcarrier),Lt.Cb(1),Lt.lc("ngIf",120==t.subcarrier)}}function bc(t,e){1&t&&(Lt.Sb(0),Lt.Ub(1,"option",73),Lt.Gc(2,"1"),Lt.Tb(),Lt.Ub(3,"option",74),Lt.Gc(4,"2"),Lt.Tb(),Lt.Ub(5,"option",161),Lt.Gc(6,"4"),Lt.Tb(),Lt.Ub(7,"option",162),Lt.Gc(8,"8"),Lt.Tb(),Lt.Ub(9,"option",163),Lt.Gc(10,"16"),Lt.Tb(),Lt.Rb())}function vc(t,e){1&t&&(Lt.Ub(0,"option",150),Lt.Gc(1,"20"),Lt.Tb(),Lt.Ub(2,"option",152),Lt.Gc(3,"40"),Lt.Tb())}function mc(t,e){1&t&&(Lt.Ub(0,"option",150),Lt.Gc(1,"20"),Lt.Tb(),Lt.Ub(2,"option",152),Lt.Gc(3,"40"),Lt.Tb(),Lt.Ub(4,"option",155),Lt.Gc(5,"80"),Lt.Tb(),Lt.Ub(6,"option",142),Lt.Gc(7,"120"),Lt.Tb())}function yc(t,e){if(1&t){const t=Lt.Vb();Lt.Sb(0),Lt.Ub(1,"select",143),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().calculateForm.bandwidth=e})),Lt.Ec(2,bc,11,0,"ng-container",75),Lt.Ec(3,vc,4,0,"ng-template",160),Lt.Ec(4,mc,8,0,"ng-template",160),Lt.Tb(),Lt.Rb()}if(2&t){const t=Lt.gc();Lt.Cb(1),Lt.lc("ngModel",t.calculateForm.bandwidth),Lt.Cb(1),Lt.lc("ngIf","0"==t.wifiFrequency),Lt.Cb(1),Lt.lc("ngIf","1"==t.wifiFrequency),Lt.Cb(1),Lt.lc("ngIf","2"==t.wifiFrequency)}}function wc(t,e){if(1&t&&(Lt.Sb(0),Lt.Gc(1),Lt.Rb()),2&t){const t=Lt.gc();Lt.Cb(1),Lt.Ic(" ",t.calculateForm.frequency," MHz ")}}function xc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"input",79),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().calculateForm.frequency=e})),Lt.Tb()}if(2&t){const t=Lt.gc();Lt.lc("ngModel",t.calculateForm.frequency)}}function Oc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"span",164),Lt.cc("click",(function(){return Lt.xc(t),Lt.gc().clearAll("obstacle")})),Lt.Ub(1,"span",28),Lt.Gc(2,"clear"),Lt.Tb(),Lt.Gc(3,"Clear All "),Lt.Tb()}}function _c(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li"),Lt.Ub(1,"span"),Lt.Ub(2,"label"),Lt.Gc(3,"X"),Lt.Tb(),Lt.Ub(4,"input",71),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().dragObject[i].x=n}))("change",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().changePosition(n)})),Lt.Tb(),Lt.Tb(),Lt.Ub(5,"span"),Lt.Ub(6,"label"),Lt.Gc(7,"Y"),Lt.Tb(),Lt.Ub(8,"input",71),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().dragObject[i].y=n}))("change",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().changePosition(n)})),Lt.Tb(),Lt.Tb(),Lt.Ub(9,"span"),Lt.Ub(10,"label"),Lt.Gc(11),Lt.hc(12,"translate"),Lt.Tb(),Lt.Ub(13,"input",71),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().dragObject[i].rotate=n}))("change",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().changeRotate(n)})),Lt.Tb(),Lt.Tb(),Lt.Qb(14,"br"),Lt.Ub(15,"span"),Lt.Ub(16,"label"),Lt.Gc(17),Lt.hc(18,"translate"),Lt.Tb(),Lt.Ub(19,"input",71),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().dragObject[i].width=n}))("change",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().changeSize(n)})),Lt.Tb(),Lt.Tb(),Lt.Ub(20,"span"),Lt.Ub(21,"label"),Lt.Gc(22),Lt.hc(23,"translate"),Lt.Tb(),Lt.Ub(24,"input",71),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().dragObject[i].height=n}))("change",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().changeSize(n)})),Lt.Tb(),Lt.Tb(),Lt.Ub(25,"span"),Lt.Ub(26,"label"),Lt.Gc(27),Lt.hc(28,"translate"),Lt.Tb(),Lt.Ub(29,"input",79),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().dragObject[i].altitude=n})),Lt.Tb(),Lt.Tb(),Lt.Ub(30,"span"),Lt.Ub(31,"label"),Lt.Gc(32),Lt.hc(33,"translate"),Lt.Tb(),Lt.Ub(34,"select",165),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().dragObject[i].material=n})),Lt.Ub(35,"option",72),Lt.Gc(36),Lt.hc(37,"translate"),Lt.Tb(),Lt.Ub(38,"option",73),Lt.Gc(39),Lt.hc(40,"translate"),Lt.Tb(),Lt.Ub(41,"option",74),Lt.Gc(42),Lt.hc(43,"translate"),Lt.Tb(),Lt.Ub(44,"option",147),Lt.Gc(45),Lt.hc(46,"translate"),Lt.Tb(),Lt.Ub(47,"option",161),Lt.Gc(48),Lt.hc(49,"translate"),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ub(50,"span",166),Lt.cc("click",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().removeObj(n)})),Lt.Ub(51,"span",28),Lt.Gc(52,"clear"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=e.$implicit,n=Lt.gc();Lt.Cb(4),Lt.lc("ngModel",n.dragObject[t].x),Lt.Cb(4),Lt.lc("ngModel",n.dragObject[t].y),Lt.Cb(3),Lt.Hc(Lt.ic(12,17,"rotate")),Lt.Cb(2),Lt.lc("ngModel",n.dragObject[t].rotate),Lt.Cb(4),Lt.Hc(Lt.ic(18,19,"width")),Lt.Cb(2),Lt.lc("ngModel",n.dragObject[t].width),Lt.Cb(3),Lt.Hc(Lt.ic(23,21,"height")),Lt.Cb(2),Lt.lc("ngModel",n.dragObject[t].height),Lt.Cb(3),Lt.Hc(Lt.ic(28,23,"altitude")),Lt.Cb(2),Lt.lc("ngModel",n.dragObject[t].altitude),Lt.Cb(3),Lt.Hc(Lt.ic(33,25,"material")),Lt.Cb(2),Lt.lc("ngModel",n.dragObject[t].material),Lt.Cb(2),Lt.Hc(Lt.ic(37,27,"material.wood")),Lt.Cb(3),Lt.Hc(Lt.ic(40,29,"material.cement")),Lt.Cb(3),Lt.Hc(Lt.ic(43,31,"material.light_steel_frame")),Lt.Cb(3),Lt.Hc(Lt.ic(46,33,"material.glass")),Lt.Cb(3),Lt.Hc(Lt.ic(49,35,"material.stainless"))}}function Cc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"span",164),Lt.cc("click",(function(){return Lt.xc(t),Lt.gc(2).clearAll("defaultBS")})),Lt.Ub(1,"span",28),Lt.Gc(2,"clear"),Lt.Tb(),Lt.Gc(3,"Clear All "),Lt.Tb()}}function Mc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li"),Lt.Ub(1,"span"),Lt.Ub(2,"label"),Lt.Gc(3,"X"),Lt.Tb(),Lt.Ub(4,"input",71),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc(2).dragObject[i].x=n}))("change",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc(2).changePosition(n)})),Lt.Tb(),Lt.Tb(),Lt.Ub(5,"span"),Lt.Ub(6,"label"),Lt.Gc(7,"Y"),Lt.Tb(),Lt.Ub(8,"input",71),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc(2).dragObject[i].y=n}))("change",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc(2).changePosition(n)})),Lt.Tb(),Lt.Tb(),Lt.Ub(9,"span"),Lt.Ub(10,"label"),Lt.Gc(11,"Z"),Lt.Tb(),Lt.Ub(12,"input",79),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc(2).dragObject[i].z=n})),Lt.Tb(),Lt.Tb(),Lt.Ub(13,"button",167),Lt.cc("click",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc(2).openRfParamSetting(n)})),Lt.Gc(14),Lt.hc(15,"translate"),Lt.Tb(),Lt.Ub(16,"span",166),Lt.cc("click",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc(2).removeObj(n)})),Lt.Ub(17,"span",28),Lt.Gc(18,"clear"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=e.$implicit,n=Lt.gc(2);Lt.Cb(4),Lt.lc("ngModel",n.dragObject[t].x),Lt.Cb(4),Lt.lc("ngModel",n.dragObject[t].y),Lt.Cb(4),Lt.lc("ngModel",n.dragObject[t].z),Lt.Cb(2),Lt.Hc(Lt.ic(15,4,"rfParamLink"))}}function Tc(t,e){if(1&t&&(Lt.Ub(0,"mat-expansion-panel"),Lt.Ub(1,"mat-expansion-panel-header"),Lt.Ub(2,"mat-panel-title"),Lt.Gc(3),Lt.hc(4,"translate"),Lt.Ub(5,"label",80),Lt.Gc(6),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ec(7,Cc,4,0,"span",81),Lt.Ub(8,"ul"),Lt.Ub(9,"li"),Lt.Ub(10,"ol"),Lt.Ec(11,Mc,19,6,"li",82),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb()),2&t){const t=Lt.gc();Lt.Cb(3),Lt.Ic("",Lt.ic(4,4,"planning.defaultBs.info")," "),Lt.Cb(3),Lt.Hc(t.defaultBSList.length),Lt.Cb(1),Lt.lc("ngIf",t.defaultBSList.length>0),Lt.Cb(4),Lt.lc("ngForOf",t.defaultBSList)}}function Sc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"span",164),Lt.cc("click",(function(){return Lt.xc(t),Lt.gc(2).clearAll("candidate")})),Lt.Ub(1,"span",28),Lt.Gc(2,"clear"),Lt.Tb(),Lt.Gc(3,"Clear All "),Lt.Tb()}}function Ec(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li"),Lt.Ub(1,"span"),Lt.Ub(2,"label"),Lt.Gc(3,"X"),Lt.Tb(),Lt.Ub(4,"input",71),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc(2).dragObject[i].x=n}))("change",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc(2).changePosition(n)})),Lt.Tb(),Lt.Tb(),Lt.Ub(5,"span"),Lt.Ub(6,"label"),Lt.Gc(7,"Y"),Lt.Tb(),Lt.Ub(8,"input",71),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc(2).dragObject[i].y=n}))("change",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc(2).changePosition(n)})),Lt.Tb(),Lt.Tb(),Lt.Ub(9,"span"),Lt.Ub(10,"label"),Lt.Gc(11,"Z"),Lt.Tb(),Lt.Ub(12,"input",79),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc(2).dragObject[i].z=n})),Lt.Tb(),Lt.Tb(),Lt.Ub(13,"span",166),Lt.cc("click",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc(2).removeObj(n)})),Lt.Ub(14,"span",28),Lt.Gc(15,"clear"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=e.$implicit,n=Lt.gc(2);Lt.Cb(4),Lt.lc("ngModel",n.dragObject[t].x),Lt.Cb(4),Lt.lc("ngModel",n.dragObject[t].y),Lt.Cb(4),Lt.lc("ngModel",n.dragObject[t].z)}}function Pc(t,e){if(1&t&&(Lt.Ub(0,"mat-expansion-panel"),Lt.Ub(1,"mat-expansion-panel-header"),Lt.Ub(2,"mat-panel-title"),Lt.Gc(3),Lt.hc(4,"translate"),Lt.Ub(5,"label",80),Lt.Gc(6),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ec(7,Sc,4,0,"span",81),Lt.Ub(8,"ol"),Lt.Ec(9,Ec,16,3,"li",82),Lt.Tb(),Lt.Tb()),2&t){const t=Lt.gc();Lt.Cb(3),Lt.Ic("",Lt.ic(4,4,"planning.candidateBs.info")," "),Lt.Cb(3),Lt.Hc(t.candidateList.length),Lt.Cb(1),Lt.lc("ngIf",t.candidateList.length>0),Lt.Cb(2),Lt.lc("ngForOf",t.candidateList)}}function Uc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"span",164),Lt.cc("click",(function(){return Lt.xc(t),Lt.gc().clearAll("UE")})),Lt.Ub(1,"span",28),Lt.Gc(2,"clear"),Lt.Tb(),Lt.Gc(3,"Clear All "),Lt.Tb()}}function Ic(t,e){if(1&t&&(Lt.Ub(0,"option",170),Lt.Gc(1),Lt.Tb()),2&t){const t=e.$implicit;Lt.lc("value",t),Lt.Cb(1),Lt.Hc(t)}}function Lc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li"),Lt.Ub(1,"span"),Lt.Ub(2,"label"),Lt.Gc(3,"X"),Lt.Tb(),Lt.Ub(4,"input",71),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().dragObject[i].x=n}))("change",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().changePosition(n)})),Lt.Tb(),Lt.Tb(),Lt.Ub(5,"span"),Lt.Ub(6,"label"),Lt.Gc(7,"Y"),Lt.Tb(),Lt.Ub(8,"input",71),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().dragObject[i].y=n}))("change",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().changePosition(n)})),Lt.Tb(),Lt.Tb(),Lt.Ub(9,"span"),Lt.Ub(10,"label"),Lt.Gc(11,"Z"),Lt.Tb(),Lt.Ub(12,"select",168),Lt.cc("ngModelChange",(function(n){Lt.xc(t);const i=e.$implicit;return Lt.gc().dragObject[i].z=n})),Lt.Ec(13,Ic,2,2,"option",169),Lt.Tb(),Lt.Tb(),Lt.Ub(14,"span",166),Lt.cc("click",(function(){Lt.xc(t);const n=e.$implicit;return Lt.gc().removeObj(n)})),Lt.Ub(15,"span",28),Lt.Gc(16,"clear"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=e.$implicit,n=Lt.gc();Lt.Cb(4),Lt.lc("ngModel",n.dragObject[t].x),Lt.Cb(4),Lt.lc("ngModel",n.dragObject[t].y),Lt.Cb(4),Lt.lc("ngModel",n.dragObject[t].z),Lt.Cb(1),Lt.lc("ngForOf",n.zValues)}}function kc(t,e){1&t&&(Lt.Sb(0),Lt.Ub(1,"option",171),Lt.Gc(2),Lt.hc(3,"translate"),Lt.Tb(),Lt.Rb()),2&t&&(Lt.Cb(2),Lt.Hc(Lt.ic(3,1,"planning.algorithm.model")))}function Rc(t,e){1&t&&(Lt.Ub(0,"option",72),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Tb(),Lt.Ub(3,"option",73),Lt.Gc(4),Lt.hc(5,"translate"),Lt.Tb(),Lt.Ub(6,"option",74),Lt.Gc(7,"ITU office 900MHz"),Lt.Tb(),Lt.Ub(8,"option",147),Lt.Gc(9,"ITU office 1.2~1.3GHz"),Lt.Tb(),Lt.Ub(10,"option",161),Lt.Gc(11,"ITU office 1.8~2, 2.4GHz"),Lt.Tb(),Lt.Ub(12,"option",148),Lt.Gc(13,"ITU office 3.5GHz"),Lt.Tb(),Lt.Ub(14,"option",172),Lt.Gc(15,"ITU residential 1.8~2, 2.4GHz"),Lt.Tb(),Lt.Ub(16,"option",173),Lt.Gc(17,"ITU commercial 900MHz"),Lt.Tb(),Lt.Ub(18,"option",162),Lt.Gc(19,"ITU commercial 1.2~1.3, 1.8~2, 4GHz"),Lt.Tb(),Lt.Ub(20,"option",171),Lt.Gc(21),Lt.hc(22,"translate"),Lt.Tb(),Lt.Ub(23,"option",174),Lt.Gc(24),Lt.hc(25,"translate"),Lt.Tb()),2&t&&(Lt.Cb(1),Lt.Hc(Lt.ic(2,4,"planning.itri.51")),Lt.Cb(3),Lt.Hc(Lt.ic(5,6,"planning.taichung")),Lt.Cb(17),Lt.Hc(Lt.ic(22,8,"planning.algorithm.model")),Lt.Cb(3),Lt.Hc(Lt.ic(25,10,"planning.user_define")))}function Dc(t,e){1&t&&(Lt.Ub(0,"h5",180),Lt.Gc(1),Lt.hc(2,"translate"),Lt.hc(3,"translate"),Lt.Tb()),2&t&&(Lt.Cb(1),Lt.Jc("",Lt.ic(2,2,"altitude.setting")," / ",Lt.ic(3,4,"material.setting")," "))}function Gc(t,e){1&t&&(Lt.Ub(0,"h5",180),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Tb()),2&t&&(Lt.Cb(1),Lt.Hc(Lt.ic(2,1,"altitude.setting")))}function Fc(t,e){if(1&t){const t=Lt.Vb();Lt.Sb(0),Lt.Ub(1,"input",79),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.dragObject[n.svgId].altitude=e})),Lt.Tb(),Lt.Gc(2),Lt.hc(3,"translate"),Lt.Rb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.lc("ngModel",t.dragObject[t.svgId].altitude),Lt.Cb(1),Lt.Ic("",Lt.ic(3,2,"meter")," ")}}function jc(t,e){if(1&t){const t=Lt.Vb();Lt.Sb(0),Lt.Ub(1,"input",79),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.dragObject[n.svgId].z=e})),Lt.Tb(),Lt.Gc(2),Lt.hc(3,"translate"),Lt.Rb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.lc("ngModel",t.dragObject[t.svgId].z),Lt.Cb(1),Lt.Ic("",Lt.ic(3,2,"cm")," ")}}function Ac(t,e){if(1&t&&(Lt.Ub(0,"option",170),Lt.Gc(1),Lt.Tb()),2&t){const t=e.$implicit;Lt.lc("value",t),Lt.Cb(1),Lt.Hc(t)}}function Bc(t,e){if(1&t){const t=Lt.Vb();Lt.Sb(0),Lt.Ub(1,"select",168),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.dragObject[n.svgId].z=e})),Lt.Ec(2,Ac,2,2,"option",169),Lt.Tb(),Lt.Rb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.lc("ngModel",t.dragObject[t.svgId].z),Lt.Cb(1),Lt.lc("ngForOf",t.zValues)}}function Hc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li",181),Lt.Ub(1,"mat-label"),Lt.Gc(2),Lt.hc(3,"translate"),Lt.Tb(),Lt.Ub(4,"mat-radio-group",182),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.dragObject[n.svgId].material=e})),Lt.Ub(5,"mat-radio-button",72),Lt.Gc(6),Lt.hc(7,"translate"),Lt.Tb(),Lt.Ub(8,"mat-radio-button",183),Lt.Gc(9),Lt.hc(10,"translate"),Lt.Tb(),Lt.Ub(11,"mat-radio-button",184),Lt.Gc(12),Lt.hc(13,"translate"),Lt.Tb(),Lt.Ub(14,"mat-radio-button",185),Lt.Gc(15),Lt.hc(16,"translate"),Lt.Tb(),Lt.Ub(17,"mat-radio-button",186),Lt.Gc(18),Lt.hc(19,"translate"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.Cb(2),Lt.Hc(Lt.ic(3,7,"material.setting")),Lt.Cb(2),Lt.lc("ngModel",t.dragObject[t.svgId].material),Lt.Cb(2),Lt.Hc(Lt.ic(7,9,"material.wood")),Lt.Cb(3),Lt.Hc(Lt.ic(10,11,"material.cement")),Lt.Cb(3),Lt.Hc(Lt.ic(13,13,"material.light_steel_frame")),Lt.Cb(3),Lt.Hc(Lt.ic(16,15,"material.glass")),Lt.Cb(3),Lt.Hc(Lt.ic(19,17,"material.stainless"))}}function zc(t,e){if(1&t&&(Lt.Ec(0,Dc,4,6,"h5",175),Lt.Ec(1,Gc,3,3,"ng-template",null,176,Lt.Fc),Lt.Ub(3,"div",177),Lt.Ub(4,"ul"),Lt.Ub(5,"li",178),Lt.Gc(6),Lt.hc(7,"translate"),Lt.Ec(8,Fc,4,4,"ng-container",75),Lt.Ec(9,jc,4,4,"ng-container",75),Lt.Ec(10,Bc,3,2,"ng-container",75),Lt.Tb(),Lt.Ec(11,Hc,20,19,"li",179),Lt.Tb(),Lt.Tb()),2&t){const t=Lt.tc(2),e=Lt.gc();Lt.lc("ngIf","obstacle"===e.dragObject[e.svgId].type)("ngIfElse",t),Lt.Cb(6),Lt.Ic(" ",Lt.ic(7,7,"altitude.setting")," "),Lt.Cb(2),Lt.lc("ngIf","obstacle"===e.dragObject[e.svgId].type),Lt.Cb(1),Lt.lc("ngIf","defaultBS"===e.dragObject[e.svgId].type||"candidate"===e.dragObject[e.svgId].type),Lt.Cb(1),Lt.lc("ngIf","UE"===e.dragObject[e.svgId].type),Lt.Cb(1),Lt.lc("ngIf","obstacle"===e.dragObject[e.svgId].type)}}function Nc(t,e){1&t&&(Lt.Ub(0,"label"),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Tb()),2&t&&(Lt.Cb(1),Lt.Hc(Lt.ic(2,1,"mimoNum")))}function Vc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc(2).mimoNumber4G=e})),Lt.Ub(1,"option",73),Lt.Gc(2,"1"),Lt.Tb(),Lt.Ub(3,"option",74),Lt.Gc(4,"2"),Lt.Tb(),Lt.Ub(5,"option",147),Lt.Gc(6,"3"),Lt.Tb(),Lt.Ub(7,"option",161),Lt.Gc(8,"4"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.lc("ngModel",t.mimoNumber4G)}}function qc(t,e){1&t&&(Lt.Ub(0,"label"),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Tb()),2&t&&(Lt.Cb(1),Lt.Hc(Lt.ic(2,1,"tddBandwidth")))}function $c(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"input",79),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].tddbandwidth=e})),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.lc("ngModel",t.bsListRfParam[t.svgId].tddbandwidth)}}function Yc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li",181),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Ub(3,"mat-radio-group",182),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].wifiProtocol=e})),Lt.Ub(4,"mat-radio-button",189),Lt.Gc(5),Lt.hc(6,"translate"),Lt.Tb(),Lt.Ub(7,"mat-radio-button",190),Lt.Gc(8),Lt.hc(9,"translate"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.Ic(" ",Lt.ic(2,4,"wifiProtocol")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].wifiProtocol),Lt.Cb(2),Lt.Hc(Lt.ic(6,6,"wifi4")),Lt.Cb(3),Lt.Hc(Lt.ic(9,8,"wifi5"))}}function Xc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li",181),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Ub(3,"mat-radio-group",182),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].guardInterval=e})),Lt.Ub(4,"mat-radio-button",191),Lt.Gc(5,"400ns"),Lt.Tb(),Lt.Ub(6,"mat-radio-button",192),Lt.Gc(7,"800ns"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.Ic(" ",Lt.ic(2,2,"guardInterval")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].guardInterval)}}function Wc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li",181),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Ub(3,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].wifiMimo=e})),Lt.Ub(4,"option",193),Lt.Gc(5,"1x1"),Lt.Tb(),Lt.Ub(6,"option",194),Lt.Gc(7,"2x2"),Lt.Tb(),Lt.Ub(8,"option",195),Lt.Gc(9,"3x3"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.Ic(" ",Lt.ic(2,2,"mimoNum")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].wifiMimo)}}function Qc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li",181),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Ub(3,"input",79),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].fddDlFrequency=e})),Lt.Tb(),Lt.Gc(4),Lt.hc(5,"translate"),Lt.Ub(6,"input",79),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].fddUlFrequency=e})),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.Ic(" ",Lt.ic(2,4,"uplink.frequency")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].fddDlFrequency),Lt.Cb(1),Lt.Ic(" ",Lt.ic(5,6,"downlink.frequency")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].fddUlFrequency)}}function Kc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li",181),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Ub(3,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].ulModulationCodScheme=e})),Lt.Ub(4,"option",196),Lt.Gc(5,"64QAM"),Lt.Tb(),Lt.Ub(6,"option",197),Lt.Gc(7,"256QAM"),Lt.Tb(),Lt.Tb(),Lt.Gc(8),Lt.hc(9,"translate"),Lt.Ub(10,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].dlModulationCodScheme=e})),Lt.Ub(11,"option",196),Lt.Gc(12,"64QAM"),Lt.Tb(),Lt.Ub(13,"option",197),Lt.Gc(14,"256QAM"),Lt.Tb(),Lt.Ub(15,"option",198),Lt.Gc(16,"64QAM-Low-SE"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.Ic(" ",Lt.ic(2,4,"ULModulationCodingScheme")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].ulModulationCodScheme),Lt.Cb(5),Lt.Ic(" ",Lt.ic(9,6,"DLModulationCodingScheme")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].dlModulationCodScheme)}}function Jc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li",181),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Ub(3,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].dlmimoLayer=e})),Lt.Ub(4,"option",73),Lt.Gc(5,"1"),Lt.Tb(),Lt.Ub(6,"option",74),Lt.Gc(7,"2"),Lt.Tb(),Lt.Ub(8,"option",161),Lt.Gc(9,"4"),Lt.Tb(),Lt.Ub(10,"option",162),Lt.Gc(11,"8"),Lt.Tb(),Lt.Tb(),Lt.Gc(12),Lt.hc(13,"translate"),Lt.Ub(14,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].ulmimoLayer=e})),Lt.Ub(15,"option",73),Lt.Gc(16,"1"),Lt.Tb(),Lt.Ub(17,"option",74),Lt.Gc(18,"2"),Lt.Tb(),Lt.Ub(19,"option",161),Lt.Gc(20,"4"),Lt.Tb(),Lt.Ub(21,"option",162),Lt.Gc(22,"8"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.Ic(" ",Lt.ic(2,4,"dlMimolayer")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].dlmimoLayer),Lt.Cb(9),Lt.Ic(" ",Lt.ic(13,6,"ulMimolayer")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].ulmimoLayer)}}function Zc(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li",181),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Ub(3,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].scalingFact=e})),Lt.Ub(4,"option",73),Lt.Gc(5,"1"),Lt.Tb(),Lt.Ub(6,"option",199),Lt.Gc(7,"0.8"),Lt.Tb(),Lt.Ub(8,"option",200),Lt.Gc(9,"0.75"),Lt.Tb(),Lt.Ub(10,"option",201),Lt.Gc(11,"0.4"),Lt.Tb(),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.Ic(" ",Lt.ic(2,2,"scalingFactor")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].scalingFact)}}function tu(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(3);return n.bsListRfParam[n.svgId].tddbandwidth=e})),Lt.Ub(1,"option",148),Lt.Gc(2,"5"),Lt.Tb(),Lt.Ub(3,"option",149),Lt.Gc(4,"10"),Lt.Tb(),Lt.Ub(5,"option",139),Lt.Gc(6,"15"),Lt.Tb(),Lt.Ub(7,"option",150),Lt.Gc(8,"20"),Lt.Tb(),Lt.Ub(9,"option",151),Lt.Gc(10,"25"),Lt.Tb(),Lt.Ub(11,"option",140),Lt.Gc(12,"30"),Lt.Tb(),Lt.Ub(13,"option",152),Lt.Gc(14,"40"),Lt.Tb(),Lt.Ub(15,"option",153),Lt.Gc(16,"50"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(3);Lt.lc("ngModel",t.bsListRfParam[t.svgId].tddbandwidth)}}function eu(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(3);return n.bsListRfParam[n.svgId].tddbandwidth=e})),Lt.Ub(1,"option",148),Lt.Gc(2,"5"),Lt.Tb(),Lt.Ub(3,"option",149),Lt.Gc(4,"10"),Lt.Tb(),Lt.Ub(5,"option",139),Lt.Gc(6,"15"),Lt.Tb(),Lt.Ub(7,"option",150),Lt.Gc(8,"20"),Lt.Tb(),Lt.Ub(9,"option",151),Lt.Gc(10,"25"),Lt.Tb(),Lt.Ub(11,"option",140),Lt.Gc(12,"30"),Lt.Tb(),Lt.Ub(13,"option",152),Lt.Gc(14,"40"),Lt.Tb(),Lt.Ub(15,"option",153),Lt.Gc(16,"50"),Lt.Tb(),Lt.Ub(17,"option",141),Lt.Gc(18,"60"),Lt.Tb(),Lt.Ub(19,"option",154),Lt.Gc(20,"70"),Lt.Tb(),Lt.Ub(21,"option",155),Lt.Gc(22,"80"),Lt.Tb(),Lt.Ub(23,"option",156),Lt.Gc(24,"90"),Lt.Tb(),Lt.Ub(25,"option",157),Lt.Gc(26,"100"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(3);Lt.lc("ngModel",t.bsListRfParam[t.svgId].tddbandwidth)}}function nu(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(3);return n.bsListRfParam[n.svgId].tddbandwidth=e})),Lt.Ub(1,"option",149),Lt.Gc(2,"10"),Lt.Tb(),Lt.Ub(3,"option",139),Lt.Gc(4,"15"),Lt.Tb(),Lt.Ub(5,"option",150),Lt.Gc(6,"20"),Lt.Tb(),Lt.Ub(7,"option",151),Lt.Gc(8,"25"),Lt.Tb(),Lt.Ub(9,"option",140),Lt.Gc(10,"30"),Lt.Tb(),Lt.Ub(11,"option",152),Lt.Gc(12,"40"),Lt.Tb(),Lt.Ub(13,"option",153),Lt.Gc(14,"50"),Lt.Tb(),Lt.Ub(15,"option",141),Lt.Gc(16,"60"),Lt.Tb(),Lt.Ub(17,"option",154),Lt.Gc(18,"70"),Lt.Tb(),Lt.Ub(19,"option",155),Lt.Gc(20,"80"),Lt.Tb(),Lt.Ub(21,"option",156),Lt.Gc(22,"90"),Lt.Tb(),Lt.Ub(23,"option",157),Lt.Gc(24,"100"),Lt.Tb(),Lt.Ub(25,"option",158),Lt.Gc(26,"200"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(3);Lt.lc("ngModel",t.bsListRfParam[t.svgId].tddbandwidth)}}function iu(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(3);return n.bsListRfParam[n.svgId].tddbandwidth=e})),Lt.Ub(1,"option",153),Lt.Gc(2,"50"),Lt.Tb(),Lt.Ub(3,"option",157),Lt.Gc(4,"100"),Lt.Tb(),Lt.Ub(5,"option",158),Lt.Gc(6,"200"),Lt.Tb(),Lt.Ub(7,"option",159),Lt.Gc(8,"400"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(3);Lt.lc("ngModel",t.bsListRfParam[t.svgId].tddbandwidth)}}function ru(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li",181),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Ub(3,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].tddscs=e})),Lt.Ub(4,"option",139),Lt.Gc(5,"15"),Lt.Tb(),Lt.Ub(6,"option",140),Lt.Gc(7,"30"),Lt.Tb(),Lt.Ub(8,"option",141),Lt.Gc(9,"60"),Lt.Tb(),Lt.Ub(10,"option",142),Lt.Gc(11,"120"),Lt.Tb(),Lt.Tb(),Lt.Gc(12),Lt.hc(13,"translate"),Lt.Ec(14,tu,17,1,"select",187),Lt.Ec(15,eu,27,1,"select",187),Lt.Ec(16,nu,27,1,"select",187),Lt.Ec(17,iu,9,1,"select",187),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.Ic(" ",Lt.ic(2,7,"subcarrier")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].tddscs),Lt.Cb(9),Lt.Ic(" ",Lt.ic(13,9,"scsBandwidth")," "),Lt.Cb(2),Lt.lc("ngIf","15"===t.bsListRfParam[t.svgId].tddscs),Lt.Cb(1),Lt.lc("ngIf","30"===t.bsListRfParam[t.svgId].tddscs),Lt.Cb(1),Lt.lc("ngIf","60"===t.bsListRfParam[t.svgId].tddscs),Lt.Cb(1),Lt.lc("ngIf","120"===t.bsListRfParam[t.svgId].tddscs)}}function ou(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(3);return n.bsListRfParam[n.svgId].dlBandwidth=e})),Lt.Ub(1,"option",148),Lt.Gc(2,"5"),Lt.Tb(),Lt.Ub(3,"option",149),Lt.Gc(4,"10"),Lt.Tb(),Lt.Ub(5,"option",139),Lt.Gc(6,"15"),Lt.Tb(),Lt.Ub(7,"option",150),Lt.Gc(8,"20"),Lt.Tb(),Lt.Ub(9,"option",151),Lt.Gc(10,"25"),Lt.Tb(),Lt.Ub(11,"option",140),Lt.Gc(12,"30"),Lt.Tb(),Lt.Ub(13,"option",152),Lt.Gc(14,"40"),Lt.Tb(),Lt.Ub(15,"option",153),Lt.Gc(16,"50"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(3);Lt.lc("ngModel",t.bsListRfParam[t.svgId].dlBandwidth)}}function au(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(3);return n.bsListRfParam[n.svgId].dlBandwidth=e})),Lt.Ub(1,"option",148),Lt.Gc(2,"5"),Lt.Tb(),Lt.Ub(3,"option",149),Lt.Gc(4,"10"),Lt.Tb(),Lt.Ub(5,"option",139),Lt.Gc(6,"15"),Lt.Tb(),Lt.Ub(7,"option",150),Lt.Gc(8,"20"),Lt.Tb(),Lt.Ub(9,"option",151),Lt.Gc(10,"25"),Lt.Tb(),Lt.Ub(11,"option",140),Lt.Gc(12,"30"),Lt.Tb(),Lt.Ub(13,"option",152),Lt.Gc(14,"40"),Lt.Tb(),Lt.Ub(15,"option",153),Lt.Gc(16,"50"),Lt.Tb(),Lt.Ub(17,"option",141),Lt.Gc(18,"60"),Lt.Tb(),Lt.Ub(19,"option",154),Lt.Gc(20,"70"),Lt.Tb(),Lt.Ub(21,"option",155),Lt.Gc(22,"80"),Lt.Tb(),Lt.Ub(23,"option",156),Lt.Gc(24,"90"),Lt.Tb(),Lt.Ub(25,"option",157),Lt.Gc(26,"100"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(3);Lt.lc("ngModel",t.bsListRfParam[t.svgId].dlBandwidth)}}function su(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(3);return n.bsListRfParam[n.svgId].dlBandwidth=e})),Lt.Ub(1,"option",149),Lt.Gc(2,"10"),Lt.Tb(),Lt.Ub(3,"option",139),Lt.Gc(4,"15"),Lt.Tb(),Lt.Ub(5,"option",150),Lt.Gc(6,"20"),Lt.Tb(),Lt.Ub(7,"option",151),Lt.Gc(8,"25"),Lt.Tb(),Lt.Ub(9,"option",140),Lt.Gc(10,"30"),Lt.Tb(),Lt.Ub(11,"option",152),Lt.Gc(12,"40"),Lt.Tb(),Lt.Ub(13,"option",153),Lt.Gc(14,"50"),Lt.Tb(),Lt.Ub(15,"option",141),Lt.Gc(16,"60"),Lt.Tb(),Lt.Ub(17,"option",154),Lt.Gc(18,"70"),Lt.Tb(),Lt.Ub(19,"option",155),Lt.Gc(20,"80"),Lt.Tb(),Lt.Ub(21,"option",156),Lt.Gc(22,"90"),Lt.Tb(),Lt.Ub(23,"option",157),Lt.Gc(24,"100"),Lt.Tb(),Lt.Ub(25,"option",158),Lt.Gc(26,"200"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(3);Lt.lc("ngModel",t.bsListRfParam[t.svgId].dlBandwidth)}}function lu(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(3);return n.bsListRfParam[n.svgId].dlBandwidth=e})),Lt.Ub(1,"option",153),Lt.Gc(2,"50"),Lt.Tb(),Lt.Ub(3,"option",157),Lt.Gc(4,"100"),Lt.Tb(),Lt.Ub(5,"option",158),Lt.Gc(6,"200"),Lt.Tb(),Lt.Ub(7,"option",159),Lt.Gc(8,"400"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(3);Lt.lc("ngModel",t.bsListRfParam[t.svgId].dlBandwidth)}}function cu(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li",181),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Ub(3,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].dlScs=e})),Lt.Ub(4,"option",139),Lt.Gc(5,"15"),Lt.Tb(),Lt.Ub(6,"option",140),Lt.Gc(7,"30"),Lt.Tb(),Lt.Ub(8,"option",141),Lt.Gc(9,"60"),Lt.Tb(),Lt.Ub(10,"option",142),Lt.Gc(11,"120"),Lt.Tb(),Lt.Tb(),Lt.Gc(12),Lt.hc(13,"translate"),Lt.Ec(14,ou,17,1,"select",187),Lt.Ec(15,au,27,1,"select",187),Lt.Ec(16,su,27,1,"select",187),Lt.Ec(17,lu,9,1,"select",187),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.Ic(" ",Lt.ic(2,7,"dlSubcarrier")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].dlScs),Lt.Cb(9),Lt.Ic(" ",Lt.ic(13,9,"dlBandwidth")," "),Lt.Cb(2),Lt.lc("ngIf","15"===t.bsListRfParam[t.svgId].dlScs),Lt.Cb(1),Lt.lc("ngIf","30"===t.bsListRfParam[t.svgId].dlScs),Lt.Cb(1),Lt.lc("ngIf","60"===t.bsListRfParam[t.svgId].dlScs),Lt.Cb(1),Lt.lc("ngIf","120"===t.bsListRfParam[t.svgId].dlScs)}}function uu(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(3);return n.bsListRfParam[n.svgId].ulBandwidth=e})),Lt.Ub(1,"option",148),Lt.Gc(2,"5"),Lt.Tb(),Lt.Ub(3,"option",149),Lt.Gc(4,"10"),Lt.Tb(),Lt.Ub(5,"option",139),Lt.Gc(6,"15"),Lt.Tb(),Lt.Ub(7,"option",150),Lt.Gc(8,"20"),Lt.Tb(),Lt.Ub(9,"option",151),Lt.Gc(10,"25"),Lt.Tb(),Lt.Ub(11,"option",140),Lt.Gc(12,"30"),Lt.Tb(),Lt.Ub(13,"option",152),Lt.Gc(14,"40"),Lt.Tb(),Lt.Ub(15,"option",153),Lt.Gc(16,"50"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(3);Lt.lc("ngModel",t.bsListRfParam[t.svgId].ulBandwidth)}}function hu(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(3);return n.bsListRfParam[n.svgId].ulBandwidth=e})),Lt.Ub(1,"option",148),Lt.Gc(2,"5"),Lt.Tb(),Lt.Ub(3,"option",149),Lt.Gc(4,"10"),Lt.Tb(),Lt.Ub(5,"option",139),Lt.Gc(6,"15"),Lt.Tb(),Lt.Ub(7,"option",150),Lt.Gc(8,"20"),Lt.Tb(),Lt.Ub(9,"option",151),Lt.Gc(10,"25"),Lt.Tb(),Lt.Ub(11,"option",140),Lt.Gc(12,"30"),Lt.Tb(),Lt.Ub(13,"option",152),Lt.Gc(14,"40"),Lt.Tb(),Lt.Ub(15,"option",153),Lt.Gc(16,"50"),Lt.Tb(),Lt.Ub(17,"option",141),Lt.Gc(18,"60"),Lt.Tb(),Lt.Ub(19,"option",154),Lt.Gc(20,"70"),Lt.Tb(),Lt.Ub(21,"option",155),Lt.Gc(22,"80"),Lt.Tb(),Lt.Ub(23,"option",156),Lt.Gc(24,"90"),Lt.Tb(),Lt.Ub(25,"option",157),Lt.Gc(26,"100"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(3);Lt.lc("ngModel",t.bsListRfParam[t.svgId].ulBandwidth)}}function du(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(3);return n.bsListRfParam[n.svgId].ulBandwidth=e})),Lt.Ub(1,"option",149),Lt.Gc(2,"10"),Lt.Tb(),Lt.Ub(3,"option",139),Lt.Gc(4,"15"),Lt.Tb(),Lt.Ub(5,"option",150),Lt.Gc(6,"20"),Lt.Tb(),Lt.Ub(7,"option",151),Lt.Gc(8,"25"),Lt.Tb(),Lt.Ub(9,"option",140),Lt.Gc(10,"30"),Lt.Tb(),Lt.Ub(11,"option",152),Lt.Gc(12,"40"),Lt.Tb(),Lt.Ub(13,"option",153),Lt.Gc(14,"50"),Lt.Tb(),Lt.Ub(15,"option",141),Lt.Gc(16,"60"),Lt.Tb(),Lt.Ub(17,"option",154),Lt.Gc(18,"70"),Lt.Tb(),Lt.Ub(19,"option",155),Lt.Gc(20,"80"),Lt.Tb(),Lt.Ub(21,"option",156),Lt.Gc(22,"90"),Lt.Tb(),Lt.Ub(23,"option",157),Lt.Gc(24,"100"),Lt.Tb(),Lt.Ub(25,"option",158),Lt.Gc(26,"200"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(3);Lt.lc("ngModel",t.bsListRfParam[t.svgId].ulBandwidth)}}function pu(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(3);return n.bsListRfParam[n.svgId].ulBandwidth=e})),Lt.Ub(1,"option",153),Lt.Gc(2,"50"),Lt.Tb(),Lt.Ub(3,"option",157),Lt.Gc(4,"100"),Lt.Tb(),Lt.Ub(5,"option",158),Lt.Gc(6,"200"),Lt.Tb(),Lt.Ub(7,"option",159),Lt.Gc(8,"400"),Lt.Tb(),Lt.Tb()}if(2&t){const t=Lt.gc(3);Lt.lc("ngModel",t.bsListRfParam[t.svgId].ulBandwidth)}}function gu(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"li",181),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Ub(3,"select",138),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc(2);return n.bsListRfParam[n.svgId].ulScs=e})),Lt.Ub(4,"option",139),Lt.Gc(5,"15"),Lt.Tb(),Lt.Ub(6,"option",140),Lt.Gc(7,"30"),Lt.Tb(),Lt.Ub(8,"option",141),Lt.Gc(9,"60"),Lt.Tb(),Lt.Ub(10,"option",142),Lt.Gc(11,"120"),Lt.Tb(),Lt.Tb(),Lt.Gc(12),Lt.hc(13,"translate"),Lt.Ec(14,uu,17,1,"select",187),Lt.Ec(15,hu,27,1,"select",187),Lt.Ec(16,du,27,1,"select",187),Lt.Ec(17,pu,9,1,"select",187),Lt.Tb()}if(2&t){const t=Lt.gc(2);Lt.Cb(1),Lt.Ic(" ",Lt.ic(2,7,"ulSubcarrier")," "),Lt.Cb(2),Lt.lc("ngModel",t.bsListRfParam[t.svgId].ulScs),Lt.Cb(9),Lt.Ic(" ",Lt.ic(13,9,"ulBandwidth")," "),Lt.Cb(2),Lt.lc("ngIf","15"===t.bsListRfParam[t.svgId].ulScs),Lt.Cb(1),Lt.lc("ngIf","30"===t.bsListRfParam[t.svgId].ulScs),Lt.Cb(1),Lt.lc("ngIf","60"===t.bsListRfParam[t.svgId].ulScs),Lt.Cb(1),Lt.lc("ngIf","120"===t.bsListRfParam[t.svgId].ulScs)}}function fu(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"h5",180),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Tb(),Lt.Ub(3,"ul",178),Lt.Ub(4,"li"),Lt.Ub(5,"label"),Lt.Gc(6,"Txpower "),Lt.Tb(),Lt.Ub(7,"input",79),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc();return n.bsListRfParam[n.svgId].txpower=e})),Lt.Tb(),Lt.Ub(8,"label"),Lt.Gc(9,"BeamId "),Lt.Tb(),Lt.Ub(10,"input",79),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc();return n.bsListRfParam[n.svgId].beampattern=e})),Lt.Tb(),Lt.Ub(11,"label"),Lt.Gc(12,"Frequency "),Lt.Tb(),Lt.Ub(13,"input",79),Lt.cc("ngModelChange",(function(e){Lt.xc(t);const n=Lt.gc();return n.bsListRfParam[n.svgId].frequency=e})),Lt.Tb(),Lt.Tb(),Lt.Ub(14,"li",181),Lt.Ec(15,Nc,3,3,"label",75),Lt.Ec(16,Vc,9,1,"select",187),Lt.Ec(17,qc,3,3,"label",75),Lt.Ec(18,$c,1,1,"input",188),Lt.Tb(),Lt.Ec(19,Yc,10,10,"li",179),Lt.Ec(20,Xc,8,4,"li",179),Lt.Ec(21,Wc,10,4,"li",179),Lt.Ec(22,Qc,7,8,"li",179),Lt.Ec(23,Kc,17,8,"li",179),Lt.Ec(24,Jc,23,8,"li",179),Lt.Ec(25,Zc,12,4,"li",179),Lt.Ec(26,ru,18,11,"li",179),Lt.Ec(27,cu,18,11,"li",179),Lt.Ec(28,gu,18,11,"li",179),Lt.Tb()}if(2&t){const t=Lt.gc();Lt.Cb(1),Lt.Hc(Lt.ic(2,18,"rfparam.setting")),Lt.Cb(6),Lt.lc("ngModel",t.bsListRfParam[t.svgId].txpower),Lt.Cb(3),Lt.lc("ngModel",t.bsListRfParam[t.svgId].beampattern),Lt.Cb(3),Lt.lc("ngModel",t.bsListRfParam[t.svgId].frequency),Lt.Cb(2),Lt.lc("ngIf","0"===t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","0"===t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","TDD"===t.duplexMode&&"2"!==t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","TDD"===t.duplexMode&&"2"!==t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","2"===t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","2"===t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","2"===t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","FDD"===t.duplexMode&&"2"!==t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","1"===t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","1"===t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","1"===t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","TDD"===t.duplexMode&&"1"===t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","FDD"===t.duplexMode&&"1"===t.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","FDD"===t.duplexMode&&"2"!==t.calculateForm.objectiveIndex)}}let bu=(()=>{class t{constructor(t,e,n,i,r,o,a){this.authService=t,this.router=e,this.route=n,this.matDialog=i,this.formService=r,this.translateService=o,this.http=a,this.resizable=!0,this.planOrSim=!0,this.frame=new Mt({width:"30px",height:"30px",left:"0px",top:"0px","z-index":99999,transform:{rotate:"0deg",scaleX:1,scaleY:1}}),this.opened=!0,this.panelOpenState=!1,this.live=!1,this.calculateForm=new St.a,this.subitemClass={obstacle:"subitem active",ue:"subitem active"},this.zValues=["1","",""],this.obstacleList=[],this.dragObject={},this.bsListRfParam={},this.defaultBSList=[],this.candidateList=[],this.ueList=[],this.chartLeft=0,this.chartRight=0,this.chartTop=0,this.chartBottom=0,this.chartHeight=0,this.svgMap={rect:{id:"svg_1",title:this.translateService.instant("obstacleInfo"),type:"obstacle",element:"0"},ellipse:{id:"svg_2",title:this.translateService.instant("obstacleInfo"),type:"obstacle",element:"1"},polygon:{id:"svg_3",title:this.translateService.instant("obstacleInfo"),type:"obstacle",element:"2"},defaultBS:{id:"svg_4",title:this.translateService.instant("defaultBs"),type:"defaultBS",element:""},candidate:{id:"svg_5",title:this.translateService.instant("candidateBs"),type:"candidate",element:""},UE:{id:"svg_6",title:this.translateService.instant("ue"),type:"UE",element:""},trapezoid:{id:"svg_7",title:this.translateService.instant("obstacleInfo"),type:"obstacle",element:"3"}},this.tooltipStr="",this.roundFormat=Plotly.d3.format(".1f"),this.pathLossModelIdList=[],this.bounds={left:0,top:0,right:400,bottom:500},this.ueWidth=9.5,this.ueHeight=14.5,this.candidateWidth=28,this.candidateHeight=18,this.menuTopLeftStyle={top:"0",left:"0"},this.showFileName=!0,this.numColumnList=["totalRound","crossover","mutation","iteration","seed","width","height","altitude","pathLossModelId","useUeCoordinate","powerMaxRange","powerMinRange","beamMaxId","beamMinId","objectiveIndex","availableNewBsNumber","addFixedBsNumber","bandwidth","frequency","sinrRatio","throughputRatio","coverageRatio","ueAvgSinrRatio","ueAvgThroughputRatio","ueTpByDistanceRatio","mctsC","mctsMimo","ueCoverageRatio","ueTpByRsrpRatio","mctsTemperature","mctsTime","mctsTestTime","mctsTotalTime"],this.taskid="",this.progressInterval=0,this.view3dDialogConfig=new Tt.e,this.msgDialogConfig=new Tt.e,this.tooltipStyle={left:"0px",top:"0px"},this.spanStyle={},this.rectStyle={},this.ellipseStyle={},this.polygonStyle={},this.trapezoidStyle={},this.svgStyle={},this.pathStyle={},this.circleStyle={},this.dragStyle={},this.wifiFrequency="0",this.isHst=!1,this.planningIndex="3",this.OBSTACLE_COLOR="#73805c",this.DEFAULT_BS_COLOR="#2958be",this.CANDIDATE_COLOR="#d00a67",this.UE_COLOR="#0c9ccc",this.hstOutput={},this.subcarrier=15,this.progressNum=0,this.pgInterval=0,this.characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",this.duplexMode="FDD",this.dlRatio=70,this.mimoNumber4G="1"}clickout(t){if(void 0!==this.target&&null!=this.target)if(this.target.contains(t.target))this.live=!0;else{this.live=!1;try{this.moveable.destroy()}catch(e){this.moveable.ngOnInit(),this.moveable.destroy()}}}keyEvent(t){if(void 0!==this.target&&this.live&&"Delete"===t.key){this.live=!1,this.moveable.destroy();const t=this.target.closest("span").id,e=this.dragObject[t];"obstacle"===e.type?this.obstacleList.splice(this.obstacleList.indexOf(t),1):"defaultBS"===e.type?this.defaultBSList.splice(this.defaultBSList.indexOf(t),1):"candidate"===e.type?this.candidateList.splice(this.candidateList.indexOf(t),1):"UE"===e.type&&this.ueList.splice(this.ueList.indexOf(t),1)}}ngOnInit(){this.view3dDialogConfig.autoFocus=!1,this.view3dDialogConfig.width="80%",this.view3dDialogConfig.hasBackdrop=!1,this.msgDialogConfig.autoFocus=!1,sessionStorage.removeItem("planningObj");for(let t=0;t<9;t++)this.pathLossModelIdList.push(t);if(this.route.queryParams.subscribe(t=>{void 0!==t.taskId&&(this.taskid=t.taskId,"true"===t.isHst&&(this.isHst=!0))}),null!=sessionStorage.getItem("importFile")){this.calculateForm=new St.a;const t=new FileReader;t.onload=t=>{this.readXls(t.target.result)},t.readAsBinaryString(this.dataURLtoBlob(sessionStorage.getItem("importFile")))}else{if(""!==this.taskid){let t;this.isHst?(t=`${this.authService.API_URL}/historyDetail/${this.authService.userId}/`,t+=`${this.authService.userToken}/${this.taskid}`):t=`${this.authService.API_URL}/completeCalcResult/${this.taskid}/${this.authService.userToken}`,this.http.get(t).subscribe(t=>{if(this.isHst){const e=t;console.log(e);const n=this.formService.setHstOutputToResultOutput(e.output);console.log(e),console.log(n),this.calculateForm=this.formService.setHstToForm(e),console.log(this.calculateForm),this.hstOutput.gaResult={},this.hstOutput.gaResult.chosenCandidate=n.chosenCandidate,this.hstOutput.gaResult.sinrMap=n.sinrMap,this.hstOutput.gaResult.connectionMapAll=n.connectionMapAll,this.hstOutput.gaResult.rsrpMap=n.rsrpMap,this.hstOutput.gaResult.ulThroughputMap=n.ulThroughputMap,this.hstOutput.gaResult.dlThroughputMap=n.throughputMap;const i=[];n.sinrMap.map(t=>{t.map(t=>{t.map(t=>{i.push(t)})})});const r=[];n.rsrpMap.map(t=>{t.map(t=>{t.map(t=>{r.push(t)})})});const o=[];n.ulThroughputMap.map(t=>{t.map(t=>{t.map(t=>{o.push(t)})})});const a=[];n.throughputMap.map(t=>{t.map(t=>{t.map(t=>{a.push(t)})})}),this.hstOutput.sinrMax=Plotly.d3.max(i),this.hstOutput.sinrMin=Plotly.d3.min(i),this.hstOutput.rsrpMax=Plotly.d3.max(r),this.hstOutput.rsrpMin=Plotly.d3.min(r),this.hstOutput.ulThroughputMax=Plotly.d3.max(o),this.hstOutput.ulThroughputMin=Plotly.d3.min(o),this.hstOutput.dlThroughputMax=Plotly.d3.max(a),this.hstOutput.dlThroughputMin=Plotly.d3.min(a)}else this.calculateForm=t.input,console.log(this.calculateForm),this.calculateForm.defaultBs=this.calculateForm.bsList;this.zValues=JSON.parse(this.calculateForm.zValue),console.log(this.calculateForm),window.sessionStorage.getItem("form_"+this.taskid),console.log(this.calculateForm),this.initData(!1,!1)},t=>{this.msgDialogConfig.data={type:"error",infoMessage:"\u7121\u6cd5\u53d6\u5f97\u8a08\u7b97\u7d50\u679c!"},this.matDialog.open(Te.a,this.msgDialogConfig)})}else this.calculateForm=JSON.parse(sessionStorage.getItem("calculateForm")),this.changeWifiFrequency(),"0"===this.calculateForm.objectiveIndex?this.calculateForm.bandwidth=3:"1"===this.calculateForm.objectiveIndex?this.calculateForm.bandwidth=5:"2"===this.calculateForm.objectiveIndex&&(this.calculateForm.bandwidth=1),this.initData(!1,!1);setTimeout(()=>{this.planningIndex=""!==this.calculateForm.defaultBs?"3":"1",console.log(this.planningIndex)},500)}}ngOnDestroy(){if(this.setForm(),""!==this.taskid?window.sessionStorage.setItem("form_"+this.taskid,JSON.stringify(this.calculateForm)):window.sessionStorage.setItem("form_blank_task",JSON.stringify(this.calculateForm)),void 0!==this.progressInterval){window.clearInterval(this.progressInterval);for(let t=0;t<this.progressInterval;t++)window.clearInterval(t)}try{this.moveable.destroy()}catch(t){}}initData(t,e){void 0!==this.chart&&(this.chart.nativeElement.style.opacity=0);const n={displaylogo:!1,showTips:!1,editable:!1,scrollZoom:!1,displayModeBar:!1};if(this.plotLayout={autosize:!0,xaxis:{linewidth:1,mirror:"all",range:[0,this.calculateForm.width],showgrid:!1,zeroline:!1,fixedrange:!0},yaxis:{linewidth:1,mirror:"all",range:[0,this.calculateForm.height],showgrid:!1,zeroline:!1,fixedrange:!0},margin:{t:20,b:20,l:40,r:this.authService.isEmpty(this.calculateForm.mapImage)?50:20}},this.authService.isEmpty(this.calculateForm.mapImage))void 0!==this.chart&&(this.chart.nativeElement.style.opacity=1),this.plotLayout.width=.68*window.innerWidth,Plotly.newPlot("chart",{data:[],layout:this.plotLayout,config:n}).then(n=>{const i=n.querySelector(".xy").querySelectorAll("rect")[0].getBoundingClientRect();this.bounds={left:i.left,top:i.top,right:i.right,bottom:i.top+i.height},this.calScale(n),t?this.setImportData():e||""===this.taskid&&null==sessionStorage.getItem("form_blank_task")||(console.log(this.calculateForm),this.edit())});else{const i=new FileReader;i.readAsDataURL(this.dataURLtoBlob(this.calculateForm.mapImage)),i.onload=r=>{this.plotLayout.images=[{source:i.result,x:0,y:0,sizex:this.calculateForm.width,sizey:this.calculateForm.height,xref:"x",yref:"y",xanchor:"left",yanchor:"bottom",sizing:"stretch"}],Plotly.newPlot("chart",{data:[],layout:this.plotLayout,config:n}).then(n=>{const r=new Image;r.src=i.result.toString(),r.onload=()=>{console.log(r.width,r.height);const i=window.innerHeight-140,o=n.getBoundingClientRect();console.log(o.width,o.height,i);let a=r.width,s=r.height;if(s>i){console.log("imgHeight > maxHeight");for(let t=.99;t>=0&&(s=r.height*t,a=r.width*t,!(s<=i));t-=.01);}if(a>o.width)for(let t=.99;t>=0&&(s=r.height*t,a=r.width*t,!(a<=o.width));t-=.01);console.log(a,s),Plotly.relayout("chart",{width:a,height:s}).then(n=>{this.chart.nativeElement.style.opacity=1;const i=n.querySelector(".xy").querySelectorAll("rect")[0].getBoundingClientRect();this.bounds={left:i.left,top:i.top,right:i.right,bottom:i.top+i.height},this.calScale(n),t?this.setImportData():e||""===this.taskid&&null==sessionStorage.getItem("form_blank_task")||(this.edit(),console.log(this.calculateForm))})}})}}}calScale(t){const e=t.querySelector(".xy").querySelectorAll("rect")[0],n=e.getBoundingClientRect();this.chartLeft=n.left,this.chartRight=n.right,this.chartTop=n.top,this.chartBottom=n.bottom,this.chartHeight=n.height,this.dragStyle={left:e.getAttribute("x")+"px",top:e.getAttribute("y")+"px",width:n.width+"px",height:n.height+"px",position:"absolute"},this.xLinear=Plotly.d3.scale.linear().domain([0,n.width]).range([0,this.calculateForm.width]),this.yLinear=Plotly.d3.scale.linear().domain([0,n.height]).range([0,this.calculateForm.height]),this.pixelXLinear=Plotly.d3.scale.linear().domain([0,this.calculateForm.width]).range([0,n.width]),this.pixelYLinear=Plotly.d3.scale.linear().domain([0,this.calculateForm.height]).range([0,n.height])}dataURLtoBlob(t){let e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);const n=t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return new Blob([i],{type:n})}addMoveable(t){try{this.moveable.destroy()}catch(r){}let e;window.setTimeout(()=>{this.live=!0},0);let n=30,i=30;"rect"===t?(e=this.OBSTACLE_COLOR,this.svgId=`${t}_${this.generateString(10)}`,this.obstacleList.push(this.svgId),this.rectStyle[this.svgId]={width:30,height:30,fill:e}):"ellipse"===t?(e=this.OBSTACLE_COLOR,this.svgId=`${t}_${this.generateString(10)}`,this.obstacleList.push(this.svgId),this.ellipseStyle[this.svgId]={ry:15,rx:15,cx:15,cy:15,fill:e}):"polygon"===t?(e=this.OBSTACLE_COLOR,this.svgId=`${t}_${this.generateString(10)}`,this.obstacleList.push(this.svgId),this.polygonStyle[this.svgId]={points:"15,0 30,30 0,30",fill:this.OBSTACLE_COLOR}):"defaultBS"===t?(e=this.DEFAULT_BS_COLOR,this.svgId=`${t}_${this.generateString(10)}`,this.defaultBSList.push(this.svgId),this.pathStyle[this.svgId]={fill:this.DEFAULT_BS_COLOR},this.bsListRfParam[this.svgId]={txpower:0,beampattern:0,frequency:2400,fddDlFrequency:0,fddUlFrequency:0,ulModulationCodScheme:"64QAM-table",dlModulationCodScheme:"64QAM-table",dlmimoLayer:1,ulmimoLayer:1,scalingFact:1,tddscs:"15",tddbandwidth:5,tddfrequency:"",dlScs:"15",ulScs:"15",dlBandwidth:"5",ulBandwidth:"5",subcarrier:15,scsBandwidth:0,wifiProtocol:"wifi4",guardInterval:"400ns",wifiMimo:"1x1"}):"candidate"===t?(e=this.CANDIDATE_COLOR,this.svgId=`${t}_${this.generateString(10)}`,this.candidateList.push(this.svgId),this.pathStyle[this.svgId]={fill:this.CANDIDATE_COLOR},n=this.candidateWidth,i=this.candidateHeight):"UE"===t?(e=this.UE_COLOR,this.svgId=`${t}_${this.generateString(10)}`,this.ueList.push(this.svgId),this.pathStyle[this.svgId]={fill:this.UE_COLOR},n=this.ueWidth,i=this.ueHeight):"trapezoid"===t&&(e=this.OBSTACLE_COLOR,this.svgId=`${t}_${this.generateString(10)}`,this.obstacleList.push(this.svgId),this.trapezoidStyle[this.svgId]={fill:e,width:n,height:i}),this.spanStyle[this.svgId]={left:"200px",top:"100px",width:n+"px",height:i+"px"},this.svgStyle[this.svgId]={display:"inherit",width:n,height:i},this.dragObject[this.svgId]={x:0,y:0,z:this.zValues[0],width:n,height:i,altitude:this.calculateForm.altitude,rotate:0,title:this.svgMap[t].title,type:this.svgMap[t].type,color:e,material:"0",element:this.parseElement(t)},this.realId=Et.cloneDeep(this.svgId),this.frame=new Mt({width:n+"px",height:i+"px",left:"200px",top:"100px","z-index":99999,transform:{rotate:"0deg",scaleX:1,scaleY:1}}),this.currentLeft=Et.cloneDeep(this.spanStyle[this.svgId].left),this.currentTop=Et.cloneDeep(this.spanStyle[this.svgId].top),this.ognSpanStyle=Et.cloneDeep(this.spanStyle),window.setTimeout(()=>{this.target=document.getElementById(""+this.svgId),this.live=!0,"obstacle"===this.svgMap[t].type?(this.moveable.rotatable=!0,this.moveable.resizable=!0):(this.moveable.rotatable=!1,this.moveable.resizable=!1),this.moveable.ngOnInit(),this.setDragData(),this.moveNumber(this.svgId),this.hoverObj=this.target,this.setLabel()},0)}moveClick(t){try{this.moveable.destroy()}catch(e){}window.setTimeout(()=>{this.live=!0},0),this.target=document.getElementById(t),this.svgId=t,this.realId=Et.cloneDeep(t),this.frame=new Mt({width:this.spanStyle[t].width,height:this.spanStyle[t].height,left:this.spanStyle[t].left,top:this.spanStyle[t].top,"z-index":99999,transform:{rotate:this.dragObject[this.svgId].rotate+"deg",scaleX:1,scaleY:1}}),this.currentLeft=Et.cloneDeep(this.spanStyle[this.svgId].left),this.currentTop=Et.cloneDeep(this.spanStyle[this.svgId].top),this.ognSpanStyle=Et.cloneDeep(this.spanStyle),this.live=!0,"obstacle"===this.dragObject[t].type?(this.moveable.rotatable=!0,this.moveable.resizable=!0):(this.moveable.rotatable=!1,this.moveable.resizable=!1),this.moveable.ngOnInit(),this.setDragData(),this.hoverObj=this.target,this.setLabel()}setTransform(t){t.style.cssText=this.frame.toCSS()}setLabel(){this.live=!0,window.setTimeout(()=>{const t=this.hoverObj.getBoundingClientRect();this.tooltipStyle.left=t.left+"px",this.tooltipStyle.top=t.top+t.height+5+"px",this.tooltipStr=this.getTooltip()},0)}getTooltip(){const t=this.hoverObj.id;let e=this.dragObject[t].title+"<br>";return e+=`X: ${this.dragObject[t].x}<br>`,e+=`Y: ${this.dragObject[t].y}<br>`,"obstacle"===this.dragObject[t].type?(e+=`${this.translateService.instant("width")}: ${this.dragObject[t].width}<br>`,e+=`${this.translateService.instant("height")}: ${this.dragObject[t].height}<br>`,e+=`${this.translateService.instant("result.pdf.altitude")}: ${this.dragObject[t].altitude}<br>`):e+=`Z: ${this.dragObject[t].z}<br>`,"obstacle"===this.dragObject[t].type&&(e+=`${this.translateService.instant("material")}: ${this.authService.parseMaterial(this.dragObject[t].material)}`),e}setDragData(){const t=this.target.getBoundingClientRect(),e=this.chartBottom-t.bottom;let n=this.roundFormat(this.xLinear(t.left-this.chartLeft));n<0&&(n=0);const i=this.dragObject[this.svgId].element,r=this.roundFormat(this.yLinear(e));let o,a;0===Number(i)?(o=this.roundFormat(this.xLinear(this.rectStyle[this.svgId].width)),a=this.roundFormat(this.yLinear(this.rectStyle[this.svgId].height))):1===Number(i)?(o=this.roundFormat(this.xLinear(t.width)),a=this.roundFormat(this.yLinear(t.width))):2===Number(i)?(o=this.roundFormat(this.xLinear(this.svgStyle[this.svgId].width)),a=this.roundFormat(this.yLinear(this.svgStyle[this.svgId].height))):3===Number(i)&&(o=this.roundFormat(this.xLinear(this.trapezoidStyle[this.svgId].width)),a=this.roundFormat(this.yLinear(this.trapezoidStyle[this.svgId].height))),this.dragObject[this.svgId].x=n,this.dragObject[this.svgId].y=r,this.dragObject[this.svgId].width=o,this.dragObject[this.svgId].height=a}dragStart(t){}onDrag({target:t,top:e,left:n}){this.svgId!==this.realId&&(this.svgId=Et.cloneDeep(this.realId),t=document.querySelector("#"+this.svgId)),this.target=t,this.frame.set("left",n+"px"),this.frame.set("top",e+"px"),this.frame.set("z-index",9999999),this.setTransform(t),this.spanStyle[this.svgId].left=n+"px",this.spanStyle[this.svgId].top=e+"px",this.setDragData(),"defaultBS"!==this.dragObject[this.svgId].type&&"candidate"!==this.dragObject[this.svgId].type||(this.circleStyle[this.svgId]={top:e-20+"px",left:n+20+"px"}),this.setLabel()}onRotate({target:t,beforeDelta:e}){this.svgId!==this.realId&&(this.svgId=Et.cloneDeep(this.realId),t=document.querySelector("#"+this.svgId));const n=parseFloat(this.frame.get("transform","rotate"))+e;this.frame.set("transform","rotate",n+"deg"),this.frame.set("left",this.currentLeft),this.frame.set("top",this.currentTop),this.setTransform(t),this.dragObject[this.svgId].rotate=Math.ceil(n),this.spanStyle[this.svgId].transform=`rotate(${this.dragObject[this.svgId].rotate}deg)`,this.setLabel()}onResize({target:t,width:e,height:n,drag:i}){this.svgId!==this.realId&&(this.svgId=Et.cloneDeep(this.realId),t=document.querySelector("#"+this.svgId)),e<5&&(e=5),n<5&&(n=5);const r=this.dragObject[this.svgId].element;"3"===r&&(e>n?n=e:e=n),this.frame.set("width",e+"px"),this.frame.set("height","ellipse"===r?e+"px":n+"px"),this.spanStyle[this.svgId].transform=`rotate(${this.dragObject[this.svgId].rotate}deg)`,this.frame.set("z-index",9999999),this.frame.set("transform","rotate",this.dragObject[this.svgId].rotate+"deg"),this.setTransform(t);const o=i.beforeTranslate;if(t.style.transform=`translate(${o[0]}px, ${o[1]}px) rotate(${this.dragObject[this.svgId].rotate}deg)`,this.svgStyle[this.svgId].width=e,this.svgStyle[this.svgId].height=n,this.spanStyle[this.svgId].width=e+"px",this.spanStyle[this.svgId].height=n+"px",0===Number(r))this.rectStyle[this.svgId].width=e,this.rectStyle[this.svgId].height=n;else if(1===Number(r)){const t=(e/2).toString();this.ellipseStyle[this.svgId].rx=t,this.ellipseStyle[this.svgId].ry=t,this.ellipseStyle[this.svgId].cx=t,this.ellipseStyle[this.svgId].cy=t}else 2===Number(r)?this.polygonStyle[this.svgId].points=`${e/2},0 ${e}, ${n} 0, ${n}`:3===Number(r)&&(this.trapezoidStyle[this.svgId].width=e,this.trapezoidStyle[this.svgId].height=n);this.setDragData(),this.setLabel()}onEnd(){this.live=!1;for(const t of this.obstacleList)t!==this.svgId&&(this.spanStyle[t]=Et.cloneDeep(this.ognSpanStyle[t]));this.moveClick(this.target.id)}moveableDestroy(){this.moveable.destroy()}arrowUpDown(t,e){const n=t.target;"keyboard_arrow_down"===n.innerHTML?(n.innerHTML="keyboard_arrow_up",this.subitemClass[e]="subitem active"):(n.innerHTML="keyboard_arrow_down",this.subitemClass[e]="subitem")}onRightClick(t,e){this.svgId=e,t.preventDefault(),this.menuTopLeftStyle.left=t.clientX+"px",this.menuTopLeftStyle.top=t.clientY+"px",this.matMenuTrigger.openMenu()}delete(){"obstacle"===this.dragObject[this.svgId].type?this.obstacleList.splice(this.obstacleList.indexOf(this.svgId),1):"defaultBS"===this.dragObject[this.svgId].type?this.defaultBSList.splice(this.defaultBSList.indexOf(this.svgId),1):"candidate"===this.dragObject[this.svgId].type?this.candidateList.splice(this.candidateList.indexOf(this.svgId),1):"UE"===this.dragObject[this.svgId].type&&this.ueList.splice(this.ueList.indexOf(this.svgId),1)}colorChange(){this.dragObject[this.svgId].color=this.color,"obstacle"===this.dragObject[this.svgId].type?0===Number(this.dragObject[this.svgId].element)?this.rectStyle[this.svgId].fill=this.color:1===Number(this.dragObject[this.svgId].element)?this.ellipseStyle[this.svgId].fill=this.color:2===Number(this.dragObject[this.svgId].element)?this.polygonStyle[this.svgId].fill=this.color:3===Number(this.dragObject[this.svgId].element)&&(this.trapezoidStyle[this.svgId].fill=this.color):this.pathStyle[this.svgId].fill=this.color}openRfParamSetting(t){this.svgId=t,this.matDialog.open(this.rfModal)}openHeightSetting(){this.matDialog.open(this.materialModal)}materialChange(t){this.dragObject[this.svgId].material=t}hover(t,e){this.live=!0,this.svgId=e,this.hoverObj=t.target.closest("span"),this.setLabel()}hoverout(t){this.live=!1}fileChange(t){this.obstacleList.length=0,this.defaultBSList.length=0,this.candidateList.length=0,this.ueList.length=0,this.dragObject={},this.calculateForm.obstacleInfo="",this.calculateForm.defaultBs="",this.calculateForm.candidateBs="",this.calculateForm.ueCoordinate="";const e=t.target.files[0];this.calculateForm.mapName=e.name,this.showFileName=!1;const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{this.calculateForm.mapImage=n.result.toString(),this.initData(!1,!0)}}moveNumber(t){if(null!=document.querySelector(`#${t}_circle`)){const e=Number(this.spanStyle[t].top.replace("px",""))-20+"px",n=Number(this.spanStyle[t].width.replace("px","")),i=Number(this.spanStyle[t].left.replace("px",""));this.circleStyle[t]={top:e,left:i+n-10+"px"}}}calculate(){try{this.moveable.destroy()}catch(t){}if(console.log(this.calculateForm),(this.candidateList.length<this.calculateForm.availableNewBsNumber||0===Number(this.calculateForm.availableNewBsNumber))&&"3"!==this.planningIndex){let t;t=this.translateService.instant("2"===this.calculateForm.objectiveIndex?"availableNewBsNumber.wifi":"availableNewBsNumber.gen"),t+=this.candidateList.length<this.calculateForm.availableNewBsNumber?" "+this.translateService.instant("must_less_then")+this.candidateList.length:" "+this.translateService.instant("must_greater_then")+"0",this.msgDialogConfig.data={type:"error",infoMessage:t},this.matDialog.open(Te.a,this.msgDialogConfig)}else{this.progressNum=0,this.authService.spinnerShowAsHome(),this.setForm(),this.setPlanningObj(),console.log(this.calculateForm);let t="";"3"!==this.planningIndex?(t=this.authService.API_URL+"/calculate",this.calculateForm.isSimulation=!1):(t=this.authService.API_URL+"/simulation",this.calculateForm.isSimulation=!0),this.http.post(t,JSON.stringify(this.calculateForm)).subscribe(t=>{this.taskid=t.taskid;const e=document.getElementById("percentageVal");null!=e&&(e.innerHTML="0"),this.getProgress()},t=>{this.authService.spinnerHide(),console.log(t)})}}setPlanningObj(){"1"===this.planningIndex?(this.calculateForm.isUeAvgSinr=!1,this.calculateForm.isUeAvgThroughput=!1,this.calculateForm.isUeTpByDistance=!1):(this.calculateForm.isAverageSinr=!1,this.calculateForm.isCoverage=!1),sessionStorage.setItem("planningObj",JSON.stringify({isAverageSinr:this.calculateForm.isAverageSinr,isCoverage:this.calculateForm.isCoverage,isUeAvgSinr:this.calculateForm.isUeAvgSinr,isUeAvgThroughput:this.calculateForm.isUeAvgThroughput,isUeTpByDistance:this.calculateForm.isUeTpByDistance}))}setForm(){void 0===this.calculateForm.isAverageSinr&&(this.calculateForm.isAverageSinr=!1),void 0===this.calculateForm.isAvgThroughput&&(this.calculateForm.isAvgThroughput=!1),void 0===this.calculateForm.isCoverage&&(this.calculateForm.isCoverage=!1),void 0===this.calculateForm.isUeAvgSinr&&(this.calculateForm.isUeAvgSinr=!1),void 0===this.calculateForm.isUeAvgThroughput&&(this.calculateForm.isUeAvgThroughput=!1),void 0===this.calculateForm.isUeTpByDistance&&(this.calculateForm.isUeTpByDistance=!1),this.calculateForm.useUeCoordinate=1,this.calculateForm.sinrRatio=this.calculateForm.isAverageSinr?5:null,this.calculateForm.throughputRatio=this.calculateForm.isCoverage?5:null,this.calculateForm.ueAvgSinrRatio=this.calculateForm.isUeAvgSinr?16:null,this.calculateForm.ueCoverageRatio=this.calculateForm.isUeAvgThroughput?.95:null,this.calculateForm.ueAvgThroughputRatio=this.calculateForm.isUeCoverage?100:null,this.calculateForm.sessionid=this.authService.userToken;const t=this.zValues.filter(t=>""!==t);this.calculateForm.zValue=`[${t.toString()}]`;let e="";if(this.calculateForm.obstacleInfo=e,this.obstacleList.length>0){for(let t=0;t<this.obstacleList.length;t++){const n=this.dragObject[this.obstacleList[t]];let i=0;"polygon"===n.element?i=1:"ellipse"===n.element?i=2:"trapezoid"===n.element&&(i=3),e+=`[${n.x},${n.y},${n.width},${n.height},${n.altitude},${n.rotate},${n.material},${i}]`,t<this.obstacleList.length-1&&(e+="|")}this.calculateForm.obstacleInfo=e}let n="";if(this.calculateForm.ueCoordinate=n,this.ueList.length>0)for(let E=0;E<this.ueList.length;E++){const t=this.dragObject[this.ueList[E]];n+=`[${t.x},${t.y},${t.z}]`,E<this.ueList.length-1&&(n+="|")}else n="";this.calculateForm.ueCoordinate=n;let i="";if(this.calculateForm.defaultBs=i,this.defaultBSList.length>0){for(let t=0;t<this.defaultBSList.length;t++){const e=this.dragObject[this.defaultBSList[t]];i+=`[${e.x},${e.y},${e.z}]`,t<this.defaultBSList.length-1&&(i+="|")}this.calculateForm.defaultBs=i,this.calculateForm.bsList=i}let r=[],o=[],a=[],s="";s="0"===this.calculateForm.objectiveIndex?"4G":"1"===this.calculateForm.objectiveIndex?"5G":"wifi";let l=this.duplexMode,c=this.dlRatio,u=[],h=[],d=this.mimoNumber4G,p=[],g=[],f=[],b=[],v=[],m=[],y=[],w=[],x=[],O=[],_=[],C=[],M=[],T=[];if(this.defaultBSList.length>0){for(let t=0;t<this.defaultBSList.length;t++){const e=this.bsListRfParam[this.defaultBSList[t]];console.log("obj: "+JSON.stringify(e)),r.push(e.txpower),o.push(e.beampattern),a.push(e.frequency),"wifi"!==s?("5G"===s&&(p.push(e.ulModulationCodScheme),g.push(e.dlModulationCodScheme),f.push(e.ulmimoLayer),b.push(e.dlmimoLayer)),"TDD"===l?(v.push(e.tddscs),m.push(e.tddbandwidth),y.push(e.tddfrequency)):(u.push(e.fddDlFrequency),h.push(e.fddUlFrequency),w.push(e.dlScs),x.push(e.ulScs),O.push(e.dlBandwidth),_.push(e.ulBandwidth))):(M.push(e.wifiProtocol),C.push(e.guardInterval),T.push(e.wifiMimo))}this.calculateForm.mapProtocol=s,this.calculateForm.duplex=l,this.calculateForm.scalingFactor=0,this.calculateForm.tddFrameRatio=c,this.calculateForm.mimoNumber=d,this.calculateForm.ulMcsTable=`[${p.toString()}]`,this.calculateForm.dlMcsTable=`[${g.toString()}]`,this.calculateForm.ulMimoLayer=`[${f.toString()}]`,this.calculateForm.dlMimoLayer=`[${b.toString()}]`,this.calculateForm.dlFrequency=`[${u.toString()}]`,this.calculateForm.ulFrequency=`[${h.toString()}]`,this.calculateForm.dlScs=`[${w.toString()}]`,this.calculateForm.ulScs=`[${x.toString()}]`,this.calculateForm.dlBandwidth=`[${O.toString()}]`,this.calculateForm.ulBandwidth=`[${_.toString()}]`,this.calculateForm.wifiProtocol=`[${C.toString()}]`,this.calculateForm.guardInterval=`[${M.toString()}]`,this.calculateForm.wifiMimo=`[${T.toString()}]`,this.calculateForm.txPower=`[${r.toString()}]`,this.calculateForm.beamId=`[${o.toString()}]`,this.calculateForm.frequencyList=`[${a.toString()}]`,console.log("calculateForm"),console.log(this.calculateForm)}let S="";if(this.calculateForm.candidateBs=S,this.candidateList.length>0){for(let t=0;t<this.candidateList.length;t++){const e=this.dragObject[this.candidateList[t]];S+=`[${e.x},${e.y},${e.z}]`,t<this.candidateList.length-1&&(S+="|")}this.calculateForm.candidateBs=S}Object.keys(this.calculateForm).forEach(t=>{this.numColumnList.includes(t)&&(this.calculateForm[t]=Number(this.calculateForm[t]))}),2===Number(this.calculateForm.objectiveIndex)&&(this.calculateForm.pathLossModelId=9)}changeTxBfFreq(t){console.log(`Bs${t}:${this.bsListRfParam[t]}`)}addInterval(){this.pgInterval=window.setInterval(()=>{if(this.progressNum<100){const t=document.getElementById("percentageVal");null!=t&&(t.innerHTML=(this.progressNum++).toString())}else{window.clearInterval(this.pgInterval);for(let t=0;t<this.pgInterval;t++)window.clearInterval(t)}},3e3)}getProgress(){this.http.get(`${this.authService.API_URL}/progress/${this.taskid}/${this.authService.userToken}`).subscribe(t=>{window.clearInterval(this.progressInterval);for(let e=0;e<this.progressInterval;e++)window.clearInterval(e);if(1===t.progress){const t=document.getElementById("percentageVal");null!=t&&(t.innerHTML="100"),this.authService.spinnerHide(),window.clearInterval(this.pgInterval);for(let e=0;e<this.pgInterval;e++)window.clearInterval(e);this.router.navigate(["/site/result"],{queryParams:{taskId:this.taskid}})}else{window.clearInterval(this.progressInterval);for(let t=0;t<this.progressInterval;t++)window.clearInterval(t);this.progressInterval=window.setTimeout(()=>{this.addInterval(),this.getProgress()},3e3)}},t=>{this.authService.spinnerHide(),window.clearInterval(this.progressInterval);for(let e=0;e<this.progressInterval;e++)window.clearInterval(e);'{"progress":,"index":-1}'===t.error.text&&this.http.get(`${this.authService.API_URL}/completeCalcResult/${this.taskid}/${this.authService.userToken}`).subscribe(t=>{this.router.navigate(["/site/result"],{queryParams:{taskId:this.taskid}})})})}changeSize(t){this.svgId=t,this.target=document.querySelector("#"+t);const e=this.pixelXLinear(this.dragObject[t].width),n=this.pixelYLinear(this.dragObject[t].height);this.frame.set("width",e+"px"),this.frame.set("height",n+"px"),this.setTransform(this.target);const i=this.target.querySelector("svg");i.setAttribute("width",e.toString()),i.setAttribute("height",n.toString());const r=i.querySelector(".drag_rect"),o=this.dragObject[this.svgId].element;if(0===Number(o))r.setAttribute("width",e.toString()),r.setAttribute("height",n.toString());else if(1===Number(o)){const t=(Plotly.d3.min([e,n])/2).toString();r.setAttribute("rx",t.toString()),r.setAttribute("ry",t.toString()),r.setAttribute("cx",t.toString()),r.setAttribute("cy",t.toString())}else 2===Number(o)&&r.setAttribute("points",`${e/2},0 ${e}, ${n} 0, ${n}`);"defaultBS"!==this.dragObject[this.svgId].type&&"candidate"!==this.dragObject[this.svgId].type||this.moveNumber(t)}changePosition(t){this.target=document.querySelector("#"+t);const e=this.target.getBoundingClientRect().height,n=this.pixelXLinear(this.dragObject[t].x)+this.chartLeft,i=this.chartBottom-this.pixelYLinear(this.dragObject[t].y)-e;this.frame.set("left",n+"px"),this.frame.set("top",i+"px"),"obstacle"===this.dragObject[t].type&&(this.frame.set("width",this.pixelXLinear(this.dragObject[t].width)+"px"),this.frame.set("height",this.pixelYLinear(this.dragObject[t].height)+"px")),this.setTransform(this.target),this.spanStyle[t].left=n,this.spanStyle[t].top=i,"defaultBS"!==this.dragObject[t].type&&"candidate"!==this.dragObject[t].type||this.moveNumber(t)}changeRotate(t){this.svgId=t,this.target=document.querySelector("#"+t),this.frame.set("transform","rotate",this.dragObject[t].rotate+"deg"),this.setTransform(this.target),this.target.setAttribute("style",`transform: rotate(${this.dragObject[t].rotate}deg)`),"0"===this.dragObject[t].rotate&&(this.target.click(),this.target.blur())}clearAll(t){"obstacle"===t?this.obstacleList.length=0:"defaultBS"===t?this.defaultBSList.length=0:"candidate"===t?this.candidateList.length=0:"UE"===t&&(this.ueList.length=0)}view3D(){const t=[];for(const r of this.defaultBSList)t.push(this.dragObject[r]);const e=[];for(const r of this.candidateList)e.push(this.dragObject[r]);const n=[];for(const r of this.obstacleList)n.push(this.dragObject[r]);const i=[];for(const r of this.ueList)i.push(this.dragObject[r]);this.view3dDialogConfig.data={calculateForm:this.calculateForm,obstacleList:n,defaultBSList:t,candidateList:e,ueList:i,zValue:this.zValues,result:this.hstOutput},this.matDialog.open(Ce.a,this.view3dDialogConfig)}export(){const t=Me.utils.book_new(),e=[["image","imageName","width","height","altitude","protocol","mapLayer"],[this.calculateForm.mapImage,this.calculateForm.mapName,this.calculateForm.width,this.calculateForm.height,this.calculateForm.altitude,this.calculateForm.objectiveIndex,this.zValues[0]]];if(this.zValues.length>1)for(let g=1;g<this.zValues.length;g++)e.push(["","","","","","",this.zValues[g]]);const n=Me.utils.aoa_to_sheet(e);Me.utils.book_append_sheet(t,n,"map");const i=[["x","y","z","material","color","txpower","beamId","frequency"]];for(const g of this.defaultBSList)i.push([this.dragObject[g].x,this.dragObject[g].y,this.dragObject[g].z,this.dragObject[g].material,this.dragObject[g].color,this.bsListRfParam[g].txpower,this.bsListRfParam[g].beampattern,this.bsListRfParam[g].frequency]);const r=Me.utils.aoa_to_sheet(i);Me.utils.book_append_sheet(t,r,"base_station");const o=[["x","y","z","material","color"]];for(const g of this.candidateList)o.push([this.dragObject[g].x,this.dragObject[g].y,this.dragObject[g].z,this.dragObject[g].material,this.dragObject[g].color]);const a=Me.utils.aoa_to_sheet(o);Me.utils.book_append_sheet(t,a,"candidate");const s=[["x","y","z","material","color"]];for(const g of this.ueList)s.push([this.dragObject[g].x,this.dragObject[g].y,this.dragObject[g].z,this.dragObject[g].material,this.dragObject[g].color]);const l=Me.utils.aoa_to_sheet(s);Me.utils.book_append_sheet(t,l,"ue");const c=[["x","y","width","height","altitude","rotate","material","color","shape"]];for(const g of this.obstacleList){let t="0";"polygon"===this.dragObject[g].element?t="1":"ellipse"===this.dragObject[g].element&&(t="2"),c.push([this.dragObject[g].x,this.dragObject[g].y,this.dragObject[g].width,this.dragObject[g].height,this.dragObject[g].altitude,this.dragObject[g].rotate,this.dragObject[g].material,this.dragObject[g].color,t])}const u=Me.utils.aoa_to_sheet(c);Me.utils.book_append_sheet(t,u,"obstacle");const h=Me.utils.aoa_to_sheet([["bsPowerMax","bsPowerMin","bsBeamIdMax","bsBeamIdMin","bandwidth","frequency"],[this.calculateForm.powerMaxRange,this.calculateForm.powerMinRange,"","",this.calculateForm.bandwidth,this.calculateForm.frequency]]);Me.utils.book_append_sheet(t,h,"bs parameters");const d=Me.utils.aoa_to_sheet([["crossover","mutation","iteration","seed","computeRound","useUeCoordinate","pathLossModel"],[this.calculateForm.crossover,this.calculateForm.mutation,this.calculateForm.iteration,this.calculateForm.seed,1,this.calculateForm.useUeCoordinate,this.calculateForm.pathLossModelId]]);Me.utils.book_append_sheet(t,d,"algorithm parameters");const p=Me.utils.aoa_to_sheet([["objective","objectiveStopCondition","newBsNum"],["1","",this.calculateForm.availableNewBsNumber]]);Me.utils.book_append_sheet(t,p,"objective parameters"),console.log(t),Me.writeFile(t,this.calculateForm.taskName+".xlsx")}import(t){const e=t.target;if(1!==e.files.length)throw new Error("Cannot use multiple files");const n=t.target.files[0],i=new FileReader;i.onload=e=>{const i=e.target.result,r=n.name.substring(0,n.name.lastIndexOf("."));sessionStorage.setItem("taskName",r),this.readXls(i),t.target.value=""},i.readAsBinaryString(e.files[0])}readXls(t){this.obstacleList.length=0,this.defaultBSList.length=0,this.candidateList.length=0,this.ueList.length=0,this.calculateForm=new St.a,this.calculateForm.taskName=sessionStorage.getItem("taskName"),this.wb=Me.read(t,{type:"binary"});const e=Me.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[0]],{header:1});try{this.calculateForm.mapImage="";const t={};Object.keys(e[0]).forEach(n=>{t[e[0][n]]=n}),this.zValues.length=0;for(let n=1;n<e.length;n++)this.calculateForm.mapImage+=e[n][0],void 0!==e[n][t.mapLayer]&&""!==e[n][t.mapLayer]&&this.zValues.push(e[n][t.mapLayer]);this.calculateForm.width=e[1][t.width],this.calculateForm.height=e[1][t.height],this.calculateForm.altitude=e[1][t.altitude],this.calculateForm.mapName=void 0===e[1][t.mapName]?e[1][t.imageName]:e[1][t.mapName],void 0===e[1][t.protocol]?this.calculateForm.objectiveIndex="2":"0"===e[1][t.protocol]||"4G"===e[1][t.protocol]?this.calculateForm.objectiveIndex="0":"1"===e[1][t.protocol]||"5G"===e[1][t.protocol]?this.calculateForm.objectiveIndex="1":"2"!==e[1][t.protocol]&&"wifi"!==e[1][t.protocol]||(this.calculateForm.objectiveIndex="2"),this.initData(!0,!1)}catch(n){console.log(n),this.msgDialogConfig.data={type:"error",infoMessage:this.translateService.instant("xlxs.fail")},this.matDialog.open(Te.a,this.msgDialogConfig),window.setTimeout(()=>{this.matDialog.closeAll(),this.router.navigate(["/"])},2e3)}}setImportData(){this.obstacleList.length=0,this.defaultBSList.length=0,this.candidateList.length=0,this.ueList.length=0;const t=new RegExp("[0-4]"),e={};for(let c=0;c<this.wb.SheetNames.length;c++)e[this.wb.SheetNames[c]]=c;const n=Me.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[e.base_station]],{header:1});if(n.length>1)for(let c=1;c<n.length;c++){const e="defaultBS_"+(c-1);let i=void 0===n[c][3]?"0":n[c][3];t.test(i)||(i="0");const r=void 0===n[c][4]?this.DEFAULT_BS_COLOR:n[c][4];this.dragObject[e]={x:n[c][0],y:n[c][1],z:n[c][2],width:this.xLinear(30),height:this.yLinear(30),altitude:50,rotate:0,title:this.svgMap.defaultBS.title,type:this.svgMap.defaultBS.type,color:r,material:i,element:this.svgMap.defaultBS.element},this.bsListRfParam[e]={txpower:n[c][5],beampattern:n[c][6],frequency:n[c][7]},console.log("AAAAAAAAAAAAAAAAAAAAAAAAA"),console.log(this.dragObject),this.defaultBSList.push(e),this.spanStyle[e]={left:this.pixelXLinear(n[c][0])+"px",top:this.chartHeight-30-this.pixelYLinear(n[c][1])+"px",width:"30px",height:"30px"},this.svgStyle[e]={display:"inherit",width:30,height:30},this.pathStyle[e]={fill:r},window.setTimeout(()=>{this.moveNumber(e)},0)}const i=Me.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[e.candidate]],{header:1});if(i.length>1)for(let c=1;c<i.length;c++){const e="candidate_"+(c-1);this.candidateList.push(e);let n=void 0===i[c][3]?"0":i[c][3];t.test(n)||(n="0");const r=void 0===i[c][4]?this.CANDIDATE_COLOR:i[c][4];this.dragObject[e]={x:i[c][0],y:i[c][1],z:i[c][2],width:this.xLinear(this.candidateWidth),height:this.yLinear(this.candidateHeight),altitude:50,rotate:0,title:this.svgMap.candidate.title,type:this.svgMap.candidate.type,color:r,material:n,element:this.svgMap.candidate.element},this.spanStyle[e]={left:this.pixelXLinear(i[c][0])+"px",top:this.chartHeight-this.candidateHeight-this.pixelYLinear(i[c][1])+"px",width:this.candidateWidth+"px",height:this.candidateHeight+"px"},this.svgStyle[e]={display:"inherit",width:this.candidateWidth,height:this.candidateHeight},this.pathStyle[e]={fill:r},window.setTimeout(()=>{this.moveNumber(e)},0)}const r=this.wb.SheetNames[e.ue];if(void 0!==r){const e=Me.utils.sheet_to_json(this.wb.Sheets[r],{header:1});if(e.length>1)for(let n=1;n<e.length;n++){if(void 0===e[n][0])continue;const i="UE_"+(n-1);this.ueList.push(i);let r=void 0===e[n][3]?"0":e[n][3];t.test(r)||(r="0");const o=void 0===e[n][4]?this.UE_COLOR:e[n][4];this.dragObject[i]={x:e[n][0],y:e[n][1],z:e[n][2],width:this.xLinear(this.ueWidth),height:this.yLinear(this.ueHeight),altitude:50,rotate:0,title:this.svgMap.UE.title,type:this.svgMap.UE.type,color:o,material:r,element:this.svgMap.UE.element},this.spanStyle[i]={left:this.pixelXLinear(e[n][0])+"px",top:this.chartHeight-this.ueHeight-this.pixelYLinear(e[n][1])+"px",width:"19px",height:"29px"},this.svgStyle[i]={display:"inherit",width:this.ueWidth,height:this.ueHeight},this.pathStyle[i]={fill:o}}}const o=Me.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[e.obstacle]],{header:1});if(o.length>1)for(let c=1;c<o.length;c++){if(0===o[c].length)continue;let e,n,i=o[c][8];"rect"===i||0===Number(i)?(e="rect_"+this.generateString(10),n="rect"):"ellipse"===i||2===Number(i)?(e="ellipse_"+this.generateString(10),n="ellipse"):"polygon"===i||1===Number(i)?(e="polygon_"+this.generateString(10),n="polygon"):"trapezoid"===i||3===Number(i)?(e="trapezoid_"+this.generateString(10),n="trapezoid"):(i="0",e="rect_"+this.generateString(10),n="rect");let r=void 0===o[c][6]?"0":o[c][6].toString();if(t.test(r)||(r="0"),this.dragObject[e]={x:o[c][0],y:o[c][1],z:0,width:o[c][2],height:o[c][3],altitude:o[c][4],rotate:void 0===o[c][5]?0:o[c][5],title:this.svgMap[n].title,type:this.svgMap[n].type,color:void 0===o[c][7]?this.OBSTACLE_COLOR:o[c][7],material:r,element:i},this.svgStyle[e]={display:"inherit",width:this.pixelXLinear(this.dragObject[e].width),height:this.pixelYLinear(this.dragObject[e].height)},"rect"===i||0===Number(i))this.spanStyle[e]={left:this.pixelXLinear(this.dragObject[e].x)+"px",top:this.chartHeight-this.pixelYLinear(this.dragObject[e].height)-this.pixelYLinear(o[c][1])+"px",width:this.pixelXLinear(o[c][2])+"px",height:this.pixelYLinear(o[c][3])+"px",transform:`rotate(${this.dragObject[e].rotate}deg)`},this.rectStyle[e]={width:this.pixelXLinear(this.dragObject[e].width),height:this.pixelYLinear(this.dragObject[e].height),fill:this.dragObject[e].color};else if("ellipse"===i||1===Number(i)){this.spanStyle[e]={left:this.pixelXLinear(this.dragObject[e].x)+"px",top:this.pixelYLinear(this.dragObject[e].y)+"px",width:this.pixelXLinear(2*this.dragObject[e].width)+"px",height:this.pixelYLinear(2*this.dragObject[e].height)+"px",transform:`rotate(${this.dragObject[e].rotate}deg)`};const t=(this.pixelXLinear(this.dragObject[e].width)/2).toString(),n=(this.pixelYLinear(this.dragObject[e].height)/2).toString();this.ellipseStyle[e]={cx:t,cy:n,rx:t,ry:n,fill:this.dragObject[e].color}}else if("polygon"===i||2===Number(i)){this.spanStyle[e]={left:""+this.pixelXLinear(this.dragObject[e].x),top:""+this.pixelYLinear(this.dragObject[e].y),width:this.pixelXLinear(o[c][2]/2),height:this.pixelYLinear(o[c][3]/2),transform:`rotate(${this.dragObject[e].rotate}deg)`};const t=this.pixelXLinear(this.dragObject[e].width),n=this.pixelYLinear(this.dragObject[e].height);this.polygonStyle[e]={points:`${t/2},0 ${t}, ${n} 0, ${n}`,fill:this.dragObject[e].color}}else"trapezoid"!==i&&3!==Number(i)||(this.spanStyle[e]={left:""+this.pixelXLinear(this.dragObject[e].x),top:""+this.pixelYLinear(this.dragObject[e].y),width:this.pixelXLinear(o[c][2]/2),height:this.pixelYLinear(o[c][3]/2),transform:`rotate(${this.dragObject[e].rotate}deg)`},this.trapezoidStyle[e]={fill:this.dragObject[e].color});this.obstacleList.push(e)}const a=Me.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[e["bs parameters"]]],{header:1});a.length>1&&(this.calculateForm.powerMaxRange=Number(a[1][0]),this.calculateForm.powerMinRange=Number(a[1][1]),this.calculateForm.beamMaxId=Number(a[1][2]),this.calculateForm.beamMinId=Number(a[1][3]),this.calculateForm.bandwidth=Number(a[1][4]),this.calculateForm.frequency=Number(a[1][5]));const s=Me.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[e["algorithm parameters"]]],{header:1});s.length>1&&(this.calculateForm.crossover=Number(s[1][0]),this.calculateForm.mutation=Number(s[1][1]),this.calculateForm.iteration=Number(s[1][2]),this.calculateForm.seed=Number(s[1][3]),this.calculateForm.useUeCoordinate=Number(s[1][5]),this.calculateForm.pathLossModelId=Number(s[1][6]));const l=Me.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[e["objective parameters"]]],{header:1});l.length>1&&(this.calculateForm.availableNewBsNumber=Number(l[1][2])),"2"===this.calculateForm.objectiveIndex?(Number(this.calculateForm.bandwidth>=20)&&(this.wifiFrequency="1"),this.changeWifiFrequency()):"1"===this.calculateForm.objectiveIndex&&this.setSubcarrier()}save(){this.authService.spinnerShowAsHome(),this.setForm(),this.http.post(this.authService.API_URL+"/storeResult",JSON.stringify(this.calculateForm)).subscribe(t=>{this.taskid=t.taskid,this.authService.spinnerHide()},t=>{this.authService.spinnerHide(),console.log(t)})}edit(){if(!this.authService.isEmpty(this.calculateForm.obstacleInfo)){const t=this.calculateForm.obstacleInfo.split("|"),e=t.length;for(let n=0;n<e;n++){if(-1!==t[n].indexOf("undefined"))continue;const e=JSON.parse(t[n]);let i="0";void 0!==e[7]&&(i=e[7]);const r=`${i}_${this.generateString(10)}`;this.dragObject[r]={x:e[0],y:e[1],z:0,width:e[2],height:e[3],altitude:e[4],rotate:e[5],title:this.translateService.instant("obstacleInfo"),type:this.svgElmMap(i).type,color:this.OBSTACLE_COLOR,material:e[6].toString(),element:i},console.log(e),this.spanStyle[r]={left:this.pixelXLinear(e[0])+"px",top:this.chartHeight-this.pixelYLinear(e[3])-this.pixelYLinear(e[1])+"px",width:this.pixelXLinear(e[2])+"px",height:this.pixelYLinear(e[3])+"px",transform:`rotate(${this.dragObject[r].rotate}deg)`,opacity:0},this.dragObject[r].rotate<0?this.spanStyle[r]["transform-origin"]="top left":this.dragObject[r].rotate>0&&(this.spanStyle[r]["transform-origin"]="bottom right"),e[5]<0?window.setTimeout(()=>{document.getElementById(r).getBoundingClientRect(),this.spanStyle[r].opacity=1},0):this.spanStyle[r].opacity=1;const o=this.pixelXLinear(e[2]),a=this.pixelYLinear(e[3]);if(this.svgStyle[r]={display:"inherit",width:o,height:a},0===Number(i))this.rectStyle[r]={width:o,height:a,fill:this.dragObject[r].color};else if(1===Number(i)){const t=(o/2).toString(),e=(a/2).toString();this.ellipseStyle[r]={ry:t,rx:e,cx:t,cy:e,fill:this.dragObject[r].color}}else 2===Number(i)&&(this.polygonStyle[r]={points:`${o/2},0 ${o}, ${a} 0, ${a}`,fill:this.dragObject[r].color});this.obstacleList.push(r)}}if(console.log(this.calculateForm),this.calculateForm.defaultBs=this.calculateForm.bsList,!this.authService.isEmpty(this.calculateForm.defaultBs)){const t=this.calculateForm.defaultBs.split("|"),e=JSON.parse(this.calculateForm.txPower),n=JSON.parse(this.calculateForm.beamId),i=JSON.parse(this.calculateForm.frequency.toString());console.log(JSON.parse(this.calculateForm.txPower));const r=t.length;for(let o=0;o<r;o++){const r=JSON.parse(t[o]),a=e[o],s=n[o],l=i[o],c="defaultBS_"+this.generateString(10);this.defaultBSList.push(c),this.bsListRfParam[c]={txpower:a,beampattern:s,frequency:l,fddDlFrequency:0,fddUlFrequency:0,ulModulationCodScheme:"64QAM-table",dlModulationCodScheme:"64QAM-table",mimoLayer:1,scalingFact:1,subcarrier:15,scsBandwidth:10},this.dragObject[c]={x:r[0],y:r[1],z:r[2],width:30,height:30,altitude:50,rotate:0,title:this.svgMap.defaultBS.title,type:this.svgMap.defaultBS.type,color:this.DEFAULT_BS_COLOR,material:"0",element:"defaultBS"},this.spanStyle[c]={left:this.pixelXLinear(r[0])+"px",top:this.chartHeight-30-this.pixelYLinear(r[1])+"px",width:"30px",height:"30px"},this.svgStyle[c]={display:"inherit",width:30,height:30},this.pathStyle[c]={fill:this.dragObject[c].color},window.setTimeout(()=>{this.moveNumber(c)},0)}}if(!this.authService.isEmpty(this.calculateForm.candidateBs)){const t=this.calculateForm.candidateBs.split("|"),e=t.length;for(let n=0;n<e;n++){const e=JSON.parse(t[n]),i="candidate_"+this.generateString(10);this.candidateList.push(i),this.dragObject[i]={x:e[0],y:e[1],z:e[2],width:this.candidateWidth,height:this.candidateHeight,altitude:50,rotate:0,title:this.svgMap.candidate.title,type:this.svgMap.candidate.type,color:this.CANDIDATE_COLOR,material:"0",element:"candidate"},this.spanStyle[i]={left:this.pixelXLinear(e[0])+"px",top:this.chartHeight-this.candidateHeight-this.pixelYLinear(e[1])+"px",width:this.candidateWidth+"px",height:this.candidateHeight+"px"},this.svgStyle[i]={display:"inherit",width:this.candidateWidth,height:this.candidateHeight},this.pathStyle[i]={fill:this.dragObject[i].color},window.setTimeout(()=>{this.moveNumber(i)},0)}}if(!this.authService.isEmpty(this.calculateForm.ueCoordinate)){const t=this.calculateForm.ueCoordinate.split("|"),e=t.length;for(let n=0;n<e;n++){const e=JSON.parse(t[n]),i="ue_"+this.generateString(10);this.ueList.push(i),this.dragObject[i]={x:e[0],y:e[1],z:e[2],width:this.ueWidth,height:this.ueHeight,altitude:50,rotate:0,title:this.svgMap.UE.title,type:this.svgMap.UE.type,color:this.UE_COLOR,material:"0",element:"UE"},this.spanStyle[i]={left:this.pixelXLinear(e[0])+"px",top:this.chartHeight-this.ueHeight-this.pixelYLinear(e[1])+"px",width:this.ueWidth+"px",height:this.ueHeight+"px"},this.svgStyle[i]={display:"inherit",width:this.ueWidth,height:this.ueHeight},this.pathStyle[i]={fill:this.dragObject[i].color}}}"2"===this.calculateForm.objectiveIndex&&(Number(this.calculateForm.bandwidth>=20)&&(this.wifiFrequency="1"),this.changeWifiFrequency())}result(){this.setPlanningObj(),this.router.navigate(["/site/result"],this.isHst?{queryParams:{taskId:this.taskid,isHst:!0}}:{queryParams:{taskId:this.taskid}})}setHstToForm(t){this.calculateForm.addFixedBsNumber=t.addfixedbsnumber,this.calculateForm.availableNewBsNumber=t.availablenewbsnumber,this.calculateForm.bandwidth=t.bandwidth,this.calculateForm.beamMaxId=t.beammaxid,this.calculateForm.beamMinId=t.beamminid,this.calculateForm.candidateBs=t.candidatebs,this.calculateForm.crossover=t.crossover,this.calculateForm.defaultBs=t.defaultBs,this.calculateForm.frequency=t.frequency,this.calculateForm.iteration=t.iteration,this.calculateForm.zValue=t.mapdepth,this.calculateForm.altitude=t.mapaltitude,this.calculateForm.height=t.mapheight,this.calculateForm.mapImage=t.mapimage,this.calculateForm.mapName=t.mapname,this.calculateForm.width=t.mapwidth,this.calculateForm.mutation=t.mutation,this.calculateForm.objectiveIndex=t.objectiveindex,this.calculateForm.obstacleInfo=t.obstacleinfo,this.calculateForm.pathLossModelId=t.pathlossmodelid,this.calculateForm.powerMaxRange=t.powermaxrange,this.calculateForm.powerMinRange=t.powerminrange,this.calculateForm.seed=t.seed,this.calculateForm.taskName=t.taskname,this.calculateForm.totalRound=t.totalround,this.calculateForm.ueCoordinate=t.uecoordinate,this.calculateForm.useUeCoordinate=t.useuecoordinate,this.calculateForm.beamMaxId=t.beammaxid}changeWifiFrequency(){0===Number(this.wifiFrequency)?this.calculateForm.frequency=950:1===Number(this.wifiFrequency)?this.calculateForm.frequency=2400:2===Number(this.wifiFrequency)&&(this.calculateForm.frequency=5800),this.calculateForm.pathLossModelId=2===Number(this.calculateForm.objectiveIndex)?9:0}dragEnd(){for(const t of this.obstacleList)t!==this.svgId&&(this.spanStyle[t]=Et.cloneDeep(this.ognSpanStyle[t]))}getTitle(){return"0"===this.calculateForm.objectiveIndex.toString()?this.translateService.instant("planning.title").replace("{0}","4G"):"1"===this.calculateForm.objectiveIndex.toString()?this.translateService.instant("planning.title").replace("{0}","5G"):"2"===this.calculateForm.objectiveIndex.toString()?this.translateService.instant("planning.title").replace("{0}","Wifi"):void 0}setSubcarrier(){const t=Number(this.calculateForm.bandwidth);[5,10,15,20,25,30,40,50].includes(t)?this.subcarrier=15:[5,10,15,20,25,30,40,50,60,70,80,90,100].includes(t)?this.subcarrier=30:[10,15,20,25,30,40,50,60,70,80,90,100,200].includes(t)?this.subcarrier=60:[50,100,200,400].includes(t)&&(this.subcarrier=120)}changePlanningIndex(){"1"===this.planningIndex?(this.clearAll("defaultBS"),this.calculateForm.isAverageSinr||this.calculateForm.isCoverage||(this.calculateForm.isAverageSinr=!0)):"2"===this.planningIndex?(this.clearAll("defaultBS"),this.calculateForm.isUeAvgSinr||this.calculateForm.isUeAvgThroughput||this.calculateForm.isUeTpByDistance||(this.calculateForm.isUeAvgSinr=!0)):this.clearAll("candidate")}generateString(t){let e=" ";const n=this.characters.length;for(let i=0;i<t;i++)e+=this.characters.charAt(Math.floor(Math.random()*n));return e.trim()}svgElmMap(t){return 0===Number(t)?{id:"svg_1",title:this.translateService.instant("obstacleInfo"),type:"obstacle",element:"0"}:1===Number(t)?{id:"svg_2",title:this.translateService.instant("obstacleInfo"),type:"obstacle",element:"1"}:2===Number(t)?{id:"svg_3",title:this.translateService.instant("obstacleInfo"),type:"obstacle",element:"2"}:3===Number(t)?{id:"svg_7",title:this.translateService.instant("obstacleInfo"),type:"obstacle",element:"3"}:{id:"svg_1",title:this.translateService.instant("obstacleInfo"),type:"obstacle",element:"0"}}parseElement(t){return"rect"===t?0:"ellipse"===t?1:"polygon"===t?2:"trapezoid"===t?3:t}removeObj(t){this.svgId=t,this.delete()}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Se.a),Lt.Pb(r.b),Lt.Pb(r.a),Lt.Pb(Tt.b),Lt.Pb(Ee.a),Lt.Pb(Pe.d),Lt.Pb(Ue.b))},t.\u0275cmp=Lt.Jb({type:t,selectors:[["app-site-planning"]],viewQuery:function(t,e){var n;1&t&&(Lt.Nc(Il,!0),Lt.Cc(xe,!0),Lt.Nc(Ll,!0),Lt.Nc(kl,!0),Lt.Nc(Rl,!0)),2&t&&(Lt.sc(n=Lt.dc())&&(e.moveable=n.first),Lt.sc(n=Lt.dc())&&(e.matMenuTrigger=n.first),Lt.sc(n=Lt.dc())&&(e.chart=n.first),Lt.sc(n=Lt.dc())&&(e.materialModal=n.first),Lt.sc(n=Lt.dc())&&(e.rfModal=n.first))},hostBindings:function(t,e){1&t&&Lt.cc("click",(function(t){return e.clickout(t)}),!1,Lt.vc)("keyup",(function(t){return e.keyEvent(t)}),!1,Lt.wc)},decls:305,vars:212,consts:[[1,"tool"],[1,"svg",3,"matTooltip","click"],["id","svg_01","width","30","height","30","xmlns","http://www.w3.org/2000/svg"],["x","-1","y","-1","width","32","height","32","id","canvas_background","fill","#fff"],["id","canvasGrid","display","none"],["width","100%","height","100%","x","0","y","0","stroke-width","0","fill","url(#gridpattern)"],["fill","#000000","stroke-width","1.5","x","111","y","151","width","41","height","28","stroke","#000"],["fill","#ffffff","stroke-width","1.5","x","0","y","0","width","30","height","30","id","svg_1",1,"target"],["id","svg_02","width","30","height","30","xmlns","http://www.w3.org/2000/svg"],["fill","none","id","canvas_background","height","32","width","20","y","-1","x","-1"],["display","none","id","canvasGrid"],["fill","url(#gridpattern)","stroke-width","0","y","0","x","0","height","100%","width","100%"],["stroke","#000","height","28","width","41","y","151","x","111","stroke-width","1.5","fill","#000000"],["ry","15","rx","15","id","svg_2","cy","15","cx","15","stroke-width","1.5","fill","#ffffff",1,"target"],["id","svg_03","width","30","height","30","xmlns","http://www.w3.org/2000/svg"],["x","-1","y","-1","width","32","height","32","id","canvas_background","fill","none"],["points","15,0 30,30 0,30","fill","#ffffff","id","svg_3",1,"target"],[1,"svg",2,"cursor","point","display","block","text-align","center","margin",".7em 0 1.2em",3,"matTooltip","click"],["id","svg_07","width","25","height","20px","xmlns","http://www.w3.org/2000/svg"],["x","-1","y","-1","height","20","width","25","fill","none","id","canvas_background"],["fill","none","stroke-width","1.5","x","50","y","0","width","25","height","20","stroke","none"],["fill","#ffffff","stroke","null","id","svg_7","d","M5.4,0L0,16h22.9L17.3,0C17.3,0,5.3,0,5.4,0z",1,"target"],["class","svg",3,"matTooltip","click",4,"ngIf"],["id","svg_06","width","20","height","30","xmlns","http://www.w3.org/2000/svg",1,"s"],["fill","#ffffff","id","svg_6","d","M15.88,0H3.12C1.4,0,0,1.47,0,3.27v22.46C0,27.53,1.4,29,3.12,29h12.76C17.6,29,19,27.53,19,25.73V3.27\n        C19,1.47,17.6,0,15.88,0z M9.5,27.09c-0.48,0-0.86-0.41-0.86-0.91c0-0.5,0.39-0.91,0.86-0.91c0.48,0,0.86,0.41,0.86,0.91\n        C10.36,26.69,9.98,27.09,9.5,27.09z M16.71,21.99c0,0.77-0.59,1.39-1.32,1.39H3.61c-0.73,0-1.32-0.62-1.32-1.39V4.11\n        c0-0.77,0.59-1.39,1.32-1.39h11.77c0.73,0,1.32,0.62,1.32,1.39V21.99z",1,"target"],[1,"example-container"],["id","d_area"],["mat-button","",1,"toggle",3,"click"],[1,"material-icons"],[1,"inline-block"],["floatLabel","never",2,"height","45px"],["matInput","","required","",3,"ngModel","placeholder","ngModelChange"],["value","import",3,"click"],["value","export",3,"click"],["type","file","multiple","false","accept",".xlsx",2,"display","none",3,"change"],["file",""],[1,"inline-block","ml_5"],["value","go",3,"click"],["value","result",3,"click",4,"ngIf"],[3,"click"],["id","chart",2,"position","relative"],["chart",""],[3,"ngStyle"],["dragArea",""],["class","obstacle",3,"id","ngStyle","mouseover","mouseout","click","contextmenu",4,"ngFor","ngForOf"],["class","defaultBS",3,"id","ngStyle","mouseover","mouseout","click","contextmenu",4,"ngFor","ngForOf"],["class","rounded-circle blue_circle",3,"id","ngStyle",4,"ngFor","ngForOf"],["class","candidate",3,"id","ngStyle","mouseover","mouseout","click","contextmenu",4,"ngFor","ngForOf"],["class","rounded-circle pink_circle",3,"id","ngStyle",4,"ngFor","ngForOf"],["class","UE",3,"id","ngStyle","mouseover","mouseout","click","contextmenu",4,"ngFor","ngForOf"],["class","msg_label",3,"ngStyle","innerHTML",4,"ngIf"],[3,"target","draggable","origin","rotatable","pinchable","scalable","resizable","warpable","keepRatio","snappable","bounds","snapCenter","throttleDrag","throttleScale","throttleRotate","throttleResize","drag","resize","rotate","dragStart","dragEnd","resizeEnd","rotateEnd"],["moveable",""],[2,"visibility","hidden","position","fixed",3,"ngStyle","matMenuTriggerFor"],["rightMenu","matMenu"],["matMenuContent",""],["mode","side","position","end",3,"opened","openedChange"],["sidenav",""],[3,"opened","closed"],[1,"panel_content"],[3,"ngModel","ngModelChange","change"],["value","3",1,"block",3,"matTooltip"],["value","1",1,"block",3,"matTooltip"],["class","subTarget",4,"ngIf"],["value","2",1,"block",3,"matTooltip"],["class","sub_title inline-block",4,"ngIf"],["class","sub_content inline-block",4,"ngIf"],[1,"areaSetting"],["type","text",1,"w18",3,"ngModel","ngModelChange"],["type","file",3,"change"],["style","margin-left: 2em;",4,"ngIf"],["type","text",3,"ngModel","ngModelChange","change"],["value","0"],["value","1"],["value","2"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["otherFrequency",""],["type","text",3,"ngModel","placeholder","ngModelChange"],["type","text",3,"ngModel","ngModelChange"],[1,"matBadge"],["class","clearAll",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"min-width","16em",3,"ngModel","ngModelChange"],["pathLossModelIdTemp",""],[1,"panel_content","algorithm"],["materialModal",""],["RfModal",""],["id","svg_04","width","30","height","30","xmlns","http://www.w3.org/2000/svg",1,"s"],["fill","none","id","canvas_background","height","32","width","32","y","-1","x","-1"],["fill","none","d","m0,0l24,0l0,24l-24,0l0,-24z"],["fill","#ffffff","stroke","null","id","svg_4","d","m27.1373,5.80872l1.19321,-1.19321c-2.08811,-2.08811 -4.77283,-3.13217 -7.45754,-3.13217s-5.36943,1.04406 -7.45754,3.13217l1.19321,1.19321c1.78981,-1.64066 4.02707,-2.53556 6.26434,-2.53556s4.47453,0.89491 6.26434,2.53556zm-1.34236,1.19321c-1.34236,-1.34236 -3.13217,-2.08811 -4.92198,-2.08811s-3.57962,0.74575 -4.92198,2.08811l1.19321,1.19321c1.04406,-1.04406 2.38641,-1.49151 3.72877,-1.49151c1.34236,0 2.68472,0.44745 3.72877,1.49151l1.19321,-1.19321zm-0.44745,9.39651l-2.98302,0l0,-5.96604l-2.98302,0l0,5.96604l-14.91509,0c-1.64066,0 -2.98302,1.34236 -2.98302,2.98302l0,5.96604c0,1.64066 1.34236,2.98302 2.98302,2.98302l20.88112,0c1.64066,0 2.98302,-1.34236 2.98302,-2.98302l0,-5.96604c0,-1.64066 -1.34236,-2.98302 -2.98302,-2.98302zm-16.4066,7.45754l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302z",1,"target"],["id","svg_05","width","28","height","22","xmlns","http://www.w3.org/2000/svg",1,"s"],["fill","none","id","canvas_background","height","20","width","30","y","-1","x","-1"],["display","none","overflow","visible","y","0","x","0","height","100%","width","100%","id","canvasGrid"],["stroke","#000","rx","3","id","svg_3","height","17.79447","width","27.84664","y","0.08384","x","0.08216","stroke-opacity","null","stroke-width","0","fill","#ffffff"],["stroke","#000","transform","matrix(0.8532502651214598,0,0,0.8532502651214598,0.7290017828345299,0.38280437514185905) ","font-style","normal","font-weight","bold",0,"xml","space","preserve","text-anchor","start","font-family","sans-serif","font-size","12","id","svg_7","y","14.00717","x","3.15093","stroke-opacity","null","stroke-width","0","fill","#000000"],["value","result",3,"click"],[1,"obstacle",3,"id","ngStyle","mouseover","mouseout","click","contextmenu"],["style","display: inherit;","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg",3,"ngStyle",4,"ngIf"],["viewBox","0 0 30 30","xmlns","http://www.w3.org/2000/svg",3,"ngStyle",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg",2,"display","inherit"],["stroke-width","1.5","x","0","y","0",1,"drag_rect",3,"ngStyle"],["xmlns","http://www.w3.org/2000/svg",3,"ngStyle"],["stroke-width","1.5","fill","#ffffff",1,"drag_rect",3,"ngStyle"],["x","-1","y","-1","width","32","height","32","fill","none"],["width","100%","height","100%","x","0","y","0","stroke-width","0","fill","none"],[1,"drag_rect",3,"ngStyle"],["viewBox","0 0 30 30","xmlns","http://www.w3.org/2000/svg",3,"ngStyle"],["x","-1","y","-1","height","20","width","25","fill","none","id","canvas_background2"],["stroke","null","id","svg_7","d","M8,0L0,30h30L22,0C22,0,5.3,0,8,0z",1,"target",3,"ngStyle"],[1,"defaultBS",3,"id","ngStyle","mouseover","mouseout","click","contextmenu"],["xmlns","http://www.w3.org/2000/svg",1,"s",3,"ngStyle"],["stroke","null","d","m27.1373,5.80872l1.19321,-1.19321c-2.08811,-2.08811 -4.77283,-3.13217 -7.45754,-3.13217s-5.36943,1.04406 -7.45754,3.13217l1.19321,1.19321c1.78981,-1.64066 4.02707,-2.53556 6.26434,-2.53556s4.47453,0.89491 6.26434,2.53556zm-1.34236,1.19321c-1.34236,-1.34236 -3.13217,-2.08811 -4.92198,-2.08811s-3.57962,0.74575 -4.92198,2.08811l1.19321,1.19321c1.04406,-1.04406 2.38641,-1.49151 3.72877,-1.49151c1.34236,0 2.68472,0.44745 3.72877,1.49151l1.19321,-1.19321zm-0.44745,9.39651l-2.98302,0l0,-5.96604l-2.98302,0l0,5.96604l-14.91509,0c-1.64066,0 -2.98302,1.34236 -2.98302,2.98302l0,5.96604c0,1.64066 1.34236,2.98302 2.98302,2.98302l20.88112,0c1.64066,0 2.98302,-1.34236 2.98302,-2.98302l0,-5.96604c0,-1.64066 -1.34236,-2.98302 -2.98302,-2.98302zm-16.4066,7.45754l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302z",1,"drag_rect",3,"ngStyle"],[1,"rounded-circle","blue_circle",3,"id","ngStyle"],[1,"candidate",3,"id","ngStyle","mouseover","mouseout","click","contextmenu"],["fill","none","id","canvas_background","height","3","width","25","y","-1","x","-1"],["x","0","width","24","height","15","fill","none"],["stroke","null"],["stroke","#000","rx","3","id","svg_3","height","17.79447","width","27.84664","y","0.08384","x","0.08216","stroke-opacity","null","stroke-width","0","fill","#000"],["stroke","#fff","transform","matrix(0.8532502651214598,0,0,0.8532502651214598,0.7290017828345299,0.38280437514185905) ","font-style","normal","font-weight","bold",0,"xml","space","preserve","text-anchor","start","font-family","sans-serif","font-size","12","id","svg_7","y","14.00717","x","3.15093","stroke-opacity","null","stroke-width","0","fill","#fff"],[1,"rounded-circle","pink_circle",3,"id","ngStyle"],[1,"UE",3,"id","ngStyle","mouseover","mouseout","click","contextmenu"],["xmlns","http://www.w3.org/2000/svg",1,"s_ue"],["fill","none","height","10","width","29","y","-1","x","-1"],["d","M15.88,0H3.12C1.4,0,0,1.47,0,3.27v22.46C0,27.53,1.4,29,3.12,29h12.76C17.6,29,19,27.53,19,25.73V3.27\n              C19,1.47,17.6,0,15.88,0z M9.5,27.09c-0.48,0-0.86-0.41-0.86-0.91c0-0.5,0.39-0.91,0.86-0.91c0.48,0,0.86,0.41,0.86,0.91\n              C10.36,26.69,9.98,27.09,9.5,27.09z M16.71,21.99c0,0.77-0.59,1.39-1.32,1.39H3.61c-0.73,0-1.32-0.62-1.32-1.39V4.11\n              c0-0.77,0.59-1.39,1.32-1.39h11.77c0.73,0,1.32,0.62,1.32,1.39V21.99z",1,"drag_rect",3,"ngStyle"],[1,"msg_label",3,"ngStyle","innerHTML"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"colorPicker","click","colorPickerChange"],["otherTypeTemp2",""],["mat-menu-item","",3,"click",4,"ngIf"],[1,"subTarget"],[3,"ngModel","matTooltip","ngModelChange"],[1,"sub_title","inline-block"],["oTemp",""],[1,"sub_content","inline-block"],[2,"margin-left","2em"],[2,"width","100px",3,"ngModel","ngModelChange"],["value","15"],["value","30"],["value","60"],["value","120"],[3,"ngModel","ngModelChange"],["value","TDD"],["value","FDD"],[2,"width","100px",3,"ngModel","ngModelChange","change"],["value","3"],["value","5"],["value","10"],["value","20"],["value","25"],["value","40"],["value","50"],["value","70"],["value","80"],["value","90"],["value","100"],["value","200"],["value","400"],[3,"ngIf"],["value","4"],["value","8"],["value","16"],[1,"clearAll",3,"click"],[1,"w7em",3,"ngModel","ngModelChange"],[1,"clearAll","clearOne","ml-3",3,"click"],["mat-stroked-button","","color","primary",1,"rfBtns",3,"click"],[1,"zAxis",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["value","9"],["value","6"],["value","7"],["value","1000"],["mat-dialog-title","",4,"ngIf","ngIfElse"],["otherTypeTemp",""],["mat-dialog-content",""],[1,"highset"],["class","mt-2",4,"ngIf"],["mat-dialog-title",""],[1,"mt-2"],["aria-label","Select an option",3,"ngModel","ngModelChange"],["value","1",1,"ml-2"],["value","2",1,"ml-2"],["value","3",1,"ml-2"],["value","4",1,"ml-2"],["style","width: 100px;",3,"ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],["value","wifi4",1,"ml-2"],["value","wifi5",1,"ml-2"],["value","400ns",1,"ml-2"],["value","800ns",1,"ml-2"],["value","1x1"],["value","2x2"],["value","3x3"],["value","64QAM-table"],["value","256QAM-table"],["value","64QAM-Low-SE"],["value","0.8"],["value","0.75"],["value","0.4"]],template:function(t,e){if(1&t){const t=Lt.Vb();Lt.Ub(0,"div",0),Lt.Ub(1,"span",1),Lt.cc("click",(function(){return e.addMoveable("rect")})),Lt.hc(2,"translate"),Lt.fc(),Lt.Ub(3,"svg",2),Lt.Ub(4,"g"),Lt.Qb(5,"rect",3),Lt.Ub(6,"g",4),Lt.Qb(7,"rect",5),Lt.Tb(),Lt.Tb(),Lt.Ub(8,"g"),Lt.Qb(9,"rect",6),Lt.Qb(10,"rect",7),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.ec(),Lt.Ub(11,"span",1),Lt.cc("click",(function(){return e.addMoveable("ellipse")})),Lt.hc(12,"translate"),Lt.fc(),Lt.Ub(13,"svg",8),Lt.Ub(14,"g"),Lt.Qb(15,"rect",9),Lt.Ub(16,"g",10),Lt.Qb(17,"rect",11),Lt.Tb(),Lt.Tb(),Lt.Ub(18,"g"),Lt.Qb(19,"rect",12),Lt.Qb(20,"ellipse",13),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.ec(),Lt.Ub(21,"span",1),Lt.cc("click",(function(){return e.addMoveable("polygon")})),Lt.hc(22,"translate"),Lt.fc(),Lt.Ub(23,"svg",14),Lt.Ub(24,"g"),Lt.Qb(25,"rect",15),Lt.Ub(26,"g",4),Lt.Qb(27,"rect",5),Lt.Tb(),Lt.Tb(),Lt.Ub(28,"g"),Lt.Qb(29,"rect",6),Lt.Qb(30,"polygon",16),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.ec(),Lt.Ub(31,"span",17),Lt.cc("click",(function(){return e.addMoveable("trapezoid")})),Lt.hc(32,"translate"),Lt.fc(),Lt.Ub(33,"svg",18),Lt.Ub(34,"g"),Lt.Qb(35,"rect",19),Lt.Ub(36,"g",4),Lt.Qb(37,"rect",5),Lt.Tb(),Lt.Tb(),Lt.Ub(38,"g"),Lt.Qb(39,"rect",20),Lt.Qb(40,"path",21),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.ec(),Lt.Qb(41,"hr"),Lt.Ec(42,Dl,8,3,"span",22),Lt.Ec(43,Gl,15,3,"span",22),Lt.Qb(44,"hr"),Lt.Ub(45,"span",1),Lt.cc("click",(function(){return e.addMoveable("UE")})),Lt.hc(46,"translate"),Lt.fc(),Lt.Ub(47,"svg",23),Lt.Ub(48,"g"),Lt.Qb(49,"path",24),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.ec(),Lt.Ub(50,"mat-sidenav-container",25),Lt.Ub(51,"mat-sidenav-content"),Lt.Ub(52,"div",26),Lt.Ub(53,"button",27),Lt.cc("click",(function(){return Lt.xc(t),Lt.tc(97).toggle()})),Lt.Ub(54,"span",28),Lt.Gc(55,"swap_horiz"),Lt.Tb(),Lt.Tb(),Lt.Ub(56,"h2",29),Lt.Gc(57),Lt.Ub(58,"mat-form-field",30),Lt.Ub(59,"input",31),Lt.cc("ngModelChange",(function(t){return e.calculateForm.taskName=t})),Lt.hc(60,"translate"),Lt.Tb(),Lt.Tb(),Lt.Gc(61," ) "),Lt.Tb(),Lt.Ub(62,"mat-button-toggle-group",29),Lt.Ub(63,"mat-button-toggle",32),Lt.cc("click",(function(){return Lt.xc(t),Lt.tc(70).click()})),Lt.Gc(64),Lt.hc(65,"translate"),Lt.Tb(),Lt.Ub(66,"mat-button-toggle",33),Lt.cc("click",(function(){return e.export()})),Lt.Gc(67),Lt.hc(68,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ub(69,"input",34,35),Lt.cc("change",(function(t){return e.import(t)})),Lt.Tb(),Lt.Ub(71,"mat-button-toggle-group",36),Lt.Ub(72,"mat-button-toggle",37),Lt.cc("click",(function(){return e.calculate()})),Lt.Gc(73),Lt.hc(74,"translate"),Lt.Tb(),Lt.Ec(75,Fl,3,3,"mat-button-toggle",38),Lt.Ub(76,"mat-button-toggle",39),Lt.cc("click",(function(){return e.view3D()})),Lt.Gc(77),Lt.hc(78,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ub(79,"div",40,41),Lt.Ub(81,"div",42,43),Lt.Ec(83,zl,5,6,"span",44),Lt.Ec(84,Nl,7,4,"span",45),Lt.Ec(85,Vl,2,3,"span",46),Lt.Ec(86,ql,13,3,"span",47),Lt.Ec(87,$l,2,3,"span",48),Lt.Ec(88,Yl,6,3,"span",49),Lt.Ec(89,Xl,1,2,"span",50),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ub(90,"ngx-moveable",51,52),Lt.cc("drag",(function(t){return e.onDrag(t)}))("resize",(function(t){return e.onResize(t)}))("rotate",(function(t){return e.onRotate(t)}))("dragStart",(function(t){return e.dragStart(t)}))("dragEnd",(function(){return e.onEnd()}))("resizeEnd",(function(){return e.onEnd()}))("rotateEnd",(function(){return e.onEnd()})),Lt.Tb(),Lt.Qb(92,"div",53),Lt.Ub(93,"mat-menu",null,54),Lt.Ec(95,Jl,11,10,"ng-template",55),Lt.Tb(),Lt.Tb(),Lt.Ub(96,"mat-sidenav",56,57),Lt.cc("openedChange",(function(t){return e.opened=t})),Lt.Ub(98,"mat-accordion"),Lt.Ub(99,"mat-expansion-panel",58),Lt.cc("opened",(function(){return e.panelOpenState=!0}))("closed",(function(){return e.panelOpenState=!1})),Lt.Ub(100,"mat-expansion-panel-header"),Lt.Ub(101,"mat-panel-title"),Lt.Gc(102),Lt.hc(103,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ub(104,"div",59),Lt.Ub(105,"mat-radio-group",60),Lt.cc("ngModelChange",(function(t){return e.planningIndex=t}))("change",(function(){return e.changePlanningIndex()})),Lt.Ub(106,"mat-radio-button",61),Lt.hc(107,"translate"),Lt.Gc(108),Lt.hc(109,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ub(110,"mat-radio-group",60),Lt.cc("ngModelChange",(function(t){return e.planningIndex=t}))("change",(function(){return e.changePlanningIndex()})),Lt.Ub(111,"mat-radio-button",62),Lt.hc(112,"translate"),Lt.Gc(113),Lt.hc(114,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ec(115,Zl,9,14,"div",63),Lt.Ub(116,"mat-radio-group",60),Lt.cc("ngModelChange",(function(t){return e.planningIndex=t}))("change",(function(){return e.changePlanningIndex()})),Lt.Ub(117,"mat-radio-button",64),Lt.hc(118,"translate"),Lt.Gc(119),Lt.hc(120,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ec(121,tc,13,21,"div",63),Lt.Ec(122,ic,4,2,"p",65),Lt.Ec(123,rc,2,1,"div",66),Lt.Tb(),Lt.Tb(),Lt.Ub(124,"mat-expansion-panel",58),Lt.cc("opened",(function(){return e.panelOpenState=!0}))("closed",(function(){return e.panelOpenState=!1})),Lt.Ub(125,"mat-expansion-panel-header"),Lt.Ub(126,"mat-panel-title"),Lt.Gc(127),Lt.hc(128,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ub(129,"div",67),Lt.Ub(130,"mat-expansion-panel"),Lt.Ub(131,"mat-expansion-panel-header"),Lt.Ub(132,"mat-panel-title"),Lt.Gc(133),Lt.hc(134,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ub(135,"ul"),Lt.Ub(136,"li"),Lt.Ub(137,"p"),Lt.Gc(138),Lt.hc(139,"translate"),Lt.Tb(),Lt.Ub(140,"input",68),Lt.cc("ngModelChange",(function(t){return e.calculateForm.taskName=t})),Lt.Tb(),Lt.Tb(),Lt.Ub(141,"li"),Lt.Ub(142,"p"),Lt.Gc(143),Lt.hc(144,"translate"),Lt.Tb(),Lt.Ub(145,"input",69),Lt.cc("change",(function(t){return e.fileChange(t)})),Lt.Tb(),Lt.Ec(146,oc,2,1,"span",70),Lt.Tb(),Lt.Ub(147,"li"),Lt.Ub(148,"p"),Lt.Gc(149),Lt.hc(150,"translate"),Lt.Tb(),Lt.Ub(151,"ul",29),Lt.Ub(152,"li",29),Lt.Ub(153,"label"),Lt.Gc(154),Lt.hc(155,"translate"),Lt.Tb(),Lt.Ub(156,"input",71),Lt.cc("ngModelChange",(function(t){return e.calculateForm.width=t}))("change",(function(){return e.initData(!1,!1)})),Lt.Tb(),Lt.Tb(),Lt.Ub(157,"li",29),Lt.Ub(158,"label"),Lt.Gc(159),Lt.hc(160,"translate"),Lt.Tb(),Lt.Ub(161,"input",71),Lt.cc("ngModelChange",(function(t){return e.calculateForm.height=t}))("change",(function(){return e.initData(!1,!1)})),Lt.Tb(),Lt.Tb(),Lt.Ub(162,"li",29),Lt.Ub(163,"label"),Lt.Gc(164),Lt.hc(165,"translate"),Lt.Tb(),Lt.Ub(166,"input",71),Lt.cc("ngModelChange",(function(t){return e.calculateForm.altitude=t}))("change",(function(){return e.initData(!1,!1)})),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ub(167,"li"),Lt.Ub(168,"p"),Lt.Gc(169),Lt.hc(170,"translate"),Lt.Tb(),Lt.Ub(171,"select",60),Lt.cc("ngModelChange",(function(t){return e.calculateForm.objectiveIndex=t}))("change",(function(){return e.changeWifiFrequency()})),Lt.Ub(172,"option",72),Lt.Gc(173,"4G"),Lt.Tb(),Lt.Ub(174,"option",73),Lt.Gc(175,"5G"),Lt.Tb(),Lt.Ub(176,"option",74),Lt.Gc(177,"Wifi"),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ec(178,ac,14,4,"ng-container",75),Lt.Ec(179,sc,9,4,"li",75),Lt.Ec(180,lc,9,11,"li",75),Lt.Ec(181,cc,11,4,"li",75),Lt.Ub(182,"li"),Lt.Ub(183,"p"),Lt.Gc(184),Lt.hc(185,"translate"),Lt.Tb(),Lt.Ub(186,"span"),Lt.Ec(187,uc,12,1,"ng-container",75),Lt.Ec(188,fc,6,5,"ng-container",75),Lt.Ec(189,yc,5,4,"ng-container",75),Lt.Gc(190," MHz "),Lt.Tb(),Lt.Tb(),Lt.Ub(191,"li"),Lt.Ub(192,"p"),Lt.Gc(193),Lt.hc(194,"translate"),Lt.Tb(),Lt.Ub(195,"span"),Lt.Ec(196,wc,2,1,"ng-container",76),Lt.Ec(197,xc,1,1,"ng-template",null,77,Lt.Fc),Lt.Tb(),Lt.Tb(),Lt.Ub(199,"li"),Lt.Ub(200,"p"),Lt.Gc(201),Lt.hc(202,"translate"),Lt.Tb(),Lt.Ub(203,"span"),Lt.Ub(204,"input",78),Lt.cc("ngModelChange",(function(t){return e.calculateForm.powerMinRange=t})),Lt.hc(205,"translate"),Lt.Tb(),Lt.Gc(206," ~ "),Lt.Ub(207,"input",78),Lt.cc("ngModelChange",(function(t){return e.calculateForm.powerMaxRange=t})),Lt.hc(208,"translate"),Lt.Tb(),Lt.Gc(209,"dBm "),Lt.Tb(),Lt.Tb(),Lt.Ub(210,"li"),Lt.Ub(211,"p"),Lt.Gc(212),Lt.hc(213,"translate"),Lt.Ub(214,"span"),Lt.Gc(215),Lt.hc(216,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ub(217,"ol",29),Lt.Ub(218,"li"),Lt.Ub(219,"input",79),Lt.cc("ngModelChange",(function(t){return e.zValues[0]=t})),Lt.Tb(),Lt.Tb(),Lt.Ub(220,"li"),Lt.Ub(221,"input",79),Lt.cc("ngModelChange",(function(t){return e.zValues[1]=t})),Lt.Tb(),Lt.Tb(),Lt.Ub(222,"li"),Lt.Ub(223,"input",79),Lt.cc("ngModelChange",(function(t){return e.zValues[2]=t})),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ub(224,"mat-expansion-panel"),Lt.Ub(225,"mat-expansion-panel-header"),Lt.Ub(226,"mat-panel-title"),Lt.Gc(227),Lt.hc(228,"translate"),Lt.Ub(229,"label",80),Lt.Gc(230),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ec(231,Oc,4,0,"span",81),Lt.Ub(232,"ol"),Lt.Ec(233,_c,53,37,"li",82),Lt.Tb(),Lt.Tb(),Lt.Ec(234,Tc,12,6,"mat-expansion-panel",75),Lt.Ec(235,Pc,10,6,"mat-expansion-panel",75),Lt.Ub(236,"mat-expansion-panel"),Lt.Ub(237,"mat-expansion-panel-header"),Lt.Ub(238,"mat-panel-title"),Lt.Gc(239),Lt.hc(240,"translate"),Lt.Ub(241,"label",80),Lt.Gc(242),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ec(243,Uc,4,0,"span",81),Lt.Ub(244,"ul"),Lt.Ub(245,"li"),Lt.Ub(246,"ol"),Lt.Ec(247,Lc,17,4,"li",82),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ub(248,"mat-expansion-panel"),Lt.Ub(249,"mat-expansion-panel-header"),Lt.Ub(250,"mat-panel-title"),Lt.Gc(251),Lt.hc(252,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ub(253,"ul"),Lt.Ub(254,"li"),Lt.Ub(255,"p"),Lt.Ub(256,"label"),Lt.Gc(257),Lt.hc(258,"translate"),Lt.Tb(),Lt.Ub(259,"span"),Lt.Ub(260,"select",83),Lt.cc("ngModelChange",(function(t){return e.calculateForm.pathLossModelId=t})),Lt.Ec(261,kc,4,3,"ng-container",76),Lt.Ec(262,Rc,26,12,"ng-template",null,84,Lt.Fc),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ub(264,"mat-expansion-panel"),Lt.Ub(265,"mat-expansion-panel-header"),Lt.Ub(266,"mat-panel-title"),Lt.Gc(267),Lt.hc(268,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ub(269,"div",85),Lt.Ub(270,"ul"),Lt.Ub(271,"li"),Lt.Ub(272,"span"),Lt.Gc(273),Lt.hc(274,"translate"),Lt.Tb(),Lt.Ub(275,"input",79),Lt.cc("ngModelChange",(function(t){return e.calculateForm.mctsC=t})),Lt.Tb(),Lt.Tb(),Lt.Ub(276,"li"),Lt.Ub(277,"span"),Lt.Gc(278),Lt.hc(279,"translate"),Lt.Tb(),Lt.Ub(280,"input",79),Lt.cc("ngModelChange",(function(t){return e.calculateForm.mctsMimo=t})),Lt.Tb(),Lt.Tb(),Lt.Ub(281,"li"),Lt.Ub(282,"span"),Lt.Gc(283),Lt.hc(284,"translate"),Lt.Tb(),Lt.Ub(285,"input",79),Lt.cc("ngModelChange",(function(t){return e.calculateForm.mctsTemperature=t})),Lt.Tb(),Lt.Tb(),Lt.Ub(286,"li"),Lt.Ub(287,"span"),Lt.Gc(288),Lt.hc(289,"translate"),Lt.Tb(),Lt.Ub(290,"input",79),Lt.cc("ngModelChange",(function(t){return e.calculateForm.mctsTime=t})),Lt.Tb(),Lt.Tb(),Lt.Ub(291,"li"),Lt.Ub(292,"span"),Lt.Gc(293),Lt.hc(294,"translate"),Lt.Tb(),Lt.Ub(295,"input",79),Lt.cc("ngModelChange",(function(t){return e.calculateForm.mctsTestTime=t})),Lt.Tb(),Lt.Tb(),Lt.Ub(296,"li"),Lt.Ub(297,"span"),Lt.Gc(298),Lt.hc(299,"translate"),Lt.Tb(),Lt.Ub(300,"input",79),Lt.cc("ngModelChange",(function(t){return e.calculateForm.mctsTotalTime=t})),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ec(301,zc,12,9,"ng-template",null,86,Lt.Fc),Lt.Ec(303,fu,29,20,"ng-template",null,87,Lt.Fc)}if(2&t){const t=Lt.tc(94),n=Lt.tc(198),i=Lt.tc(263);Lt.Cb(1),Lt.mc("matTooltip",Lt.ic(2,124,"obstacleInfo")),Lt.Cb(10),Lt.mc("matTooltip",Lt.ic(12,126,"obstacleInfo")),Lt.Cb(10),Lt.mc("matTooltip",Lt.ic(22,128,"obstacleInfo")),Lt.Cb(10),Lt.mc("matTooltip",Lt.ic(32,130,"obstacleInfo")),Lt.Cb(11),Lt.lc("ngIf","3"===e.planningIndex),Lt.Cb(1),Lt.lc("ngIf","3"!==e.planningIndex),Lt.Cb(2),Lt.mc("matTooltip",Lt.ic(46,132,"new.ue")),Lt.Cb(12),Lt.Ic(" ",e.getTitle(),"( "),Lt.Cb(2),Lt.mc("placeholder",Lt.ic(60,134,"taskName")),Lt.lc("ngModel",e.calculateForm.taskName),Lt.Cb(5),Lt.Hc(Lt.ic(65,136,"import")),Lt.Cb(3),Lt.Hc(Lt.ic(68,138,"tasklist.export")),Lt.Cb(6),Lt.Hc(Lt.ic(74,140,"planning.calculate")),Lt.Cb(2),Lt.lc("ngIf",""!==e.taskid),Lt.Cb(2),Lt.Hc(Lt.ic(78,142,"view.3d")),Lt.Cb(4),Lt.lc("ngStyle",e.dragStyle),Lt.Cb(2),Lt.lc("ngForOf",e.obstacleList),Lt.Cb(1),Lt.lc("ngForOf",e.defaultBSList),Lt.Cb(1),Lt.lc("ngForOf",e.defaultBSList),Lt.Cb(1),Lt.lc("ngForOf",e.candidateList),Lt.Cb(1),Lt.lc("ngForOf",e.candidateList),Lt.Cb(1),Lt.lc("ngForOf",e.ueList),Lt.Cb(1),Lt.lc("ngIf",e.live),Lt.Cb(1),Lt.lc("target",e.target)("draggable",!0)("origin",!1)("rotatable",!0)("pinchable",!0)("scalable",!1)("resizable",e.resizable)("warpable",!1)("keepRatio",!1)("snappable",!0)("bounds",e.bounds)("snapCenter",!1)("throttleDrag",1)("throttleScale",.01)("throttleRotate",.2)("throttleResize",1),Lt.Cb(2),Lt.lc("ngStyle",e.menuTopLeftStyle)("matMenuTriggerFor",t),Lt.Cb(4),Lt.lc("opened",e.opened),Lt.Cb(6),Lt.Hc(Lt.ic(103,144,"planning.target")),Lt.Cb(3),Lt.lc("ngModel",e.planningIndex),Lt.Cb(1),Lt.mc("matTooltip",Lt.ic(107,146,"simulation")),Lt.Cb(2),Lt.Ic(" ",Lt.ic(109,148,"simulation")," "),Lt.Cb(2),Lt.lc("ngModel",e.planningIndex),Lt.Cb(1),Lt.mc("matTooltip",Lt.ic(112,150,"planning.layered.tooltip")),Lt.Cb(2),Lt.Ic(" ",Lt.ic(114,152,"planning.layered")," "),Lt.Cb(2),Lt.lc("ngIf","1"==e.planningIndex),Lt.Cb(1),Lt.lc("ngModel",e.planningIndex),Lt.Cb(1),Lt.mc("matTooltip",Lt.ic(118,154,"planning.ue.tooltip")),Lt.Cb(2),Lt.Ic(" ",Lt.ic(120,156,"planning.ue")," "),Lt.Cb(2),Lt.lc("ngIf","2"===e.planningIndex),Lt.Cb(1),Lt.lc("ngIf","3"!==e.planningIndex),Lt.Cb(1),Lt.lc("ngIf","3"!==e.planningIndex),Lt.Cb(4),Lt.Hc(Lt.ic(128,158,"planning.setting")),Lt.Cb(6),Lt.Hc(Lt.ic(134,160,"planning.info")),Lt.Cb(5),Lt.Hc(Lt.ic(139,162,"taskName")),Lt.Cb(2),Lt.lc("ngModel",e.calculateForm.taskName),Lt.Cb(3),Lt.Hc(Lt.ic(144,164,"planning.upload")),Lt.Cb(3),Lt.lc("ngIf",e.showFileName),Lt.Cb(3),Lt.Hc(Lt.ic(150,166,"planning.size")),Lt.Cb(5),Lt.Hc(Lt.ic(155,168,"width")),Lt.Cb(2),Lt.lc("ngModel",e.calculateForm.width),Lt.Cb(3),Lt.Hc(Lt.ic(160,170,"height")),Lt.Cb(2),Lt.lc("ngModel",e.calculateForm.height),Lt.Cb(3),Lt.Hc(Lt.ic(165,172,"altitude")),Lt.Cb(2),Lt.lc("ngModel",e.calculateForm.altitude),Lt.Cb(3),Lt.Ic("",Lt.ic(170,174,"planning.net"),"\t"),Lt.Cb(2),Lt.lc("ngModel",e.calculateForm.objectiveIndex),Lt.Cb(7),Lt.lc("ngIf","1"==e.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","2"!==e.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","2"!==e.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","2"==e.calculateForm.objectiveIndex),Lt.Cb(3),Lt.Hc(Lt.ic(185,176,"bandwidth")),Lt.Cb(3),Lt.lc("ngIf","0"==e.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","1"==e.calculateForm.objectiveIndex),Lt.Cb(1),Lt.lc("ngIf","2"==e.calculateForm.objectiveIndex),Lt.Cb(4),Lt.Hc(Lt.ic(194,178,"frequency")),Lt.Cb(3),Lt.lc("ngIf","2"==e.calculateForm.objectiveIndex)("ngIfElse",n),Lt.Cb(5),Lt.Hc(Lt.ic(202,180,"powerRange")),Lt.Cb(3),Lt.mc("placeholder",Lt.ic(205,182,"powerMinRange")),Lt.lc("ngModel",e.calculateForm.powerMinRange),Lt.Cb(3),Lt.mc("placeholder",Lt.ic(208,184,"powerMaxRange")),Lt.lc("ngModel",e.calculateForm.powerMaxRange),Lt.Cb(5),Lt.Hc(Lt.ic(213,186,"z.height")),Lt.Cb(3),Lt.Ic(" ",Lt.ic(216,188,"z.height.note")," "),Lt.Cb(4),Lt.lc("ngModel",e.zValues[0]),Lt.Cb(2),Lt.lc("ngModel",e.zValues[1]),Lt.Cb(2),Lt.lc("ngModel",e.zValues[2]),Lt.Cb(3),Lt.Eb(e.subitemClass.obstacle),Lt.Cb(1),Lt.Ic("",Lt.ic(228,190,"planning.obstacleInfo")," "),Lt.Cb(3),Lt.Hc(e.obstacleList.length),Lt.Cb(1),Lt.lc("ngIf",e.obstacleList.length>0),Lt.Cb(2),Lt.lc("ngForOf",e.obstacleList),Lt.Cb(1),Lt.lc("ngIf","3"===e.planningIndex),Lt.Cb(1),Lt.lc("ngIf","3"!==e.planningIndex),Lt.Cb(3),Lt.Eb(e.subitemClass.ue),Lt.Cb(1),Lt.Ic("",Lt.ic(240,192,"planning.ue.info")," "),Lt.Cb(3),Lt.Hc(e.ueList.length),Lt.Cb(1),Lt.lc("ngIf",e.ueList.length>0),Lt.Cb(4),Lt.lc("ngForOf",e.ueList),Lt.Cb(4),Lt.Hc(Lt.ic(252,194,"planning.model")),Lt.Cb(6),Lt.Hc(Lt.ic(258,196,"pathLossModelId")),Lt.Cb(3),Lt.lc("ngModel",e.calculateForm.pathLossModelId),Lt.Cb(1),Lt.lc("ngIf","2"==e.calculateForm.objectiveIndex)("ngIfElse",i),Lt.Cb(6),Lt.Hc(Lt.ic(268,198,"planning.algorithm")),Lt.Cb(6),Lt.Hc(Lt.ic(274,200,"mctsC")),Lt.Cb(2),Lt.lc("ngModel",e.calculateForm.mctsC),Lt.Cb(3),Lt.Hc(Lt.ic(279,202,"mctsMimo")),Lt.Cb(2),Lt.lc("ngModel",e.calculateForm.mctsMimo),Lt.Cb(3),Lt.Hc(Lt.ic(284,204,"mctsTemperature")),Lt.Cb(2),Lt.lc("ngModel",e.calculateForm.mctsTemperature),Lt.Cb(3),Lt.Hc(Lt.ic(289,206,"mctsTime")),Lt.Cb(2),Lt.lc("ngModel",e.calculateForm.mctsTime),Lt.Cb(3),Lt.Hc(Lt.ic(294,208,"mctsTestTime")),Lt.Cb(2),Lt.lc("ngModel",e.calculateForm.mctsTestTime),Lt.Cb(3),Lt.Hc(Lt.ic(299,210,"mctsTotalTime")),Lt.Cb(2),Lt.lc("ngModel",e.calculateForm.mctsTotalTime)}},directives:[Ie.a,i.l,Le.b,Le.c,ke.a,Re.b,qe,Ae.b,Ae.r,Ae.k,Ae.n,Ye.b,Ye.a,i.m,i.k,Js,xe,ve,se,Le.a,Ml,Ol,_l,Cl,El.b,El.a,Ae.s,Ae.o,Ae.u,he,Pl.a,Ul.a,Re.e],pipes:[Pe.c],styles:['@charset "UTF-8";mat-sidenav-container[_ngcontent-%COMP%]{margin:-2em -2em 0 2em;padding:1em 0 0 1em;position:relative;height:94.5vh}.tool[_ngcontent-%COMP%]{position:absolute;left:0;top:54px;padding-top:1em;width:4em;height:94.5vh;background-color:#263345;color:#fff;z-index:1}.tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:.3em 0;width:100%;text-align:center;cursor:move}@media screen and (max-width:1366px){.mat-sidenav-container[_ngcontent-%COMP%], .tool[_ngcontent-%COMP%]{height:91vh}}.tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child   svg[_ngcontent-%COMP%], .tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2)   svg[_ngcontent-%COMP%], .tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3)   svg[_ngcontent-%COMP%]{-ms-transform:scale(.6);transform:scale(.6)}.tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4)   svg[_ngcontent-%COMP%], .tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5)   svg.tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6)   svg[_ngcontent-%COMP%]{-ms-transform:scale(.8);transform:scale(.8)}.tool[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#545151;width:55%;margin:.8em auto}.tool[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]{margin-bottom:.6em}.tool[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:18px;height:18px;margin:auto}.mat-sidenav[_ngcontent-%COMP%]{max-width:30%}.toggle[_ngcontent-%COMP%]{float:right;border:0;background-color:#2e5480;outline:0;margin:0;cursor:pointer;border-radius:3px 0 0 3px}#d_area[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:22px;margin-top:.2em}[_nghost-%COMP%]     .mat-button-toggle-group{margin-left:1em}.dropDown_area[_ngcontent-%COMP%]{margin:1em;width:90%;min-height:80vh;display:block;background-repeat:no-repeat;background-position:0 0;background-size:contain;opacity:.4}[_nghost-%COMP%]     .mat-expansion-panel-body{font-size:.9em}[_nghost-%COMP%]    {margin:0;padding:0;color:#3b71b5}p.subitem[_ngcontent-%COMP%] + ol[_ngcontent-%COMP%]{display:none}p.subitem.active[_ngcontent-%COMP%] + ol[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]     .mat-expansion-panel-body p .material-icons{display:inline-block;vertical-align:middle;cursor:pointer}.matBadge[_ngcontent-%COMP%]{max-width:3em;min-width:2.3em;height:2.3em;display:inline-block;line-height:2.3em;margin-left:.3em;font-size:.5em;font-weight:400;color:#fff;background-color:#3b71b5;text-align:center;border-radius:9em}[_nghost-%COMP%]     .mat-expansion-panel-body ul>li{padding:0 0 1em}[_nghost-%COMP%]     .mat-expansion-panel-body ul>li div{margin-left:1em}.algorithm[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, [_nghost-%COMP%]     .mat-expansion-panel-body p:before{font-family:Material Icons;content:"\ue5df";font-size:1.5em;vertical-align:middle}[_nghost-%COMP%]     .mat-expansion-panel-body li input[type=text]{width:4.5em}[_nghost-%COMP%]     .mat-expansion-panel-body input[type=text]{margin-left:.3em;vertical-align:middle;padding-left:.5em;width:5em;background:transparent;border:transparent;border-bottom:1px solid #ddd;border-radius:0}[_nghost-%COMP%]     .mat-expansion-panel-body ul>li>ul{margin-left:1em}[_nghost-%COMP%]     .mat-expansion-panel-body ul>li>ul li{padding-bottom:0}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{outline:0}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{color:#7e8faf}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:list-item;list-style:decimal;margin-left:2.2em;line-height:2em}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:inline-block}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:initial;font-size:.7em}.w7em[_ngcontent-%COMP%]{width:12em!important}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:transparent;border:transparent;border-bottom:1px solid #ddd;border-radius:0;width:5em;vertical-align:middle;padding:.5em 0 .5em .5em;margin-left:.3em}ol.inline-block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:list-item;list-style:decimal;float:left}ol.inline-block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding-left:.5em}.widthAuto[_ngcontent-%COMP%]{width:auto!important}.target[_ngcontent-%COMP%]{position:relative}.candidate[_ngcontent-%COMP%], .defaultBS[_ngcontent-%COMP%], .obstacle[_ngcontent-%COMP%], .UE[_ngcontent-%COMP%]{position:absolute;left:200px;top:250px;z-index:9999}.mat-tooltip[_ngcontent-%COMP%]{white-space:pre-line}.msg_label[_ngcontent-%COMP%]{z-index:9999;border:1px solid #161718;padding:1em;position:fixed;background-color:#110f0f;color:#fff;opacity:.9}input[type=file][_ngcontent-%COMP%]{display:inline-block;margin-left:.5em;width:75%}.w22[_ngcontent-%COMP%]{padding-left:2.2em!important}.ml_5[_ngcontent-%COMP%]{margin-left:.5em}.w18[_ngcontent-%COMP%]{width:18em!important}.spCell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:6.5em!important}.pink_circle[_ngcontent-%COMP%]{background-color:#f7176a}.blue_circle[_ngcontent-%COMP%], .pink_circle[_ngcontent-%COMP%]{padding:0 7px;color:#fff;z-index:99999;position:absolute}.blue_circle[_ngcontent-%COMP%]{background-color:#338aee!important}.highset[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;margin-right:.3em;width:3em}.rfBtns[_ngcontent-%COMP%]{margin-left:1em;padding:0 5px}.clearAll[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:10px;text-align:center;color:#5882b1;font-size:.6em;line-height:1}.clearAll[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;display:block;margin:0 auto 2px;width:1em;height:1em;background-color:#4a86c5;color:#fff;border-radius:5em}p.sub_title[_ngcontent-%COMP%]{margin-bottom:.5em;display:block}p.sub_title[_ngcontent-%COMP%] + .sub_content[_ngcontent-%COMP%]{margin-left:2em!important;transition:all .25s}p.sub_title.active[_ngcontent-%COMP%] + .sub_content[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]     #d_area mat-button-toggle-group mat-button-toggle button{width:auto!important}[_nghost-%COMP%]     .mat-expansion-panel-header{padding:0 24px 0 16px}.areaSetting[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{background-color:#ddd;border-color:#c2ccd6}.areaSetting[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#476a90}[_nghost-%COMP%]     .areaSetting .mat-expansion-panel-body p{color:#516c8c!important}.areaSetting[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding-left:30px}.areaSetting[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%], .areaSetting[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .areaSetting[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:initial!important}[_nghost-%COMP%]     .mat-expansion-panel-body{padding:0;border-radius:0;border-top:1px solid #527198}[_nghost-%COMP%]     .areaSetting .mat-expansion-panel-body{padding:0;border-radius:0;border-top:1px solid #c2ccd6;padding:1em 1em 0 2em}.mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]:not(.mat-expansion-panel-spacing), [_nghost-%COMP%]     .mat-accordion .mat-expansion-panel:not(.mat-expanded){border-radius:0!important}[_nghost-%COMP%]     .areaSetting .mat-expansion-indicator:after{color:#7997b7}[_nghost-%COMP%]     .mat-radio-outer-circle{border-color:#b5dfec}.panel_content[_ngcontent-%COMP%]{padding:1em 0 1em 2em}.mat-button-toggle-appearance-standard[_ngcontent-%COMP%]{padding:1em 0}.s_ue[_ngcontent-%COMP%]{-ms-transform:scale(.5);transform:scale(.5);display:inherit;width:19px;height:29px;position:absolute;left:-4.75px;top:-7.25px}.cdk-overlay-pane[_ngcontent-%COMP%]{overflow:auto}.subTarget[_ngcontent-%COMP%]{margin-left:1.5em}.subTarget[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:block}.clearOne[_ngcontent-%COMP%]{top:5px}']}),t})();var vu=n("mrSG"),mu=n("JqCM"),yu=n("k4ix");n("l7GE"),n("ZUHj");const wu={leading:!0,trailing:!1};function xu(t,e=Nt.a,n=wu){return i=>i.lift(new Ou(t,e,n.leading,n.trailing))}class Ou{constructor(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}call(t,e){return e.subscribe(new _u(t,this.duration,this.scheduler,this.leading,this.trailing))}}class _u extends Vt.a{constructor(t,e,n,i,r){super(t),this.duration=e,this.scheduler=n,this.leading=i,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Cu,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function Cu(t){const{subscriber:e}=t;e.clearThrottle()}var Mu=n("vkgz"),Tu=n("A/ap"),Su=n.n(Tu);const Eu=["tooltipTemplate"],Pu=["leftOuterSelectionBar"],Uu=["rightOuterSelectionBar"],Iu=["fullBar"],Lu=["selectionBar"],ku=["minHandle"],Ru=["maxHandle"],Du=["floorLabel"],Gu=["ceilLabel"],Fu=["minHandleLabel"],ju=["maxHandleLabel"],Au=["combinedLabel"],Bu=["ticksElement"];function Hu(t,e){if(1&t&&Lt.Qb(0,"ngx-slider-tooltip-wrapper",31),2&t){const t=Lt.gc().$implicit,e=Lt.gc();Lt.lc("template",e.tooltipTemplate)("tooltip",t.valueTooltip)("placement",t.valueTooltipPlacement)("content",t.value)}}function zu(t,e){if(1&t&&Lt.Qb(0,"span",32),2&t){const t=Lt.gc().$implicit;Lt.lc("innerHTML",t.legend,Lt.yc)}}const Nu=function(t){return{"ngx-slider-selected":t}};function Vu(t,e){if(1&t&&(Lt.Ub(0,"span",27),Lt.Qb(1,"ngx-slider-tooltip-wrapper",28),Lt.Ec(2,Hu,1,4,"ngx-slider-tooltip-wrapper",29),Lt.Ec(3,zu,1,1,"span",30),Lt.Tb()),2&t){const t=e.$implicit,n=Lt.gc();Lt.lc("ngClass",Lt.pc(7,Nu,t.selected))("ngStyle",t.style),Lt.Cb(1),Lt.lc("template",n.tooltipTemplate)("tooltip",t.tooltip)("placement",t.tooltipPlacement),Lt.Cb(1),Lt.lc("ngIf",null!=t.value),Lt.Cb(1),Lt.lc("ngIf",null!=t.legend)}}function qu(t,e){}function $u(t,e){1&t&&Lt.Ec(0,qu,0,0,"ng-template")}const Yu=function(t,e,n){return{tooltip:t,placement:e,content:n}};function Xu(t,e){if(1&t&&(Lt.Sb(0),Lt.Ec(1,$u,1,0,void 0,1),Lt.Rb()),2&t){const t=Lt.gc();Lt.Cb(1),Lt.lc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Lt.rc(2,Yu,t.tooltip,t.placement,t.content))}}function Wu(t,e){if(1&t&&(Lt.Sb(0),Lt.Ub(1,"div",2),Lt.Gc(2),Lt.Tb(),Lt.Rb()),2&t){const t=Lt.gc();Lt.Cb(1),Lt.Db("title",t.tooltip)("data-tooltip-placement",t.placement),Lt.Cb(1),Lt.Ic(" ",t.content," ")}}const Qu=function(){var t={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};return t[t.Low]="Low",t[t.High]="High",t[t.Floor]="Floor",t[t.Ceil]="Ceil",t[t.TickValue]="TickValue",t}();class Ku{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.mouseEventsInterval=50,this.touchEventsInterval=50,this.inputEventsInterval=100,this.outputEventsInterval=100,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaLabelHigh=null,this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const Ju=function(){var t={Min:0,Max:1};return t[t.Min]="Min",t[t.Max]="Max",t}();class Zu{}class th{static isNullOrUndefined(t){return null==t}static areArraysEqual(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}static linearValueToPosition(t,e,n){return(t-e)/(n-e)}static logValueToPosition(t,e,n){return((t=Math.log(t))-(e=Math.log(e)))/((n=Math.log(n))-e)}static linearPositionToValue(t,e,n){return t*(n-e)+e}static logPositionToValue(t,e,n){return e=Math.log(e),n=Math.log(n),Math.exp(t*(n-e)+e)}static findStepIndex(t,e){const n=e.map(e=>Math.abs(t-e.value));let i=0;for(let r=0;r<e.length;r++)n[r]!==n[i]&&n[r]<n[i]&&(i=r);return i}}class eh{static isTouchEvent(t){return void 0!==window.TouchEvent?t instanceof TouchEvent:void 0!==t.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class nh{static roundToPrecisionLimit(t,e){return+t.toPrecision(e)}static isModuloWithinPrecisionLimit(t,e,n){const i=Math.pow(10,-n);return Math.abs(t%e)<=i||Math.abs(Math.abs(t%e)-e)<=i}static clampToRange(t,e,n){return Math.min(Math.max(t,e),n)}}class ih{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class rh{constructor(t){this.renderer=t}attachPassiveEventListener(t,e,n,i){if(!0!==Su.a.hasSupport)return this.attachEventListener(t,e,n,i);const r=new ih;r.eventName=e,r.events=new kt.a;const o=t=>{r.events.next(t)};return t.addEventListener(e,o,{passive:!0,capture:!1}),r.teardownCallback=()=>{t.removeEventListener(e,o,{passive:!0,capture:!1})},r.eventsSubscription=r.events.pipe(th.isNullOrUndefined(i)?Object(Mu.a)(()=>{}):xu(i,void 0,{leading:!0,trailing:!0})).subscribe(t=>{n(t)}),r}detachEventListener(t){th.isNullOrUndefined(t.eventsSubscription)||(t.eventsSubscription.unsubscribe(),t.eventsSubscription=null),th.isNullOrUndefined(t.events)||(t.events.complete(),t.events=null),th.isNullOrUndefined(t.teardownCallback)||(t.teardownCallback(),t.teardownCallback=null)}attachEventListener(t,e,n,i){const r=new ih;return r.eventName=e,r.events=new kt.a,r.teardownCallback=this.renderer.listen(t,e,t=>{r.events.next(t)}),r.eventsSubscription=r.events.pipe(th.isNullOrUndefined(i)?Object(Mu.a)(()=>{}):xu(i,void 0,{leading:!0,trailing:!0})).subscribe(t=>{n(t)}),r}}let oh=(()=>{class t{constructor(t,e,n){this.elemRef=t,this.renderer=e,this.changeDetectionRef=n,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.eventListeners=[],this.eventListenerHelper=new rh(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}setAlwaysHide(t){this._alwaysHide=t,this.visibility=t?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(t){this._vertical=t,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(t){this._scale=t}setPosition(t){this._position===t||this.isRefDestroyed()||this.changeDetectionRef.markForCheck(),this._position=t,this._vertical?this.bottom=Math.round(t)+"px":this.left=Math.round(t)+"px"}calculateDimension(){const t=this.getBoundingClientRect();this._dimension=this.vertical?(t.bottom-t.top)*this.scale:(t.right-t.left)*this.scale}setDimension(t){this._dimension===t||this.isRefDestroyed()||this.changeDetectionRef.markForCheck(),this._dimension=t,this._vertical?this.height=Math.round(t)+"px":this.width=Math.round(t)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(t,e,n){const i=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,t,e,n);this.eventListeners.push(i)}onPassive(t,e,n){const i=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,t,e,n);this.eventListeners.push(i)}off(t){let e,n;th.isNullOrUndefined(t)?(e=[],n=this.eventListeners):(e=this.eventListeners.filter(e=>e.eventName!==t),n=this.eventListeners.filter(e=>e.eventName===t));for(const i of n)this.eventListenerHelper.detachEventListener(i);this.eventListeners=e}isRefDestroyed(){return th.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Lt.l),Lt.Pb(Lt.F),Lt.Pb(Lt.h))},t.\u0275dir=Lt.Kb({type:t,selectors:[["","ngxSliderElement",""]],hostVars:12,hostBindings:function(t,e){2&t&&Lt.Dc("opacity",e.opacity)("visibility",e.visibility)("left",e.left)("bottom",e.bottom)("height",e.height)("width",e.width)}}),t})(),ah=(()=>{class t extends oh{constructor(t,e,n){super(t,e,n),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Lt.l),Lt.Pb(Lt.F),Lt.Pb(Lt.h))},t.\u0275dir=Lt.Kb({type:t,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(t,e){2&t&&(Lt.Db("role",e.role)("tabindex",e.tabindex)("aria-orientation",e.ariaOrientation)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-valuenow",e.ariaValueNow)("aria-valuetext",e.ariaValueText)("aria-valuemin",e.ariaValueMin)("aria-valuemax",e.ariaValueMax),Lt.Gb("ngx-slider-active",e.active))},features:[Lt.zb]}),t})(),sh=(()=>{class t extends oh{constructor(t,e,n){super(t,e,n),this._value=null}get value(){return this._value}setValue(t){let e=!1;!this.alwaysHide&&(th.isNullOrUndefined(this.value)||this.value.length!==t.length||this.value.length>0&&0===this.dimension)&&(e=!0),this._value=t,this.elemRef.nativeElement.innerHTML=t,e&&this.calculateDimension()}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Lt.l),Lt.Pb(Lt.F),Lt.Pb(Lt.h))},t.\u0275dir=Lt.Kb({type:t,selectors:[["","ngxSliderLabel",""]],features:[Lt.zb]}),t})();class lh{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class ch{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class uh{static compare(t,e){return!(th.isNullOrUndefined(t)&&th.isNullOrUndefined(e)||th.isNullOrUndefined(t)!==th.isNullOrUndefined(e)||t.value!==e.value||t.highValue!==e.highValue)}}class hh extends uh{static compare(t,e){return!(th.isNullOrUndefined(t)&&th.isNullOrUndefined(e)||th.isNullOrUndefined(t)!==th.isNullOrUndefined(e)||t.value!==e.value||t.highValue!==e.highValue||t.forceChange!==e.forceChange)}}const dh={provide:Ae.i,useExisting:Object(Lt.U)(()=>ph),multi:!0};let ph=(()=>{class t{constructor(t,e,n,i){this.renderer=t,this.elementRef=e,this.changeDetectionRef=n,this.zone=i,this.value=null,this.valueChange=new Lt.n,this.highValue=null,this.highValueChange=new Lt.n,this.options=new Ku,this.userChangeStart=new Lt.n,this.userChange=new Lt.n,this.userChangeEnd=new Lt.n,this.initHasRun=!1,this.inputModelChangeSubject=new kt.a,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new kt.a,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new Ku,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new ch,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new rh(this.renderer)}set manualRefresh(t){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=t.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(t){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=t.subscribe(t=>{this.focusPointer(t)})}get range(){return!th.isNullOrUndefined(this.value)&&!th.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new Ku,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval),this.subscribeOutputModelChangeSubject(this.viewOptions.outputEventsInterval),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(t){th.isNullOrUndefined(t.options)||this.onChangeOptions(),th.isNullOrUndefined(t.value)&&th.isNullOrUndefined(t.highValue)||this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(t){t instanceof Array?(this.value=t[0],this.highValue=t[1]):this.value=t,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.viewOptions.disabled=t,this.updateDisabledState()}onResize(t){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(t){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(Object(al.a)(hh.compare),Object(Ht.a)(t=>!t.forceChange&&!t.internalChange),th.isNullOrUndefined(t)?Object(Mu.a)(()=>{}):xu(t,void 0,{leading:!0,trailing:!0})).subscribe(t=>this.applyInputModelChange(t))}subscribeOutputModelChangeSubject(t){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(Object(al.a)(hh.compare),th.isNullOrUndefined(t)?Object(Mu.a)(()=>{}):xu(t,void 0,{leading:!0,trailing:!0})).subscribe(t=>this.publishOutputModelChange(t))}subscribeResizeObserver(){eh.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){eh.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){th.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){th.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){th.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){th.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){th.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){th.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(t){return t===Ju.Min?this.minHandleElement:t===Ju.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===Ju.Min?this.viewLowValue:this.currentTrackingPointer===Ju.Max?this.viewHighValue:null}modelValueToViewValue(t){return th.isNullOrUndefined(t)?NaN:th.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+t:th.findStepIndex(+t,this.viewOptions.stepsArray)}viewValueToModelValue(t){return th.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?t:this.getStepValue(t)}getStepValue(t){const e=this.viewOptions.stepsArray[t];return th.isNullOrUndefined(e)?NaN:e.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(t){const e=this.normaliseModelValues(t),n=!uh.compare(t,e);n&&(this.value=e.value,this.highValue=e.highValue),this.viewLowValue=this.modelValueToViewValue(e.value),this.viewHighValue=this.range?this.modelValueToViewValue(e.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:e.value,highValue:e.highValue,forceChange:n,userEventInitiated:!1})}publishOutputModelChange(t){const e=()=>{this.valueChange.emit(t.value),this.range&&this.highValueChange.emit(t.highValue),th.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[t.value,t.highValue]:t.value),th.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[t.value,t.highValue]:t.value)};t.userEventInitiated?(e(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{e()})}normaliseModelValues(t){const e=new uh;if(e.value=t.value,e.highValue=t.highValue,!th.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const t=th.findStepIndex(e.value,this.viewOptions.stepsArray);if(e.value=this.viewOptions.stepsArray[t].value,this.range){const t=th.findStepIndex(e.highValue,this.viewOptions.stepsArray);e.highValue=this.viewOptions.stepsArray[t].value}}return e}if(this.viewOptions.enforceStep&&(e.value=this.roundStep(e.value),this.range&&(e.highValue=this.roundStep(e.highValue))),this.viewOptions.enforceRange&&(e.value=nh.clampToRange(e.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(e.highValue=nh.clampToRange(e.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&t.value>t.highValue))if(this.viewOptions.noSwitching)e.value=e.highValue;else{const n=t.value;e.value=t.highValue,e.highValue=n}return e}renormaliseModelValues(){const t={value:this.value,highValue:this.highValue},e=this.normaliseModelValues(t);uh.compare(e,t)||(this.value=e.value,this.highValue=e.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const t=this.viewOptions.inputEventsInterval,e=this.viewOptions.outputEventsInterval,n=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const i=this.getOptionsInfluencingEventBindings(this.viewOptions),r=!th.areArraysEqual(n,i);t!==this.viewOptions.inputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval)),e!==this.viewOptions.outputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.outputEventsInterval)),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(r)}applyOptions(){if(this.viewOptions=new Ku,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!th.isNullOrUndefined(this.viewOptions.ticksArray),!this.viewOptions.showTicks||th.isNullOrUndefined(this.viewOptions.tickStep)&&th.isNullOrUndefined(this.viewOptions.ticksArray)||(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!th.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),th.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),th.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(t,e)=>t+" - "+e),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,th.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(t):t))}applyFloorCeilOptions(){if(th.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),th.isNullOrUndefined(this.viewOptions.ceil)||th.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,th.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(t))}resetSlider(t=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),t&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(t){t!==Ju.Min&&t!==Ju.Max&&(t=Ju.Min),t===Ju.Min?this.minHandleElement.focus():this.range&&t===Ju.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){th.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const t=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(t||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate})}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const t of this.getAllSliderElements())th.isNullOrUndefined(t)||t.setVertical(this.viewOptions.vertical)}updateScale(){for(const t of this.getAllSliderElements())t.setScale(this.viewOptions.scale)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",th.isNullOrUndefined(this.viewOptions.ariaLabel)?th.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",th.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?th.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Qu.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Qu.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){th.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const t=this.minHandleElement.dimension;this.handleHalfDimension=t/2,th.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-t,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const t=th.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,e=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&t.reverse();const n=th.isNullOrUndefined(this.viewOptions.tickValueStep)?th.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let i=!1;const r=t.map(t=>{let r=this.valueToPosition(t);this.viewOptions.vertical&&(r=this.maxHandlePosition-r);const o=e+"("+Math.round(r)+"px)",a=new lh;a.selected=this.isTickSelected(t),a.style={"-webkit-transform":o,"-moz-transform":o,"-o-transform":o,"-ms-transform":o,transform:o},a.selected&&!th.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(a.style["background-color"]=this.getSelectionBarColor()),a.selected||th.isNullOrUndefined(this.viewOptions.getTickColor)||(a.style["background-color"]=this.getTickColor(t)),th.isNullOrUndefined(this.viewOptions.ticksTooltip)||(a.tooltip=this.viewOptions.ticksTooltip(t),a.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!th.isNullOrUndefined(n)&&nh.isModuloWithinPrecisionLimit(t,n,this.viewOptions.precisionLimit)&&(a.value=this.getDisplayValue(t,Qu.TickValue),th.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(a.valueTooltip=this.viewOptions.ticksValuesTooltip(t),a.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let s=null;if(th.isNullOrUndefined(this.viewOptions.stepsArray))th.isNullOrUndefined(this.viewOptions.getLegend)||(s=this.viewOptions.getLegend(t));else{const e=this.viewOptions.stepsArray[t];th.isNullOrUndefined(e)||(s=e.legend)}return th.isNullOrUndefined(s)||(a.legend=s,i=!0),a});if(setTimeout(()=>{this.sliderElementWithLegendClass=i}),th.isNullOrUndefined(this.ticks)||this.ticks.length!==r.length)this.ticks=r;else for(let o=0;o<r.length;++o)Object.assign(this.ticks[o],r[o]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const t=th.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,e=[],n=1+Math.floor(nh.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/t,this.viewOptions.precisionLimit));for(let i=0;i<n;++i)e.push(nh.roundToPrecisionLimit(this.viewOptions.floor+t*i,this.viewOptions.precisionLimit));return e}isTickSelected(t){if(!this.range)if(th.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(t>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&t<=this.viewLowValue)return!0}else{const e=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>e&&t>=e&&t<=this.viewLowValue)return!0;if(this.viewLowValue<e&&t<=e&&t>=this.viewLowValue)return!0}return!!(this.range&&t>=this.viewLowValue&&t<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Qu.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Qu.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(t,e){t===Ju.Min?this.updateLowHandle(e):t===Ju.Max&&this.updateHighHandle(e),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(t,e){const n=t===Ju.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,i=e-n/2+this.handleHalfDimension,r=this.fullBarElement.dimension-n;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&t===Ju.Min||!this.viewOptions.rightToLeft&&t===Ju.Max?Math.min(i,r):Math.min(Math.max(i,0),r):i}updateLowHandle(t){this.minHandleElement.setPosition(t),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Qu.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(Ju.Min,t)),th.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(Ju.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(t){this.maxHandleElement.setPosition(t),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Qu.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(Ju.Max,t)),th.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(Ju.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let t=!1,e=!1;const n=this.isLabelBelowFloorLabel(this.minHandleLabelElement),i=this.isLabelAboveCeilLabel(this.minHandleLabelElement),r=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),o=this.isLabelBelowFloorLabel(this.combinedLabelElement),a=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(n?(t=!0,this.floorLabelElement.hide()):(t=!1,this.floorLabelElement.show()),i?(e=!0,this.ceilLabelElement.hide()):(e=!1,this.ceilLabelElement.show()),this.range){const i=this.combinedLabelElement.isVisible()?a:r,s=this.combinedLabelElement.isVisible()?o:n;i?this.ceilLabelElement.hide():e||this.ceilLabelElement.show(),s?this.floorLabelElement.hide():t||this.floorLabelElement.show()}}isLabelBelowFloorLabel(t){const e=t.position,n=this.floorLabelElement.position;return this.viewOptions.rightToLeft?e+t.dimension>=n-2:e<=n+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(t){const e=t.position,n=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?e<=n+this.ceilLabelElement.dimension+2:e+t.dimension>=n-2}updateSelectionBar(){let t=0,e=0;const n=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,i=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)e=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),t=i;else if(th.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))n?(e=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),t=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(e=this.minHandleElement.position+this.handleHalfDimension,t=0);else{const n=this.viewOptions.showSelectionBarFromValue,i=this.valueToPosition(n);(this.viewOptions.rightToLeft?this.viewLowValue<=n:this.viewLowValue>n)?(e=this.minHandleElement.position-i,t=i+this.handleHalfDimension):(e=i-this.minHandleElement.position,t=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(e),this.selectionBarElement.setPosition(t),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(t),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+e)),this.leftOuterSelectionBarElement.setPosition(t+e)):(this.leftOuterSelectionBarElement.setDimension(t),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+e)),this.rightOuterSelectionBarElement.setPosition(t+e))),th.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!th.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const i=th.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),r=i-t>0&&!n||i-t<=0&&n;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?r?"bottom":"top":r?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(i+e+t+(r?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=i-t+(r?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const t=this.getSelectionBarColor();this.barStyle={backgroundColor:t}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(t){return this.viewOptions.getPointerColor(t===Ju.Max?this.highValue:this.value,t)}getTickColor(t){return this.viewOptions.getTickColor(t)}updateCombinedLabel(){let t=null;if(t=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,t){const t=this.getDisplayValue(this.viewLowValue,Qu.Low),e=this.getDisplayValue(this.viewHighValue,Qu.High),n=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(e,t):this.viewOptions.combineLabels(t,e);this.combinedLabelElement.setValue(n);const i=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(i),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(t,e){return th.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray||(t=this.getStepValue(t)),this.viewOptions.translate(t,e)}roundStep(t,e){const n=th.isNullOrUndefined(e)?this.viewOptions.step:e;let i=nh.roundToPrecisionLimit((t-this.viewOptions.floor)/n,this.viewOptions.precisionLimit);return i=Math.round(i)*n,nh.roundToPrecisionLimit(this.viewOptions.floor+i,this.viewOptions.precisionLimit)}valueToPosition(t){let e=th.linearValueToPosition;th.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(e=th.logValueToPosition):e=this.viewOptions.customValueToPosition;let n=e(t=nh.clampToRange(t,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return th.isNullOrUndefined(n)&&(n=0),this.viewOptions.rightToLeft&&(n=1-n),n*this.maxHandlePosition}positionToValue(t){let e=t/this.maxHandlePosition;this.viewOptions.rightToLeft&&(e=1-e);let n=th.linearPositionToValue;th.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(n=th.logPositionToValue):n=this.viewOptions.customPositionToValue;const i=n(e,this.viewOptions.floor,this.viewOptions.ceil);return th.isNullOrUndefined(i)?0:i}getEventXY(t,e){if(t instanceof MouseEvent)return this.viewOptions.vertical?t.clientY:t.clientX;let n=0;const i=t.touches;if(!th.isNullOrUndefined(e))for(let r=0;r<i.length;r++)if(i[r].identifier===e){n=r;break}return this.viewOptions.vertical?i[n].clientY:i[n].clientX}getEventPosition(t,e){const n=this.elementRef.nativeElement.getBoundingClientRect(),i=this.viewOptions.vertical?n.bottom:n.left;let r=0;return r=this.viewOptions.vertical?-this.getEventXY(t,e)+i:this.getEventXY(t,e)-i,r*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(t){if(!this.range)return Ju.Min;const e=this.getEventPosition(t),n=Math.abs(e-this.minHandleElement.position),i=Math.abs(e-this.maxHandleElement.position);return n<i?Ju.Min:n>i?Ju.Max:this.viewOptions.rightToLeft?e>this.minHandleElement.position?Ju.Min:Ju.Max:e<this.minHandleElement.position?Ju.Min:Ju.Max}bindEvents(){const t=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",e=>this.onBarStart(null,t,e,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",e=>this.onBarStart(Ju.Min,t,e,!0,!0)),this.maxHandleElement.on("mousedown",e=>this.onBarStart(Ju.Max,t,e,!0,!0))):(this.minHandleElement.on("mousedown",t=>this.onStart(Ju.Min,t,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",t=>this.onStart(Ju.Max,t,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",t=>this.onStart(null,t,!0,!0,!0)),this.ticksElement.on("mousedown",t=>this.onStart(null,t,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",e=>this.onBarStart(null,t,e,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",e=>this.onBarStart(Ju.Min,t,e,!0,!0)),this.maxHandleElement.onPassive("touchstart",e=>this.onBarStart(Ju.Max,t,e,!0,!0))):(this.minHandleElement.onPassive("touchstart",t=>this.onStart(Ju.Min,t,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",t=>this.onStart(Ju.Max,t,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",t=>this.onStart(null,t,!0,!0,!0)),this.ticksElement.onPassive("touchstart",t=>this.onStart(null,t,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(Ju.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(Ju.Max)))}getOptionsInfluencingEventBindings(t){return[t.disabled,t.readOnly,t.draggableRange,t.draggableRangeOnly,t.onlyBindHandles,t.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const t of this.getAllSliderElements())th.isNullOrUndefined(t)||t.off()}onBarStart(t,e,n,i,r,o,a){e?this.onDragStart(t,n,i,r):this.onStart(t,n,i,r,o,a)}onStart(t,e,n,i,r,o){e.stopPropagation(),eh.isTouchEvent(e)&&Su.a.hasSupport||e.preventDefault(),this.moving=!1,this.calculateViewDimensions(),th.isNullOrUndefined(t)&&(t=this.getNearestHandle(e)),this.currentTrackingPointer=t;const a=this.getPointerElement(t);if(a.active=!0,this.viewOptions.keyboardSupport&&a.focus(),n){this.unsubscribeOnMove();const t=t=>this.dragging.active?this.onDragMove(t):this.onMove(t);this.onMoveEventListener=eh.isTouchEvent(e)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",t,this.viewOptions.touchEventsInterval):this.eventListenerHelper.attachEventListener(document,"mousemove",t,this.viewOptions.mouseEventsInterval)}if(i){this.unsubscribeOnEnd();const t=t=>this.onEnd(t);this.onEndEventListener=eh.isTouchEvent(e)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",t):this.eventListenerHelper.attachEventListener(document,"mouseup",t)}this.userChangeStart.emit(this.getChangeContext()),eh.isTouchEvent(e)&&!th.isNullOrUndefined(e.changedTouches)&&th.isNullOrUndefined(this.touchId)&&(this.touchId=e.changedTouches[0].identifier),r&&this.onMove(e,!0),o&&this.onEnd(e)}onMove(t,e){let n=null;if(eh.isTouchEvent(t)){const e=t.changedTouches;for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchId){n=e[t];break}if(th.isNullOrUndefined(n))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const i=th.isNullOrUndefined(n)?this.getEventPosition(t):this.getEventPosition(t,n.identifier);let r;i<=0?r=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:i>=this.maxHandlePosition?r=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(r=this.positionToValue(i),r=e&&!th.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(r,this.viewOptions.tickStep):this.roundStep(r)),this.positionTrackingHandle(r)}onEnd(t){eh.isTouchEvent(t)&&t.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(t){const e=this.getPointerElement(t);e.on("blur",()=>this.onPointerBlur(e)),e.on("keydown",t=>this.onKeyboardEvent(t)),e.on("keyup",()=>this.onKeyUp()),e.active=!0,this.currentTrackingPointer=t,this.currentFocusPointer=t,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(t){t.off("blur"),t.off("keydown"),t.off("keyup"),t.active=!1,th.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(t){const e=this.viewOptions.ceil-this.viewOptions.floor;let n=t+this.viewOptions.step,i=t-this.viewOptions.step,r=t+e/10,o=t-e/10;this.viewOptions.reversedControls&&(n=t-this.viewOptions.step,i=t+this.viewOptions.step,r=t-e/10,o=t+e/10);const a={UP:n,DOWN:i,LEFT:i,RIGHT:n,PAGEUP:r,PAGEDOWN:o,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(a.LEFT=n,a.RIGHT=i,this.viewOptions.vertical&&(a.UP=i,a.DOWN=n)),a}onKeyboardEvent(t){const e=this.getCurrentTrackingValue(),n=th.isNullOrUndefined(t.keyCode)?t.which:t.keyCode,i=this.getKeyActions(e)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[n]];if(th.isNullOrUndefined(i)||th.isNullOrUndefined(this.currentTrackingPointer))return;t.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const r=nh.clampToRange(i,this.viewOptions.floor,this.viewOptions.ceil),o=this.roundStep(r);if(this.viewOptions.draggableRangeOnly){const t=this.viewHighValue-this.viewLowValue;let e,n;this.currentTrackingPointer===Ju.Min?(e=o,n=o+t,n>this.viewOptions.ceil&&(n=this.viewOptions.ceil,e=n-t)):this.currentTrackingPointer===Ju.Max&&(n=o,e=o-t,e<this.viewOptions.floor&&(e=this.viewOptions.floor,n=e+t)),this.positionTrackingBar(e,n)}else this.positionTrackingHandle(o)}onDragStart(t,e,n,i){const r=this.getEventPosition(e);this.dragging=new ch,this.dragging.active=!0,this.dragging.value=this.positionToValue(r),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-r:r-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?r-this.maxHandleElement.position:this.maxHandleElement.position-r,this.onStart(t,e,n,i)}getMinValue(t,e,n){const i=this.viewOptions.rightToLeft;let r=null;return r=e?n?i?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:i?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(i?t+this.dragging.lowLimit:t-this.dragging.lowLimit),this.roundStep(r)}getMaxValue(t,e,n){const i=this.viewOptions.rightToLeft;let r=null;return r=e?n?i?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:i?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:i?this.positionToValue(t+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(t-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(r)}onDragMove(t){const e=this.getEventPosition(t);let n,i,r,o;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(n=this.dragging.lowLimit,i=this.dragging.highLimit,r=this.maxHandleElement,o=this.minHandleElement):(n=this.dragging.highLimit,i=this.dragging.lowLimit,r=this.minHandleElement,o=this.maxHandleElement);const a=e>=this.maxHandlePosition-n;let s,l;if(e<=i){if(0===r.position)return;s=this.getMinValue(e,!0,!1),l=this.getMaxValue(e,!0,!1)}else if(a){if(o.position===this.maxHandlePosition)return;l=this.getMaxValue(e,!0,!0),s=this.getMinValue(e,!0,!0)}else s=this.getMinValue(e,!1,!1),l=this.getMaxValue(e,!1,!1);this.positionTrackingBar(s,l)}positionTrackingBar(t,e){!th.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit&&(e=nh.roundToPrecisionLimit((t=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!th.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit&&(t=nh.roundToPrecisionLimit((e=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=t,this.viewHighValue=e,this.applyViewChange(),this.updateHandles(Ju.Min,this.valueToPosition(t)),this.updateHandles(Ju.Max,this.valueToPosition(e))}positionTrackingHandle(t){t=this.applyMinMaxLimit(t),this.range&&(this.viewOptions.pushRange?t=this.applyPushRange(t):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===Ju.Min&&t>this.viewHighValue?t=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===Ju.Max&&t<this.viewLowValue&&(t=this.applyMinMaxRange(this.viewLowValue))),t=this.applyMinMaxRange(t),this.currentTrackingPointer===Ju.Min&&t>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(Ju.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=Ju.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===Ju.Max&&t<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(Ju.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=Ju.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==t&&(this.currentTrackingPointer===Ju.Min?(this.viewLowValue=t,this.applyViewChange()):this.currentTrackingPointer===Ju.Max&&(this.viewHighValue=t,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(t)),this.updateAriaAttributes())}applyMinMaxLimit(t){return!th.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit?this.viewOptions.minLimit:!th.isNullOrUndefined(this.viewOptions.maxLimit)&&t>this.viewOptions.maxLimit?this.viewOptions.maxLimit:t}applyMinMaxRange(t){const e=Math.abs(t-(this.currentTrackingPointer===Ju.Min?this.viewHighValue:this.viewLowValue));if(!th.isNullOrUndefined(this.viewOptions.minRange)&&e<this.viewOptions.minRange){if(this.currentTrackingPointer===Ju.Min)return nh.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===Ju.Max)return nh.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!th.isNullOrUndefined(this.viewOptions.maxRange)&&e>this.viewOptions.maxRange){if(this.currentTrackingPointer===Ju.Min)return nh.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===Ju.Max)return nh.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return t}applyPushRange(t){const e=this.currentTrackingPointer===Ju.Min?this.viewHighValue-t:t-this.viewLowValue,n=th.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,i=this.viewOptions.maxRange;return e<n?(this.currentTrackingPointer===Ju.Min?(this.viewHighValue=nh.roundToPrecisionLimit(Math.min(t+n,this.viewOptions.ceil),this.viewOptions.precisionLimit),t=nh.roundToPrecisionLimit(this.viewHighValue-n,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Ju.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===Ju.Max&&(this.viewLowValue=nh.roundToPrecisionLimit(Math.max(t-n,this.viewOptions.floor),this.viewOptions.precisionLimit),t=nh.roundToPrecisionLimit(this.viewLowValue+n,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Ju.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!th.isNullOrUndefined(i)&&e>i&&(this.currentTrackingPointer===Ju.Min?(this.viewHighValue=nh.roundToPrecisionLimit(t+i,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Ju.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===Ju.Max&&(this.viewLowValue=nh.roundToPrecisionLimit(t-i,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(Ju.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),t}getChangeContext(){const t=new Zu;return t.pointerType=this.currentTrackingPointer,t.value=+this.value,this.range&&(t.highValue=+this.highValue),t}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(Lt.F),Lt.Pb(Lt.l),Lt.Pb(Lt.h),Lt.Pb(Lt.z))},t.\u0275cmp=Lt.Jb({type:t,selectors:[["ngx-slider"]],contentQueries:function(t,e,n){var i;1&t&&Lt.Ib(n,Eu,!0),2&t&&Lt.sc(i=Lt.dc())&&(e.tooltipTemplate=i.first)},viewQuery:function(t,e){var n;1&t&&(Lt.Nc(Pu,!0,oh),Lt.Nc(Uu,!0,oh),Lt.Nc(Iu,!0,oh),Lt.Nc(Lu,!0,oh),Lt.Nc(ku,!0,ah),Lt.Nc(Ru,!0,ah),Lt.Nc(Du,!0,sh),Lt.Nc(Gu,!0,sh),Lt.Nc(Fu,!0,sh),Lt.Nc(ju,!0,sh),Lt.Nc(Au,!0,sh),Lt.Nc(Bu,!0,oh)),2&t&&(Lt.sc(n=Lt.dc())&&(e.leftOuterSelectionBarElement=n.first),Lt.sc(n=Lt.dc())&&(e.rightOuterSelectionBarElement=n.first),Lt.sc(n=Lt.dc())&&(e.fullBarElement=n.first),Lt.sc(n=Lt.dc())&&(e.selectionBarElement=n.first),Lt.sc(n=Lt.dc())&&(e.minHandleElement=n.first),Lt.sc(n=Lt.dc())&&(e.maxHandleElement=n.first),Lt.sc(n=Lt.dc())&&(e.floorLabelElement=n.first),Lt.sc(n=Lt.dc())&&(e.ceilLabelElement=n.first),Lt.sc(n=Lt.dc())&&(e.minHandleLabelElement=n.first),Lt.sc(n=Lt.dc())&&(e.maxHandleLabelElement=n.first),Lt.sc(n=Lt.dc())&&(e.combinedLabelElement=n.first),Lt.sc(n=Lt.dc())&&(e.ticksElement=n.first))},hostAttrs:[1,"ngx-slider"],hostVars:7,hostBindings:function(t,e){1&t&&Lt.cc("resize",(function(t){return e.onResize(t)}),!1,Lt.wc),2&t&&(Lt.Db("disabled",e.sliderElementDisabledAttr),Lt.Gb("vertical",e.sliderElementVerticalClass)("animate",e.sliderElementAnimateClass)("with-legend",e.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[Lt.Bb([dh]),Lt.Ab],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(t,e){1&t&&(Lt.Ub(0,"span",0,1),Lt.Qb(2,"span",2),Lt.Tb(),Lt.Ub(3,"span",3,4),Lt.Qb(5,"span",2),Lt.Tb(),Lt.Ub(6,"span",5,6),Lt.Qb(8,"span",2),Lt.Tb(),Lt.Ub(9,"span",7,8),Lt.Qb(11,"span",9),Lt.Tb(),Lt.Qb(12,"span",10,11),Lt.Qb(14,"span",12,13),Lt.Qb(16,"span",14,15),Lt.Qb(18,"span",16,17),Lt.Qb(20,"span",18,19),Lt.Qb(22,"span",20,21),Lt.Qb(24,"span",22,23),Lt.Ub(26,"span",24,25),Lt.Ec(28,Vu,4,9,"span",26),Lt.Tb()),2&t&&(Lt.Cb(6),Lt.Gb("ngx-slider-transparent",e.fullBarTransparentClass),Lt.Cb(3),Lt.Gb("ngx-slider-draggable",e.selectionBarDraggableClass),Lt.Cb(2),Lt.lc("ngStyle",e.barStyle),Lt.Cb(1),Lt.lc("ngStyle",e.minPointerStyle),Lt.Cb(2),Lt.Dc("display",e.range?"inherit":"none"),Lt.lc("ngStyle",e.maxPointerStyle),Lt.Cb(12),Lt.Gb("ngx-slider-ticks-values-under",e.ticksUnderValuesClass),Lt.lc("hidden",!e.showTicks),Lt.Cb(2),Lt.lc("ngForOf",e.ticks))},directives:function(){return[oh,i.m,ah,sh,i.k,i.j,gh,i.l]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),t})(),gh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Lt.Jb({type:t,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(t,e){1&t&&(Lt.Ec(0,Xu,2,6,"ng-container",0),Lt.Ec(1,Wu,3,3,"ng-container",0)),2&t&&(Lt.lc("ngIf",e.template),Lt.Cb(1),Lt.lc("ngIf",!e.template))},directives:[i.l,i.q],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),t})(),fh=(()=>{class t{}return t.\u0275mod=Lt.Nb({type:t}),t.\u0275inj=Lt.Mb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();var bh=n("F6rt"),vh=n("5PSO"),mh=n("WvoJ"),yh=n("XrEJ"),wh=n("OYez"),xh=n("sLYL"),Oh=n("2LqC"),_h=n("Cs74"),Ch=n("TubF");const Mh=["pdf"],Th=["propose"],Sh=["quality"],Eh=["cover"],Ph=["strength"],Uh=["performance"],Ih=["statistics"],Lh=["siteInfo"],kh=["ulThroughputMap"],Rh=["dlThroughputMap"];function Dh(t,e){if(1&t&&(Lt.Ub(0,"mat-button-toggle",29),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Tb()),2&t){const t=e.$implicit;Lt.lc("value",t),Lt.Cb(1),Lt.Jc("",t," ",Lt.ic(2,3,"meter"),"")}}function Gh(t,e){if(1&t){const t=Lt.Vb();Lt.Sb(0),Lt.Ub(1,"label",30),Lt.Ub(2,"mat-checkbox",31),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().showUE=e}))("ngModelChange",(function(){return Lt.xc(t),Lt.gc().switchShowUE()})),Lt.Gc(3),Lt.hc(4,"translate"),Lt.Tb(),Lt.Tb(),Lt.Rb()}if(2&t){const t=Lt.gc();Lt.Cb(2),Lt.lc("ngModel",t.showUE)("color","primary"),Lt.Cb(1),Lt.Ic(" ",Lt.ic(4,3,"show.ue")," ")}}function Fh(t,e){if(1&t){const t=Lt.Vb();Lt.Sb(0),Lt.Ub(1,"label",30),Lt.Ub(2,"mat-checkbox",31),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().showObstacle=e}))("ngModelChange",(function(){return Lt.xc(t),Lt.gc().switchShowObstacle()})),Lt.Gc(3),Lt.hc(4,"translate"),Lt.Tb(),Lt.Tb(),Lt.Rb()}if(2&t){const t=Lt.gc();Lt.Cb(2),Lt.lc("ngModel",t.showObstacle)("color","primary"),Lt.Cb(1),Lt.Ic(" ",Lt.ic(4,3,"show.obstacle")," ")}}function jh(t,e){if(1&t){const t=Lt.Vb();Lt.Sb(0),Lt.Ub(1,"label",30),Lt.Ub(2,"mat-checkbox",31),Lt.cc("ngModelChange",(function(e){return Lt.xc(t),Lt.gc().showCandidate=e}))("ngModelChange",(function(){return Lt.xc(t),Lt.gc().switchShowCandidate()})),Lt.Gc(3),Lt.hc(4,"translate"),Lt.Tb(),Lt.Tb(),Lt.Rb()}if(2&t){const t=Lt.gc();Lt.Cb(2),Lt.lc("ngModel",t.showCandidate)("color","primary"),Lt.Cb(1),Lt.Ic(" ",Lt.ic(4,3,"show.candidate")," ")}}function Ah(t,e){1&t&&Lt.Qb(0,"app-signal-quality",null,32)}function Bh(t,e){1&t&&Lt.Qb(0,"app-signal-cover",null,33)}function Hh(t,e){1&t&&Lt.Qb(0,"app-signal-strength",null,34)}function zh(t,e){1&t&&Lt.Qb(0,"app-signal-ul-throughput",null,35)}function Nh(t,e){1&t&&Lt.Qb(0,"app-signal-dl-throughput",null,36)}const Vh=[{path:"site-planning",component:bu},{path:"view3d",component:Ce.a},{path:"result",component:(()=>{class t{constructor(t,e,n,i,r,o,a,s){this.route=t,this.authService=e,this.router=n,this.matDialog=i,this.spinner=r,this.translateService=o,this.formService=a,this.http=s,this.result={},this.calculateForm=new St.a,this.showQuality=!0,this.showCover=!1,this.showStrength=!1,this.showUlThroughputMap=!1,this.showDlThroughputMap=!1,this.zValues=[],this.chartType="SINR",this.msgDialogConfig=new Tt.e,this.view3dDialogConfig=new Tt.e,this.defaultBSList=[],this.candidateList=[],this.obstacleList=[],this.ueList=[],this.isHst=!1,this.showUE=!0,this.hstOutput={},this.showUEArea=!1,this.showObstacleArea=!1,this.showCandidateArea=!1,this.showObstacle=!0,this.showCandidate=!0,this.opacityValue=.8,this.opacityOptions={showSelectionBar:!0,showTicks:!0,stepsArray:[{value:0},{value:.1},{value:.2},{value:.3},{value:.4},{value:.5},{value:.6},{value:.7},{value:.8},{value:.9},{value:1}]}}ngOnInit(){this.view3dDialogConfig.autoFocus=!1,this.view3dDialogConfig.width="80%",this.view3dDialogConfig.hasBackdrop=!1,this.msgDialogConfig.autoFocus=!1,this.route.queryParams.subscribe(t=>{this.taskId=t.taskId,"true"===t.isHst&&(this.isHst=!0),this.getResult()})}getResult(){let t;this.isHst?(t=`${this.authService.API_URL}/historyDetail/${this.authService.userId}/`,t+=`${this.authService.userToken}/${this.taskId}`):t=`${this.authService.API_URL}/completeCalcResult/${this.taskId}/${this.authService.userToken}`,this.http.get(t).subscribe(t=>{if(this.isHst?(this.result=this.formService.setHstOutputToResultOutput(t.output),this.calculateForm=this.formService.setHstToForm(t),console.log(this.calculateForm)):(this.calculateForm=t.input,this.result=t.output,console.log(this.calculateForm),console.log(this.result)),""!==this.calculateForm.defaultBs){console.log(this.calculateForm);const t=this.calculateForm.defaultBs.split("|");for(const e of t){const t=JSON.parse(e);this.defaultBSList.push({x:t[0],y:t[1],z:t[2]})}}let e=[];if(""!==this.calculateForm.candidateBs){this.showCandidateArea=!0,e=this.calculateForm.candidateBs.split("|");for(const t of e){const e=JSON.parse(t);this.candidateList.push({x:e[0],y:e[1],z:e[2]})}}if(""!==this.calculateForm.obstacleInfo){this.showObstacleArea=!0;const t=this.calculateForm.obstacleInfo.split("|");for(const e of t){const t=JSON.parse(e);this.obstacleList.push({x:t[0],y:t[1],width:t[2],height:t[3],altitude:t[4]})}}if(""!==this.calculateForm.ueCoordinate){this.showUEArea=!0;const t=this.calculateForm.ueCoordinate.split("|");for(const e of t){const t=JSON.parse(e);this.ueList.push({x:t[0],y:t[1],z:t[2]})}}this.propose.calculateForm=this.calculateForm,this.propose.result=this.result,this.propose.drawLayout(!1),this.zValues=JSON.parse(this.calculateForm.zValue),this.zValue=this.zValues[0],this.drawQuality(),this.performance.calculateForm=this.calculateForm,this.performance.result=this.result,this.performance.setData(),this.statistics.calculateForm=this.calculateForm,this.statistics.result=this.result,this.statistics.drawChart(!1),this.siteInfo.calculateForm=this.calculateForm,this.siteInfo.result=this.result,window.setTimeout(()=>{this.siteInfo.inputBsListCount=e.length,""!==this.calculateForm.defaultBs&&(this.siteInfo.defaultBsCount=this.calculateForm.defaultBs.split("|").length)},0),this.hstOutput.gaResult={},this.hstOutput.gaResult.chosenCandidate=this.result.chosenCandidate,this.hstOutput.gaResult.sinrMap=this.result.sinrMap,this.hstOutput.gaResult.connectionMapAll=this.result.connectionMapAll,this.hstOutput.gaResult.rsrpMap=this.result.rsrpMap,this.hstOutput.gaResult.ulThroughputMap=this.result.ulThroughputMap,this.hstOutput.gaResult.dlThroughputMap=this.result.throughputMap;const n=[];this.result.sinrMap.map(t=>{t.map(t=>{t.map(t=>{n.push(t)})})});const i=[];this.result.rsrpMap.map(t=>{t.map(t=>{t.map(t=>{i.push(t)})})});const r=[];this.result.ulThroughputMap.map(t=>{t.map(t=>{t.map(t=>{r.push(t)})})});const o=[];this.result.throughputMap.map(t=>{t.map(t=>{t.map(t=>{o.push(t)})})}),this.hstOutput.sinrMax=Plotly.d3.max(n),this.hstOutput.sinrMin=Plotly.d3.min(n),this.hstOutput.rsrpMax=Plotly.d3.max(i),this.hstOutput.rsrpMin=Plotly.d3.min(i),this.hstOutput.ulThroughputMax=Plotly.d3.max(r),this.hstOutput.ulThroughputMin=Plotly.d3.min(r),this.hstOutput.dlThroughputMax=Plotly.d3.max(o),this.hstOutput.dlThroughputMin=Plotly.d3.min(o)})}exportPDF(){return Object(vu.a)(this,void 0,void 0,(function*(){this.pdf.export(this.taskId,this.isHst)}))}drawQuality(){this.showQuality=!0,this.showCover=!1,this.showStrength=!1,window.setTimeout(()=>{this.quality.showUE=this.showUE,this.quality.calculateForm=this.calculateForm,this.quality.result=this.result,this.quality.showObstacle=this.showObstacle?"visible":"hidden",this.quality.showCandidate=this.showCandidate,this.quality.opacityValue=this.opacityValue,this.quality.draw(!1,this.zValue)},0)}drawCover(){this.showQuality=!1,this.showCover=!0,this.showStrength=!1,window.setTimeout(()=>{this.cover.showUE=this.showUE,this.cover.calculateForm=this.calculateForm,this.cover.result=this.result,this.cover.showObstacle=this.showObstacle?"visible":"hidden",this.cover.showCandidate=this.showCandidate,this.cover.opacityValue=this.opacityValue,this.cover.draw(!1,this.zValue)},0)}drawStrength(){this.showQuality=!1,this.showCover=!1,this.showStrength=!0,window.setTimeout(()=>{this.strength.showUE=this.showUE,this.strength.calculateForm=this.calculateForm,this.strength.result=this.result,this.strength.showObstacle=this.showObstacle?"visible":"hidden",this.strength.showCandidate=this.showCandidate,this.strength.opacityValue=this.opacityValue,this.strength.draw(!1,this.zValue)},0)}drawUlThroughputMap(){this.showQuality=!1,this.showCover=!1,this.showStrength=!1,this.showDlThroughputMap=!1,this.showUlThroughputMap=!0,window.setTimeout(()=>{this.ulThroughputMap.showUE=this.showUE,this.ulThroughputMap.calculateForm=this.calculateForm,this.ulThroughputMap.result=this.result,this.ulThroughputMap.showObstacle=this.showObstacle?"visible":"hidden",this.ulThroughputMap.showCandidate=this.showCandidate,this.ulThroughputMap.opacityValue=this.opacityValue,this.ulThroughputMap.draw(!1,this.zValue)},0)}drawDlThroughputMap(){this.showQuality=!1,this.showCover=!1,this.showStrength=!1,this.showDlThroughputMap=!0,this.showUlThroughputMap=!1,window.setTimeout(()=>{this.dlThroughputMap.showUE=this.showUE,this.dlThroughputMap.calculateForm=this.calculateForm,this.dlThroughputMap.result=this.result,this.dlThroughputMap.showObstacle=this.showObstacle?"visible":"hidden",this.dlThroughputMap.showCandidate=this.showCandidate,this.dlThroughputMap.opacityValue=this.opacityValue,this.dlThroughputMap.draw(!1,this.zValue)},0)}changeZvalue(){"SINR"===this.chartType?this.drawQuality():"PCI"===this.chartType?this.drawCover():"RSRP"===this.chartType?this.drawStrength():"UL_THROUGHPUT"===this.chartType?this.drawUlThroughputMap():"DL_THROUGHPUT"===this.chartType&&this.drawDlThroughputMap()}back(){this.save(!0)}save(t){this.http.post(this.authService.API_URL+"/storeResult",JSON.stringify({id:this.authService.userId,taskid:this.taskId,sessionid:this.authService.userToken})).subscribe(e=>{t?this.router.navigate(["/site/site-planning"],{queryParams:{taskId:this.taskId,isHst:!0}}):(this.msgDialogConfig.data={type:"success",infoMessage:this.translateService.instant("save.success")},this.matDialog.open(Te.a,this.msgDialogConfig))},t=>{this.msgDialogConfig.data={type:"error",infoMessage:this.translateService.instant("save.failed")},this.matDialog.open(Te.a,this.msgDialogConfig)})}view3D(){this.view3dDialogConfig.data={calculateForm:this.calculateForm,obstacleList:this.obstacleList,defaultBSList:this.defaultBSList,candidateList:this.candidateList,ueList:this.ueList,zValue:this.zValues,result:this.hstOutput},this.matDialog.open(Ce.a,this.view3dDialogConfig)}switchShowUE(){"SINR"===this.chartType?this.quality.switchUE(this.showUE):"PCI"===this.chartType?this.cover.switchUE(this.showUE):"RSRP"===this.chartType?this.strength.switchUE(this.showUE):"UL_THROUGHPUT"===this.chartType?this.ulThroughputMap.switchUE(this.showUE):"DL_THROUGHPUT"===this.chartType&&this.dlThroughputMap.switchUE(this.showUE)}switchShowObstacle(){const t=this.showObstacle?"visible":"hidden";"SINR"===this.chartType?this.quality.switchShowObstacle(t):"PCI"===this.chartType?this.cover.switchShowObstacle(t):"RSRP"===this.chartType?this.strength.switchShowObstacle(t):"UL_THROUGHPUT"===this.chartType?this.ulThroughputMap.switchShowObstacle(t):"DL_THROUGHPUT"===this.chartType&&this.dlThroughputMap.switchShowObstacle(t)}switchShowCandidate(){const t=this.showCandidate;"SINR"===this.chartType?this.quality.switchShowCandidate(t):"PCI"===this.chartType?this.cover.switchShowCandidate(t):"RSRP"===this.chartType?this.strength.switchShowCandidate(t):"UL_THROUGHPUT"===this.chartType?this.ulThroughputMap.switchShowCandidate(t):"DL_THROUGHPUT"===this.chartType&&this.dlThroughputMap.switchShowCandidate(t)}changeOpacity(){"SINR"===this.chartType?(this.quality.opacityValue=this.opacityValue,this.quality.changeOpacity()):"PCI"===this.chartType?(this.cover.opacityValue=this.opacityValue,this.cover.changeOpacity()):"RSRP"===this.chartType?(this.strength.opacityValue=this.opacityValue,this.strength.changeOpacity()):"UL_THROUGHPUT"===this.chartType?(this.ulThroughputMap.opacityValue=this.opacityValue,this.ulThroughputMap.changeOpacity()):"DL_THROUGHPUT"===this.chartType&&(this.dlThroughputMap.opacityValue=this.opacityValue,this.dlThroughputMap.changeOpacity())}}return t.\u0275fac=function(e){return new(e||t)(Lt.Pb(r.a),Lt.Pb(Se.a),Lt.Pb(r.b),Lt.Pb(Tt.b),Lt.Pb(mu.c),Lt.Pb(Pe.d),Lt.Pb(Ee.a),Lt.Pb(Ue.b))},t.\u0275cmp=Lt.Jb({type:t,selectors:[["app-result"]],viewQuery:function(t,e){var n;1&t&&(Lt.Nc(Mh,!0),Lt.Nc(Th,!0),Lt.Nc(Sh,!0),Lt.Nc(Eh,!0),Lt.Nc(Ph,!0),Lt.Nc(Uh,!0),Lt.Nc(Ih,!0),Lt.Nc(Lh,!0),Lt.Nc(kh,!0),Lt.Nc(Rh,!0)),2&t&&(Lt.sc(n=Lt.dc())&&(e.pdf=n.first),Lt.sc(n=Lt.dc())&&(e.propose=n.first),Lt.sc(n=Lt.dc())&&(e.quality=n.first),Lt.sc(n=Lt.dc())&&(e.cover=n.first),Lt.sc(n=Lt.dc())&&(e.strength=n.first),Lt.sc(n=Lt.dc())&&(e.performance=n.first),Lt.sc(n=Lt.dc())&&(e.statistics=n.first),Lt.sc(n=Lt.dc())&&(e.siteInfo=n.first),Lt.sc(n=Lt.dc())&&(e.ulThroughputMap=n.first),Lt.sc(n=Lt.dc())&&(e.dlThroughputMap=n.first))},decls:76,vars:55,consts:[[1,"inline-block"],["value","back",3,"click"],["value","3d",3,"click"],["value","export",3,"click"],["value","save",3,"click"],[1,"box"],[1,"leftArea"],["propose",""],[2,"table-layout","fixed"],["colspan","2",1,"panel","center"],["colspan","2",1,"mapType"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"mL_1"],[3,"ngModel","ngModelChange"],["value","SINR","selected","",3,"click"],["value","PCI",3,"click"],["value","RSRP",3,"click"],["value","UL_THROUGHPUT",3,"click"],["value","DL_THROUGHPUT",3,"click"],[4,"ngIf"],[1,"m-0"],[3,"value","options","valueChange","userChange"],["performance",""],["statistics",""],[1,"rightArea","ds"],["siteInfo",""],["id","pdf_area",2,"display","none"],["pdf",""],[3,"value"],[1,"mL_1","displayType"],[3,"ngModel","color","ngModelChange"],["quality",""],["cover",""],["strength",""],["ulThroughputMap",""],["dlThroughputMap",""]],template:function(t,e){1&t&&(Lt.Ub(0,"h2",0),Lt.Gc(1),Lt.hc(2,"translate"),Lt.Tb(),Lt.Ub(3,"mat-button-toggle-group"),Lt.Ub(4,"mat-button-toggle",1),Lt.cc("click",(function(){return e.back()})),Lt.Gc(5),Lt.hc(6,"translate"),Lt.Tb(),Lt.Ub(7,"mat-button-toggle",2),Lt.cc("click",(function(){return e.view3D()})),Lt.Gc(8),Lt.hc(9,"translate"),Lt.Tb(),Lt.Ub(10,"mat-button-toggle",3),Lt.cc("click",(function(){return e.exportPDF()})),Lt.Gc(11),Lt.hc(12,"translate"),Lt.Tb(),Lt.Ub(13,"mat-button-toggle",4),Lt.cc("click",(function(){return e.save(!1)})),Lt.Gc(14),Lt.hc(15,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ub(16,"div",5),Lt.Ub(17,"div",6),Lt.Qb(18,"app-propose",null,7),Lt.Ub(20,"table",8),Lt.Ub(21,"tbody"),Lt.Ub(22,"tr"),Lt.Ub(23,"th",9),Lt.Ub(24,"label"),Lt.Gc(25),Lt.hc(26,"translate"),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Ub(27,"tr"),Lt.Ub(28,"td",10),Lt.Ub(29,"label"),Lt.Gc(30),Lt.hc(31,"translate"),Lt.Tb(),Lt.Ub(32,"mat-button-toggle-group",11),Lt.cc("ngModelChange",(function(t){return e.zValue=t}))("change",(function(){return e.changeZvalue()})),Lt.Ec(33,Dh,3,5,"mat-button-toggle",12),Lt.Tb(),Lt.Ub(34,"label",13),Lt.Gc(35),Lt.hc(36,"translate"),Lt.Tb(),Lt.Ub(37,"mat-button-toggle-group",14),Lt.cc("ngModelChange",(function(t){return e.chartType=t})),Lt.Ub(38,"mat-button-toggle",15),Lt.cc("click",(function(){return e.drawQuality()})),Lt.Gc(39),Lt.hc(40,"translate"),Lt.Tb(),Lt.Ub(41,"mat-button-toggle",16),Lt.cc("click",(function(){return e.drawCover()})),Lt.Gc(42),Lt.hc(43,"translate"),Lt.Tb(),Lt.Ub(44,"mat-button-toggle",17),Lt.cc("click",(function(){return e.drawStrength()})),Lt.Gc(45),Lt.hc(46,"translate"),Lt.Tb(),Lt.Ub(47,"mat-button-toggle",18),Lt.cc("click",(function(){return e.drawUlThroughputMap()})),Lt.Gc(48),Lt.hc(49,"translate"),Lt.Tb(),Lt.Ub(50,"mat-button-toggle",19),Lt.cc("click",(function(){return e.drawDlThroughputMap()})),Lt.Gc(51),Lt.hc(52,"translate"),Lt.Tb(),Lt.Tb(),Lt.Ec(53,Gh,5,5,"ng-container",20),Lt.Ec(54,Fh,5,5,"ng-container",20),Lt.Ec(55,jh,5,5,"ng-container",20),Lt.Ec(56,Ah,2,0,"app-signal-quality",20),Lt.Ec(57,Bh,2,0,"app-signal-cover",20),Lt.Ec(58,Hh,2,0,"app-signal-strength",20),Lt.Ec(59,zh,2,0,"app-signal-ul-throughput",20),Lt.Ec(60,Nh,2,0,"app-signal-dl-throughput",20),Lt.Ub(61,"div"),Lt.Ub(62,"label",21),Lt.Gc(63),Lt.hc(64,"translate"),Lt.Tb(),Lt.Ub(65,"ngx-slider",22),Lt.cc("valueChange",(function(t){return e.opacityValue=t}))("userChange",(function(){return e.changeOpacity()})),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Tb(),Lt.Qb(66,"app-performance",null,23),Lt.Qb(68,"app-statistics",null,24),Lt.Tb(),Lt.Ub(70,"div",25),Lt.Qb(71,"app-site-info",null,26),Lt.Tb(),Lt.Tb(),Lt.Ub(73,"div",27),Lt.Qb(74,"app-pdf",null,28),Lt.Tb()),2&t&&(Lt.Cb(1),Lt.Hc(Lt.ic(2,27,"result.title")),Lt.Cb(4),Lt.Hc(Lt.ic(6,29,"result.back")),Lt.Cb(3),Lt.Hc(Lt.ic(9,31,"view.3d")),Lt.Cb(3),Lt.Hc(Lt.ic(12,33,"result.export")),Lt.Cb(3),Lt.Hc(Lt.ic(15,35,"save")),Lt.Cb(11),Lt.Hc(Lt.ic(26,37,"result.sinr_result")),Lt.Cb(5),Lt.Hc(Lt.ic(31,39,"zValue")),Lt.Cb(2),Lt.lc("ngModel",e.zValue),Lt.Cb(1),Lt.lc("ngForOf",e.zValues),Lt.Cb(2),Lt.Hc(Lt.ic(36,41,"result.img.change")),Lt.Cb(2),Lt.lc("ngModel",e.chartType),Lt.Cb(2),Lt.Hc(Lt.ic(40,43,"sinrMap")),Lt.Cb(3),Lt.Hc(Lt.ic(43,45,"connectionMap")),Lt.Cb(3),Lt.Hc(Lt.ic(46,47,"rsrpMap")),Lt.Cb(3),Lt.Hc(Lt.ic(49,49,"ulThroughputMap")),Lt.Cb(3),Lt.Hc(Lt.ic(52,51,"dlThroughputMap")),Lt.Cb(2),Lt.lc("ngIf",e.showUEArea),Lt.Cb(1),Lt.lc("ngIf",e.showObstacleArea),Lt.Cb(1),Lt.lc("ngIf",e.showCandidateArea),Lt.Cb(1),Lt.lc("ngIf",e.showQuality),Lt.Cb(1),Lt.lc("ngIf",e.showCover),Lt.Cb(1),Lt.lc("ngIf",e.showStrength),Lt.Cb(1),Lt.lc("ngIf",e.showUlThroughputMap),Lt.Cb(1),Lt.lc("ngIf",e.showDlThroughputMap),Lt.Cb(3),Lt.Hc(Lt.ic(64,53,"result.opacity")),Lt.Cb(2),Lt.lc("value",e.opacityValue)("options",e.opacityOptions))},directives:[Ye.b,Ye.a,yu.a,Ae.k,Ae.n,i.k,i.l,ph,bh.a,vh.a,mh.a,yh.a,Ul.a,wh.a,xh.a,Oh.a,_h.a,Ch.a],pipes:[Pe.c],styles:['@charset "UTF-8";.box[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding:0;width:100%}.box[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{display:block;width:100%;height:auto;margin:auto}.panel[_ngcontent-%COMP%]{padding:.4em .8em;background-color:#5aa5e2!important;color:#fff!important;font-size:.8em;border-right:1px solid #fff!important}.panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.1em}.leftArea[_ngcontent-%COMP%]   .leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:0 0 2em;display:table;width:100%;border:1.5px solid #5aa5e2;vertical-align:top;background-color:#fff}.leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-right:1px solid #5aa5e2}.leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, .leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none}.mapType[_ngcontent-%COMP%]{border-right:1px solid #5aa5e2!important}.leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#eaf3f8;border-top:1.5px solid #5aa5e2;font-size:.95em;color:#1760af;text-align:center}.leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1.5px solid #5aa5e2}.leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.res_1[_ngcontent-%COMP%]{display:inline-block;width:100%;padding:0 1% 1%;margin-top:1%;background-color:#d8ebfb;border:1px solid #92b4d2}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;width:30%;margin-right:2%}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > label[_ngcontent-%COMP%], .res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin:1em 0 .3em}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px solid #92b4d2;padding:.5em .7em}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"\uff0e";font-weight:bolder;font-size:1em;display:inline-block;margin-right:.2em;vertical-align:super}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400;margin:0}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:":";display:inline-block}.mapType[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9em}.mapType[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{margin:.5em 0 0 .5em}.ds[_ngcontent-%COMP%]{display:block;width:98.5%;font-size:.9em;margin:0;padding:0 1em;background-color:#e9f3f8;line-height:2.5;border-top:3px solid #5aa5e2}.ds[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#5aa5e2;margin-right:.3em}.leftArea[_ngcontent-%COMP%], .rightArea[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.leftArea[_ngcontent-%COMP%]{width:81%;padding:0 1em 0 0}table[_ngcontent-%COMP%]{margin:0 0 1.5em}.rightArea[_ngcontent-%COMP%]{padding:1em;font-size:.9em;width:19%}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:" :"}.thCenter[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.choose[_ngcontent-%COMP%]{background-color:#fff;color:#333;position:relative}.choose[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#ce1a21;color:#fff;width:1.6em;height:1.6em;line-height:1.6em;text-align:center;margin:0!important;border-radius:50em;font-weight:400!important}.choose[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{background-color:#fff;color:#5aa5e2;width:1em;height:1em;border-radius:3em;display:inline-block;margin-left:.3em;vertical-align:middle;font-size:16px}.mat-button-toggle-group[_ngcontent-%COMP%]{margin-left:1em}.mat-button-toggle-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto!important}[_nghost-%COMP%]     #performace, [_nghost-%COMP%]     #propose{background-color:#fff;color:#333}[_nghost-%COMP%]     .mat-button-toggle-group button{width:auto!important;font-size:.95em}.mat-button-toggle-group-appearance-standard[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12)}h2[_ngcontent-%COMP%] + mat-button-toggle-group[_ngcontent-%COMP%]{vertical-align:middle;margin-bottom:1em}.displayType[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1em;height:1em;margin-right:.3em;vertical-align:middle}']}),t})()}];let qh=(()=>{class t{}return t.\u0275mod=Lt.Nb({type:t}),t.\u0275inj=Lt.Mb({factory:function(e){return new(e||t)},imports:[[r.c.forChild(Vh)],r.c]}),t})();var $h=n("wZkO"),Yh=n("NFeN"),Xh=n("IO/c");let Wh=(()=>{class t{}return t.\u0275mod=Lt.Nb({type:t}),t.\u0275inj=Lt.Mb({factory:function(e){return new(e||t)},providers:[Pl.a],imports:[[i.c,Ae.g,Ae.q,r.c,Le.d,Ye.c,Yh.a,Sl,$h.a,Ul.b,Ie.b,Zs,_e,Pe.b,Pl.b,El.c,$e,Xh.a,ke.b]]}),t})();var Qh=n("kpLP"),Kh=n("xR3L"),Jh=n("27D2"),Zh=n("3NtM"),td=n("CLfV"),ed=n("tAWS"),nd=n("bJ/z"),id=n("Ue+b"),rd=n("dMng"),od=n("S9zH"),ad=n("a56/");let sd=(()=>{class t{}return t.\u0275mod=Lt.Nb({type:t}),t.\u0275inj=Lt.Mb({factory:function(e){return new(e||t)},imports:[[i.c,r.c,Ae.g,Ye.c,Kh.a,Jh.a,Zh.a,td.a,ed.a,nd.a,id.a,rd.PdfModule,Pe.b,Ul.b,fh,od.a,ad.a]]}),t})(),ld=(()=>{class t{}return t.\u0275mod=Lt.Nb({type:t}),t.\u0275inj=Lt.Mb({factory:function(e){return new(e||t)},imports:[[i.c,r.c,qh,Wh,Qh.a,sd]]}),t})()},LvDl:function(t,e,n){(function(t){var i;(function(){var r="Expected a function",o="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",l="[object Array]",c="[object Boolean]",u="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",g="[object Map]",f="[object Number]",b="[object Object]",v="[object RegExp]",m="[object Set]",y="[object String]",w="[object Symbol]",x="[object WeakMap]",O="[object ArrayBuffer]",_="[object DataView]",C="[object Float32Array]",M="[object Float64Array]",T="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",P="[object Uint8Array]",U="[object Uint16Array]",I="[object Uint32Array]",L=/\b__p \+= '';/g,k=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,F=RegExp(D.source),j=RegExp(G.source),A=/<%-([\s\S]+?)%>/g,B=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,$=RegExp(q.source),Y=/^\s+|\s+$/g,X=/^\s+/,W=/\s+$/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,K=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,rt=/^0b[01]+$/i,ot=/^\[object .+?Constructor\]$/,at=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,ut=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="["+dt+"]",gt="["+ht+"]",ft="\\d+",bt="[a-z\\xdf-\\xf6\\xf8-\\xff]",vt="[^\\ud800-\\udfff"+dt+ft+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",mt="\\ud83c[\\udffb-\\udfff]",yt="[^\\ud800-\\udfff]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",xt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ot="[A-Z\\xc0-\\xd6\\xd8-\\xde]",_t="(?:"+bt+"|"+vt+")",Ct="(?:"+Ot+"|"+vt+")",Mt="(?:"+gt+"|"+mt+")?",Tt="[\\ufe0e\\ufe0f]?"+Mt+"(?:\\u200d(?:"+[yt,wt,xt].join("|")+")[\\ufe0e\\ufe0f]?"+Mt+")*",St="(?:"+["[\\u2700-\\u27bf]",wt,xt].join("|")+")"+Tt,Et="(?:"+[yt+gt+"?",gt,wt,xt,"[\\ud800-\\udfff]"].join("|")+")",Pt=RegExp("['\u2019]","g"),Ut=RegExp(gt,"g"),It=RegExp(mt+"(?="+mt+")|"+Et+Tt,"g"),Lt=RegExp([Ot+"?"+bt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[pt,Ot,"$"].join("|")+")",Ct+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[pt,Ot+_t,"$"].join("|")+")",Ot+"?"+_t+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ot+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ft,St].join("|"),"g"),kt=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Dt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gt=-1,Ft={};Ft[C]=Ft[M]=Ft[T]=Ft[S]=Ft[E]=Ft[P]=Ft["[object Uint8ClampedArray]"]=Ft[U]=Ft[I]=!0,Ft[s]=Ft[l]=Ft[O]=Ft[c]=Ft[_]=Ft[u]=Ft[h]=Ft[d]=Ft[g]=Ft[f]=Ft[b]=Ft[v]=Ft[m]=Ft[y]=Ft[x]=!1;var jt={};jt[s]=jt[l]=jt[O]=jt[_]=jt[c]=jt[u]=jt[C]=jt[M]=jt[T]=jt[S]=jt[E]=jt[g]=jt[f]=jt[b]=jt[v]=jt[m]=jt[y]=jt[w]=jt[P]=jt["[object Uint8ClampedArray]"]=jt[U]=jt[I]=!0,jt[h]=jt[d]=jt[x]=!1;var At={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,Ht=parseInt,zt="object"==typeof global&&global&&global.Object===Object&&global,Nt="object"==typeof self&&self&&self.Object===Object&&self,Vt=zt||Nt||Function("return this")(),qt=e&&!e.nodeType&&e,$t=qt&&"object"==typeof t&&t&&!t.nodeType&&t,Yt=$t&&$t.exports===qt,Xt=Yt&&zt.process,Wt=function(){try{return $t&&$t.require&&$t.require("util").types||Xt&&Xt.binding&&Xt.binding("util")}catch(t){}}(),Qt=Wt&&Wt.isArrayBuffer,Kt=Wt&&Wt.isDate,Jt=Wt&&Wt.isMap,Zt=Wt&&Wt.isRegExp,te=Wt&&Wt.isSet,ee=Wt&&Wt.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ie(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function re(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function ae(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function se(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function le(t,e){return!(null==t||!t.length)&&me(t,e,0)>-1}function ce(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function ue(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function he(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function de(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function pe(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function ge(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var fe=Oe("length");function be(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function ve(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function me(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):ve(t,we,n)}function ye(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function we(t){return t!=t}function xe(t,e){var n=null==t?0:t.length;return n?Me(t,e)/n:NaN}function Oe(t){return function(e){return null==e?void 0:e[t]}}function _e(t){return function(e){return null==t?void 0:t[e]}}function Ce(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function Me(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Te(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Se(t){return function(e){return t(e)}}function Ee(t,e){return ue(e,(function(e){return t[e]}))}function Pe(t,e){return t.has(e)}function Ue(t,e){for(var n=-1,i=t.length;++n<i&&me(e,t[n],0)>-1;);return n}function Ie(t,e){for(var n=t.length;n--&&me(e,t[n],0)>-1;);return n}function Le(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var ke=_e({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Re=_e({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function De(t){return"\\"+At[t]}function Ge(t){return kt.test(t)}function Fe(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function je(t,e){return function(n){return t(e(n))}}function Ae(t,e){for(var n=-1,i=t.length,r=0,a=[];++n<i;){var s=t[n];s!==e&&s!==o||(t[n]=o,a[r++]=n)}return a}function Be(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function He(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function ze(t){return Ge(t)?function(t){for(var e=It.lastIndex=0;It.test(t);)++e;return e}(t):fe(t)}function Ne(t){return Ge(t)?function(t){return t.match(It)||[]}(t):function(t){return t.split("")}(t)}var Ve=_e({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),qe=function t(e){var n,i=(e=null==e?Vt:qe.defaults(Vt.Object(),e,qe.pick(Vt,Dt))).Array,ht=e.Date,dt=e.Error,pt=e.Function,gt=e.Math,ft=e.Object,bt=e.RegExp,vt=e.String,mt=e.TypeError,yt=i.prototype,wt=ft.prototype,xt=e["__core-js_shared__"],Ot=pt.prototype.toString,_t=wt.hasOwnProperty,Ct=0,Mt=(n=/[^.]+$/.exec(xt&&xt.keys&&xt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Tt=wt.toString,St=Ot.call(ft),Et=Vt._,It=bt("^"+Ot.call(_t).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kt=Yt?e.Buffer:void 0,At=e.Symbol,zt=e.Uint8Array,Nt=kt?kt.allocUnsafe:void 0,qt=je(ft.getPrototypeOf,ft),$t=ft.create,Xt=wt.propertyIsEnumerable,Wt=yt.splice,fe=At?At.isConcatSpreadable:void 0,_e=At?At.iterator:void 0,$e=At?At.toStringTag:void 0,Ye=function(){try{var t=Kr(ft,"defineProperty");return t({},"",{}),t}catch(e){}}(),Xe=e.clearTimeout!==Vt.clearTimeout&&e.clearTimeout,We=ht&&ht.now!==Vt.Date.now&&ht.now,Qe=e.setTimeout!==Vt.setTimeout&&e.setTimeout,Ke=gt.ceil,Je=gt.floor,Ze=ft.getOwnPropertySymbols,tn=kt?kt.isBuffer:void 0,en=e.isFinite,nn=yt.join,rn=je(ft.keys,ft),on=gt.max,an=gt.min,sn=ht.now,ln=e.parseInt,cn=gt.random,un=yt.reverse,hn=Kr(e,"DataView"),dn=Kr(e,"Map"),pn=Kr(e,"Promise"),gn=Kr(e,"Set"),fn=Kr(e,"WeakMap"),bn=Kr(ft,"create"),vn=fn&&new fn,mn={},yn=So(hn),wn=So(dn),xn=So(pn),On=So(gn),_n=So(fn),Cn=At?At.prototype:void 0,Mn=Cn?Cn.valueOf:void 0,Tn=Cn?Cn.toString:void 0;function Sn(t){if(Va(t)&&!ka(t)&&!(t instanceof In)){if(t instanceof Un)return t;if(_t.call(t,"__wrapped__"))return Eo(t)}return new Un(t)}var En=function(){function t(){}return function(e){if(!Na(e))return{};if($t)return $t(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Pn(){}function Un(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function In(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ln(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Rn;++e<n;)this.add(t[e])}function Gn(t){var e=this.__data__=new kn(t);this.size=e.size}function Fn(t,e){var n=ka(t),i=!n&&La(t),r=!n&&!i&&Fa(t),o=!n&&!i&&!r&&Ja(t),a=n||i||r||o,s=a?Te(t.length,vt):[],l=s.length;for(var c in t)!e&&!_t.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ro(c,l))||s.push(c);return s}function jn(t){var e=t.length;return e?t[Ri(0,e-1)]:void 0}function An(t,e){return Oo(fr(t),Xn(e,0,t.length))}function Bn(t){return Oo(fr(t))}function Hn(t,e,n){(void 0!==n&&!Pa(t[e],n)||void 0===n&&!(e in t))&&$n(t,e,n)}function zn(t,e,n){var i=t[e];_t.call(t,e)&&Pa(i,n)&&(void 0!==n||e in t)||$n(t,e,n)}function Nn(t,e){for(var n=t.length;n--;)if(Pa(t[n][0],e))return n;return-1}function Vn(t,e,n,i){return Zn(t,(function(t,r,o){e(i,t,n(t),o)})),i}function qn(t,e){return t&&br(e,ws(e),t)}function $n(t,e,n){"__proto__"==e&&Ye?Ye(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Yn(t,e){for(var n=-1,r=e.length,o=i(r),a=null==t;++n<r;)o[n]=a?void 0:fs(t,e[n]);return o}function Xn(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Wn(t,e,n,i,r,o){var a,l=1&e,h=2&e,x=4&e;if(n&&(a=r?n(t,i,r,o):n(t)),void 0!==a)return a;if(!Na(t))return t;var L=ka(t);if(L){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&_t.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return fr(t,a)}else{var k=to(t),R=k==d||k==p;if(Fa(t))return cr(t,l);if(k==b||k==s||R&&!r){if(a=h||R?{}:no(t),!l)return h?function(t,e){return br(t,Zr(t),e)}(t,function(t,e){return t&&br(e,xs(e),t)}(a,t)):function(t,e){return br(t,Jr(t),e)}(t,qn(a,t))}else{if(!jt[k])return r?t:{};a=function(t,e,n){var i=t.constructor;switch(e){case O:return ur(t);case c:case u:return new i(+t);case _:return function(t,e){var n=e?ur(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case C:case M:case T:case S:case E:case P:case"[object Uint8ClampedArray]":case U:case I:return hr(t,n);case g:return new i;case f:case y:return new i(t);case v:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case m:return new i;case w:return Mn?ft(Mn.call(t)):{}}}(t,k,l)}}o||(o=new Gn);var D=o.get(t);if(D)return D;o.set(t,a),Wa(t)?t.forEach((function(i){a.add(Wn(i,e,n,i,t,o))})):qa(t)&&t.forEach((function(i,r){a.set(r,Wn(i,e,n,r,t,o))}));var G=L?void 0:(x?h?Vr:Nr:h?xs:ws)(t);return re(G||t,(function(i,r){G&&(i=t[r=i]),zn(a,r,Wn(i,e,n,r,t,o))})),a}function Qn(t,e,n){var i=n.length;if(null==t)return!i;for(t=ft(t);i--;){var r=n[i],o=t[r];if(void 0===o&&!(r in t)||!(0,e[r])(o))return!1}return!0}function Kn(t,e,n){if("function"!=typeof t)throw new mt(r);return mo((function(){t.apply(void 0,n)}),e)}function Jn(t,e,n,i){var r=-1,o=le,a=!0,s=t.length,l=[],c=e.length;if(!s)return l;n&&(e=ue(e,Se(n))),i?(o=ce,a=!1):e.length>=200&&(o=Pe,a=!1,e=new Dn(e));t:for(;++r<s;){var u=t[r],h=null==n?u:n(u);if(u=i||0!==u?u:0,a&&h==h){for(var d=c;d--;)if(e[d]===h)continue t;l.push(u)}else o(e,h,i)||l.push(u)}return l}Sn.templateSettings={escape:A,evaluate:B,interpolate:H,variable:"",imports:{_:Sn}},(Sn.prototype=Pn.prototype).constructor=Sn,(Un.prototype=En(Pn.prototype)).constructor=Un,(In.prototype=En(Pn.prototype)).constructor=In,Ln.prototype.clear=function(){this.__data__=bn?bn(null):{},this.size=0},Ln.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ln.prototype.get=function(t){var e=this.__data__;if(bn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return _t.call(e,t)?e[t]:void 0},Ln.prototype.has=function(t){var e=this.__data__;return bn?void 0!==e[t]:_t.call(e,t)},Ln.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bn&&void 0===e?"__lodash_hash_undefined__":e,this},kn.prototype.clear=function(){this.__data__=[],this.size=0},kn.prototype.delete=function(t){var e=this.__data__,n=Nn(e,t);return!(n<0||(n==e.length-1?e.pop():Wt.call(e,n,1),--this.size,0))},kn.prototype.get=function(t){var e=this.__data__,n=Nn(e,t);return n<0?void 0:e[n][1]},kn.prototype.has=function(t){return Nn(this.__data__,t)>-1},kn.prototype.set=function(t,e){var n=this.__data__,i=Nn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Rn.prototype.clear=function(){this.size=0,this.__data__={hash:new Ln,map:new(dn||kn),string:new Ln}},Rn.prototype.delete=function(t){var e=Wr(this,t).delete(t);return this.size-=e?1:0,e},Rn.prototype.get=function(t){return Wr(this,t).get(t)},Rn.prototype.has=function(t){return Wr(this,t).has(t)},Rn.prototype.set=function(t,e){var n=Wr(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Dn.prototype.add=Dn.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Dn.prototype.has=function(t){return this.__data__.has(t)},Gn.prototype.clear=function(){this.__data__=new kn,this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Gn.prototype.get=function(t){return this.__data__.get(t)},Gn.prototype.has=function(t){return this.__data__.has(t)},Gn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof kn){var i=n.__data__;if(!dn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Rn(i)}return n.set(t,e),this.size=n.size,this};var Zn=yr(si),ti=yr(li,!0);function ei(t,e){var n=!0;return Zn(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function ni(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(void 0===s?a==a&&!Ka(a):n(a,s)))var s=a,l=o}return l}function ii(t,e){var n=[];return Zn(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function ri(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=io),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?ri(s,e-1,n,i,r):he(r,s):i||(r[r.length]=s)}return r}var oi=wr(),ai=wr(!0);function si(t,e){return t&&oi(t,e,ws)}function li(t,e){return t&&ai(t,e,ws)}function ci(t,e){return se(e,(function(e){return Ba(t[e])}))}function ui(t,e){for(var n=0,i=(e=or(e,t)).length;null!=t&&n<i;)t=t[To(e[n++])];return n&&n==i?t:void 0}function hi(t,e,n){var i=e(t);return ka(t)?i:he(i,n(t))}function di(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":$e&&$e in ft(t)?function(t){var e=_t.call(t,$e),n=t[$e];try{t[$e]=void 0;var i=!0}catch(o){}var r=Tt.call(t);return i&&(e?t[$e]=n:delete t[$e]),r}(t):function(t){return Tt.call(t)}(t)}function pi(t,e){return t>e}function gi(t,e){return null!=t&&_t.call(t,e)}function fi(t,e){return null!=t&&e in ft(t)}function bi(t,e,n){for(var r=n?ce:le,o=t[0].length,a=t.length,s=a,l=i(a),c=1/0,u=[];s--;){var h=t[s];s&&e&&(h=ue(h,Se(e))),c=an(h.length,c),l[s]=!n&&(e||o>=120&&h.length>=120)?new Dn(s&&h):void 0}h=t[0];var d=-1,p=l[0];t:for(;++d<o&&u.length<c;){var g=h[d],f=e?e(g):g;if(g=n||0!==g?g:0,!(p?Pe(p,f):r(u,f,n))){for(s=a;--s;){var b=l[s];if(!(b?Pe(b,f):r(t[s],f,n)))continue t}p&&p.push(f),u.push(g)}}return u}function vi(t,e,n){var i=null==(t=go(t,e=or(e,t)))?t:t[To(Ao(e))];return null==i?void 0:ne(i,t,n)}function mi(t){return Va(t)&&di(t)==s}function yi(t,e,n,i,r){return t===e||(null==t||null==e||!Va(t)&&!Va(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var a=ka(t),d=ka(e),p=a?l:to(t),x=d?l:to(e),C=(p=p==s?b:p)==b,M=(x=x==s?b:x)==b,T=p==x;if(T&&Fa(t)){if(!Fa(e))return!1;a=!0,C=!1}if(T&&!C)return o||(o=new Gn),a||Ja(t)?Hr(t,e,n,i,r,o):function(t,e,n,i,r,o,a){switch(n){case _:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!o(new zt(t),new zt(e)));case c:case u:case f:return Pa(+t,+e);case h:return t.name==e.name&&t.message==e.message;case v:case y:return t==e+"";case g:var s=Fe;case m:if(s||(s=Be),t.size!=e.size&&!(1&i))return!1;var l=a.get(t);if(l)return l==e;i|=2,a.set(t,e);var d=Hr(s(t),s(e),i,r,o,a);return a.delete(t),d;case w:if(Mn)return Mn.call(t)==Mn.call(e)}return!1}(t,e,p,n,i,r,o);if(!(1&n)){var S=C&&_t.call(t,"__wrapped__"),E=M&&_t.call(e,"__wrapped__");if(S||E){var P=S?t.value():t,U=E?e.value():e;return o||(o=new Gn),r(P,U,n,i,o)}}return!!T&&(o||(o=new Gn),function(t,e,n,i,r,o){var a=1&n,s=Nr(t),l=s.length;if(l!=Nr(e).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in e:_t.call(e,u)))return!1}var h=o.get(t),d=o.get(e);if(h&&d)return h==e&&d==t;var p=!0;o.set(t,e),o.set(e,t);for(var g=a;++c<l;){var f=t[u=s[c]],b=e[u];if(i)var v=a?i(b,f,u,e,t,o):i(f,b,u,t,e,o);if(!(void 0===v?f===b||r(f,b,n,i,o):v)){p=!1;break}g||(g="constructor"==u)}if(p&&!g){var m=t.constructor,y=e.constructor;m==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,i,r,o))}(t,e,n,i,yi,r))}function wi(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=ft(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var l=(s=n[r])[0],c=t[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in t))return!1}else{var h=new Gn;if(i)var d=i(c,u,l,t,e,h);if(!(void 0===d?yi(u,c,3,i,h):d))return!1}}return!0}function xi(t){return!(!Na(t)||(e=t,Mt&&Mt in e))&&(Ba(t)?It:ot).test(So(t));var e}function Oi(t){return"function"==typeof t?t:null==t?$s:"object"==typeof t?ka(t)?Si(t[0],t[1]):Ti(t):el(t)}function _i(t){if(!co(t))return rn(t);var e=[];for(var n in ft(t))_t.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ci(t,e){return t<e}function Mi(t,e){var n=-1,r=Da(t)?i(t.length):[];return Zn(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function Ti(t){var e=Qr(t);return 1==e.length&&e[0][2]?ho(e[0][0],e[0][1]):function(n){return n===t||wi(n,t,e)}}function Si(t,e){return ao(t)&&uo(e)?ho(To(t),e):function(n){var i=fs(n,t);return void 0===i&&i===e?bs(n,t):yi(e,i,3)}}function Ei(t,e,n,i,r){t!==e&&oi(e,(function(o,a){if(r||(r=new Gn),Na(o))!function(t,e,n,i,r,o,a){var s=bo(t,n),l=bo(e,n),c=a.get(l);if(c)Hn(t,n,c);else{var u=o?o(s,l,n+"",t,e,a):void 0,h=void 0===u;if(h){var d=ka(l),p=!d&&Fa(l),g=!d&&!p&&Ja(l);u=l,d||p||g?ka(s)?u=s:Ga(s)?u=fr(s):p?(h=!1,u=cr(l,!0)):g?(h=!1,u=hr(l,!0)):u=[]:Ya(l)||La(l)?(u=s,La(s)?u=as(s):Na(s)&&!Ba(s)||(u=no(l))):h=!1}h&&(a.set(l,u),r(u,l,i,o,a),a.delete(l)),Hn(t,n,u)}}(t,e,a,n,Ei,i,r);else{var s=i?i(bo(t,a),o,a+"",t,e,r):void 0;void 0===s&&(s=o),Hn(t,a,s)}}),xs)}function Pi(t,e){var n=t.length;if(n)return ro(e+=e<0?n:0,n)?t[e]:void 0}function Ui(t,e,n){e=e.length?ue(e,(function(t){return ka(t)?function(e){return ui(e,1===t.length?t[0]:t)}:t})):[$s];var i=-1;return e=ue(e,Se(Xr())),function(t,e){var i=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=dr(r[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}));i--;)t[i]=t[i].value;return t}(Mi(t,(function(t,n,r){return{criteria:ue(e,(function(e){return e(t)})),index:++i,value:t}})))}function Ii(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=ui(t,a);n(s,a)&&Ai(o,or(a,t),s)}return o}function Li(t,e,n,i){var r=i?ye:me,o=-1,a=e.length,s=t;for(t===e&&(e=fr(e)),n&&(s=ue(t,Se(n)));++o<a;)for(var l=0,c=e[o],u=n?n(c):c;(l=r(s,u,l,i))>-1;)s!==t&&Wt.call(s,l,1),Wt.call(t,l,1);return t}function ki(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;ro(r)?Wt.call(t,r,1):Ki(t,r)}}return t}function Ri(t,e){return t+Je(cn()*(e-t+1))}function Di(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Je(e/2))&&(t+=t)}while(e);return n}function Gi(t,e){return yo(po(t,e,$s),t+"")}function Fi(t){return jn(Ps(t))}function ji(t,e){var n=Ps(t);return Oo(n,Xn(e,0,n.length))}function Ai(t,e,n,i){if(!Na(t))return t;for(var r=-1,o=(e=or(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var l=To(e[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(r!=a){var u=s[l];void 0===(c=i?i(u,l,s):void 0)&&(c=Na(u)?u:ro(e[r+1])?[]:{})}zn(s,l,c),s=s[l]}return t}var Bi=vn?function(t,e){return vn.set(t,e),t}:$s,Hi=Ye?function(t,e){return Ye(t,"toString",{configurable:!0,enumerable:!1,value:Ns(e),writable:!0})}:$s;function zi(t){return Oo(Ps(t))}function Ni(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=i(o);++r<o;)a[r]=t[r+e];return a}function Vi(t,e){var n;return Zn(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function qi(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!Ka(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return $i(t,e,$s,n)}function $i(t,e,n,i){var r=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,s=null===e,l=Ka(e),c=void 0===e;r<o;){var u=Je((r+o)/2),h=n(t[u]),d=void 0!==h,p=null===h,g=h==h,f=Ka(h);if(a)var b=i||g;else b=c?g&&(i||d):s?g&&d&&(i||!p):l?g&&d&&!p&&(i||!f):!p&&!f&&(i?h<=e:h<e);b?r=u+1:o=u}return an(o,4294967294)}function Yi(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Pa(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function Xi(t){return"number"==typeof t?t:Ka(t)?NaN:+t}function Wi(t){if("string"==typeof t)return t;if(ka(t))return ue(t,Wi)+"";if(Ka(t))return Tn?Tn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Qi(t,e,n){var i=-1,r=le,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=ce;else if(o>=200){var c=e?null:Dr(t);if(c)return Be(c);a=!1,r=Pe,l=new Dn}else l=e?[]:s;t:for(;++i<o;){var u=t[i],h=e?e(u):u;if(u=n||0!==u?u:0,a&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),s.push(u)}else r(l,h,n)||(l!==s&&l.push(h),s.push(u))}return s}function Ki(t,e){return null==(t=go(t,e=or(e,t)))||delete t[To(Ao(e))]}function Ji(t,e,n,i){return Ai(t,e,n(ui(t,e)),i)}function Zi(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Ni(t,i?0:o,i?o+1:r):Ni(t,i?o+1:0,i?r:o)}function tr(t,e){var n=t;return n instanceof In&&(n=n.value()),de(e,(function(t,e){return e.func.apply(e.thisArg,he([t],e.args))}),n)}function er(t,e,n){var r=t.length;if(r<2)return r?Qi(t[0]):[];for(var o=-1,a=i(r);++o<r;)for(var s=t[o],l=-1;++l<r;)l!=o&&(a[o]=Jn(a[o]||s,t[l],e,n));return Qi(ri(a,1),e,n)}function nr(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;)n(a,t[i],i<o?e[i]:void 0);return a}function ir(t){return Ga(t)?t:[]}function rr(t){return"function"==typeof t?t:$s}function or(t,e){return ka(t)?t:ao(t,e)?[t]:Mo(ss(t))}var ar=Gi;function sr(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:Ni(t,e,n)}var lr=Xe||function(t){return Vt.clearTimeout(t)};function cr(t,e){if(e)return t.slice();var n=t.length,i=Nt?Nt(n):new t.constructor(n);return t.copy(i),i}function ur(t){var e=new t.constructor(t.byteLength);return new zt(e).set(new zt(t)),e}function hr(t,e){var n=e?ur(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function dr(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,o=Ka(t),a=void 0!==e,s=null===e,l=e==e,c=Ka(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!c&&t<e||c&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function pr(t,e,n,r){for(var o=-1,a=t.length,s=n.length,l=-1,c=e.length,u=on(a-s,0),h=i(c+u),d=!r;++l<c;)h[l]=e[l];for(;++o<s;)(d||o<a)&&(h[n[o]]=t[o]);for(;u--;)h[l++]=t[o++];return h}function gr(t,e,n,r){for(var o=-1,a=t.length,s=-1,l=n.length,c=-1,u=e.length,h=on(a-l,0),d=i(h+u),p=!r;++o<h;)d[o]=t[o];for(var g=o;++c<u;)d[g+c]=e[c];for(;++s<l;)(p||o<a)&&(d[g+n[s]]=t[o++]);return d}function fr(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function br(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),r?$n(n,s,l):zn(n,s,l)}return n}function vr(t,e){return function(n,i){var r=ka(n)?ie:Vn,o=e?e():{};return r(n,t,Xr(i,2),o)}}function mr(t){return Gi((function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&oo(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),e=ft(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e}))}function yr(t,e){return function(n,i){if(null==n)return n;if(!Da(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=ft(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function wr(t){return function(e,n,i){for(var r=-1,o=ft(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function xr(t){return function(e){var n=Ge(e=ss(e))?Ne(e):void 0,i=n?n[0]:e.charAt(0),r=n?sr(n,1).join(""):e.slice(1);return i[t]()+r}}function Or(t){return function(e){return de(Bs(Ls(e).replace(Pt,"")),t,"")}}function _r(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=En(t.prototype),i=t.apply(n,e);return Na(i)?i:n}}function Cr(t){return function(e,n,i){var r=ft(e);if(!Da(e)){var o=Xr(n,3);e=ws(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:void 0}}function Mr(t){return zr((function(e){var n=e.length,i=n,o=Un.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new mt(r);if(o&&!s&&"wrapper"==$r(a))var s=new Un([],!0)}for(i=s?i:n;++i<n;){var l=$r(a=e[i]),c="wrapper"==l?qr(a):void 0;s=c&&so(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[$r(c[0])].apply(s,c[3]):1==a.length&&so(a)?s[l]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&ka(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function Tr(t,e,n,r,o,a,s,l,c,u){var h=128&e,d=1&e,p=2&e,g=24&e,f=512&e,b=p?void 0:_r(t);return function v(){for(var m=arguments.length,y=i(m),w=m;w--;)y[w]=arguments[w];if(g)var x=Yr(v),O=Le(y,x);if(r&&(y=pr(y,r,o,g)),a&&(y=gr(y,a,s,g)),m-=O,g&&m<u){var _=Ae(y,x);return kr(t,e,Tr,v.placeholder,n,y,_,l,c,u-m)}var C=d?n:this,M=p?C[t]:t;return m=y.length,l?y=fo(y,l):f&&m>1&&y.reverse(),h&&c<m&&(y.length=c),this&&this!==Vt&&this instanceof v&&(M=b||_r(M)),M.apply(C,y)}}function Sr(t,e){return function(n,i){return function(t,e,n,i){return si(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function Er(t,e){return function(n,i){var r;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Wi(n),i=Wi(i)):(n=Xi(n),i=Xi(i)),r=t(n,i)}return r}}function Pr(t){return zr((function(e){return e=ue(e,Se(Xr())),Gi((function(n){var i=this;return t(e,(function(t){return ne(t,i,n)}))}))}))}function Ur(t,e){var n=(e=void 0===e?" ":Wi(e)).length;if(n<2)return n?Di(e,t):e;var i=Di(e,Ke(t/ze(e)));return Ge(e)?sr(Ne(i),0,t).join(""):i.slice(0,t)}function Ir(t){return function(e,n,r){return r&&"number"!=typeof r&&oo(e,n,r)&&(n=r=void 0),e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n,r){for(var o=-1,a=on(Ke((e-t)/(n||1)),0),s=i(a);a--;)s[r?a:++o]=t,t+=n;return s}(e,n,r=void 0===r?e<n?1:-1:ns(r),t)}}function Lr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=os(e),n=os(n)),t(e,n)}}function kr(t,e,n,i,r,o,a,s,l,c){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var h=[t,e,r,u?o:void 0,u?a:void 0,u?void 0:o,u?void 0:a,s,l,c],d=n.apply(void 0,h);return so(t)&&vo(d,h),d.placeholder=i,wo(d,t,e)}function Rr(t){var e=gt[t];return function(t,n){if(t=os(t),(n=null==n?0:an(is(n),292))&&en(t)){var i=(ss(t)+"e").split("e");return+((i=(ss(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Dr=gn&&1/Be(new gn([,-0]))[1]==1/0?function(t){return new gn(t)}:Ks;function Gr(t){return function(e){var n=to(e);return n==g?Fe(e):n==m?He(e):function(t,e){return ue(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Fr(t,e,n,a,s,l,c,u){var h=2&e;if(!h&&"function"!=typeof t)throw new mt(r);var d=a?a.length:0;if(d||(e&=-97,a=s=void 0),c=void 0===c?c:on(is(c),0),u=void 0===u?u:is(u),d-=s?s.length:0,64&e){var p=a,g=s;a=s=void 0}var f=h?void 0:qr(t),b=[t,e,n,a,s,p,g,l,c,u];if(f&&function(t,e){var n=t[1],i=e[1],r=n|i;if(!(r<131||128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n))return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var a=e[3];if(a){var s=t[3];t[3]=s?pr(s,a,e[4]):a,t[4]=s?Ae(t[3],o):e[4]}(a=e[5])&&(t[5]=(s=t[5])?gr(s,a,e[6]):a,t[6]=s?Ae(t[5],o):e[6]),(a=e[7])&&(t[7]=a),128&i&&(t[8]=null==t[8]?e[8]:an(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(b,f),t=b[0],e=b[1],n=b[2],a=b[3],s=b[4],!(u=b[9]=void 0===b[9]?h?0:t.length:on(b[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,n){var r=_r(t);return function o(){for(var a=arguments.length,s=i(a),l=a,c=Yr(o);l--;)s[l]=arguments[l];var u=a<3&&s[0]!==c&&s[a-1]!==c?[]:Ae(s,c);if((a-=u.length)<n)return kr(t,e,Tr,o.placeholder,void 0,s,u,void 0,void 0,n-a);var h=this&&this!==Vt&&this instanceof o?r:t;return ne(h,this,s)}}(t,e,u):32!=e&&33!=e||s.length?Tr.apply(void 0,b):function(t,e,n,r){var o=1&e,a=_r(t);return function e(){for(var s=-1,l=arguments.length,c=-1,u=r.length,h=i(u+l),d=this&&this!==Vt&&this instanceof e?a:t;++c<u;)h[c]=r[c];for(;l--;)h[c++]=arguments[++s];return ne(d,o?n:this,h)}}(t,e,n,a);else var v=function(t,e,n){var i=1&e,r=_r(t);return function e(){var o=this&&this!==Vt&&this instanceof e?r:t;return o.apply(i?n:this,arguments)}}(t,e,n);return wo((f?Bi:vo)(v,b),t,e)}function jr(t,e,n,i){return void 0===t||Pa(t,wt[n])&&!_t.call(i,n)?e:t}function Ar(t,e,n,i,r,o){return Na(t)&&Na(e)&&(o.set(e,t),Ei(t,e,void 0,Ar,o),o.delete(e)),t}function Br(t){return Ya(t)?void 0:t}function Hr(t,e,n,i,r,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var h=-1,d=!0,p=2&n?new Dn:void 0;for(o.set(t,e),o.set(e,t);++h<s;){var g=t[h],f=e[h];if(i)var b=a?i(f,g,h,e,t,o):i(g,f,h,t,e,o);if(void 0!==b){if(b)continue;d=!1;break}if(p){if(!ge(e,(function(t,e){if(!Pe(p,e)&&(g===t||r(g,t,n,i,o)))return p.push(e)}))){d=!1;break}}else if(g!==f&&!r(g,f,n,i,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function zr(t){return yo(po(t,void 0,Ro),t+"")}function Nr(t){return hi(t,ws,Jr)}function Vr(t){return hi(t,xs,Zr)}var qr=vn?function(t){return vn.get(t)}:Ks;function $r(t){for(var e=t.name+"",n=mn[e],i=_t.call(mn,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Yr(t){return(_t.call(Sn,"placeholder")?Sn:t).placeholder}function Xr(){var t=Sn.iteratee||Ys;return t=t===Ys?Oi:t,arguments.length?t(arguments[0],arguments[1]):t}function Wr(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Qr(t){for(var e=ws(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,uo(r)]}return e}function Kr(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return xi(n)?n:void 0}var Jr=Ze?function(t){return null==t?[]:(t=ft(t),se(Ze(t),(function(e){return Xt.call(t,e)})))}:rl,Zr=Ze?function(t){for(var e=[];t;)he(e,Jr(t)),t=qt(t);return e}:rl,to=di;function eo(t,e,n){for(var i=-1,r=(e=or(e,t)).length,o=!1;++i<r;){var a=To(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&za(r)&&ro(a,r)&&(ka(t)||La(t))}function no(t){return"function"!=typeof t.constructor||co(t)?{}:En(qt(t))}function io(t){return ka(t)||La(t)||!!(fe&&t&&t[fe])}function ro(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&st.test(t))&&t>-1&&t%1==0&&t<e}function oo(t,e,n){if(!Na(n))return!1;var i=typeof e;return!!("number"==i?Da(n)&&ro(e,n.length):"string"==i&&e in n)&&Pa(n[e],t)}function ao(t,e){if(ka(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ka(t))||N.test(t)||!z.test(t)||null!=e&&t in ft(e)}function so(t){var e=$r(t),n=Sn[e];if("function"!=typeof n||!(e in In.prototype))return!1;if(t===n)return!0;var i=qr(n);return!!i&&t===i[0]}(hn&&to(new hn(new ArrayBuffer(1)))!=_||dn&&to(new dn)!=g||pn&&"[object Promise]"!=to(pn.resolve())||gn&&to(new gn)!=m||fn&&to(new fn)!=x)&&(to=function(t){var e=di(t),n=e==b?t.constructor:void 0,i=n?So(n):"";if(i)switch(i){case yn:return _;case wn:return g;case xn:return"[object Promise]";case On:return m;case _n:return x}return e});var lo=xt?Ba:ol;function co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||wt)}function uo(t){return t==t&&!Na(t)}function ho(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in ft(n))}}function po(t,e,n){return e=on(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=on(r.length-e,0),s=i(a);++o<a;)s[o]=r[e+o];o=-1;for(var l=i(e+1);++o<e;)l[o]=r[o];return l[e]=n(s),ne(t,this,l)}}function go(t,e){return e.length<2?t:ui(t,Ni(e,0,-1))}function fo(t,e){for(var n=t.length,i=an(e.length,n),r=fr(t);i--;){var o=e[i];t[i]=ro(o,n)?r[o]:void 0}return t}function bo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var vo=xo(Bi),mo=Qe||function(t,e){return Vt.setTimeout(t,e)},yo=xo(Hi);function wo(t,e,n){var i=e+"";return yo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Q,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return re(a,(function(n){var i="_."+n[0];e&n[1]&&!le(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(K);return e?e[1].split(J):[]}(i),n)))}function xo(t){var e=0,n=0;return function(){var i=sn(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Oo(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var o=Ri(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var _o,Co,Mo=(_o=_a((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(V,(function(t,n,i,r){e.push(i?r.replace(tt,"$1"):n||t)})),e}),(function(t){return 500===Co.size&&Co.clear(),t})),Co=_o.cache,_o);function To(t){if("string"==typeof t||Ka(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function So(t){if(null!=t){try{return Ot.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Eo(t){if(t instanceof In)return t.clone();var e=new Un(t.__wrapped__,t.__chain__);return e.__actions__=fr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Po=Gi((function(t,e){return Ga(t)?Jn(t,ri(e,1,Ga,!0)):[]})),Uo=Gi((function(t,e){var n=Ao(e);return Ga(n)&&(n=void 0),Ga(t)?Jn(t,ri(e,1,Ga,!0),Xr(n,2)):[]})),Io=Gi((function(t,e){var n=Ao(e);return Ga(n)&&(n=void 0),Ga(t)?Jn(t,ri(e,1,Ga,!0),void 0,n):[]}));function Lo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:is(n);return r<0&&(r=on(i+r,0)),ve(t,Xr(e,3),r)}function ko(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=is(n),r=n<0?on(i+r,0):an(r,i-1)),ve(t,Xr(e,3),r,!0)}function Ro(t){return null!=t&&t.length?ri(t,1):[]}function Do(t){return t&&t.length?t[0]:void 0}var Go=Gi((function(t){var e=ue(t,ir);return e.length&&e[0]===t[0]?bi(e):[]})),Fo=Gi((function(t){var e=Ao(t),n=ue(t,ir);return e===Ao(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?bi(n,Xr(e,2)):[]})),jo=Gi((function(t){var e=Ao(t),n=ue(t,ir);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?bi(n,void 0,e):[]}));function Ao(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Bo=Gi(Ho);function Ho(t,e){return t&&t.length&&e&&e.length?Li(t,e):t}var zo=zr((function(t,e){var n=null==t?0:t.length,i=Yn(t,e);return ki(t,ue(e,(function(t){return ro(t,n)?+t:t})).sort(dr)),i}));function No(t){return null==t?t:un.call(t)}var Vo=Gi((function(t){return Qi(ri(t,1,Ga,!0))})),qo=Gi((function(t){var e=Ao(t);return Ga(e)&&(e=void 0),Qi(ri(t,1,Ga,!0),Xr(e,2))})),$o=Gi((function(t){var e=Ao(t);return e="function"==typeof e?e:void 0,Qi(ri(t,1,Ga,!0),void 0,e)}));function Yo(t){if(!t||!t.length)return[];var e=0;return t=se(t,(function(t){if(Ga(t))return e=on(t.length,e),!0})),Te(e,(function(e){return ue(t,Oe(e))}))}function Xo(t,e){if(!t||!t.length)return[];var n=Yo(t);return null==e?n:ue(n,(function(t){return ne(e,void 0,t)}))}var Wo=Gi((function(t,e){return Ga(t)?Jn(t,e):[]})),Qo=Gi((function(t){return er(se(t,Ga))})),Ko=Gi((function(t){var e=Ao(t);return Ga(e)&&(e=void 0),er(se(t,Ga),Xr(e,2))})),Jo=Gi((function(t){var e=Ao(t);return e="function"==typeof e?e:void 0,er(se(t,Ga),void 0,e)})),Zo=Gi(Yo),ta=Gi((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Xo(t,n)}));function ea(t){var e=Sn(t);return e.__chain__=!0,e}function na(t,e){return e(t)}var ia=zr((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Yn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof In&&ro(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:na,args:[r],thisArg:void 0}),new Un(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)})),ra=vr((function(t,e,n){_t.call(t,n)?++t[n]:$n(t,n,1)})),oa=Cr(Lo),aa=Cr(ko);function sa(t,e){return(ka(t)?re:Zn)(t,Xr(e,3))}function la(t,e){return(ka(t)?oe:ti)(t,Xr(e,3))}var ca=vr((function(t,e,n){_t.call(t,n)?t[n].push(e):$n(t,n,[e])})),ua=Gi((function(t,e,n){var r=-1,o="function"==typeof e,a=Da(t)?i(t.length):[];return Zn(t,(function(t){a[++r]=o?ne(e,t,n):vi(t,e,n)})),a})),ha=vr((function(t,e,n){$n(t,n,e)}));function da(t,e){return(ka(t)?ue:Mi)(t,Xr(e,3))}var pa=vr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),ga=Gi((function(t,e){if(null==t)return[];var n=e.length;return n>1&&oo(t,e[0],e[1])?e=[]:n>2&&oo(e[0],e[1],e[2])&&(e=[e[0]]),Ui(t,ri(e,1),[])})),fa=We||function(){return Vt.Date.now()};function ba(t,e,n){return e=n?void 0:e,Fr(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function va(t,e){var n;if("function"!=typeof e)throw new mt(r);return t=is(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var ma=Gi((function(t,e,n){var i=1;if(n.length){var r=Ae(n,Yr(ma));i|=32}return Fr(t,i,e,n,r)})),ya=Gi((function(t,e,n){var i=3;if(n.length){var r=Ae(n,Yr(ya));i|=32}return Fr(e,i,t,n,r)}));function wa(t,e,n){var i,o,a,s,l,c,u=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new mt(r);function g(e){var n=i,r=o;return i=o=void 0,u=e,s=t.apply(r,n)}function f(t){return u=t,l=mo(v,e),h?g(t):s}function b(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-u>=a}function v(){var t=fa();if(b(t))return m(t);l=mo(v,function(t){var n=e-(t-c);return d?an(n,a-(t-u)):n}(t))}function m(t){return l=void 0,p&&i?g(t):(i=o=void 0,s)}function y(){var t=fa(),n=b(t);if(i=arguments,o=this,c=t,n){if(void 0===l)return f(c);if(d)return lr(l),l=mo(v,e),g(c)}return void 0===l&&(l=mo(v,e)),s}return e=os(e)||0,Na(n)&&(h=!!n.leading,a=(d="maxWait"in n)?on(os(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==l&&lr(l),u=0,i=c=o=l=void 0},y.flush=function(){return void 0===l?s:m(fa())},y}var xa=Gi((function(t,e){return Kn(t,1,e)})),Oa=Gi((function(t,e,n){return Kn(t,os(e)||0,n)}));function _a(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new mt(r);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(_a.Cache||Rn),n}function Ca(t){if("function"!=typeof t)throw new mt(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}_a.Cache=Rn;var Ma=ar((function(t,e){var n=(e=1==e.length&&ka(e[0])?ue(e[0],Se(Xr())):ue(ri(e,1),Se(Xr()))).length;return Gi((function(i){for(var r=-1,o=an(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return ne(t,this,i)}))})),Ta=Gi((function(t,e){return Fr(t,32,void 0,e,Ae(e,Yr(Ta)))})),Sa=Gi((function(t,e){return Fr(t,64,void 0,e,Ae(e,Yr(Sa)))})),Ea=zr((function(t,e){return Fr(t,256,void 0,void 0,void 0,e)}));function Pa(t,e){return t===e||t!=t&&e!=e}var Ua=Lr(pi),Ia=Lr((function(t,e){return t>=e})),La=mi(function(){return arguments}())?mi:function(t){return Va(t)&&_t.call(t,"callee")&&!Xt.call(t,"callee")},ka=i.isArray,Ra=Qt?Se(Qt):function(t){return Va(t)&&di(t)==O};function Da(t){return null!=t&&za(t.length)&&!Ba(t)}function Ga(t){return Va(t)&&Da(t)}var Fa=tn||ol,ja=Kt?Se(Kt):function(t){return Va(t)&&di(t)==u};function Aa(t){if(!Va(t))return!1;var e=di(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ya(t)}function Ba(t){if(!Na(t))return!1;var e=di(t);return e==d||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ha(t){return"number"==typeof t&&t==is(t)}function za(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Na(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Va(t){return null!=t&&"object"==typeof t}var qa=Jt?Se(Jt):function(t){return Va(t)&&to(t)==g};function $a(t){return"number"==typeof t||Va(t)&&di(t)==f}function Ya(t){if(!Va(t)||di(t)!=b)return!1;var e=qt(t);if(null===e)return!0;var n=_t.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ot.call(n)==St}var Xa=Zt?Se(Zt):function(t){return Va(t)&&di(t)==v},Wa=te?Se(te):function(t){return Va(t)&&to(t)==m};function Qa(t){return"string"==typeof t||!ka(t)&&Va(t)&&di(t)==y}function Ka(t){return"symbol"==typeof t||Va(t)&&di(t)==w}var Ja=ee?Se(ee):function(t){return Va(t)&&za(t.length)&&!!Ft[di(t)]},Za=Lr(Ci),ts=Lr((function(t,e){return t<=e}));function es(t){if(!t)return[];if(Da(t))return Qa(t)?Ne(t):fr(t);if(_e&&t[_e])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[_e]());var e=to(t);return(e==g?Fe:e==m?Be:Ps)(t)}function ns(t){return t?(t=os(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function is(t){var e=ns(t),n=e%1;return e==e?n?e-n:e:0}function rs(t){return t?Xn(is(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if(Ka(t))return NaN;if(Na(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Na(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Y,"");var n=rt.test(t);return n||at.test(t)?Ht(t.slice(2),n?2:8):it.test(t)?NaN:+t}function as(t){return br(t,xs(t))}function ss(t){return null==t?"":Wi(t)}var ls=mr((function(t,e){if(co(e)||Da(e))br(e,ws(e),t);else for(var n in e)_t.call(e,n)&&zn(t,n,e[n])})),cs=mr((function(t,e){br(e,xs(e),t)})),us=mr((function(t,e,n,i){br(e,xs(e),t,i)})),hs=mr((function(t,e,n,i){br(e,ws(e),t,i)})),ds=zr(Yn),ps=Gi((function(t,e){t=ft(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&oo(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=xs(o),s=-1,l=a.length;++s<l;){var c=a[s],u=t[c];(void 0===u||Pa(u,wt[c])&&!_t.call(t,c))&&(t[c]=o[c])}return t})),gs=Gi((function(t){return t.push(void 0,Ar),ne(_s,void 0,t)}));function fs(t,e,n){var i=null==t?void 0:ui(t,e);return void 0===i?n:i}function bs(t,e){return null!=t&&eo(t,e,fi)}var vs=Sr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tt.call(e)),t[e]=n}),Ns($s)),ms=Sr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Tt.call(e)),_t.call(t,e)?t[e].push(n):t[e]=[n]}),Xr),ys=Gi(vi);function ws(t){return Da(t)?Fn(t):_i(t)}function xs(t){return Da(t)?Fn(t,!0):function(t){if(!Na(t))return function(t){var e=[];if(null!=t)for(var n in ft(t))e.push(n);return e}(t);var e=co(t),n=[];for(var i in t)("constructor"!=i||!e&&_t.call(t,i))&&n.push(i);return n}(t)}var Os=mr((function(t,e,n){Ei(t,e,n)})),_s=mr((function(t,e,n,i){Ei(t,e,n,i)})),Cs=zr((function(t,e){var n={};if(null==t)return n;var i=!1;e=ue(e,(function(e){return e=or(e,t),i||(i=e.length>1),e})),br(t,Vr(t),n),i&&(n=Wn(n,7,Br));for(var r=e.length;r--;)Ki(n,e[r]);return n})),Ms=zr((function(t,e){return null==t?{}:function(t,e){return Ii(t,e,(function(e,n){return bs(t,n)}))}(t,e)}));function Ts(t,e){if(null==t)return{};var n=ue(Vr(t),(function(t){return[t]}));return e=Xr(e),Ii(t,n,(function(t,n){return e(t,n[0])}))}var Ss=Gr(ws),Es=Gr(xs);function Ps(t){return null==t?[]:Ee(t,ws(t))}var Us=Or((function(t,e,n){return e=e.toLowerCase(),t+(n?Is(e):e)}));function Is(t){return As(ss(t).toLowerCase())}function Ls(t){return(t=ss(t))&&t.replace(lt,ke).replace(Ut,"")}var ks=Or((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Rs=Or((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ds=xr("toLowerCase"),Gs=Or((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Fs=Or((function(t,e,n){return t+(n?" ":"")+As(e)})),js=Or((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),As=xr("toUpperCase");function Bs(t,e,n){return t=ss(t),void 0===(e=n?void 0:e)?function(t){return Rt.test(t)}(t)?function(t){return t.match(Lt)||[]}(t):function(t){return t.match(Z)||[]}(t):t.match(e)||[]}var Hs=Gi((function(t,e){try{return ne(t,void 0,e)}catch(n){return Aa(n)?n:new dt(n)}})),zs=zr((function(t,e){return re(e,(function(e){e=To(e),$n(t,e,ma(t[e],t))})),t}));function Ns(t){return function(){return t}}var Vs=Mr(),qs=Mr(!0);function $s(t){return t}function Ys(t){return Oi("function"==typeof t?t:Wn(t,1))}var Xs=Gi((function(t,e){return function(n){return vi(n,t,e)}})),Ws=Gi((function(t,e){return function(n){return vi(t,n,e)}}));function Qs(t,e,n){var i=ws(e),r=ci(e,i);null!=n||Na(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=ci(e,ws(e)));var o=!(Na(n)&&"chain"in n&&!n.chain),a=Ba(t);return re(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=fr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,he([this.value()],arguments))})})),t}function Ks(){}var Js=Pr(ue),Zs=Pr(ae),tl=Pr(ge);function el(t){return ao(t)?Oe(To(t)):function(t){return function(e){return ui(e,t)}}(t)}var nl=Ir(),il=Ir(!0);function rl(){return[]}function ol(){return!1}var al,sl=Er((function(t,e){return t+e}),0),ll=Rr("ceil"),cl=Er((function(t,e){return t/e}),1),ul=Rr("floor"),hl=Er((function(t,e){return t*e}),1),dl=Rr("round"),pl=Er((function(t,e){return t-e}),0);return Sn.after=function(t,e){if("function"!=typeof e)throw new mt(r);return t=is(t),function(){if(--t<1)return e.apply(this,arguments)}},Sn.ary=ba,Sn.assign=ls,Sn.assignIn=cs,Sn.assignInWith=us,Sn.assignWith=hs,Sn.at=ds,Sn.before=va,Sn.bind=ma,Sn.bindAll=zs,Sn.bindKey=ya,Sn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return ka(t)?t:[t]},Sn.chain=ea,Sn.chunk=function(t,e,n){e=(n?oo(t,e,n):void 0===e)?1:on(is(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,a=0,s=i(Ke(r/e));o<r;)s[a++]=Ni(t,o,o+=e);return s},Sn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},Sn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return he(ka(n)?fr(n):[n],ri(e,1))},Sn.cond=function(t){var e=null==t?0:t.length,n=Xr();return t=e?ue(t,(function(t){if("function"!=typeof t[1])throw new mt(r);return[n(t[0]),t[1]]})):[],Gi((function(n){for(var i=-1;++i<e;){var r=t[i];if(ne(r[0],this,n))return ne(r[1],this,n)}}))},Sn.conforms=function(t){return function(t){var e=ws(t);return function(n){return Qn(n,t,e)}}(Wn(t,1))},Sn.constant=Ns,Sn.countBy=ra,Sn.create=function(t,e){var n=En(t);return null==e?n:qn(n,e)},Sn.curry=function t(e,n,i){var r=Fr(e,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},Sn.curryRight=function t(e,n,i){var r=Fr(e,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},Sn.debounce=wa,Sn.defaults=ps,Sn.defaultsDeep=gs,Sn.defer=xa,Sn.delay=Oa,Sn.difference=Po,Sn.differenceBy=Uo,Sn.differenceWith=Io,Sn.drop=function(t,e,n){var i=null==t?0:t.length;return i?Ni(t,(e=n||void 0===e?1:is(e))<0?0:e,i):[]},Sn.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Ni(t,0,(e=i-(e=n||void 0===e?1:is(e)))<0?0:e):[]},Sn.dropRightWhile=function(t,e){return t&&t.length?Zi(t,Xr(e,3),!0,!0):[]},Sn.dropWhile=function(t,e){return t&&t.length?Zi(t,Xr(e,3),!0):[]},Sn.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&oo(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=is(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:is(i))<0&&(i+=r),i=n>i?0:rs(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Sn.filter=function(t,e){return(ka(t)?se:ii)(t,Xr(e,3))},Sn.flatMap=function(t,e){return ri(da(t,e),1)},Sn.flatMapDeep=function(t,e){return ri(da(t,e),1/0)},Sn.flatMapDepth=function(t,e,n){return n=void 0===n?1:is(n),ri(da(t,e),n)},Sn.flatten=Ro,Sn.flattenDeep=function(t){return null!=t&&t.length?ri(t,1/0):[]},Sn.flattenDepth=function(t,e){return null!=t&&t.length?ri(t,e=void 0===e?1:is(e)):[]},Sn.flip=function(t){return Fr(t,512)},Sn.flow=Vs,Sn.flowRight=qs,Sn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Sn.functions=function(t){return null==t?[]:ci(t,ws(t))},Sn.functionsIn=function(t){return null==t?[]:ci(t,xs(t))},Sn.groupBy=ca,Sn.initial=function(t){return null!=t&&t.length?Ni(t,0,-1):[]},Sn.intersection=Go,Sn.intersectionBy=Fo,Sn.intersectionWith=jo,Sn.invert=vs,Sn.invertBy=ms,Sn.invokeMap=ua,Sn.iteratee=Ys,Sn.keyBy=ha,Sn.keys=ws,Sn.keysIn=xs,Sn.map=da,Sn.mapKeys=function(t,e){var n={};return e=Xr(e,3),si(t,(function(t,i,r){$n(n,e(t,i,r),t)})),n},Sn.mapValues=function(t,e){var n={};return e=Xr(e,3),si(t,(function(t,i,r){$n(n,i,e(t,i,r))})),n},Sn.matches=function(t){return Ti(Wn(t,1))},Sn.matchesProperty=function(t,e){return Si(t,Wn(e,1))},Sn.memoize=_a,Sn.merge=Os,Sn.mergeWith=_s,Sn.method=Xs,Sn.methodOf=Ws,Sn.mixin=Qs,Sn.negate=Ca,Sn.nthArg=function(t){return t=is(t),Gi((function(e){return Pi(e,t)}))},Sn.omit=Cs,Sn.omitBy=function(t,e){return Ts(t,Ca(Xr(e)))},Sn.once=function(t){return va(2,t)},Sn.orderBy=function(t,e,n,i){return null==t?[]:(ka(e)||(e=null==e?[]:[e]),ka(n=i?void 0:n)||(n=null==n?[]:[n]),Ui(t,e,n))},Sn.over=Js,Sn.overArgs=Ma,Sn.overEvery=Zs,Sn.overSome=tl,Sn.partial=Ta,Sn.partialRight=Sa,Sn.partition=pa,Sn.pick=Ms,Sn.pickBy=Ts,Sn.property=el,Sn.propertyOf=function(t){return function(e){return null==t?void 0:ui(t,e)}},Sn.pull=Bo,Sn.pullAll=Ho,Sn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Li(t,e,Xr(n,2)):t},Sn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Li(t,e,void 0,n):t},Sn.pullAt=zo,Sn.range=nl,Sn.rangeRight=il,Sn.rearg=Ea,Sn.reject=function(t,e){return(ka(t)?se:ii)(t,Ca(Xr(e,3)))},Sn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Xr(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return ki(t,r),n},Sn.rest=function(t,e){if("function"!=typeof t)throw new mt(r);return Gi(t,e=void 0===e?e:is(e))},Sn.reverse=No,Sn.sampleSize=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:is(e),(ka(t)?An:ji)(t,e)},Sn.set=function(t,e,n){return null==t?t:Ai(t,e,n)},Sn.setWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Ai(t,e,n,i)},Sn.shuffle=function(t){return(ka(t)?Bn:zi)(t)},Sn.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&oo(t,e,n)?(e=0,n=i):(e=null==e?0:is(e),n=void 0===n?i:is(n)),Ni(t,e,n)):[]},Sn.sortBy=ga,Sn.sortedUniq=function(t){return t&&t.length?Yi(t):[]},Sn.sortedUniqBy=function(t,e){return t&&t.length?Yi(t,Xr(e,2)):[]},Sn.split=function(t,e,n){return n&&"number"!=typeof n&&oo(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ss(t))&&("string"==typeof e||null!=e&&!Xa(e))&&!(e=Wi(e))&&Ge(t)?sr(Ne(t),0,n):t.split(e,n):[]},Sn.spread=function(t,e){if("function"!=typeof t)throw new mt(r);return e=null==e?0:on(is(e),0),Gi((function(n){var i=n[e],r=sr(n,0,e);return i&&he(r,i),ne(t,this,r)}))},Sn.tail=function(t){var e=null==t?0:t.length;return e?Ni(t,1,e):[]},Sn.take=function(t,e,n){return t&&t.length?Ni(t,0,(e=n||void 0===e?1:is(e))<0?0:e):[]},Sn.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Ni(t,(e=i-(e=n||void 0===e?1:is(e)))<0?0:e,i):[]},Sn.takeRightWhile=function(t,e){return t&&t.length?Zi(t,Xr(e,3),!1,!0):[]},Sn.takeWhile=function(t,e){return t&&t.length?Zi(t,Xr(e,3)):[]},Sn.tap=function(t,e){return e(t),t},Sn.throttle=function(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new mt(r);return Na(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),wa(t,e,{leading:i,maxWait:e,trailing:o})},Sn.thru=na,Sn.toArray=es,Sn.toPairs=Ss,Sn.toPairsIn=Es,Sn.toPath=function(t){return ka(t)?ue(t,To):Ka(t)?[t]:fr(Mo(ss(t)))},Sn.toPlainObject=as,Sn.transform=function(t,e,n){var i=ka(t),r=i||Fa(t)||Ja(t);if(e=Xr(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:Na(t)&&Ba(o)?En(qt(t)):{}}return(r?re:si)(t,(function(t,i,r){return e(n,t,i,r)})),n},Sn.unary=function(t){return ba(t,1)},Sn.union=Vo,Sn.unionBy=qo,Sn.unionWith=$o,Sn.uniq=function(t){return t&&t.length?Qi(t):[]},Sn.uniqBy=function(t,e){return t&&t.length?Qi(t,Xr(e,2)):[]},Sn.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Qi(t,void 0,e):[]},Sn.unset=function(t,e){return null==t||Ki(t,e)},Sn.unzip=Yo,Sn.unzipWith=Xo,Sn.update=function(t,e,n){return null==t?t:Ji(t,e,rr(n))},Sn.updateWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Ji(t,e,rr(n),i)},Sn.values=Ps,Sn.valuesIn=function(t){return null==t?[]:Ee(t,xs(t))},Sn.without=Wo,Sn.words=Bs,Sn.wrap=function(t,e){return Ta(rr(e),t)},Sn.xor=Qo,Sn.xorBy=Ko,Sn.xorWith=Jo,Sn.zip=Zo,Sn.zipObject=function(t,e){return nr(t||[],e||[],zn)},Sn.zipObjectDeep=function(t,e){return nr(t||[],e||[],Ai)},Sn.zipWith=ta,Sn.entries=Ss,Sn.entriesIn=Es,Sn.extend=cs,Sn.extendWith=us,Qs(Sn,Sn),Sn.add=sl,Sn.attempt=Hs,Sn.camelCase=Us,Sn.capitalize=Is,Sn.ceil=ll,Sn.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==e&&(e=(e=os(e))==e?e:0),Xn(os(t),e,n)},Sn.clone=function(t){return Wn(t,4)},Sn.cloneDeep=function(t){return Wn(t,5)},Sn.cloneDeepWith=function(t,e){return Wn(t,5,e="function"==typeof e?e:void 0)},Sn.cloneWith=function(t,e){return Wn(t,4,e="function"==typeof e?e:void 0)},Sn.conformsTo=function(t,e){return null==e||Qn(t,e,ws(e))},Sn.deburr=Ls,Sn.defaultTo=function(t,e){return null==t||t!=t?e:t},Sn.divide=cl,Sn.endsWith=function(t,e,n){t=ss(t),e=Wi(e);var i=t.length,r=n=void 0===n?i:Xn(is(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},Sn.eq=Pa,Sn.escape=function(t){return(t=ss(t))&&j.test(t)?t.replace(G,Re):t},Sn.escapeRegExp=function(t){return(t=ss(t))&&$.test(t)?t.replace(q,"\\$&"):t},Sn.every=function(t,e,n){var i=ka(t)?ae:ei;return n&&oo(t,e,n)&&(e=void 0),i(t,Xr(e,3))},Sn.find=oa,Sn.findIndex=Lo,Sn.findKey=function(t,e){return be(t,Xr(e,3),si)},Sn.findLast=aa,Sn.findLastIndex=ko,Sn.findLastKey=function(t,e){return be(t,Xr(e,3),li)},Sn.floor=ul,Sn.forEach=sa,Sn.forEachRight=la,Sn.forIn=function(t,e){return null==t?t:oi(t,Xr(e,3),xs)},Sn.forInRight=function(t,e){return null==t?t:ai(t,Xr(e,3),xs)},Sn.forOwn=function(t,e){return t&&si(t,Xr(e,3))},Sn.forOwnRight=function(t,e){return t&&li(t,Xr(e,3))},Sn.get=fs,Sn.gt=Ua,Sn.gte=Ia,Sn.has=function(t,e){return null!=t&&eo(t,e,gi)},Sn.hasIn=bs,Sn.head=Do,Sn.identity=$s,Sn.includes=function(t,e,n,i){t=Da(t)?t:Ps(t),n=n&&!i?is(n):0;var r=t.length;return n<0&&(n=on(r+n,0)),Qa(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&me(t,e,n)>-1},Sn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:is(n);return r<0&&(r=on(i+r,0)),me(t,e,r)},Sn.inRange=function(t,e,n){return e=ns(e),void 0===n?(n=e,e=0):n=ns(n),function(t,e,n){return t>=an(e,n)&&t<on(e,n)}(t=os(t),e,n)},Sn.invoke=ys,Sn.isArguments=La,Sn.isArray=ka,Sn.isArrayBuffer=Ra,Sn.isArrayLike=Da,Sn.isArrayLikeObject=Ga,Sn.isBoolean=function(t){return!0===t||!1===t||Va(t)&&di(t)==c},Sn.isBuffer=Fa,Sn.isDate=ja,Sn.isElement=function(t){return Va(t)&&1===t.nodeType&&!Ya(t)},Sn.isEmpty=function(t){if(null==t)return!0;if(Da(t)&&(ka(t)||"string"==typeof t||"function"==typeof t.splice||Fa(t)||Ja(t)||La(t)))return!t.length;var e=to(t);if(e==g||e==m)return!t.size;if(co(t))return!_i(t).length;for(var n in t)if(_t.call(t,n))return!1;return!0},Sn.isEqual=function(t,e){return yi(t,e)},Sn.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?yi(t,e,void 0,n):!!i},Sn.isError=Aa,Sn.isFinite=function(t){return"number"==typeof t&&en(t)},Sn.isFunction=Ba,Sn.isInteger=Ha,Sn.isLength=za,Sn.isMap=qa,Sn.isMatch=function(t,e){return t===e||wi(t,e,Qr(e))},Sn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,wi(t,e,Qr(e),n)},Sn.isNaN=function(t){return $a(t)&&t!=+t},Sn.isNative=function(t){if(lo(t))throw new dt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return xi(t)},Sn.isNil=function(t){return null==t},Sn.isNull=function(t){return null===t},Sn.isNumber=$a,Sn.isObject=Na,Sn.isObjectLike=Va,Sn.isPlainObject=Ya,Sn.isRegExp=Xa,Sn.isSafeInteger=function(t){return Ha(t)&&t>=-9007199254740991&&t<=9007199254740991},Sn.isSet=Wa,Sn.isString=Qa,Sn.isSymbol=Ka,Sn.isTypedArray=Ja,Sn.isUndefined=function(t){return void 0===t},Sn.isWeakMap=function(t){return Va(t)&&to(t)==x},Sn.isWeakSet=function(t){return Va(t)&&"[object WeakSet]"==di(t)},Sn.join=function(t,e){return null==t?"":nn.call(t,e)},Sn.kebabCase=ks,Sn.last=Ao,Sn.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=is(n))<0?on(i+r,0):an(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):ve(t,we,r,!0)},Sn.lowerCase=Rs,Sn.lowerFirst=Ds,Sn.lt=Za,Sn.lte=ts,Sn.max=function(t){return t&&t.length?ni(t,$s,pi):void 0},Sn.maxBy=function(t,e){return t&&t.length?ni(t,Xr(e,2),pi):void 0},Sn.mean=function(t){return xe(t,$s)},Sn.meanBy=function(t,e){return xe(t,Xr(e,2))},Sn.min=function(t){return t&&t.length?ni(t,$s,Ci):void 0},Sn.minBy=function(t,e){return t&&t.length?ni(t,Xr(e,2),Ci):void 0},Sn.stubArray=rl,Sn.stubFalse=ol,Sn.stubObject=function(){return{}},Sn.stubString=function(){return""},Sn.stubTrue=function(){return!0},Sn.multiply=hl,Sn.nth=function(t,e){return t&&t.length?Pi(t,is(e)):void 0},Sn.noConflict=function(){return Vt._===this&&(Vt._=Et),this},Sn.noop=Ks,Sn.now=fa,Sn.pad=function(t,e,n){t=ss(t);var i=(e=is(e))?ze(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Ur(Je(r),n)+t+Ur(Ke(r),n)},Sn.padEnd=function(t,e,n){t=ss(t);var i=(e=is(e))?ze(t):0;return e&&i<e?t+Ur(e-i,n):t},Sn.padStart=function(t,e,n){t=ss(t);var i=(e=is(e))?ze(t):0;return e&&i<e?Ur(e-i,n)+t:t},Sn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ln(ss(t).replace(X,""),e||0)},Sn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&oo(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=ns(t),void 0===e?(e=t,t=0):e=ns(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=cn();return an(t+r*(e-t+Bt("1e-"+((r+"").length-1))),e)}return Ri(t,e)},Sn.reduce=function(t,e,n){var i=ka(t)?de:Ce,r=arguments.length<3;return i(t,Xr(e,4),n,r,Zn)},Sn.reduceRight=function(t,e,n){var i=ka(t)?pe:Ce,r=arguments.length<3;return i(t,Xr(e,4),n,r,ti)},Sn.repeat=function(t,e,n){return e=(n?oo(t,e,n):void 0===e)?1:is(e),Di(ss(t),e)},Sn.replace=function(){var t=arguments,e=ss(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Sn.result=function(t,e,n){var i=-1,r=(e=or(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var o=null==t?void 0:t[To(e[i])];void 0===o&&(i=r,o=n),t=Ba(o)?o.call(t):o}return t},Sn.round=dl,Sn.runInContext=t,Sn.sample=function(t){return(ka(t)?jn:Fi)(t)},Sn.size=function(t){if(null==t)return 0;if(Da(t))return Qa(t)?ze(t):t.length;var e=to(t);return e==g||e==m?t.size:_i(t).length},Sn.snakeCase=Gs,Sn.some=function(t,e,n){var i=ka(t)?ge:Vi;return n&&oo(t,e,n)&&(e=void 0),i(t,Xr(e,3))},Sn.sortedIndex=function(t,e){return qi(t,e)},Sn.sortedIndexBy=function(t,e,n){return $i(t,e,Xr(n,2))},Sn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=qi(t,e);if(i<n&&Pa(t[i],e))return i}return-1},Sn.sortedLastIndex=function(t,e){return qi(t,e,!0)},Sn.sortedLastIndexBy=function(t,e,n){return $i(t,e,Xr(n,2),!0)},Sn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=qi(t,e,!0)-1;if(Pa(t[n],e))return n}return-1},Sn.startCase=Fs,Sn.startsWith=function(t,e,n){return t=ss(t),n=null==n?0:Xn(is(n),0,t.length),e=Wi(e),t.slice(n,n+e.length)==e},Sn.subtract=pl,Sn.sum=function(t){return t&&t.length?Me(t,$s):0},Sn.sumBy=function(t,e){return t&&t.length?Me(t,Xr(e,2)):0},Sn.template=function(t,e,n){var i=Sn.templateSettings;n&&oo(t,e,n)&&(e=void 0),t=ss(t),e=us({},e,i,jr);var r,o,a=us({},e.imports,i.imports,jr),s=ws(a),l=Ee(a,s),c=0,u=e.interpolate||ct,h="__p += '",d=bt((e.escape||ct).source+"|"+u.source+"|"+(u===H?et:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),p="//# sourceURL="+(_t.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gt+"]")+"\n";t.replace(d,(function(e,n,i,a,s,l){return i||(i=a),h+=t.slice(c,l).replace(ut,De),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),h+="';\n";var g=_t.call(e,"variable")&&e.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(L,""):h).replace(k,"$1").replace(R,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var f=Hs((function(){return pt(s,p+"return "+h).apply(void 0,l)}));if(f.source=h,Aa(f))throw f;return f},Sn.times=function(t,e){if((t=is(t))<1||t>9007199254740991)return[];var n=4294967295,i=an(t,4294967295);t-=4294967295;for(var r=Te(i,e=Xr(e));++n<t;)e(n);return r},Sn.toFinite=ns,Sn.toInteger=is,Sn.toLength=rs,Sn.toLower=function(t){return ss(t).toLowerCase()},Sn.toNumber=os,Sn.toSafeInteger=function(t){return t?Xn(is(t),-9007199254740991,9007199254740991):0===t?t:0},Sn.toString=ss,Sn.toUpper=function(t){return ss(t).toUpperCase()},Sn.trim=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(Y,"");if(!t||!(e=Wi(e)))return t;var i=Ne(t),r=Ne(e);return sr(i,Ue(i,r),Ie(i,r)+1).join("")},Sn.trimEnd=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(W,"");if(!t||!(e=Wi(e)))return t;var i=Ne(t);return sr(i,0,Ie(i,Ne(e))+1).join("")},Sn.trimStart=function(t,e,n){if((t=ss(t))&&(n||void 0===e))return t.replace(X,"");if(!t||!(e=Wi(e)))return t;var i=Ne(t);return sr(i,Ue(i,Ne(e))).join("")},Sn.truncate=function(t,e){var n=30,i="...";if(Na(e)){var r="separator"in e?e.separator:r;n="length"in e?is(e.length):n,i="omission"in e?Wi(e.omission):i}var o=(t=ss(t)).length;if(Ge(t)){var a=Ne(t);o=a.length}if(n>=o)return t;var s=n-ze(i);if(s<1)return i;var l=a?sr(a,0,s).join(""):t.slice(0,s);if(void 0===r)return l+i;if(a&&(s+=l.length-s),Xa(r)){if(t.slice(s).search(r)){var c,u=l;for(r.global||(r=bt(r.source,ss(nt.exec(r))+"g")),r.lastIndex=0;c=r.exec(u);)var h=c.index;l=l.slice(0,void 0===h?s:h)}}else if(t.indexOf(Wi(r),s)!=s){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i},Sn.unescape=function(t){return(t=ss(t))&&F.test(t)?t.replace(D,Ve):t},Sn.uniqueId=function(t){var e=++Ct;return ss(t)+e},Sn.upperCase=js,Sn.upperFirst=As,Sn.each=sa,Sn.eachRight=la,Sn.first=Do,Qs(Sn,(al={},si(Sn,(function(t,e){_t.call(Sn.prototype,e)||(al[e]=t)})),al),{chain:!1}),Sn.VERSION="4.17.20",re(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Sn[t].placeholder=Sn})),re(["drop","take"],(function(t,e){In.prototype[t]=function(n){n=void 0===n?1:on(is(n),0);var i=this.__filtered__&&!e?new In(this):this.clone();return i.__filtered__?i.__takeCount__=an(n,i.__takeCount__):i.__views__.push({size:an(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},In.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),re(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;In.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Xr(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),re(["head","last"],(function(t,e){var n="take"+(e?"Right":"");In.prototype[t]=function(){return this[n](1).value()[0]}})),re(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");In.prototype[t]=function(){return this.__filtered__?new In(this):this[n](1)}})),In.prototype.compact=function(){return this.filter($s)},In.prototype.find=function(t){return this.filter(t).head()},In.prototype.findLast=function(t){return this.reverse().find(t)},In.prototype.invokeMap=Gi((function(t,e){return"function"==typeof t?new In(this):this.map((function(n){return vi(n,t,e)}))})),In.prototype.reject=function(t){return this.filter(Ca(Xr(t)))},In.prototype.slice=function(t,e){t=is(t);var n=this;return n.__filtered__&&(t>0||e<0)?new In(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=is(e))<0?n.dropRight(-e):n.take(e-t)),n)},In.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},In.prototype.toArray=function(){return this.take(4294967295)},si(In.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=Sn[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(Sn.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof In,l=a[0],c=s||ka(e),u=function(t){var e=r.apply(Sn,he([t],a));return i&&h?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,g=s&&!d;if(!o&&c){e=g?e:new In(this);var f=t.apply(e,a);return f.__actions__.push({func:na,args:[u],thisArg:void 0}),new Un(f,h)}return p&&g?t.apply(this,a):(f=this.thru(u),p?i?f.value()[0]:f.value():f)})})),re(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Sn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(ka(r)?r:[],t)}return this[n]((function(n){return e.apply(ka(n)?n:[],t)}))}})),si(In.prototype,(function(t,e){var n=Sn[e];if(n){var i=n.name+"";_t.call(mn,i)||(mn[i]=[]),mn[i].push({name:e,func:n})}})),mn[Tr(void 0,2).name]=[{name:"wrapper",func:void 0}],In.prototype.clone=function(){var t=new In(this.__wrapped__);return t.__actions__=fr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=fr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=fr(this.__views__),t},In.prototype.reverse=function(){if(this.__filtered__){var t=new In(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},In.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=ka(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=an(e,t+a);break;case"takeRight":t=on(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,c=i?s:a-1,u=this.__iteratees__,h=u.length,d=0,p=an(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return tr(t,this.__actions__);var g=[];t:for(;l--&&d<p;){for(var f=-1,b=t[c+=e];++f<h;){var v=u[f],m=v.type,y=(0,v.iteratee)(b);if(2==m)b=y;else if(!y){if(1==m)continue t;break t}}g[d++]=b}return g},Sn.prototype.at=ia,Sn.prototype.chain=function(){return ea(this)},Sn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Sn.prototype.next=function(){void 0===this.__values__&&(this.__values__=es(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},Sn.prototype.plant=function(t){for(var e,n=this;n instanceof Pn;){var i=Eo(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},Sn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof In){var e=t;return this.__actions__.length&&(e=new In(this)),(e=e.reverse()).__actions__.push({func:na,args:[No],thisArg:void 0}),new Un(e,this.__chain__)}return this.thru(No)},Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=function(){return tr(this.__wrapped__,this.__actions__)},Sn.prototype.first=Sn.prototype.head,_e&&(Sn.prototype[_e]=function(){return this}),Sn}();Vt._=qe,void 0===(i=(function(){return qe}).call(e,n,e,t))||(t.exports=i)}).call(this)}).call(this,n("YuTi")(t))},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}}]);