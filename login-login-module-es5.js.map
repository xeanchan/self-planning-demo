{"version":3,"sources":["webpack:///src/app/form/LoginForm.ts","webpack:///src/app/login/login-routing.module.ts","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/app/login/login.module.ts"],"names":["LoginForm","routes","path","component","LoginRoutingModule","forChild","imports","exports","LoginComponent","authService","router","loginForm","showMsg","document","querySelector","focus","logon","JSON","stringify","subscribe","res","setUserToken","navigate","err","event","keyCode","keypressHandler","selector","templateUrl","styleUrls","LoginModule","declarations"],"mappings":"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","file":"login-login-module-es5.js","sourcesContent":["export class LoginForm {\n\n  id: string;\n  key: string;\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login.component';\n\nconst routes: Routes = [{\n  path: '', component: LoginComponent\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginRoutingModule { }\n","import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport { LoginForm } from '../form/LoginForm';\nimport { AuthService } from '../service/auth.service';\nimport {  Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit, AfterViewInit {\n\n  constructor(\n    public authService: AuthService,\n    public router: Router) { }\n\n  loginForm: LoginForm = new LoginForm();\n  // show error message\n  showMsg = false;\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit(): void {\n    (<HTMLInputElement> document.querySelector('.input100')).focus();\n  }\n\n  logon() {\n    this.authService.logon(JSON.stringify(this.loginForm)).subscribe(\n      res => {\n        if (typeof res['session'] !== 'undefined') {\n          this.showMsg = false;\n          this.authService.setUserToken(res['session']);\n          this.router.navigate(['/']);\n        } else {\n          this.showMsg = true;\n        }\n      },\n      err => {\n        this.showMsg = true;\n      }\n    );\n  }\n\n  keypressHandler(event) {\n    if (event.keyCode === 13) {\n      this.logon();\n    }\n  }\n\n}\n","\n<div class=\"login\">\n  \n  <div class=\"box\">\n    <div class=\"logo\"></div>\n    <h5>Login</h5>\n    <div>\n      <span>{{ 'login.account' | translate }}</span>\n      <input class=\"input100\" type=\"text\" name=\"username\" placeholder=\"Username\" [(ngModel)]=\"loginForm.id\" (keypress)=\"keypressHandler($event)\" >\n    </div>\n\n    <div>\n      <span>{{ 'login.password' | translate }}</span>\n      <input type=\"password\" [(ngModel)]=\"loginForm.key\" (keypress)=\"keypressHandler($event)\">\n    </div>\n\n    <div>\n      <button type=\"button\" (click)=\"logon()\" >{{ 'login.login' | translate }}</button>\n    </div>\n\n    <div *ngIf=\"showMsg\" class=\"text-danger\">{{ 'login.fail' | translate }}</div>\n  </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\nimport { FormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    LoginRoutingModule,\n    FormsModule,\n    TranslateModule\n  ],\n  declarations: [LoginComponent]\n})\nexport class LoginModule { }\n"]}