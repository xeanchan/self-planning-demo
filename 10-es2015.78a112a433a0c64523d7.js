(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"CFj+":function(t,e,n){"use strict";n.r(e),n.d(e,"SiteModule",(function(){return Bu}));var i=n("ofXK"),r=n("tyNb"),o=n("fXoL"),a=n("jaxi");const s=function(){return["/site/result"]};let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Jb({type:t,selectors:[["app-planning-report"]],decls:68,vars:2,consts:[[1,"inline-block"],["value","back",3,"routerLink"],["value","report"],[1,"leftArea"],[1,"rightArea"]],template:function(t,e){1&t&&(o.Ub(0,"h2",0),o.Fc(1,"\u898f\u5283\u5831\u544a"),o.Tb(),o.Ub(2,"mat-button-toggle-group",0),o.Ub(3,"mat-button-toggle",1),o.Fc(4,"\u56de\u4e0a\u9801"),o.Tb(),o.Ub(5,"mat-button-toggle",2),o.Fc(6,"\u532f\u51fa\u8a2d\u7f6e"),o.Tb(),o.Ub(7,"mat-button-toggle",2),o.Fc(8,"\u532f\u51fa\u5831\u544a"),o.Tb(),o.Ub(9,"mat-button-toggle",2),o.Fc(10,"\u5132\u5b58"),o.Tb(),o.Tb(),o.Qb(11,"div",3),o.Ub(12,"div",4),o.Ub(13,"h5"),o.Fc(14,"\u5834\u57df\u8a2d\u5b9a\u8cc7\u8a0a"),o.Tb(),o.Ub(15,"ul"),o.Ub(16,"li"),o.Ub(17,"span"),o.Ub(18,"label"),o.Fc(19,"\u5c08\u6848\u540d\u7a31"),o.Tb(),o.Fc(20,"eaaaaa"),o.Tb(),o.Ub(21,"span"),o.Ub(22,"label"),o.Fc(23,"\u898f\u5283\u6642\u9593"),o.Tb(),o.Fc(24,"2020-12-19 12:17:13"),o.Tb(),o.Tb(),o.Ub(25,"li"),o.Ub(26,"span"),o.Ub(27,"label"),o.Fc(28,"\u898f\u5283\u76ee\u6a19"),o.Tb(),o.Ub(29,"span"),o.Fc(30,"\u4e0d\u9650\u5236\u589e\u52a0\u57fa\u7ad9\u6578\u91cf\uff0c\u4ee5\u9054\u5230UE\u5e73\u5747\u4e0b\u884cthroughput\u6700\u5927."),o.Tb(),o.Tb(),o.Tb(),o.Ub(31,"li"),o.Ub(32,"span"),o.Ub(33,"label"),o.Fc(34,"\u5834\u57df\u5927\u5c0f"),o.Tb(),o.Fc(35,"\u9577 104 \u516c\u5c3a/ \u5bec 26 \u516c\u5c3a\uff0f\u9ad8 2 \u516c\u5c3a"),o.Tb(),o.Ub(36,"span"),o.Ub(37,"label"),o.Fc(38,"\u5730\u5716\u5207\u9762(\u9ad8\u5ea6)"),o.Tb(),o.Fc(39,"1 \u516c\u5c3a\uff0f1.5 \u516c\u5c3a"),o.Tb(),o.Tb(),o.Qb(40,"hr"),o.Ub(41,"h5"),o.Fc(42,"\u57fa\u7ad9\u8cc7\u8a0a"),o.Tb(),o.Ub(43,"li"),o.Ub(44,"span"),o.Ub(45,"label"),o.Fc(46,"\u5f85\u9078\u57fa\u7ad9\u4f4d\u7f6e"),o.Tb(),o.Fc(47,"(\u51716\u8655)"),o.Tb(),o.Ub(48,"span"),o.Ub(49,"label"),o.Fc(50,"\u73fe\u6709\u57fa\u7ad9"),o.Tb(),o.Fc(51,"(\u51710\u53f0)"),o.Tb(),o.Ub(52,"span"),o.Ub(53,"label"),o.Fc(54,"\u767c\u5c04\u529f\u7387\u7bc4\u570d"),o.Tb(),o.Fc(55,"\t-5 dBm ~ 21 dBm"),o.Tb(),o.Ub(56,"span"),o.Ub(57,"label"),o.Fc(58,"\u53ef\u5206\u914d\u6ce2\u675f\u7de8\u865f\u7bc4\u570d"),o.Tb(),o.Fc(59,"\t0 ~ 30"),o.Tb(),o.Ub(60,"span"),o.Ub(61,"label"),o.Fc(62,"LTE\u7cfb\u7d71\u983b\u5bec(MHz)"),o.Tb(),o.Fc(63,"\t20 MHz"),o.Tb(),o.Ub(64,"span"),o.Ub(65,"label"),o.Fc(66,"LTE\u7cfb\u7d71\u983b\u7387(MHz)"),o.Tb(),o.Fc(67,"\t1900 MHz"),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&t&&(o.Cb(3),o.lc("routerLink",o.oc(1,s)))},directives:[a.b,a.a,r.c],styles:['.mat-button-toggle-group[_ngcontent-%COMP%]{margin-left:1em}.leftArea[_ngcontent-%COMP%], .rightArea[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding:1em}.leftArea[_ngcontent-%COMP%]{width:75%}.rightArea[_ngcontent-%COMP%]{font-size:.9em;width:25%;border:1px solid #ddd;background-color:#eee}.rightArea[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1em}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.9}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline;line-height:1;margin-bottom:.5em}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;font-size:.95em;margin-right:.2em}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:" :"}']}),t})();var l=n("mrSG"),u=n("LVmW"),h=n("6uu6"),p=n("0IaG"),d=n("JqCM"),g=n("0Wct"),f=n("tk/3"),b=n("k4ix"),m=n("F6rt"),v=n("5PSO"),x=n("WvoJ"),C=n("XrEJ"),y=n("OYez"),w=n("sLYL"),k=n("2LqC");const M=["pdf"],O=["propose"],S=["quality"],T=["cover"],P=["strength"],A=["performance"],_=["statistics"],E=["siteInfo"];function F(t,e){1&t&&o.Qb(0,"app-signal-quality",null,22)}function D(t,e){1&t&&o.Qb(0,"app-signal-cover",null,23)}function R(t,e){1&t&&o.Qb(0,"app-signal-strength",null,24)}const I=function(){return["/site/site-planning"]};let U=(()=>{class t{constructor(t,e,n,i,r,o,a){this.route=t,this.authService=e,this.router=n,this.matDialog=i,this.spinner=r,this.pdfService=o,this.http=a,this.result={},this.calculateForm=new u.a,this.showQuality=!0,this.showCover=!1,this.showStrength=!1}ngOnInit(){this.route.queryParams.subscribe(t=>{this.taskId=t.taskId,this.getResult()})}getResult(){this.http.get(`${this.authService.API_URL}/completeCalcResult/${this.taskId}/${this.authService.userToken}`).subscribe(t=>{this.calculateForm=t.input,this.result=t.output,this.propose.calculateForm=this.calculateForm,this.propose.result=this.result,this.propose.drawLayout(!1),this.drawQuality(),this.performance.calculateForm=this.calculateForm,this.performance.result=this.result,this.performance.setData(),this.statistics.calculateForm=this.calculateForm,this.statistics.result=this.result,this.siteInfo.calculateForm=this.calculateForm,this.siteInfo.result=this.result,console.log(this.result)})}exportPDF(){return Object(l.a)(this,void 0,void 0,(function*(){this.pdf.export(this.taskId)}))}drawQuality(){this.showQuality=!0,this.showCover=!1,this.showStrength=!1,window.setTimeout(()=>{this.quality.calculateForm=this.calculateForm,this.quality.draw(!1)},0)}drawCover(){this.showQuality=!1,this.showCover=!0,this.showStrength=!1,window.setTimeout(()=>{this.cover.calculateForm=this.calculateForm,this.cover.draw(!1)},0)}drawStrength(){this.showQuality=!1,this.showCover=!1,this.showStrength=!0,window.setTimeout(()=>{this.strength.calculateForm=this.calculateForm,this.strength.draw(!1)},0)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(r.a),o.Pb(h.a),o.Pb(r.b),o.Pb(p.b),o.Pb(d.c),o.Pb(g.a),o.Pb(f.b))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-result"]],viewQuery:function(t,e){var n;1&t&&(o.Lc(M,!0),o.Lc(O,!0),o.Lc(S,!0),o.Lc(T,!0),o.Lc(P,!0),o.Lc(A,!0),o.Lc(_,!0),o.Lc(E,!0)),2&t&&(o.rc(n=o.dc())&&(e.pdf=n.first),o.rc(n=o.dc())&&(e.propose=n.first),o.rc(n=o.dc())&&(e.quality=n.first),o.rc(n=o.dc())&&(e.cover=n.first),o.rc(n=o.dc())&&(e.strength=n.first),o.rc(n=o.dc())&&(e.performance=n.first),o.rc(n=o.dc())&&(e.statistics=n.first),o.rc(n=o.dc())&&(e.siteInfo=n.first))},decls:48,vars:5,consts:[[1,"inline-block"],[1,"inline-block","width\bAuto"],["value","back",3,"routerLink"],["value","3d"],["value","export",3,"click"],[1,"box"],[1,"leftArea"],["propose",""],["colspan","2",1,"panel","center"],[1,"mapType"],["value","","selected",""],[1,"mL_1"],["value","SINR","selected","",3,"click"],["value","PCI",3,"click"],["value","RSRP",3,"click"],[4,"ngIf"],["performance",""],["statistics",""],[1,"rightArea","ds"],["siteInfo",""],["id","pdf_area",2,"display","none"],["pdf",""],["quality",""],["cover",""],["strength",""]],template:function(t,e){1&t&&(o.Ub(0,"h2",0),o.Fc(1,"\u898f\u5283\u7d50\u679c"),o.Tb(),o.Ub(2,"mat-button-toggle-group",1),o.Ub(3,"mat-button-toggle",2),o.Fc(4,"\u56de\u4e0a\u9801"),o.Tb(),o.Ub(5,"mat-button-toggle",3),o.Fc(6,"3D \u986f\u793a"),o.Tb(),o.Ub(7,"mat-button-toggle",4),o.cc("click",(function(){return e.exportPDF()})),o.Fc(8,"\u532f\u51fa"),o.Tb(),o.Tb(),o.Ub(9,"div",5),o.Ub(10,"div",6),o.Qb(11,"app-propose",null,7),o.Ub(13,"table"),o.Ub(14,"tbody"),o.Ub(15,"tr"),o.Ub(16,"th",8),o.Ub(17,"label"),o.Fc(18,"\u5716\u9762\u8cc7\u8a0a"),o.Tb(),o.Tb(),o.Tb(),o.Ub(19,"tr"),o.Ub(20,"td",9),o.Ub(21,"label"),o.Fc(22,"\u5207\u9762\u9ad8\u5ea6"),o.Tb(),o.Ub(23,"mat-button-toggle-group"),o.Ub(24,"mat-button-toggle",10),o.Fc(25,"50 \u516c\u5206"),o.Tb(),o.Tb(),o.Ub(26,"label",11),o.Fc(27,"\u5206\u5e03\u5716\u5207\u63db"),o.Tb(),o.Ub(28,"mat-button-toggle-group"),o.Ub(29,"mat-button-toggle",12),o.cc("click",(function(){return e.drawQuality()})),o.Fc(30,"\u8a0a\u865f\u54c1\u8cea\u5716"),o.Tb(),o.Ub(31,"mat-button-toggle",13),o.cc("click",(function(){return e.drawCover()})),o.Fc(32,"\u8a0a\u865f\u8986\u84cb\u5716"),o.Tb(),o.Ub(33,"mat-button-toggle",14),o.cc("click",(function(){return e.drawStrength()})),o.Fc(34,"\u8a0a\u865f\u5f37\u5ea6\u5716"),o.Tb(),o.Tb(),o.Dc(35,F,2,0,"app-signal-quality",15),o.Dc(36,D,2,0,"app-signal-cover",15),o.Dc(37,R,2,0,"app-signal-strength",15),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Qb(38,"app-performance",null,16),o.Qb(40,"app-statistics",null,17),o.Tb(),o.Ub(42,"div",18),o.Qb(43,"app-site-info",null,19),o.Tb(),o.Tb(),o.Ub(45,"div",20),o.Qb(46,"app-pdf",null,21),o.Tb()),2&t&&(o.Cb(3),o.lc("routerLink",o.oc(4,I)),o.Cb(32),o.lc("ngIf",e.showQuality),o.Cb(1),o.lc("ngIf",e.showCover),o.Cb(1),o.lc("ngIf",e.showStrength))},directives:[a.b,a.a,r.c,b.a,i.l,m.a,v.a,x.a,C.a,y.a,w.a,k.a],styles:['@charset "UTF-8";.box[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding:.5em 0 0;width:100%}.box[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin:0 1em 0 0}.box[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{display:block;width:100%;height:auto;margin:auto}.panel[_ngcontent-%COMP%]{padding:.4em .8em;background-color:#5aa5e2!important;color:#fff!important;font-size:.8em;border-right:1px solid #fff!important}.panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.1em}.box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:0 0 2em;display:table;width:100%;border:1.5px solid #5aa5e2;vertical-align:top;background-color:#202633}.box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-right:1px solid #5aa5e2;line-height:1.5}.box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, .box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none}.mapType[_ngcontent-%COMP%]{border-right:1px solid #5aa5e2!important}.box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#eaf3f8;border-top:1.5px solid #5aa5e2;font-size:.95em;color:#1760af;text-align:center}.box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1.5px solid #5aa5e2}.box[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.res_1[_ngcontent-%COMP%]{display:inline-block;width:100%;padding:0 1% 1%;margin-top:1%;background-color:#d8ebfb;border:1px solid #92b4d2}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;width:30%;margin-right:2%}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > label[_ngcontent-%COMP%], .res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin:1em 0 .3em}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px solid #92b4d2;padding:.5em .7em}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"\uff0e";font-weight:bolder;font-size:1em;display:inline-block;margin-right:.2em;vertical-align:super}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400;margin:0}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:":";display:inline-block}.mapType[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9em}.mapType[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{margin:.5em 0 0}.ds[_ngcontent-%COMP%]{display:block;width:98.5%;font-size:.9em;margin:.5em 0;padding:0 1em;background-color:#e9f3f8;line-height:2.5;border-top:3px solid #5aa5e2}.ds[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#5aa5e2;margin-right:.3em}.leftArea[_ngcontent-%COMP%], .rightArea[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.leftArea[_ngcontent-%COMP%]{width:75%;padding:.5em 1em 0 0}.rightArea[_ngcontent-%COMP%]{padding:1em;font-size:.9em;width:25%}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:" :"}.thCenter[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.choose[_ngcontent-%COMP%]{background-color:#edd31c;color:#333;position:relative}.choose[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#ce1a21;color:#fff;width:1.6em;height:1.6em;line-height:1.6em;text-align:center;margin:0!important;border-radius:50em;font-weight:400!important}.choose[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{background-color:#fff;color:#5aa5e2;width:1em;height:1em;border-radius:3em;display:inline-block;margin-left:.3em;vertical-align:middle;font-size:16px}.mat-button-toggle-group[_ngcontent-%COMP%]{margin-left:1em}.mat-button-toggle-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto!important}']}),t})();var B=["rgb","rgba","hsl","hsla"],z="undefined"!=typeof document&&document,j=["webkit","ms","moz","o"],L=function(t){if(!z)return"";var e=(z.body||z.documentElement).style,n=j.length;if(void 0!==e[t])return t;for(var i=0;i<n;++i){var r="-"+j[i]+"-"+t;if(void 0!==e[r])return r}return""},G=L("transform"),V=L("filter"),N=L("animation"),q=['"',"'",'\\"',"\\'"],Y={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return void 0===e&&(e=window.innerWidth),t/100*e},vh:function(t,e){return void 0===e&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return void 0===e&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return void 0===e&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};function X(t){return void 0===t}function H(t){return t&&"object"==typeof t}function W(t){return Array.isArray(t)}function K(t){return"string"==typeof t}function Q(t){return"function"==typeof t}function Z(t,e,n,i){for(var r=n;r<i;++r){var o=e[r].trim();if(o===t)return r;var a=r;if("("===o?a=Z(")",e,r+1,i):q.indexOf(o)>-1&&(a=Z(o,e,r+1,i)),-1===a)break;r=a}return-1}function J(t,e){for(var n=new RegExp("(\\s*"+(e||",")+"\\s*|\\(|\\)|\"|'|\\\\\"|\\\\'|\\s+)","g"),i=t.split(n).filter(Boolean),r=i.length,o=[],a=[],s=0;s<r;++s){var c=i[s].trim(),l=s;if("("===c)l=Z(")",i,s+1,r);else{if(")"===c)throw new Error("invalid format");if(q.indexOf(c)>-1)l=Z(c,i,s+1,r);else if(c===e){a.length&&(o.push(a.join("")),a=[]);continue}}-1===l&&(l=r-1),a.push(i.slice(s,l+1).join("")),s=l}return a.length&&o.push(a.join("")),o}function $(t){return J(t,"")}function tt(t){return J(t,",")}function et(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function nt(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);return e?{prefix:e[1],unit:e[3],value:parseFloat(e[2])}:{prefix:"",unit:"",value:NaN}}function it(t,e){return void 0===e&&(e="-"),t.replace(/([a-z])([A-Z])/g,(function(t,n,i){return""+n+e+i.toLowerCase()}))}function rt(){return Date.now?Date.now():(new Date).getTime()}function ot(t,e,n){void 0===n&&(n=-1);for(var i=t.length,r=0;r<i;++r)if(e(t[r],r,t))return r;return n}function at(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in e)e.push(n);return e}function st(t,e){void 0===e&&(e=[]),t.sort((function(t,n){var i=e.indexOf(t),r=e.indexOf(n);return-1===r&&-1===i?0:-1===i?1:-1===r?-1:i-r}))}function ct(t,e){var n=nt(t),i=n.value,r=n.unit;if(H(e)){var o=e[r];if(o){if(Q(o))return o(i);if(Y[r])return Y[r](i,o)}}else if("%"===r)return i*e/100;return Y[r]?Y[r](i):i}function lt(t,e,n){return Math.max(e,Math.min(t,n))}function ut(t,e){return e?Math.round(t/e)*e:t}function ht(t,e,n){return[[ut(e[0],1e-7),ut(e[0]*t[1]/t[0],1e-7)],[ut(e[1]*t[0]/t[1],1e-7),ut(e[1],1e-7)]].filter((function(t){return t.every((function(t,i){return n?t<=e[i]:t>=e[i]}))}))[0]||t}function pt(t){for(var e=t.length,n=0,i=e-1;i>=0;--i)n+=t[i];return e?n/e:0}function dt(t,e){var n=Math.atan2(e[1]-t[1],e[0]-t[0]);return n>=0?n:n+2*Math.PI}function gt(t){var e=function(t){return[0,1].map((function(e){return pt(t.map((function(t){return t[e]})))}))}(t),n=dt(e,t[0]),i=dt(e,t[1]);return n<i&&i-n<Math.PI||n>i&&i-n<-Math.PI?1:-1}function ft(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function bt(t){if("#"===t.charAt(0))return function(t){var e=function(t){return t.replace("#","")}(t),n=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16),o=parseInt(e.substring(6,8),16)/255;return isNaN(o)&&(o=1),[n,i,r,o]}(4===t.length||5===t.length?["#",l=(c=t).charAt(1),l,u=c.charAt(2),u,h=c.charAt(3),h,p=c.charAt(4),p].join(""):t);if(-1!==t.indexOf("(")){var e=et(t),n=e.prefix,i=e.value;if(!n||!i)return;var r=tt(i),o=[0,0,0,1],a=r.length;switch(n){case"rgb":case"rgba":for(var s=0;s<a;++s)o[s]=parseFloat(r[s]);return o;case"hsl":case"hsla":for(s=0;s<a;++s)o[s]=-1!==r[s].indexOf("%")?parseFloat(r[s])/100:parseFloat(r[s]);return function(t){var e,n=t[0],i=t[1],r=t[2];n<0&&(n+=360*Math.floor((Math.abs(n)+360)/360)),n%=360;var o,a=(1-Math.abs(2*r-1))*i,s=a*(1-Math.abs(n/60%2-1)),c=r-a/2;return o=n<60?[a,s,0]:n<120?[s,a,0]:n<180?[0,a,s]:n<240?[0,s,a]:n<300?[s,0,a]:n<360?[a,0,s]:[0,0,0],[Math.round(255*(o[0]+c)),Math.round(255*(o[1]+c)),Math.round(255*(o[2]+c)),null!==(e=t[3])&&void 0!==e?e:1]}(o)}}var c,l,u,h,p}function mt(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function vt(t,e,n,i){t.addEventListener(e,n,i)}function xt(t,e,n){t.removeEventListener(e,n)}var Ct=function(){return(Ct=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},yt=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(H(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(H(t))for(var n in t)this.off(n);else if(e){var i=this._events[t];if(i){var r=ot(i,(function(t){return t.listener===e}));r>-1&&i.splice(r,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this;void 0===e&&(e={});var i=this._events[t];if(!t||!i)return!0;var r=!1;return e.eventType=t,e.stop=function(){r=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}(i).forEach((function(i){i.listener(e),i.once&&n.off(t,i.listener)})),!r},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,n){var i=this._events;i[t]=i[t]||[],i[t].push(Ct({listener:e},n))},t}(),wt=function(){function t(t){this.separator=t,this.orderMap={}}var e=t.prototype;return e.getFullName=function(t){return t.join(this.separator)},e.get=function(t){return this.orderMap[this.getFullName(t)]},e.gets=function(t,e){void 0===e&&(e=!0);var n=[],i=this;return function t(e,r){var o=i.get(e);if(o)return o.forEach((function(i){var o=r.concat([i]),a=t(e.concat([i]),o);a&&a.length||n.push(r.concat([i]))})),o}(t,e?t:[]),n},e.set=function(t,e){var n=this;return t.forEach((function(e,i){n.addName(t.slice(0,i),e)})),this.orderMap[this.getFullName(t)]=e,e},e.add=function(t){var e=t.length;return e?this.addName(t.slice(0,-1),t[e-1]):[]},e.addName=function(t,e){var n=this.get(t)||this.set(t,[]);return-1===n.indexOf(e)&&n.push(e),n},e.findIndex=function(t,e){var n=this.orderMap[this.getFullName(t)];return n?n.indexOf(e):-1},e.remove=function(t){var e=this.getFullName(t),n=this.orderMap;for(var i in n)0===i.indexOf(e)&&delete n[i];var r=t.length;if(r){var o=t.slice(0,-1);this.splice(o,this.findIndex(o,t[r-1]),1)}return this},e.filter=function(e,n,i){void 0===i&&(i=!0);var r=this.gets(e,i).filter(n),o=new t(this.separator),a=i?[]:e;return r.forEach((function(t){o.add(a.concat(t))})),o},e.splice=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var o=this.get(t)||this.set(t,[]);return o.splice.apply(o,[e,n].concat(i)),this},e.clear=function(){this.orderMap={}},e.setObject=function(t){var e=this.orderMap;for(var n in t)e[n]=t[n].slice()},e.getObject=function(){var t={},e=this.orderMap;for(var n in e)t[n]=e[n].slice();return t},e.clone=function(){var e=new t(this.separator);return e.setObject(e.orderMap),e},t}();function kt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function Mt(t,e,n){var i=1-n;return n*n*n+3*n*n*i*e+3*n*i*i*t}function Ot(t,e,n,i){var r=function(r){var o=function(t,e,n){for(var i=n,r=1;Math.abs(r)>.001;){if(r=Mt(t,e,i)-n,Math.abs(r)<.001)return i;i-=r/2}return i}(t,n,lt(r,0,1));return Mt(e,i,o)};return r.easingName="cubic-bezier("+t+","+e+","+n+","+i+")",r}function St(t,e){var n=function(n){var i=1/t;return n>=1?1:("start"===e?i:0)+Math.floor(n/i)*i};return n.easingName="steps("+t+", "+e+")",n}var Tt,Pt=St(1,"start"),At=St(1,"end"),_t=Ot(0,0,1,1),Et=Ot(.25,.1,.25,1),Ft=Ot(.42,0,1,1),Dt=Ot(0,0,.58,1),Rt=Ot(.42,0,.58,1),It="animation-timing-function",Ut={transform:{},filter:{},attribute:{},html:!0},Bt={easing:[It]},zt=((Tt={})[It]=!0,Tt.contents=!0,Tt.html=!0,Tt),jt={linear:_t,ease:Et,"ease-in":Ft,"ease-out":Dt,"ease-in-out":Rt,"step-start":Pt,"step-end":At},Lt=function(){function t(t,e){this.prefix="",this.suffix="",this.model="",this.type="",this.separator=",",e&&this.setOptions(e),this.value=K(t)?t.split(this.separator):t}var e=t.prototype;return e.setOptions=function(t){for(var e in t)this[e]=t[e];return this},e.size=function(){return this.value.length},e.get=function(t){return this.value[t]},e.set=function(t,e){return this.value[t]=e,this},e.clone=function(){var e=this,n=e.separator,i=e.prefix,r=e.suffix,o=e.model,a=e.type;return new t(this.value.map((function(e){return e instanceof t?e.clone():e})),{separator:n,prefix:i,suffix:r,model:o,type:a})},e.toValue=function(){return this.prefix+this.join()+this.suffix},e.join=function(){return this.value.map((function(e){return e instanceof t?e.toValue():e})).join(this.separator)},e.forEach=function(t){return this.value.forEach(t),this},t}();function Gt(t){for(var e=J(t,";"),n={},i=e.length,r=i,o=0;o<i;++o){var a=J(e[o],":");a.length<2||!a[1]?--r:n[a[0].trim()]=qt(a[1].trim())}return{styles:n,length:r}}function Vt(t){return 3===t.length&&(t[3]=1),new Lt(t,{model:"rgba",separator:",",type:"color",prefix:"rgba(",suffix:")"})}function Nt(t,e){return new Lt(t,{type:"array",separator:e})}function qt(t,e){if(!K(t))return W(t)?Nt(t,","):t;var n=tt(t);return n.length>1?Nt(n.map((function(t){return qt(t)})),","):(n=$(t)).length>1?Nt(n.map((function(t){return qt(t)}))," "):(n=/^(['"])([^'"]*)(['"])$/g.exec(t))&&n[1]===n[3]?new Lt([qt(n[2])],{prefix:n[1],suffix:n[1]}):-1!==t.indexOf("(")?function(t){var e=et(t),n=e.prefix,i=e.value,r=e.suffix;if(void 0===i)return t;if(B.indexOf(n)>-1)return Vt(bt(t));var o=qt(i,n),a=[i],s=",",c=n+"(",l=")"+r;return o instanceof Lt&&(s=o.separator,a=o.value,c+=o.prefix,l=o.suffix+l),new Lt(a,{separator:s,model:n,prefix:c,suffix:l})}(t):"#"===t.charAt(0)&&"url"!==e?function(t){var e=bt(t);return e?Vt(e):t}(t):t}function Yt(t,e){void 0===e&&(e={});var n=t.model;if(n){t.setOptions({model:"",suffix:"",prefix:""});var i=t.size()>1?t:t.get(0);e[n]=i}else t.forEach((function(t){Yt(t,e)}));return e}function Xt(t){return t instanceof Lt}function Ht(t){var e=typeof t;if("object"===e){if(W(t))return"array";if(Xt(t))return"property"}else if("string"===e||"number"===e)return"value";return e}function Wt(t,e,n){void 0===n&&(n=t.length);for(var i=e,r=0;r<n;++r){if(!H(i)||null==i)return;i=i[t[r]]}return i}function Kt(t,e,n){var i=e.length,r=t;if(0===i)return!1;for(var o=0;o<i;++o){if(!0===r)return!1;if(!(r=r[e[o]])||!n&&!0===r)return!1}return!0}function Qt(t,e){return Kt(Ut,t,e)}function Zt(t){return Kt(zt,t,!0)}function Jt(t,e){if(void 0===e&&(e=[]),!t)return"";var n=[],i=at(t);return st(i,e),i.forEach((function(e){n.push(e.replace(/\d$/g,"")+"("+t[e]+")")})),n.join(" ")}function $t(t,e){return void 0===e&&(e=!1),te({},t,e)}function te(t,e,n){for(var i in void 0===n&&(n=!1),e){var r=e[i],o=Ht(r);"property"===o?t[i]=n?r.toValue():r.clone():"function"===o?t[i]=n?ne([i],r):r:"array"===o?t[i]=r.slice():"object"===o?H(t[i])&&!Xt(t[i])?te(t[i],r,n):t[i]=$t(r,n):t[i]=e[i]}return t}function ee(t){return t[0]in Bt?Bt[t[0]]:t}function ne(t,e){var n=Ht(e);if("property"===n)return e.toValue();if("function"===n){if(t[0]!==It)return ne(t,e())}else if("object"===n)return $t(e,!0);return e}kt(["id","iterationCount","delay","fillMode","direction","playSpeed","duration","playSpeed","iterationTime","playState"],["easing","easingName"]);var ie=function(){function t(t){void 0===t&&(t={}),this.properties={},this.orderMap=new wt("_///_"),this.properties={},this.set(t)}var e=t.prototype;return e.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.raw.apply(this,t);return ne(ee(t),n)},e.getOrders=function(t){return this.orderMap.get(t)},e.setOrders=function(t,e){return this.orderMap.set(t,e)},e.getOrderObject=function(){return this.orderMap.getObject()},e.setOrderObject=function(t){this.orderMap.setObject(t)},e.getKeys=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.raw.apply(this,t),i="object"===Ht(n)?at(n):[];return st(i,this.orderMap.get(t)),i},e.gets=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this.get.apply(this,e),r=this.getKeys.apply(this,e);return r.map((function(n){return{key:n,value:i[n],children:t.gets.apply(t,kt(e,[n]))}}))},e.raw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Wt(ee(t),this.properties)},e.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ee(t),i=n.length;if(!i)return this;this.orderMap.remove(n);var r=Wt(n,this.properties,i-1);return H(r)&&delete r[n[i-1]],this},e.set=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this,r=e.length,o=e.slice(0,-1),a=e[r-1],s=o[0];if(1===r&&a instanceof t)i.merge(a);else if(s in Bt)i._set(Bt[s],a);else if(2===r&&W(s))i._set(s,a);else if(Xt(a))Qt(o)?i.set.apply(i,kt(o,[Yt(a)])):i._set(o,a);else if(W(a))i._set(o,a);else if(H(a))for(var c in!i.has.apply(i,o)&&Qt(o)&&i._set(o,{}),a)i.set.apply(i,kt(o,[c,a[c]]));else if(K(a)){if(Qt(o,!0)){if(Zt(o)||!Qt(o))this._set(o,a);else{var l=qt(a);H(l)&&i.set.apply(i,kt(o,[l]))}return this}var u=Gt(a),h=u.styles,p=u.length;for(var c in h)i.set.apply(i,kt(o,[c,h[c]]));if(p)return this;i._set(o,a)}else i._set(o,a);return i},e.getNames=function(){return function t(e,n){var i,r=[];if(H(i=e)&&i.constructor===Object)for(var o in e)n.push(o),r=r.concat(t(e[o],n)),n.pop();else r.push(n.slice());return r}(this.properties,[])},e.has=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ee(t),i=n.length;return!!i&&!X(Wt(n,this.properties,i))},e.clone=function(){var e=new t;return e.setOrderObject(this.orderMap.orderMap),e.merge(this)},e.merge=function(t){var e=t.properties;return e&&te(this.properties,e),this},e.toCSSObject=function(){var t=this.get(),e={};for(var n in t)if(!Qt([n],!0)){var i=t[n];n===It?e[It.replace("animation",N)]=(K(i)?i:i.easingName)||"initial":e[n]=i}var r=Jt(t.transform,this.orderMap.get(["transform"])),o=Jt(t.filter,this.orderMap.get([V]));return G&&r&&(e[G]=r),V&&o&&(e[V]=o),e},e.toCSS=function(){var t=this.toCSSObject(),e=[],n=at(t);return st(n,this.orderMap.get([])),n.forEach((function(n){e.push(n+":"+t[n]+";")})),e.join("")},e.clear=function(){return this.properties={},this.orderMap.clear(),this},e._set=function(t,e){for(var n=this.properties,i=t.length,r=0;r<i-1;++r){var o=t[r];!(o in n)&&(n[o]={}),n=n[o]}if(i){var a=t[i-1];this.orderMap.add(t),n[a]=1===i&&a===It?function(t){var e;if(K(t))if(t in jt)e=jt[t];else{var n=qt(t);if(K(n))return 0;if("cubic-bezier"===n.model)e=Ot((t=n.value.map((function(t){return parseFloat(t)})))[0],t[1],t[2],t[3]);else{if("steps"!==n.model)return 0;e=St(parseFloat(n.value[0]),n.value[1])}}else e=W(t)?Ot(t[0],t[1],t[2],t[3]):t;return e}(e):K(e)&&!Zt(t)?qt(e,a):e}},t}(),re=n("u47x"),oe=n("8LU1"),ae=n("FtGj"),se=n("XNiG"),ce=n("quSY"),le=n("VRyK"),ue=n("LRne"),he=n("7Hc7"),pe=n("JX91"),de=n("eIep"),ge=n("IzEk"),fe=n("pLZG"),be=n("1G5W"),me=n("D0XW"),ve=n("7o/Q"),xe=n("WMd4");function Ce(t,e=me.a){var n;const i=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new ye(i,e))}class ye{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new we(t,this.delay,this.scheduler))}}class we extends ve.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(we.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new ke(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(xe.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(xe.a.createComplete()),this.unsubscribe()}}class ke{constructor(t,e){this.time=t,this.notification=e}}var Me=n("R0Ic"),Oe=n("+rOU"),Se=n("FKr1"),Te=n("rDax"),Pe=n("nLfN"),Ae=n("vxfF"),_e=n("cH1L");const Ee=["mat-menu-item",""],Fe=["*"];function De(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",0),o.cc("keydown",(function(e){return o.wc(t),o.gc()._handleKeydown(e)}))("click",(function(){return o.wc(t),o.gc().closed.emit("click")}))("@transformMenu.start",(function(e){return o.wc(t),o.gc()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return o.wc(t),o.gc()._onAnimationDone(e)})),o.Ub(1,"div",1),o.jc(2),o.Tb(),o.Tb()}if(2&t){const t=o.gc();o.lc("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),o.Db("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const Re={transformMenu:Object(Me.n)("transformMenu",[Object(Me.k)("void",Object(Me.l)({opacity:0,transform:"scale(0.8)"})),Object(Me.m)("void => enter",Object(Me.g)([Object(Me.i)(".mat-menu-content, .mat-mdc-menu-content",Object(Me.e)("100ms linear",Object(Me.l)({opacity:1}))),Object(Me.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(Me.l)({transform:"scale(1)"}))])),Object(Me.m)("* => void",Object(Me.e)("100ms 25ms linear",Object(Me.l)({opacity:0})))]),fadeInItems:Object(Me.n)("fadeInItems",[Object(Me.k)("showing",Object(Me.l)({opacity:1})),Object(Me.m)("void => *",[Object(Me.l)({opacity:0}),Object(Me.e)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ie=(()=>{class t{constructor(t,e,n,i,r,o,a){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=i,this._viewContainerRef=r,this._document=o,this._changeDetectorRef=a,this._attached=new se.a}attach(t={}){this._portal||(this._portal=new Oe.h(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Oe.e(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.M),o.Pb(o.j),o.Pb(o.g),o.Pb(o.r),o.Pb(o.P),o.Pb(i.d),o.Pb(o.h))},t.\u0275dir=o.Kb({type:t,selectors:[["ng-template","matMenuContent",""]]}),t})();const Ue=new o.q("MAT_MENU_PANEL");class Be{}const ze=Object(Se.i)(Object(Se.j)(Be));let je=(()=>{class t extends ze{constructor(t,e,n,i){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=i,this.role="menuitem",this._hovered=new se.a,this._focused=new se.a,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._elementRef,!1),i&&i.addItem&&i.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const i=t.childNodes.length;for(let r=0;r<i;r++)t.childNodes[r].nodeType===e&&(n+=t.childNodes[r].textContent)}return n.trim()}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.l),o.Pb(i.d),o.Pb(re.e),o.Pb(Ue,8))},t.\u0275cmp=o.Jb({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&o.cc("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(o.Db("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),o.Gb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.zb],attrs:Ee,ngContentSelectors:Fe,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(o.kc(),o.jc(0),o.Qb(1,"div",0)),2&t&&(o.Cb(1),o.lc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[Se.e],encapsulation:2,changeDetection:0}),t})();const Le=new o.q("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ge=0,Ve=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.D,this._tabSubscription=ce.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new se.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.n,this.close=this.closed,this.panelId="mat-menu-panel-"+Ge++}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Object(oe.b)(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Object(oe.b)(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new re.d(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Object(pe.a)(this._directDescendantItems),Object(de.a)(t=>Object(le.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Object(pe.a)(this._directDescendantItems),Object(de.a)(t=>Object(le.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case ae.e:Object(ae.o)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case ae.g:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case ae.i:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case ae.f:case ae.c:Object(ae.o)(t)||(e===ae.f?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:e!==ae.l&&e!==ae.b||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(Object(ge.a)(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Object(pe.a)(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.l),o.Pb(o.z),o.Pb(Le))},t.\u0275dir=o.Kb({type:t,contentQueries:function(t,e,n){var i;1&t&&(o.Ib(n,Ie,!0),o.Ib(n,je,!0),o.Ib(n,je,!1)),2&t&&(o.rc(i=o.dc())&&(e.lazyContent=i.first),o.rc(i=o.dc())&&(e._allItems=i),o.rc(i=o.dc())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&o.Lc(o.M,!0),2&t&&o.rc(n=o.dc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),Ne=(()=>{class t extends Ve{}return t.\u0275fac=function(e){return qe(e||t)},t.\u0275dir=o.Kb({type:t,features:[o.zb]}),t})();const qe=o.Wb(Ne);let Ye=(()=>{class t extends Ne{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.l),o.Pb(o.z),o.Pb(Le))},t.\u0275cmp=o.Jb({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[o.Bb([{provide:Ue,useExisting:Ne},{provide:Ne,useExisting:t}]),o.zb],ngContentSelectors:Fe,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(o.kc(),o.Dc(0,De,3,6,"ng-template"))},directives:[i.j],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[Re.transformMenu,Re.fadeInItems]},changeDetection:0}),t})();const Xe=new o.q("mat-menu-scroll-strategy"),He={provide:Xe,deps:[Te.a],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},We=Object(Pe.f)({passive:!0});let Ke=(()=>{class t{constructor(t,e,n,i,r,a,s,c){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=r,this._menuItemInstance=a,this._dir=s,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ce.a.EMPTY,this._hoverSubscription=ce.a.EMPTY,this._menuCloseSubscription=ce.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new o.n,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.n,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,We),a&&(a._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=i}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,We),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Ne&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),t instanceof Ne?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Object(fe.a)(t=>"void"===t.toState),Object(ge.a)(1),Object(be.a)(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Te.b({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[i,r]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[o,a]=[i,r],[s,c]=[e,n],l=0;this.triggersSubmenu()?(c=e="before"===this.menu.xPosition?"start":"end",n=s="end"===e?"start":"end",l="bottom"===i?8:-8):this.menu.overlapTrigger||(o="top"===i?"bottom":"top",a="top"===r?"bottom":"top"),t.withPositions([{originX:e,originY:o,overlayX:s,overlayY:i,offsetY:l},{originX:n,originY:o,overlayX:c,overlayY:i,offsetY:l},{originX:e,originY:a,overlayX:s,overlayY:r,offsetY:-l},{originX:n,originY:a,overlayX:c,overlayY:r,offsetY:-l}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMenu?this._parentMenu.closed:Object(ue.a)(),i=this._parentMenu?this._parentMenu._hovered().pipe(Object(fe.a)(t=>t!==this._menuItemInstance),Object(fe.a)(()=>this._menuOpen)):Object(ue.a)();return Object(le.a)(t,n,i,e)}_handleMousedown(t){Object(re.h)(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(e===ae.i&&"ltr"===this.dir||e===ae.g&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Object(fe.a)(t=>t===this._menuItemInstance&&!t.disabled),Ce(0,he.a)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ne&&this.menu._isAnimating?this.menu._animationDone.pipe(Object(ge.a)(1),Ce(0,he.a),Object(be.a)(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new Oe.h(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(Te.a),o.Pb(o.l),o.Pb(o.P),o.Pb(Xe),o.Pb(Ne,8),o.Pb(je,10),o.Pb(_e.b,8),o.Pb(re.e))},t.\u0275dir=o.Kb({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&o.cc("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&o.Db("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),Qe=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},providers:[He],imports:[Se.d]}),t})(),Ze=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},providers:[He],imports:[[i.c,Se.d,Se.f,Te.d,Qe],Ae.b,Se.d,Qe]}),t})(),Je=(()=>{class t{constructor(t,e,n,i,r){this.authService=t,this.router=e,this.matDialog=n,this.http=i,this.data=r,this.obstacleList=[],this.defaultBSList=[],this.newBSList=[],this.ueList=[],this.dragObject={},this.calculateForm=r.calculateForm,this.obstacleList=r.obstacleList,this.defaultBSList=r.defaultBSList,this.newBSList=r.newBSList,this.ueList=r.ueList,this.dragObject=r.dragObject,console.log(this.defaultBSList)}ngOnInit(){this.draw()}draw(){const t={autosize:!0,scene:{xaxis:{linewidth:1,mirror:"all",range:[0,this.calculateForm.width]},yaxis:{linewidth:1,mirror:"all",range:[0,this.calculateForm.height]}},margin:{t:0,b:0,l:0,r:0}};Plotly.newPlot("chart3D",{data:this.getTraces(),layout:t,config:{displayModeBar:!1}})}dataURLtoBlob(t){let e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);const n=t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return new Blob([i],{type:n})}getTraces(){const t=[],e=[].concat(this.obstacleList,this.defaultBSList,this.newBSList,this.ueList);let n=1,i=1,r=1,o=1;for(const a of e){let e="";if("obstacle"===this.dragObject[a].type?e="\u969c\u7919\u7269 "+n:"defaultBS"===this.dragObject[a].type?e="\u73fe\u6709\u57fa\u7ad9 "+i:"newBS"===this.dragObject[a].type?e="\u65b0\u589e\u57fa\u7ad9 "+r:"UE"===this.dragObject[a].type&&(e="\u65b0\u589e\uff35\uff25 "+o),"obstacle"===this.dragObject[a].type){const i={x:[this.dragObject[a].x,Number(this.dragObject[a].x)+Number(this.dragObject[a].width)],y:[this.dragObject[a].y,Number(this.dragObject[a].y)+Number(this.dragObject[a].height)],z:[0,this.dragObject[a].altitude],mode:"lines",line:{color:this.dragObject[a].color,opacity:.8,width:20},name:e,text:e,type:"scatter3d",hoverinfo:"text+x+y+z"};t.push(i),n++}else t.push({x:[this.dragObject[a].x],y:[this.dragObject[a].y],z:[this.dragObject[a].z],line:{color:this.dragObject[a].color,opacity:.8},name:e,text:e,type:"scatter3d",hoverinfo:"text+x+y+z"}),"defaultBS"===this.dragObject[a].type?i++:"newBS"===this.dragObject[a].type?r++:"UE"===this.dragObject[a].type&&o++}return t}parseType(t){return"obstacle"===t?"\u969c\u7919\u7269":"defaultBS"===t?"\u73fe\u6709\u57fa\u7ad9":"newBS"===t?"\u65b0\u589e\u57fa\u7ad9":"UE"===t?"\u65b0\u589e\uff35\uff25":void 0}close(){this.matDialog.closeAll()}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(h.a),o.Pb(r.b),o.Pb(p.b),o.Pb(f.b),o.Pb(p.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-view3d"]],decls:5,vars:0,consts:[["href","javascript:void(0)",1,"close",3,"click"],["id","chart3D"]],template:function(t,e){1&t&&(o.Ub(0,"h1"),o.Fc(1,"3D\u986f\u793a"),o.Tb(),o.Ub(2,"a",0),o.cc("click",(function(){return e.close()})),o.Fc(3,"\xd7"),o.Tb(),o.Qb(4,"div",1))},styles:[""]}),t})();var $e=n("EUZL"),tn=n("Qu3c"),en=n("XhcP");function nn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map((function(e){return e.split(" ").map((function(e){return e?""+t+e:""})).join(" ")})).join(" ")}function rn(t,e){return function(n){n&&(t[e]=n)}}function on(t,e,n){return function(i){i&&(t[e][n]=i)}}function an(t,e){return function(n){var i=n.prototype;t.forEach((function(t){e(i,t)}))}}function sn(t,e){return void 0===e&&(e={}),function(n,i){t.forEach((function(t){var r=e[t]||t;n[r]||(n[r]=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=(e=this[i])[t].apply(e,n);return o===this[i]?this:o})}))}}var cn=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,i=this.values,r=n.indexOf(t),o=-1===r?n.length:r;n[o]=t,i[o]=e},t}(),ln=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),un="function"==typeof Map,hn=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}(),pn=function(){function t(t,e,n,i,r,o,a,s){this.prevList=t,this.list=e,this.added=n,this.removed=i,this.changed=r,this.maintained=o,this.changedBeforeAdded=a,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=function(t,e){var n=[],i=[];return t.forEach((function(t){var e=t[0],r=t[1],o=new hn;n[e]=o,i[r]=o})),n.forEach((function(t,e){t.connect(n[e-1])})),t.filter((function(t,n){return!e[n]})).map((function(t,e){var r=t[0],o=t[1];if(r===o)return[0,0];var a=n[r],s=i[o-1],c=a.getIndex();return a.disconnect(),s?a.connect(s,s.next):a.connect(void 0,n[0]),[c,a.getIndex()]}))}(this.changedBeforeAdded,this.fixed),e=this.changed,n=[];this.cacheOrdered=t.filter((function(t,i){var r=e[i];if(t[0]!==t[1])return n.push([r[0],r[1]]),!0})),this.cachePureChanged=n},t}();function dn(t,e,n){var i=un?Map:n?ln:cn,r=n||function(t){return t},o=[],a=[],s=[],c=t.map(r),l=e.map(r),u=new i,h=new i,p=[],d=[],g={},f=[],b=0,m=0;return c.forEach((function(t,e){u.set(t,e)})),l.forEach((function(t,e){h.set(t,e)})),c.forEach((function(t,e){var n=h.get(t);void 0===n?(++m,a.push(e)):g[n]=m})),l.forEach((function(t,e){var n=u.get(t);void 0===n?(o.push(e),++b):(s.push([n,e]),p.push([n-(m=g[e]||0),e-b]),d.push(e===n),n!==e&&f.push([n,e]))})),a.reverse(),new pn(t,e,o,a,f,s,p,d)}var gn=function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}return t.prototype.update=function(t){var e=[].slice.call(t),n=dn(this.list,e,this.findKeyCallback);return this.list=e,n},t}(),fn=function(t,e){return(fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function bn(t,e){function n(){this.constructor=t}fn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var mn=function(){return(mn=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function vn(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function xn(t,e){if(t===e)return!1;for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1}function Cn(t,e){var n=Object.keys(t),i=Object.keys(e),r=dn(n,i,(function(t){return t})),o={},a={},s={};return r.added.forEach((function(t){var n=i[t];o[n]=e[n]})),r.removed.forEach((function(e){var i=n[e];a[i]=t[i]})),r.maintained.forEach((function(i){var r=n[i[0]];t[r]!==e[r]&&(s[r]=[t[r],e[r]])})),{added:o,removed:a,changed:s}}function yn(t){t.forEach((function(t){t()}))}function wn(t){var e=0;return t.map((function(t){return null==t?"$compat"+ ++e:""+t}))}function kn(t,e,n,i){return K(t)?new _n("text_"+t,e,n,i,null,{}):new("string"==typeof t.type?En:t.type.prototype.render?In:Dn)(t.type,e,n,i,t.ref,t.props)}function Mn(t){var e=[];return t.forEach((function(t){e=e.concat(W(t)?Mn(t):t)})),e}function On(t){var e=t.className,n=vn(t,["className"]);return null!=e&&(n.class=e),delete n.style,delete n.children,n}function Sn(t,e){if(!e)return t;for(var n in e)X(t[n])&&(t[n]=e[n]);return t}function Tn(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=e||{},o=r.key,a=r.ref,s=vn(r,["key","ref"]);return{type:t,key:o,ref:a,props:mn(mn({},s),{children:Mn(n).filter((function(t){return null!=t&&!1!==t}))})}}var Pn=function(){function t(t,e,n,i,r,o){void 0===o&&(o={}),this.type=t,this.key=e,this.index=n,this.container=i,this.ref=r,this.props=o,this._providers=[]}var e=t.prototype;return e._should=function(t,e){return!0},e._update=function(t,e,n,i){if(this.base&&!K(e)&&!i&&!this._should(e.props,n))return!1;this.original=e,this._setState(n);var r=this.props;return K(e)||(this.props=e.props,this.ref=e.ref),this._render(t,this.base?r:{},n),!0},e._mounted=function(){var t=this.ref;t&&t(this.base)},e._setState=function(t){},e._updated=function(){var t=this.ref;t&&t(this.base)},e._destroy=function(){var t=this.ref;t&&t(null)},t}();function An(t){var e={},n={};for(var i in t)0===i.indexOf("on")?n[i.replace("on","").toLowerCase()]=t[i]:e[i]=t[i];return{attributes:e,events:n}}var _n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}bn(e,t);var n=e.prototype;return n._render=function(t){var e=this,n=!this.base;return n&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push((function(){n?e._mounted():e._updated()})),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(Pn),En=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events={},e}bn(e,t);var n=e.prototype;return n.addEventListener=function(t,e){var n=this.events;n[t]=function(t){t.nativeEvent=t,e(t)},this.base.addEventListener(t,n[t])},n.removeEventListener=function(t){var e=this.events;this.base.removeEventListener(t,e[t]),delete e[t]},n._should=function(t){return xn(this.props,t)},n._render=function(t,e){var n=this,i=!this.base;i&&(this.base=document.createElement(this.type)),jn(this,this._providers,this.props.children,t,null);var r=this.base,o=An(e),a=o.attributes,s=o.events,c=An(this.props),l=c.attributes,u=c.events;return function(t,e,n){var i=Cn(t,e),r=i.added,o=i.removed,a=i.changed;for(var s in r)n.setAttribute(s,r[s]);for(var s in a)n.setAttribute(s,a[s][1]);for(var s in o)n.removeAttribute(s)}(On(a),On(l),r),function(t,e,n){var i=Cn(t,e),r=i.added,o=i.removed,a=i.changed;for(var s in o)n.removeEventListener(s);for(var s in r)n.addEventListener(s,r[s]);for(var s in a)n.removeEventListener(s),n.addEventListener(s,a[s][1]);for(var s in o)n.removeEventListener(s)}(s,u,this),function(t,e,n){var i=n.style,r=Cn(t,e),o=r.added,a=r.removed,s=r.changed;for(var c in o){var l=it(c,"-");i.setProperty?i.setProperty(l,o[c]):i[l]=o[c]}for(var c in s)l=it(c,"-"),i.setProperty?i.setProperty(l,s[c][1]):i[l]=s[c][1];for(var c in a)l=it(c,"-"),i.removeProperty?i.removeProperty(l):i[l]=""}(e.style||{},this.props.style||{},r),t.push((function(){i?n._mounted():n._updated()})),!0},n._unmount=function(){var t=this.events,e=this.base;for(var n in t)e.removeEventListener(n,t[n]);this._providers.forEach((function(t){t._unmount()})),this.events={},e.parentNode.removeChild(e)},e}(Pn);function Fn(t){if(!t)return null;if(t instanceof Node)return t;var e=t._provider._providers;return e.length?Fn(e[0].base):null}var Dn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}bn(e,t);var n=e.prototype;return n._render=function(t){var e=this.type(this.props);return jn(this,this._providers,e?[e]:[],t),!0},n._unmount=function(){this._providers.forEach((function(t){t._unmount()}))},e}(Pn),Rn=function(t){function e(e){var n=t.call(this,"container","container",0,null)||this;return n.base=e,n}bn(e,t);var n=e.prototype;return n._render=function(){return!0},n._unmount=function(){},e}(Pn),In=function(t){function e(e,n,i,r,o,a){return void 0===a&&(a={}),t.call(this,e,n,i,r,o,Sn(a,e.defaultProps))||this}bn(e,t);var n=e.prototype;return n._should=function(t,e){return this.base.shouldComponentUpdate(Sn(t,this.type.defaultProps),e||this.base.state)},n._render=function(t,e,n){var i=this;this.props=Sn(this.props,this.type.defaultProps);var r=!this.base;r?(this.base=new this.type(this.props),this.base._provider=this):this.base.props=this.props;var o=this.base,a=o.state,s=o.render();s&&s.props&&!s.props.children.length&&(s.props.children=this.props.children),jn(this,this._providers,s?[s]:[],t,n,null),t.push((function(){r?(i._mounted(),o.componentDidMount()):(i._updated(),o.componentDidUpdate(e,a))}))},n._setState=function(t){t&&(this.base.state=t)},n._unmount=function(){this._providers.forEach((function(t){t._unmount()})),this.base.componentWillUnmount()},e}(Pn),Un=function(){function t(t){void 0===t&&(t={}),this.props=t,this.state={}}var e=t.prototype;return e.shouldComponentUpdate=function(t,e){return!0},e.render=function(){return null},e.setState=function(t,e,n){var i=[],r=this._provider;jn(r.container,[r],[r.original],i,mn(mn({},this.state),t),n)&&(e&&i.push(e),yn(i))},e.forceUpdate=function(t){this.setState(this.state,t,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(t,e){},e.componentWillUnmount=function(){},t}(),Bn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return bn(e,t),e.prototype.shouldComponentUpdate=function(t,e){return xn(this.props,t)||xn(this.state,e)},e}(Un),zn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}bn(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props,e=t.element,n=t.container;this._portalProvider=new Rn(n),Ln(e,n,this._portalProvider)},n.componentDidUpdate=function(){var t=this.props;Ln(t.element,t.container,this._portalProvider)},n.componentWillUnmount=function(){Ln(null,this.props.container,this._portalProvider),this._portalProvider=null},e}(Bn);function jn(t,e,n,i,r,o){var a=function(t,e,n){var i=n.map((function(t){return K(t)?null:t.key})),r=dn(wn(e.map((function(t){return t.key}))),wn(i),(function(t){return t}));r.removed.forEach((function(t){e.splice(t,1)[0]._unmount()})),r.ordered.forEach((function(t){var n=t[1],i=e.splice(t[0],1)[0];e.splice(n,0,i);var r=Fn(i.base),o=Fn(e[n+1]&&e[n+1].base);r&&r.parentNode.insertBefore(r,o)})),r.added.forEach((function(r){e.splice(r,0,kn(n[r],i[r],r,t))}));var o=r.maintained.filter((function(r){var o=r[1],a=n[o],s=e[o];return(K(a)?"text_"+a:a.type)!==s.type?(s._unmount(),e.splice(o,1,kn(a,i[o],o,t)),!0):(s.index=o,!1)}));return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}(r.added,o.map((function(t){return t[1]})))}(t,e,n),s=e.filter((function(t,e){return t._update(i,n[e],r,o)})),c=function t(e){if(!e)return null;var n=e.base;return n instanceof Node?n:t(e.container)}(t);return c&&a.reverse().forEach((function(n){var i=e[n],r=Fn(i.base);if(r&&c!==r&&!r.parentNode){var o=function(t,e){for(var n=t._providers,i=n.length,r=e.index+1;r<i;++r){var o=Fn(n[r].base);if(o)return o}return null}(t,i);c.insertBefore(r,o)}})),s.length>0}function Ln(t,e,n){void 0===n&&(n=e.__REACT_COMPAT__);var i=!!n;return n||(n=new Rn(e)),function(t,e,n){var i=[];jn(t,t._providers,e,i,void 0),yn(i)}(n,t?[t]:[]),i||(e.__REACT_COMPAT__=n),n}function Gn(t,e,n){var i=e.__REACT_COMPAT__;t&&!i&&(e.innerHTML=""),Ln(t,e,i),n&&n()}function Vn(t,e){for(var n=t.length,i=0;i<n;++i)if(e(t[i],i))return!0;return!1}function Nn(t,e){for(var n=t.length,i=0;i<n;++i)if(e(t[i],i))return t[i];return null}function qn(t,e){try{return new RegExp(t,"g").exec(e)}catch(n){return null}}function Yn(t){return t.replace(/_/g,".")}function Xn(t,e){var n=null,i="-1";return Vn(t,(function(t){var r=qn("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!(!r||t.brand||(n=t,i=r[3]||"-1",t.versionAlias?i=t.versionAlias:t.versionTest&&(i=function(t,e){var n=qn("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return n?n[3]:""}(t.versionTest.toLowerCase(),e)||i),i=Yn(i),0))})),{preset:n,version:i}}function Hn(t,e){return Nn(t,(function(t){return qn(""+e.test,t.brand.toLowerCase())}))}var Wn=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],Kn=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",brand:!0}],Qn=[{test:"applewebkit",id:"webkit"}],Zn=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Jn=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"mac os x",id:"mac"},{test:"android",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function $n(t,e,n,i,r,o){for(var a=0;a<r;++a){var s=n+a*r,c=i+a*r;t[s]+=t[c]*o,e[s]+=e[c]*o}}function ti(t,e,n,i,r){for(var o=0;o<r;++o){var a=n+o*r,s=i+o*r,c=t[a],l=e[a];t[a]=t[s],t[s]=c,e[a]=e[s],e[s]=l}}function ei(t,e,n,i,r){for(var o=0;o<i;++o){var a=n+o*i;t[a]/=r,e[a]/=r}}function ni(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var i=t.slice(),r=0;r<n;++r)i[r*n+e-1]=0,i[(e-1)*n+r]=0;return i[(e-1)*(n+1)]=1,i}function ii(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),i=Ci(e),r=0;r<e;++r){var o=e*r+r;if(!ut(n[o],1e-7))for(var a=r+1;a<e;++a)if(n[e*r+a]){ti(n,i,r,a,e);break}if(!ut(n[o],1e-7))return[];for(ei(n,i,r,e,n[o]),a=0;a<e;++a){var s=a,c=n[a+r*e];ut(c,1e-7)&&r!==a&&$n(n,i,s,r,e,-c)}}return i}function ri(t,e){for(var n=t.slice(),i=t.length;i<e-1;++i)n[i]=0;return n[e-1]=1,n}function oi(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var i=Ci(n),r=Math.min(e,n),o=0;o<r-1;++o){for(var a=0;a<r-1;++a)i[o*n+a]=t[o*e+a];i[(o+1)*n-1]=t[(o+1)*e-1],i[(n-1)*n+o]=t[(e-1)*e+o]}return i[n*n-1]=t[e*e-1],i}function ai(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Ci(t);return e.forEach((function(e){i=si(i,e,t)})),i}function si(t,e,n){void 0===n&&(n=Math.sqrt(t.length));var i=[],r=t.length/n,o=e.length/r;if(!r)return e;if(!o)return t;for(var a=0;a<n;++a)for(var s=0;s<o;++s){i[s*n+a]=0;for(var c=0;c<r;++c)i[s*n+a]+=t[c*n+a]*e[s*r+c]}return i}function ci(t,e){for(var n=Math.min(t.length,e.length),i=t.slice(),r=0;r<n;++r)i[r]=i[r]+e[r];return i}function li(t,e){for(var n=Math.min(t.length,e.length),i=t.slice(),r=0;r<n;++r)i[r]=i[r]-e[r];return i}function ui(t,e){return void 0===e&&(e=9===t.length),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function hi(t,e,n){void 0===n&&(n=e.length);var i=si(t,e,n),r=i[n-1];return i.map((function(t){return t/r}))}function pi(t,e){return si(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function di(t,e){return si(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function gi(t,e){return si(t,xi(e,4))}function fi(t,e){var n=e[0],i=e[1],r=e[2];return si(t,[void 0===n?1:n,0,0,0,0,void 0===i?1:i,0,0,0,0,void 0===r?1:r,0,0,0,0,1],4)}function bi(t,e){return hi(xi(e,3),ri(t,3))}function mi(t,e){var n=e[0],i=e[1],r=e[2];return si(t,[1,0,0,0,0,1,0,0,0,0,1,0,void 0===n?0:n,void 0===i?0:i,void 0===r?0:r,1],4)}function vi(t,e){return si(t,e,4)}function xi(t,e){var n=Math.cos(t),i=Math.sin(t),r=Ci(e);return r[0]=n,r[1]=i,r[e]=-i,r[e+1]=n,r}function Ci(t){for(var e=t*t,n=[],i=0;i<e;++i)n[i]=i%(t+1)?0:1;return n}function yi(t,e){for(var n=Ci(e),i=Math.min(t.length,e-1),r=0;r<i;++r)n[(e+1)*r]=t[r];return n}function wi(t,e){for(var n=Ci(e),i=Math.min(t.length,e-1),r=0;r<i;++r)n[e*(e-1)+r]=t[r];return n}function ki(t,e,n,i,r,o,a,s){var c=t[0],l=t[1],u=e[0],h=e[1],p=n[0],d=n[1],g=i[0],f=i[1],b=r[0],m=r[1],v=o[0],x=o[1],C=a[0],y=a[1],w=s[0],k=s[1],M=ii([c,0,u,0,p,0,g,0,l,0,h,0,d,0,f,0,1,0,1,0,1,0,1,0,0,c,0,u,0,p,0,g,0,l,0,h,0,d,0,f,0,1,0,1,0,1,0,1,-b*c,-m*c,-v*u,-x*u,-C*p,-y*p,-w*g,-k*g,-b*l,-m*l,-v*h,-x*h,-C*d,-y*d,-w*f,-k*f],8);if(!M.length)return[];var O=si(M,[b,m,v,x,C,y,w,k],8);return O[8]=1,oi(function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],i=0;i<e;++i)for(var r=0;r<e;++r)n[r*e+i]=t[e*i+r];return n}(O),3,4)}function Mi(t){var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach((function(t){var n=t.matrixFunction;n&&(e=n(e,t.functionValue))})),e}function Oi(t){return(W(t)?t:$(t)).map((function(t){var e=et(t),n=e.prefix,i=e.value,r=null,o=n,a="";if("translate"===n||"translateX"===n||"translate3d"===n){var s=tt(i).map((function(t){return parseFloat(t)})),c=s[1],l=s[2];r=mi,a=[s[0],void 0===c?0:c,void 0===l?0:l]}else if("translateY"===n)r=mi,a=[0,parseFloat(i),0];else if("translateZ"===n)r=mi,a=[0,0,parseFloat(i)];else if("scale"===n||"scale3d"===n){var u=tt(i).map((function(t){return parseFloat(t)})),h=u[1],p=u[2];r=fi,a=[d=u[0],void 0===h?d:h,void 0===p?1:p]}else if("scaleX"===n){var d;r=fi,a=[d=parseFloat(i),1,1]}else if("scaleY"===n)r=fi,a=[1,parseFloat(i),1];else if("scaleZ"===n)r=fi,a=[1,1,parseFloat(i)];else if("rotate"===n||"rotateZ"===n||"rotateX"===n||"rotateY"===n){var g=nt(i),f=g.value;"rotate"===n||"rotateZ"===n?(o="rotateZ",r=gi):"rotateX"===n?r=pi:"rotateY"===n&&(r=di),a="rad"===g.unit?f:f*Math.PI/180}else if("matrix3d"===n)r=vi,a=tt(i).map((function(t){return parseFloat(t)}));else if("matrix"===n){var b=tt(i).map((function(t){return parseFloat(t)}));r=vi,a=[b[0],b[1],0,0,b[2],b[3],0,0,0,0,1,0,b[4],b[5],0,1]}else o="";return{name:n,functionName:o,value:i,matrixFunction:r,functionValue:a}}))}function Si(t){return t.length<3?0:Math.abs(function(t){for(var e=0,n=t.length-1;n>=0;--n)e+=t[n];return e}(t.map((function(e,n){var i=t[n+1]||t[0];return e[0]*i[1]-i[0]*e[1]}))))/2}function Ti(t,e){var n=e.width,i=e.height,r=e.left,o=e.top,a=Pi(t),s=a.minX,c=a.minY,l=n/(a.maxX-s),u=i/(a.maxY-c);return t.map((function(t){return[r+(t[0]-s)*l,o+(t[1]-c)*u]}))}function Pi(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,n)}}function Ai(t,e,n){var i=t[0],r=t[1],o=Pi(e),a=[[o.minX,r],[o.maxX,r]],s=[[i,o.minY],[i,o.maxY]],c=_i(a[0],a[1]),l=_i(s[0],s[1]),u=Di(e),h=[],p=[];return u.forEach((function(t){var e=_i(t[0],t[1]),n=Fi(Ei(c,e),[a,t]),o=Fi(Ei(l,e),[s,t]);1===n.length&&t[0][1]===r||h.push.apply(h,n),1===o.length&&t[0][0]===i||p.push.apply(p,o),e[0]||h.push.apply(h,n),e[1]||p.push.apply(p,o)})),!n&&(ot(h,(function(t){return t[0]===i}))>-1||ot(p,(function(t){return t[1]===r}))>-1)||!!(h.filter((function(t){return t[0]>i})).length%2&&p.filter((function(t){return t[1]>r})).length%2)}function _i(t,e){var n=t[0],i=t[1],r=e[0],o=e[1];if(n===r&&i===o)return[0,0,0];if(n===r)return[1,0,-n];if(i===o)return[0,1,-i];var a=(r-n)/(i-o);return[1,a,-n-a*i]}function Ei(t,e){var n,i,r=t[0],o=t[1],a=t[2],s=e[0],c=e[1],l=e[2],u=0===r&&0===s,h=0===o&&0===c;if(u&&h)return[];if(u){var p=-a/o;return p!==-l/c?[]:[[-1/0,p],[1/0,p]]}if(h){var d=-a/r;return d!==-l/s?[]:[[d,-1/0],[d,1/0]]}return 0===r?[[n=-(c*(i=-a/o)+l)/s,i]]:0===s?[[n=-(o*(i=-l/c)+a)/r,i]]:0===o?[[n=-a/r,i=-(s*n+l)/c]]:0===c?[[n=-l/s,i=-(r*n+a)/o]]:[[n=(o*l-c*a)/(c*r-o*s),i=-(r*n+a)/o]]}function Fi(t,e){var n=e.map((function(t){return[0,1].map((function(e){return[Math.min(t[0][e],t[1][e]),Math.max(t[0][e],t[1][e])]}))}));if(2===t.length){var i=t[0],r=i[0],o=i[1];if(r===t[1][0]){var a=Math.max.apply(Math,n.map((function(t){return t[1][0]}))),s=Math.min.apply(Math,n.map((function(t){return t[1][1]})));return a>s?[]:[[r,a],[r,s]]}if(o===t[1][1]){var c=Math.max.apply(Math,n.map((function(t){return t[0][0]}))),l=Math.min.apply(Math,n.map((function(t){return t[0][1]})));return c>l?[]:[[c,o],[l,o]]}}return t.filter((function(t){return n.every((function(e){return e[0][0]<=t[0]&&t[0]<=e[0][1]&&e[1][0]<=t[1]&&t[1]<=e[1][1]}))}))}function Di(t){return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}(t.slice(1),[t[0]]).map((function(e,n){return[t[n],e]}))}var Ri=function(t,e){return(Ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Ii(t){var e=t.container;return[e.scrollLeft,e.scrollTop]}var Ui=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startRect=null,e.startPos=[],e.prevTime=0,e.timer=0,e}!function(t,e){function n(){this.constructor=t}Ri(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.dragStart=function(t,e){var n=e.container.getBoundingClientRect(),i=n.top,r=n.left,o=n.width,a=n.height;this.startPos=[t.clientX,t.clientY],this.startRect={top:i,left:r,width:o,height:a}},n.drag=function(t,e){var n=this,i=t.clientX,r=t.clientY,o=e.container,a=e.threshold,s=void 0===a?0:a,c=e.throttleTime,l=void 0===c?0:c,u=e.getScrollPosition,h=void 0===u?Ii:u,p=this.startRect,d=this.startPos,g=rt(),f=Math.max(l+this.prevTime-g,0),b=[0,0];if(p.top>r-s?(d[1]>p.top||r<d[1])&&(b[1]=-1):p.top+p.height<r+s&&(d[1]<p.top+p.height||r>d[1])&&(b[1]=1),p.left>i-s?(d[0]>p.left||i<d[0])&&(b[0]=-1):p.left+p.width<i+s&&(d[0]<p.left+p.width||i>d[0])&&(b[0]=1),clearTimeout(this.timer),!b[0]&&!b[1])return!1;if(f>0)return this.timer=window.setTimeout((function(){n.drag(t,e)}),f),!1;this.prevTime=g;var m=h({container:o,direction:b});this.trigger("scroll",{container:o,direction:b,inputEvent:t});var v=h({container:o,direction:b}),x=v[0]-m[0],C=v[1]-m[1];return!(!x&&!C||(this.trigger("move",{offsetX:b[0]?x:0,offsetY:b[1]?C:0,inputEvent:t}),l&&(this.timer=window.setTimeout((function(){n.drag(t,e)}),l)),0))},n.dragEnd=function(){clearTimeout(this.timer)},e}(yt),Bi=function(t,e){return(Bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},zi=function(){return(zi=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function ji(t){return 180*(e=[t[0].clientX,t[0].clientY],n=[t[1].clientX,t[1].clientY],((i=Math.atan2(n[1]-e[1],n[0]-e[0]))>=0?i:i+2*Math.PI)/Math.PI);var e,n,i}function Li(t){return t.touches?function(t){for(var e=Math.min(t.length,2),n=[],i=0;i<e;++i)n.push(Ni(t[i]));return n}(t.touches):[Ni(t)]}function Gi(t,e,n){var i=n.length,r=qi(t,i),o=r.clientX,a=r.clientY,s=r.originalClientX,c=r.originalClientY,l=qi(e,i),u=l.clientX,h=l.clientY,p=qi(n,i);return{clientX:s,clientY:c,deltaX:o-u,deltaY:a-h,distX:o-p.clientX,distY:a-p.clientY}}function Vi(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Ni(t){return{clientX:t.clientX,clientY:t.clientY}}function qi(t,e){void 0===e&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},i=0;i<e;++i){var r=t[i];n.originalClientX+="originalClientX"in r?r.originalClientX:r.clientX,n.originalClientY+="originalClientY"in r?r.originalClientY:r.clientY,n.clientX+=r.clientX,n.clientY+=r.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var Yi=function(){function t(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}var e=t.prototype;return e.addClients=function(t){void 0===t&&(t=this.prevClients);var e=this.getPosition(t),n=e.deltaX,i=e.deltaY;return this.movement+=Math.sqrt(n*n+i*i),this.prevClients=t,e},e.getAngle=function(t){return void 0===t&&(t=this.prevClients),ji(t)},e.getRotation=function(t){return void 0===t&&(t=this.prevClients),ji(t)-ji(this.startClients)},e.getPosition=function(t){return Gi(t||this.prevClients,this.prevClients,this.startClients)},e.getPositions=function(t){void 0===t&&(t=this.prevClients);var e=this.prevClients;return this.startClients.map((function(n,i){return Gi([t[i]],[e[i]],[n])}))},e.getMovement=function(t){var e=this.movement;if(!t)return e;var n=qi(t,this.length),i=qi(this.prevClients,this.length),r=n.clientX-i.clientX,o=n.clientY-i.clientY;return Math.sqrt(r*r+o*o)+e},e.getDistance=function(t){return void 0===t&&(t=this.prevClients),Vi(t)},e.getScale=function(t){return void 0===t&&(t=this.prevClients),Vi(t)/Vi(this.startClients)},e.move=function(t,e){this.startClients.forEach((function(n){n.clientX-=t,n.clientY-=e})),this.prevClients.forEach((function(n){n.clientX-=t,n.clientY-=e}))},t}(),Xi=["textarea","input"],Hi=function(t){function e(e,n){void 0===n&&(n={});var i=t.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.datas={},i.isDrag=!1,i.isPinch=!1,i.isMouse=!1,i.isTouch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i.onDragStart=function(t,e){if(void 0===e&&(e=!0),i.flag||!1!==t.cancelable){var n=i.options,r=n.container,o=n.pinchOutside,a=n.preventRightClick,s=n.preventDefault,c=n.checkInput,l=i.isTouch,u=!i.flag;if(u){var h=document.activeElement,p=t.target,d=p.tagName.toLowerCase(),g=Xi.indexOf(d)>-1,f=p.isContentEditable;if(g||f){if(c||h===p)return!1;if(h&&f&&h.isContentEditable&&h.contains(p))return!1}else(s||"touchstart"===t.type)&&h&&(h.isContentEditable||Xi.indexOf(h.tagName)>-1)&&h.blur();if(i.clientStores=[new Yi(Li(t))],i.flag=!0,i.isDrag=!1,i.datas={},a&&(3===t.which||2===t.button))return i.initDrag(),!1;i.doubleFlag=rt()-i.prevTime<200,!1===i.emit("dragStart",zi({datas:i.datas,inputEvent:t,isTrusted:e,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()))&&i.initDrag(),i.flag&&s&&t.preventDefault()}if(!i.flag)return!1;var b=0;if(u&&l&&o&&(b=setTimeout((function(){vt(r,"touchstart",i.onDragStart,{passive:!1})}))),!u&&l&&o&&xt(r,"touchstart",i.onDragStart),i.flag&&function(t){return t.touches&&t.touches.length>=2}(t)){if(clearTimeout(b),u&&t.touches.length!==t.changedTouches.length)return;i.pinchFlag||i.onPinchStart(t)}}},i.onDrag=function(t,e){if(i.flag){var n=Li(t),r=i.moveClients(n,t,!1);(i.pinchFlag||r.deltaX||r.deltaY)&&i.emit("drag",zi({},r,{isScroll:!!e,inputEvent:t})),i.pinchFlag&&i.onPinch(t,n),i.getCurrentStore().addClients(n)}},i.onDragEnd=function(t){if(i.flag){var e=i.options;i.isTouch&&e.pinchOutside&&xt(e.container,"touchstart",i.onDragStart),i.flag=!1;var n=i.getCurrentStore().getPosition(),r=rt(),o=!i.isDrag&&i.doubleFlag;i.prevTime=i.isDrag||o?0:r,i.emit("dragEnd",zi({datas:i.datas,isDouble:o,isDrag:i.isDrag,inputEvent:t},n)),i.pinchFlag&&i.onPinchEnd(t),i.clientStores=[]}},i.onBlur=function(){i.onDragEnd()};var r=[].concat(e);i.options=zi({checkInput:!1,container:r.length>1?window:r[0],preventRightClick:!0,preventDefault:!0,checkWindowBlur:!1,pinchThreshold:0,events:["touch","mouse"]},n);var o=i.options,a=o.container,s=o.events,c=o.checkWindowBlur;if(i.isTouch=s.indexOf("touch")>-1,i.isMouse=s.indexOf("mouse")>-1,i.targets=r,i.isMouse&&(r.forEach((function(t){vt(t,"mousedown",i.onDragStart)})),vt(a,"mousemove",i.onDrag),vt(a,"mouseup",i.onDragEnd),vt(a,"contextmenu",i.onDragEnd)),c&&vt(window,"blur",i.onBlur),i.isTouch){var l={passive:!1};r.forEach((function(t){vt(t,"touchstart",i.onDragStart,l)})),vt(a,"touchmove",i.onDrag,l),vt(a,"touchend",i.onDragEnd,l),vt(a,"touchcancel",i.onDragEnd,l)}return i}!function(t,e){function n(){this.constructor=t}Bi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.getMovement=function(t){return this.getCurrentStore().getMovement(t)+this.clientStores.slice(1).reduce((function(t,e){return t+e.movement}),0)},n.isDragging=function(){return this.isDrag},n.isFlag=function(){return this.flag},n.isPinchFlag=function(){return this.pinchFlag},n.isDoubleFlag=function(){return this.doubleFlag},n.isPinching=function(){return this.isPinch},n.scrollBy=function(t,e,n,i){void 0===i&&(i=!0),this.flag&&(this.clientStores[0].move(t,e),i&&this.onDrag(n,!0))},n.move=function(t,e){var n=t[0],i=t[1],r=this.getCurrentStore();return this.moveClients(r.prevClients.map((function(t){var e=t.clientX,r=t.clientY;return{clientX:e+n,clientY:r+i,originalClientX:e,originalClientY:r}})),e,!0)},n.triggerDragStart=function(t){this.onDragStart(t,!1)},n.setEventDatas=function(t){var e=this.datas;for(var n in t)e[n]=t[n];return this},n.getEventDatas=function(){return this.datas},n.unset=function(){var t=this,e=this.targets,n=this.options.container;this.off(),xt(window,"blur",this.onBlur),this.isMouse&&(e.forEach((function(e){xt(e,"mousedown",t.onDragStart)})),xt(n,"mousemove",this.onDrag),xt(n,"mouseup",this.onDragEnd),xt(n,"contextmenu",this.onDragEnd)),this.isTouch&&(e.forEach((function(e){xt(e,"touchstart",t.onDragStart)})),xt(n,"touchstart",this.onDragStart),xt(n,"touchmove",this.onDrag),xt(n,"touchend",this.onDragEnd),xt(n,"touchcancel",this.onDragEnd))},n.onPinchStart=function(t){var e=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>e)){var n=new Yi(Li(t));this.pinchFlag=!0,this.clientStores.splice(0,0,n),!1===this.emit("pinchStart",zi({datas:this.datas,angle:n.getAngle(),touches:this.getCurrentStore().getPositions()},n.getPosition(),{inputEvent:t}))&&(this.pinchFlag=!1)}},n.onPinch=function(t,e){if(this.flag&&this.pinchFlag&&!(e.length<2)){var n=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",zi({datas:this.datas,movement:this.getMovement(e),angle:n.getAngle(e),rotation:n.getRotation(e),touches:n.getPositions(e),scale:n.getScale(e),distance:n.getDistance(e)},n.getPosition(e),{inputEvent:t}))}},n.onPinchEnd=function(t){if(this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.getCurrentStore();this.emit("pinchEnd",zi({datas:this.datas,isPinch:e,touches:n.getPositions()},n.getPosition(),{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}},n.initDrag=function(){this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1},n.getCurrentStore=function(){return this.clientStores[0]},n.moveClients=function(t,e,n){var i=this.getCurrentStore()[n?"addClients":"getPosition"](t);return this.isDrag=!0,zi({datas:this.datas},i,{movement:this.getMovement(t),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},e}(yt),Wi=function(t,e){return(Wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Ki(t,e){function n(){this.constructor=t}Wi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Qi,Zi=function(){return(Zi=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ji=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.injectResult=null,e.tag="div",e}Ki(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.className,n=void 0===e?"":e,i=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(t,["className","cspNonce"]),r=this.injector.className;return Tn(this.tag,Zi({ref:rn(this,"element"),"data-styled-id":r,className:n+" "+r},i))},n.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},n.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},n.getElement=function(){return this.element},e}(Un),$i=function(t,e){var n=function(t){var e,n="rCS"+function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(t).toString(36),i=0;return{className:n,inject:function(r,o){void 0===o&&(o={});var a,s=function(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(r),c=0===i;return(s||c)&&(a=function(t,e,n,i){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.setAttribute("data-styled-id",t),n.nonce&&r.setAttribute("nonce",n.nonce),r.innerHTML=function(t,e,n){return n.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/gm,(function(e,n){var i=n.trim();return(i?tt(i):[""]).map((function(e){var n=e.trim();return 0===n.indexOf("@")?n:n.indexOf(":global")>-1?n.replace(/\:global/g,""):n.indexOf(":host")>-1?""+n.replace(/\:host/g,"."+t):n?"."+t+" "+n:"."+t})).join(", ")+" {"}))}(t,e,n),(i||document.head||document.body).appendChild(r),r}(n,t,o,s)),c&&(e=a),s||++i,{destroy:function(){s?(r.removeChild(a),a=null):(i>0&&--i,0===i&&e&&(e.parentNode.removeChild(e),e=null))}}}}}(e);return function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.injector=n,i.tag=t,i}return Ki(i,e),i}(Ji)},tr=function(t,e){return(tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},er="function"==typeof Map?void 0:(Qi=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++Qi)}),nr=function(t){function e(e){return void 0===e&&(e=[]),t.call(this,e,er)||this}return function(t,e){function n(){this.constructor=t}tr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(gn),ir=function(t,e){return(ir=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function rr(t,e){function n(){this.constructor=t}ir(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var or=function(){return(or=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function ar(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function sr(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*t+'px" height="'+32*t+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+e+'deg);transform-origin: 16px 16px"></path></svg>'}var cr,lr,ur=(void 0===lr&&function(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!(!e||!e.length)}()?function(t){var e=navigator.userAgentData,n=(e.uaList||e.brands).slice(),i=e.mobile||!1,r=n[0],o={name:r.brand,version:r.version,majorVersion:-1,webkit:!1,webview:Vn(Zn,(function(t){return Hn(n,t)})),chromium:Vn(Kn,(function(t){return Hn(n,t)}))},a={name:"unknown",version:"-1",majorVersion:-1};if(void(o.webkit=!o.chromium&&Vn(Qn,(function(t){return Hn(n,t)})))){var s=(void 0).platform.toLowerCase(),c=Nn(Jn,(function(t){return new RegExp(""+t.test,"g").exec(s)}));a.name=c?c.id:s,a.version=(void 0).platformVersion}return Vn(Wn,(function(t){var e=Hn(n,t);return!!e&&(o.name=t.id,o.version=e.version,!0)})),"Linux armv8l"===navigator.platform?a.name="android":o.webkit&&(a.name=i?"ios":"mac"),"ios"===a.name&&o.webview&&(o.version="-1"),a.version=Yn(a.version),o.version=Yn(o.version),a.majorVersion=parseInt(a.version,10),o.majorVersion=parseInt(o.version,10),{browser:o,os:a,isMobile:i,isHints:!0}}():function(t){var e=function(t){var e=t;if(void 0===e){if("undefined"==typeof navigator||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}(t),n=!!/mobi/g.exec(e),i={name:"unknown",version:"-1",majorVersion:-1,webview:!!Xn(Zn,e).preset,chromium:!!Xn(Kn,e).preset,webkit:!1},r={name:"unknown",version:"-1",majorVersion:-1},o=Xn(Wn,e),a=o.preset,s=o.version,c=Xn(Jn,e),l=c.preset,u=c.version;return i.webkit=!i.chromium&&!!Xn(Qn,e).preset,l&&(r.name=l.id,r.version=u,r.majorVersion=parseInt(u,10)),a&&(i.name=a.id,i.version=s,i.webview&&"ios"===r.name&&"safari"!==i.name&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:r,isMobile:n,isHints:!1}}(lr)).browser.webkit,hr=ur&&!!(cr=/applewebkit\/([^\s]+)/g.exec(navigator.userAgent.toLowerCase()))&&parseFloat(cr[1])<605,pr="\n{\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tleft: 0;\n\ttop: 0;\n    z-index: 3000;\n    --moveable-color: #4af;\n    --zoom: 1;\n    --zoompx: 1px;\n    will-change: transform;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n    background: #4af;\n    background: var(--moveable-color);\n\tmargin-top: -7px;\n    margin-left: -7px;\n    border: 2px solid #fff;\n    z-index: 10;\n}\n.padding {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100px;\n    height: 100px;\n    transform-origin: 0 0;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n    height: 1px;\n    background: #4af;\n    background: var(--moveable-color);\n\ttransform-origin: 0px 50%;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n    border-top-color: #4af;\n    border-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n    border-left-color: #4af;\n    border-left-color: var(--moveable-color);\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n}\n.line.horizontal.bold {\n    height: 2px;\n}\n\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n    margin-left: -6px;\n\tpointer-events: none;\n}\n"+[0,15,30,45,60,75,90,105,120,135,150,165].map((function(t){return'\n.direction[data-rotation="'+t+'"] {\n\t'+function(t){var e=sr(1,t),n=sr(2,t),i=45*Math.round(t/45)%180,r=135===i?"nwse-resize":45===i?"nesw-resize":90===i?"ew-resize":"ns-resize";return"cursor:"+r+";cursor: url('"+e+"') 16 16, "+r+";cursor: -webkit-image-set(url('"+e+"') 1x, url('"+n+"') 2x) 16 16, "+r+";"}(t)+"\n}\n"})).join("\n")+"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid, .area.pass {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n\n"+(hr?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n",dr=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],gr=Math.pow(10,10),fr=-gr,br=["n","w","s","e","nw","ne","sw","se"],mr={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},vr={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},xr=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager"];function Cr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nn.apply(void 0,ar(["moveable-"],t))}function yr(t,e,n){return ai(e,wi(n,e),t,wi(n.map((function(t){return-t})),e))}function wr(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function kr(t,e,n){for(var i=document.body,r=!t||n?t:t.parentElement,o=!1,a="relative";r&&r!==i;){e===r&&(o=!0);var s=Jr(r),c=s.transform;if("static"!==(a=s.position)||c&&"none"!==c)break;r=r.parentElement,a="relative"}return{isStatic:"static"===a,isEnd:o||!r||r===i,offsetParent:r||i}}function Mr(t,e,n,i){var r,o=t.tagName.toLowerCase(),a=t.offsetLeft,s=t.offsetTop;if(i){var c=(e||document.documentElement).getBoundingClientRect();a-=c.left,s-=c.top}var l,u,h=X(a),p=!h;return p||"svg"===o?u=(l=wr(n).map((function(t){return parseFloat(t)}))).slice():(u=(l=hr?function(t){return wr(Jr(t,":before")).map((function(e,n){var i=nt(e);return i.value*function(t,e,n){return"%"===e?Pr(t.ownerSVGElement)[n?"width":"height"]/100:1}(t,i.unit,0===n)}))}(t):wr(n).map((function(t){return parseFloat(t)}))).slice(),p=!0,"g"===o?(a=0,s=0):(a=(r=function(t,e){if(!t.getBBox)return[0,0];var n=t.getBBox(),i=Pr(t.ownerSVGElement),r=n.x-i.x,o=n.y-i.y;return[r,o,e[0]-r,e[1]-o]}(t,l))[0],s=r[1],l[0]=r[2],l[1]=r[3])),{isSVG:h,hasOffset:p,offset:[a||0,s||0],origin:l,targetOrigin:u}}function Or(t,e,n){void 0===n&&(n=window.getComputedStyle(t));var i=window.getComputedStyle(document.body),r=i.position;if(!(e||r&&"static"!==r))return[0,0];var o=parseInt(i.marginLeft,10),a=parseInt(i.marginTop,10);return"absolute"===n.position&&("auto"===n.top&&"auto"===n.bottom||(a=0),"auto"===n.left&&"auto"===n.right||(o=0)),[o,a]}function Sr(t,e){for(var n,i,r,o,a,s,c=t,l=[],u=!1,h=!1,p=3,d=kr(e,e,!0).offsetParent;c&&!u;){var g=Jr(c),f=c.tagName.toLowerCase(),b=g.position,m="fixed"===b,v=(o=(s=g.transform)&&"none"!==s?H(s)?s:et(s).value.split(/s*,\s*/g).map((function(t){return parseFloat(t)})):[1,0,0,1,0,0],void 0===(a=void 0)&&(a=6===o.length),a?[o[0],o[1],0,o[2],o[3],0,o[4],o[5],1]:o),x=v.length;if(!h&&16===x){h=!0,p=4;for(var C=l.length,y=0;y<C;++y)l[y]=oi(l[y],3,4)}h&&9===x&&(v=oi(v,3,4));var w=Mr(c,e,g,m),k=w.hasOffset,M=w.isSVG,O=w.origin,S=w.targetOrigin,T=w.offset,P=T[0],A=T[1];"svg"===f&&r&&l.push(Ar(c,p),Ci(p));var _=kr(c,e),E=_.offsetParent,F=_.isEnd;ur&&k&&!M&&_.isStatic&&("relative"===b||"static"===b)&&(P-=E.offsetLeft,A-=E.offsetTop,u=u||F);var D=0,R=0;if(k&&d!==E&&(D=E.clientLeft,R=E.clientTop),k&&E===document.body){var I=Or(c,!1,g);P+=I[0],A+=I[1]}if(l.push(yr(v,p,O),wi(k?[P-c.scrollLeft+D,A-c.scrollTop+R]:[c,O],p)),r||(r=v),n||(n=O),i||(i=S),u||m)break;c=E,u=F}return r||(r=Ci(p)),n||(n=[0,0]),i||(i=[0,0]),{offsetContainer:d,matrixes:l,targetMatrix:r,transformOrigin:n,targetOrigin:i,is3d:h}}function Tr(t,e){return void 0===e&&(e=t.length>9),(e?"matrix3d":"matrix")+"("+ui(t,!e).join(",")+")"}function Pr(t){if(!t)return{x:0,y:0,width:0,height:0};var e=t.viewBox,n=e&&e.baseVal||{x:0,y:0,width:0,height:0};return{x:n.x,y:n.y,width:n.width||t.clientWidth,height:n.height||t.clientHeight}}function Ar(t,e){var n=t.clientWidth,i=t.clientHeight,r=Pr(t),o=r.width,a=r.height,s=n/o,c=i/a,l=t.preserveAspectRatio.baseVal,u=l.align,h=l.meetOrSlice,p=[0,0],d=[s,c],g=[0,0];if(1!==u){var f=(u-2)%3,b=Math.floor((u-2)/3);p[0]=o*f/2,p[1]=a*b/2;var m=2===h?Math.max(c,s):Math.min(s,c);d[0]=m,d[1]=m,g[0]=(n-o)/2*f,g[1]=(i-a)/2*b}var v=yi(d,e);return v[e*(e-1)]=g[0],v[e*(e-1)+1]=g[1],yr(v,e,p)}function _r(t,e,n){return hi(t,ri(e,n),n)}function Er(t,e,n,i){return[[0,0],[e,0],[0,n],[e,n]].map((function(e){return _r(t,e,i)}))}function Fr(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]})),i=Math.min.apply(Math,e),r=Math.min.apply(Math,n),o=Math.max.apply(Math,e),a=Math.max.apply(Math,n);return{left:i,top:r,right:o,bottom:a,width:o-i,height:a-r}}function Dr(t,e,n,i){return Fr(Er(t,e,n,i))}function Rr(t,e,n,i){var r=16===t.length?4:3,o=Er(t,n,i,r),a=o[0],s=a[0],c=a[1],l=o[1],u=l[0],h=l[1],p=o[2],d=p[0],g=p[1],f=o[3],b=f[0],m=f[1],v=_r(t,e,r),x=v[0],C=v[1],y=Math.min(s,u,d,b),w=Math.min(c,h,g,m),k=Math.max(s,u,d,b);return s=s-y||0,{left:y,top:w,right:k,bottom:Math.max(c,h,g,m),origin:[x=x-y||0,C=C-w||0],pos1:[s,c=c-w||0],pos2:[u=u-y||0,h=h-w||0],pos3:[d=d-y||0,g=g-w||0],pos4:[b=b-y||0,m=m-w||0],direction:gt(o)}}function Ir(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Ur(t,e){return Ir([e[0]-t[0],e[1]-t[1]])}function Br(t,e,n,i){void 0===n&&(n=1),void 0===i&&(i=dt(t,e));var r=Ur(t,e);return{transform:"translateY(-50%) translate("+t[0]+"px, "+t[1]+"px) rotate("+i+"rad) scaleY("+n+")",width:r+"px"}}function zr(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=n.length,o=n.reduce((function(t,e){return t+e[0]}),0)/r,a=n.reduce((function(t,e){return t+e[1]}),0)/r;return{transform:"translateZ(0px) translate("+o+"px, "+a+"px) rotate("+t+"rad) scale("+e+")"}}function jr(t,e,n,i){void 0===e&&(e=window.getComputedStyle(t)),void 0===i&&(i=n||"border-box"===e.boxSizing);var r=t.offsetWidth,o=t.offsetHeight,a=!X(r);if((n||i)&&a)return[r,o];if(!a&&"svg"!==t.tagName.toLowerCase()){var s=t.getBBox();return[s.width,s.height]}return r=t.clientWidth,o=t.clientHeight,n||i?[r+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),o+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)]:[r-(parseFloat(e.paddingLeft)||0)-(parseFloat(e.paddingRight)||0),o-(parseFloat(e.paddingTop)||0)-(parseFloat(e.paddingBottom)||0)]}function Lr(t,e){return dt(e>0?t[0]:t[1],e>0?t[1]:t[0])}function Gr(t,e,n,i,r){var o=1,a=[0,0],s={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},c={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},l={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},u=function(t,e,n,i){var r;void 0===n&&(n=e);var o=0,a=0,s=0,c={};if(t){var l=Jr(t);a=t.offsetHeight,X(o=t.offsetWidth)&&(o=(r=jr(t,l,!0))[0],a=r[1])}if(t){var u=function(t,e,n,i){void 0===n&&(n=e);var r=Sr(t,e),o=r.matrixes,a=r.is3d,s=r.targetMatrix,c=r.transformOrigin,l=r.targetOrigin,u=Sr(r.offsetContainer,n),h=u.matrixes,p=u.is3d,d=p||a,g=d?4:3,f="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,b=e||document.body,m=s,v=Ci(g),x=Ci(g),C=Ci(g),y=Ci(g),w=o.length,k=kr(b,b,!0).offsetParent;h.reverse(),o.reverse(),!a&&d&&(m=oi(m,3,4),o.forEach((function(t,e){o[e]=oi(t,3,4)}))),!p&&d&&h.forEach((function(t,e){h[e]=oi(t,3,4)})),h.forEach((function(t){x=si(x,t,g)})),o.forEach((function(t,e){var n;w-2===e&&(C=v.slice()),w-1===e&&(y=v.slice()),H(t[g*(g-1)])&&(n=function(t,e,n,i,r,o){var a,s=jr(t,void 0,!0),c=s[0],l=s[1],u=e.getBoundingClientRect(),h=[0,0];e===document.body&&(h=Or(t,!0));for(var p=t.getBoundingClientRect(),d=p.left-u.left+e.scrollLeft-(e.clientLeft||0)+h[0],g=p.top-u.top+e.scrollTop-(e.clientTop||0)+h[1],f=p.width,b=p.height,m=ai(n,r,o),v=Dr(m,c,l,n),x=v.left,C=v.top,y=v.width,w=v.height,k=_r(m,i,n),M=li(k,[x,C]),O=[d+M[0]*f/y,g+M[1]*b/w],S=[0,0],T=0;++T<10;){var P=ii(r,n);a=li(_r(P,O,n),_r(P,k,n)),S[0]=a[0],S[1]=a[1];var A=Dr(ai(n,r,wi(S,n),o),c,l,n),_=A.left-d,E=A.top-g;if(Math.abs(_)<2&&Math.abs(E)<2)break;O[0]-=_,O[1]-=E}return S.map((function(t){return Math.round(t)}))}(t[g*(g-1)],k,g,t[g*(g-1)+1],v,o[e+1]),t[g*(g-1)]=n[0],t[g*(g-1)+1]=n[1]),v=si(v,t,g)}));var M=!f&&a;m||(m=Ci(M?4:3));var O=Tr(f&&16===m.length?oi(m,4,3):m,M);return{rootMatrix:x=ni(x,g,g),beforeMatrix:C,offsetMatrix:y,allMatrix:v,targetMatrix:m,targetTransform:O,transformOrigin:c,targetOrigin:l,is3d:d}}(t,e,n),h=Rr(u.allMatrix,u.transformOrigin,o,a);c=or(or({},u),h);var p=Rr(u.allMatrix,[50,50],100,100);s=Lr([p.pos1,p.pos2],p.direction)}return or({width:o,height:a,rotation:s,rootMatrix:Ci(3),beforeMatrix:Ci(3),offsetMatrix:Ci(3),allMatrix:Ci(3),targetMatrix:Ci(3),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!1,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1},c)}(e,n,r);if(e){var h=Rr(u.offsetMatrix,ci(u.transformOrigin,function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],i=t[e*e-1],r=0;r<e-1;++r)n[r]=t[e*(e-1)+r]/i;return n[e-1]=0,n}(u.targetMatrix,u.is3d?4:3)),u.width,u.height);o=h.direction,a=ci(h.origin,[h.left-u.left,h.top-u.top]),s=Vr(e),c=Vr(kr(i,i,!0).offsetParent||document.body,!0),t&&(l=Vr(t))}return or({targetClientRect:s,containerClientRect:c,moveableClientRect:l,beforeDirection:o,beforeOrigin:a,originalBeforeOrigin:a,target:e},u)}function Vr(t,e){var n=t.getBoundingClientRect(),i={left:n.left,right:n.right,top:n.top,bottom:n.bottom,width:n.width,height:n.height};return e&&(i.clientLeft=t.clientLeft,i.clientTop=t.clientTop,i.clientWidth=t.clientWidth,i.clientHeight=t.clientHeight,i.scrollWidth=t.scrollWidth,i.scrollHeight=t.scrollHeight,i.overflow="visible"!==Jr(t).overflow),i}function Nr(t){if(t){var e=t.getAttribute("data-direction");if(e){var n=[0,0];return e.indexOf("w")>-1&&(n[0]=-1),e.indexOf("e")>-1&&(n[0]=1),e.indexOf("n")>-1&&(n[1]=-1),e.indexOf("s")>-1&&(n[1]=1),n}}}function qr(t,e){return[ci(e,t[0]),ci(e,t[1]),ci(e,t[2]),ci(e,t[3])]}function Yr(t){return qr([t.pos1,t.pos2,t.pos3,t.pos4],[t.left,t.top])}function Xr(t,e){return e?Math.round(t/e)*e:t}function Hr(t,e){return t.forEach((function(n,i){t[i]=Xr(t[i],e)})),t}function Wr(t,e){t[e]&&(t[e].unset(),t[e]=null)}function Kr(t,e,n){var i=e.datas;i.datas||(i.datas={});var r=or(or({},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas});return i.isStartEvent?i.lastEvent=r:i.isStartEvent=!0,r}function Qr(t,e,n){var i=e.datas,r="isDrag"in n?n.isDrag:e.isDrag;return i.datas||(i.datas={}),or(or({isDrag:r},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:i.lastEvent,isDouble:e.isDouble,datas:i.datas})}function Zr(t,e,n,i){return t.triggerEvent(e,n,i)}function Jr(t,e){return window.getComputedStyle(t,e)}function $r(t,e,n){var i={},r={};return t.filter((function(t){var o=t.name;if(i[o]||!e.some((function(e){return t[e]})))return!1;if(!n&&t.ableGroup){if(r[t.ableGroup])return!1;r[t.ableGroup]=!0}return i[o]=!0,!0}))}function to(t,e){return t===e||null==t&&null==e}function eo(t,e){var n=[],i=[];return t.forEach((function(r,o){var a=e(r,o,t),s=i.indexOf(a),c=n[s]||[];-1===s&&(i.push(a),n.push(c)),c.push(r)})),n}function no(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function io(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return Math.abs(e)-Math.abs(t)})),t[0]}function ro(t,e,n){return hi(ii(t,n),ri(e,n),n)}function oo(t,e){var n;return n=ro(t.rootMatrix,[e.distX,e.distY],t.is3d?4:3),e.distX=n[0],e.distY=n[1],e}function ao(t,e,n,i,r){return li(_r(t,ci(n,e),r),i)}function so(t,e,n){return n?t/e*100+"%":t+"px"}function co(t){return Math.abs(t)<=1e-7?0:t}function lo(t){return t.isRequest?("resizable"===t.requestAble||"scalable"===t.requestAble)&&t.parentDirection:mt(t.inputEvent.target,Cr("direction"))}function uo(t){var e={};for(var n in t)e[t[n]]=n;return e}function ho(t,e){return t?K(t)?e?document.querySelector(t):t:Q(t)?t():"current"in t?t.current:t:null}function po(t){return t?((e=t)&&H(e)&&(W(e)||"length"in e)?[].slice.call(t):[t]).map((function(t){return ho(t)})):[];var e}var go={name:"pinchable",updateRect:!0,props:{pinchable:Boolean},events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(t,e){var n=e.datas,i=e.targets,r=e.angle,o=e.originalDatas,a=t.props,s=a.pinchable;if(!s)return!1;var c="onPinch"+(i?"Group":"")+"Start",l="drag"+(i?"Group":"")+"ControlStart",u=(!0===s?t.controlAbles:a.ables.filter((function(t){return s.indexOf(t.name)>-1}))).filter((function(t){return t.canPinch&&t[l]})),h=Kr(t,e,{});i&&(h.targets=i);var p=Zr(t,c,h);n.isPinch=!1!==p,n.ables=u;var d=n.isPinch;return!!d&&(u.forEach((function(n){if(o[n.name]=o[n.name]||{},n[l]){var i=or(or({},e),{datas:o[n.name],parentRotate:r,isPinch:!0});n[l](t,i)}})),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},d)},pinch:function(t,e){var n=e.datas,i=e.originalDatas,r=e.inputEvent,o=e.targets,a=e.angle;if(n.isPinch){var s=e.distance*(1-1/e.scale),c=Kr(t,e,{});o&&(c.targets=o),Zr(t,"onPinch"+(o?"Group":""),c);var l="drag"+(o?"Group":"")+"Control";return n.ables.forEach((function(n){n[l]&&n[l](t,or(or({},e),{datas:i[n.name],inputEvent:r,parentDistance:s,parentRotate:a,isPinch:!0}))})),c}},pinchEnd:function(t,e){var n=e.datas,i=e.isPinch,r=e.inputEvent,o=e.targets,a=e.originalDatas;if(n.isPinch){var s="onPinch"+(o?"Group":"")+"End",c=Qr(t,e,{isDrag:i});o&&(c.targets=o),Zr(t,s,c);var l="drag"+(o?"Group":"")+"ControlEnd";return n.ables.forEach((function(n){n[l]&&n[l](t,or(or({},e),{isDrag:i,datas:a[n.name],inputEvent:r,isPinch:!0}))})),i}},pinchGroupStart:function(t,e){return this.pinchStart(t,or(or({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,or(or({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,or(or({},e),{targets:t.props.targets}))}};function fo(t,e,n,i,r){var o=e.gesto.move(n,t.inputEvent),a=o.originalDatas||o.datas,s=a.draggable||(a.draggable={});return or(or({},r?oo(e,o):o),{isDrag:!0,isPinch:!!i,parentEvent:!0,datas:s,originalDatas:t.originalDatas})}var bo=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var e=t.prototype;return e.dragStart=function(t,e){this.isDrag=!1,this.isFlag=!1;var n=e.originalDatas;return this.datas=n,n.draggable||(n.draggable={}),or(or({},this.move(t,e.inputEvent)),{type:"dragstart"})},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var n,i;return this.isFlag?(n=this.prevX+t[0],i=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],i=t[1],this.isFlag=!0),this.prevX=n,this.prevY=i,{type:"drag",clientX:n,clientY:i,inputEvent:e,isDrag:this.isDrag,distX:n-this.startX,distY:i-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function mo(t,e,n){var i=n.originalDatas;i.groupable=i.groupable||{};var r=i.groupable;r.childDatas=r.childDatas||[];var o=r.childDatas,a=n.inputEvent,s=n.isPinch,c=n.clientX,l=n.clientY,u=n.distX,h=n.distY;return t.moveables.map((function(t,n){return o[n]=o[n]||{},o[n][e]=o[n][e]||{},{inputEvent:a,datas:o[n][e],originalDatas:o[n],isPinch:s,clientX:c,clientY:l,distX:u,distY:h}}))}function vo(t,e,n,i,r,o){var a=!!n.match(/Start$/g),s=!!n.match(/End$/g),c=r.isPinch,l=r.datas,u=mo(t,e.name,r),h=t.moveables,p=u.map((function(t,r){var u=h[r],p=t;a?p=(new bo).dragStart(i,t):(u.state.gesto||(u.state.gesto=l.childGestos[r]),p=fo(t,u.state,i,c,o));var d=e[n](u,or(or({},p),{parentFlag:!0}));return s&&(u.state.gesto=null),d}));return a&&(l.childGestos=h.map((function(t){return t.state.gesto}))),p}function xo(t,e,n,i,r,o){void 0===r&&(r=function(t,e){return e});var a=!!n.match(/End$/g),s=mo(t,e.name,i),c=t.moveables;return s.map((function(t,i){var s,l=c[i];s=r(l,t);var u=e[n](l,or(or({},s),{parentFlag:!0}));return u&&o&&o(l,t,u,i),a&&(l.state.gesto=null),u}))}function Co(t,e){var n=e.datas,i=t.state,r=i.moveableClientRect,o=i.pos1,a=li(ro(i.rootMatrix,[e.clientX-r.left,e.clientY-r.top],i.is3d?4:3),o),s=So({datas:n,distX:a[0],distY:a[1]});return[s[0],s[1]]}function yo(t,e){var n=e.datas,i=t.state,r=i.allMatrix,o=i.beforeMatrix,a=i.is3d,s=i.left,c=i.top,l=i.origin,u=i.offsetMatrix,h=i.targetMatrix,p=i.transformOrigin,d=a?4:3;n.is3d=a,n.matrix=r,n.targetMatrix=h,n.beforeMatrix=o,n.offsetMatrix=u,n.transformOrigin=p,n.inverseMatrix=ii(r,d),n.inverseBeforeMatrix=ii(o,d),n.absoluteOrigin=ri(ci([s,c],l),d),n.startDragBeforeDist=hi(n.inverseBeforeMatrix,n.absoluteOrigin,d),n.startDragDist=hi(n.inverseMatrix,n.absoluteOrigin,d)}function wo(t,e){var n=t.datas,i=t.originalDatas.beforeRenderable,r=n.transformIndex,o=i.nextTransforms,a=i.nextTransformAppendedIndexes,s=-1===r?o.length:r+a.filter((function(t){return t<r})).length,c=function(t,e){var n=t.slice(0,e<0?void 0:e),i=t[e]||"",r=e<0?[]:t.slice(e),o=Oi(n),a=Oi([i]),s=Oi(r),c=Mi(o),l=Mi(s),u=si(c,l,4);return{transforms:t,beforeFunctionMatrix:c,targetFunctionMatrix:Mi(a),afterFunctionMatrix:l,allFunctionMatrix:u,beforeFunctions:o,targetFunction:a[0],afterFunctions:s,beforeFunctionTexts:n,targetFunctionText:i,afterFunctionTexts:r}}(o,s),l=c.targetFunction,u="rotate"===e?"rotateZ":e;n.beforeFunctionTexts=c.beforeFunctionTexts,n.afterFunctionTexts=c.afterFunctionTexts,n.beforeTransform=c.beforeFunctionMatrix,n.targetTansform=c.targetFunctionMatrix,n.afterTransform=c.afterFunctionMatrix,n.targetAllTransform=c.allFunctionMatrix,l.functionName===u?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):(n.isAppendTransform=!0,i.nextTransformAppendedIndexes=ar(a,[s]))}function ko(t,e,n){return t.beforeFunctionTexts.join(" ")+" "+(t.isAppendTransform?n:e)+" "+t.afterFunctionTexts.join(" ")}function Mo(t,e,n){var i=t.beforeTransform,r=t.afterTransform,o=t.targetAllTransform,a=n?si(o,e,4):si(e,o,4),s=si(ii(i,4),a,4);return si(s,ii(r,4),4)}function Oo(t){var e=t.datas,n=e.startDragBeforeDist,i=e.is3d?4:3;return li(hi(e.inverseBeforeMatrix,ci(e.absoluteOrigin,[t.distX,t.distY]),i),n)}function So(t,e){var n=t.datas,i=n.startDragBeforeDist,r=n.startDragDist,o=n.is3d?4:3;return li(hi(e?n.inverseBeforeMatrix:n.inverseMatrix,ci(n.absoluteOrigin,[t.distX,t.distY]),o),e?i:r)}function To(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function Po(t,e){return To(e).map((function(e){return t[e]}))}function Ao(t,e){var n=Po(t,e);return[pt(n.map((function(t){return t[0]}))),pt(n.map((function(t){return t[1]})))]}function _o(t,e,n,i){return si(t,yr(e,i,n),i)}function Eo(t){var e=t.originalDatas.beforeRenderable;return{setTransform:function(n,i){void 0===i&&(i=-1),e.startTransforms=W(n)?n:$(n),Do(t,i)},setTransformIndex:function(e){Do(t,e)}}}function Fo(t){Do(t,-1)}function Do(t,e){var n=t.originalDatas.beforeRenderable,i=t.datas;if(i.transformIndex=e,-1!==e){var r=n.startTransforms[e];if(r){var o=Oi([r]);i.startValue=o[0].functionValue}}}function Ro(t,e){t.originalDatas.beforeRenderable.nextTransforms=$(e)}function Io(t,e,n,i,r){return Ro(r,e),{transform:e,drag:Da.drag(t,fo(r,t.state,n,i,!1))}}function Uo(t,e,n,i,r){var o=t.state,a=t.props.groupable,s=a?o.left:0,c=a?o.top:0,l=li(i,zo(t,n,function(t,e,n){var i=t.transformOrigin,r=e.afterTransform,o=t.is3d?4:3;return _o(t.offsetMatrix,oi(si(si(e.beforeTransform,function(t){return Mi(Oi(t))}([n]),4),r,4),4,o),i,o)}(t.state,r,e)));return li(l,[s,c])}function Bo(t){var e=t.state,n=e.transformOrigin;return[n[0]/(e.width/2)-1,n[1]/(e.height/2)-1]}function zo(t,e,n){void 0===n&&(n=t.state.allMatrix);var i=t.state;return _r(n,[i.width/2*(1+e[0]),i.height/2*(1+e[1])],i.is3d?4:3)}function jo(t,e){return Ao(Yr(t.state),e)}function Lo(t,e,n){var i=_r(t,[e.clientLeft,e.clientTop],n);return[e.left+i[0],e.top+i[1]]}function Go(t,e,n,i,r,o){var a=r[0],s=r[1],c=o[0],l=o[1],u=[],h=i?0:1,p="vertical"===e?"horizontal":"vertical",d=eo(t.filter((function(t){return t.type===e})),(function(t){return t.element})).map((function(t){return t[0]})).filter((function(t){var e=t.pos;return e[h]<=l&&c<=e[h]+t.sizes[h]}));return d.forEach((function(t){var e=t.pos[i],r=e+t.sizes[i];d.forEach((function(t){var o=t.pos,c=t.sizes,l=t.element,h=o[i],g=h+c[i],f=0,b=0,m=!0;if(r<=h)a<(f=g-(b=r-h))-n&&(m=!1);else{if(!(g<=e))return;s>(f=h-(b=e-g))+n&&(m=!1)}if(m&&u.push({pos:"vertical"===p?[f,o[1]]:[o[0],f],element:l,sizes:c,size:0,type:p,gap:b,gapGuidelines:d}),r<=a&&s<=h){var v=(h+r-(s-a))/2;Xr(a-(v-n),.1)>=0&&u.push({pos:"vertical"===p?[v,o[1]]:[o[0],v],element:l,sizes:c,size:0,type:p,gap:r-a,gapGuidelines:d})}}))})),u}function Vo(t,e,n,i,r,o,a){return void 0===o&&(o=0),void 0===a&&(a=0),i&&i.forEach((function(n){t.push({type:"horizontal",pos:[0,Xr(n-a,.1)],size:e})})),r&&r.forEach((function(e){t.push({type:"vertical",pos:[Xr(e-o,.1),0],size:n})})),t}function No(t,e){var n=[],i=t.state;if(e&&i.guidelines&&i.guidelines.length)return n;var r=t.props,o=r.elementGuidelines,a=void 0===o?[]:o,s=r.snapCenter;if(!a.length)return n;var c=i.targetClientRect,l=c.top,u=c.left,h=i.rootMatrix,p=i.is3d?4:3,d=Lo(h,i.containerClientRect,p),g=d[0],f=d[1],b=Pi(Yr(i)),m=li([b.minX,b.minY],ro(h,[u-g,l-f],p)).map((function(t){return e=t,Math.round(e%1==-.5?e-1:e);var e})),v=m[0],x=m[1];return a.map((function(t){return"parentElement"in t?{element:t}:t})).filter((function(t){return t.refresh&&e||!t.refresh&&!e})).forEach((function(t){var e=t.element,i=t.top,r=t.left,o=t.right,a=t.bottom,c=e.getBoundingClientRect(),l=c.left-g,u=c.top-f,d=u+c.height,b=l+c.width,m=ro(h,[l,u],p),C=m[0],y=m[1],w=ro(h,[b,d],p),k=w[0],M=w[1],O=k-C,S=M-y,T=[O,S];!1!==i&&n.push({type:"vertical",element:e,pos:[Xr(C+v,.1),y],size:S,sizes:T}),!1!==a&&n.push({type:"vertical",element:e,pos:[Xr(k+v,.1),y],size:S,sizes:T}),!1!==r&&n.push({type:"horizontal",element:e,pos:[C,Xr(y+x,.1)],size:O,sizes:T}),!1!==o&&n.push({type:"horizontal",element:e,pos:[C,Xr(M+x,.1)],size:O,sizes:T}),s&&(n.push({type:"vertical",element:e,pos:[Xr((C+k)/2+v,.1),y],size:S,sizes:T,center:!0}),n.push({type:"horizontal",element:e,pos:[C,Xr((y+M)/2+x,.1)],size:O,sizes:T,center:!0}))})),n}function qo(t){var e=t.state,n=e.staticGuidelines,i=e.containerClientRect,r=i.scrollHeight,o=i.scrollWidth,a=i.clientHeight,s=i.clientWidth,c=i.overflow,l=i.clientLeft,u=i.clientTop,h=t.props,p=h.snapHorizontal,d=void 0===p||p,g=h.snapVertical,f=void 0===g||g,b=h.snapGap,m=void 0===b||b,v=h.verticalGuidelines,x=h.horizontalGuidelines,C=h.snapThreshold,y=void 0===C?5:C,w=ar(n,No(t,!0));if(m){var k=Fr(Yr(t.state)),M=k.top,O=k.left,S=k.bottom,T=k.right,P=n.filter((function(t){return t.element}));w.push.apply(w,ar(Go(P,"horizontal",y,0,[O,T],[M,S]),Go(P,"vertical",y,1,[M,S],[O,T])))}return Vo(w,c?o:s,c?r:a,d&&x,f&&v,l,u),w}function Yo(t,e,n,i,r){var o=t.props,a=o.snapElement,s=void 0===a||a,c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,i=0;i<n;++i){var r=t[i];if(!X(r))return r}return t[n]}(r,o.snapThreshold,5);return Xo(t.state.guidelines,e,n,{snapThreshold:c,snapCenter:i,snapElement:s})}function Xo(t,e,n,i){return{vertical:Ko(t,"vertical",e,i),horizontal:Ko(t,"horizontal",n,i)}}function Ho(t,e,n,i){var r=t.props.snapCenter&&n,o=["left","right"],a=["top","bottom"];return r&&(o.push("center"),a.push("middle")),o=o.filter((function(t){return t in e})),a=a.filter((function(t){return t in e})),Yo(t,o.map((function(t){return e[t]})),a.map((function(t){return e[t]})),r,i)}function Wo(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],i=n.guidelineInfos[0];return{isSnap:e,offset:i.offset,dist:i.dist,pos:n.pos,guideline:i.guideline}}function Ko(t,e,n,i){var r=void 0===i?{}:i,o=r.snapThreshold,a=void 0===o?5:o,s=r.snapElement,c=r.snapCenter;if(!t||!t.length)return{isSnap:!1,index:-1,posInfos:[]};var l="vertical"===e?0:1,u=n.map((function(n,i){var r=t.map((function(t){var e=n-t.pos[l];return{offset:e,dist:Math.abs(e),guideline:t}})).filter((function(t){var n=t.guideline;return!(!s&&n.element||!c&&n.center||n.type!==e||t.dist>a)})).sort((function(t,e){return t.dist-e.dist}));return{pos:n,index:i,guidelineInfos:r}})).filter((function(t){return t.guidelineInfos.length>0})).sort((function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist})),h=u.length>0;return{isSnap:h,index:h?u[0].index:-1,posInfos:u}}function Qo(t,e){var n=Math.abs(t.offset),i=Math.abs(e.offset);return t.isBound&&e.isBound?i-n:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?i-n:t.isSnap?-1:e.isSnap||n<1e-7?1:i<1e-7?-1:n-i}function Zo(t,e){return t.slice().sort((function(t,n){return t.sign[e]?n.sign[e]?Qo({isBound:t.isBound,isSnap:t.isSnap,offset:t.offset[e]},{isBound:n.isBound,isSnap:n.isSnap,offset:n.offset[e]}):-1:1}))[0]}function Jo(t,e){var n=pt([e[0][0],e[1][0]]),i=pt([e[0][1],e[1][1]]);return{vertical:n<=t[0],horizontal:i<=t[1]}}function $o(t,e){var n,i,r=e[0],o=e[1],a=o[0]-r[0],s=o[1]-r[1];return Math.abs(a)<1e-7&&(a=0),Math.abs(s)<1e-7&&(s=0),a?s?(n=s/a*(t[0]-r[0])+r[1],i=t[1]):(n=r[1],i=t[1]):(n=r[0],i=t[0]),n-i}function ta(t,e,n){void 0===n&&(n=1e-7);var i=$o(t[0],e)<=0;return t.slice(1).every((function(t){var r=$o(t,e);return r<=0===i||Math.abs(r)<=n}))}function ea(t,e,n,i,r){return void 0===r&&(r=0),i&&e-r<=t||!i&&t<=n+r?{isBound:!0,offset:i?e-t:n-t}:{isBound:!1,offset:0}}function na(t,e,n,i,r){var o,a=t[0],s=t[1],c=e[0],l=e[1],u=co(s[1]-a[1]),h=co(s[0]-a[0]),p=co(l[1]-c[1]);if(!co(l[0]-c[0])){if(r&&!u)return{isBound:!1,offset:0};if(h)return ea(u/h*(c[0]-a[0])+a[1],c[1],l[1],n,i);var d=c[0]-a[0];return{isBound:o=Math.abs(d)<=(i||0),offset:o?d:0}}return p||r&&!h?{isBound:!1,offset:0}:u?ea((c[1]-a[1])/(u/h)+a[0],c[0],l[0],n,i):(d=c[1]-a[1],{isBound:o=Math.abs(d)<=(i||0),offset:o?d:0})}function ia(t,e,n,i){return e.map((function(e){var r=e[0],o=function(t,e,n){var i=t.props.innerBounds;if(!i)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var r=i.left,o=i.top,a=i.width,s=i.height,c=[[r,o],[r,o+s]],l=[[r,o],[r+a,o]],u=[[r+a,o],[r+a,o+s]],h=[[r,o+s],[r+a,o+s]],p=Jo(n,e),d=p.horizontal,g=p.vertical;if(ta([n,[r,o],[r+a,o],[r,o+s],[r+a,o+s]],e))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var f=na(e,l,g),b=na(e,h,g),m=na(e,c,d),v=na(e,u,d),x=f.isBound&&b.isBound,C=f.isBound||b.isBound,y=m.isBound&&v.isBound,w=m.isBound||v.isBound,k=io(f.offset,b.offset),M=io(m.offset,v.offset),O=[0,0],S=!1,T=!1;return Math.abs(M)<Math.abs(k)?(O=[k,0],S=C,T=x):(O=[0,M],S=w,T=y),{isAllBound:T,isVerticalBound:C,isHorizontalBound:w,isBound:S,offset:O}}(t,[e[1],e[2]],n),a=o.isBound,s=o.offset,c=o.isVerticalBound,l=o.isHorizontalBound,u=So({datas:i,distX:s[0],distY:s[1]}).map((function(t,e){return t*(r[e]?2/r[e]:0)}));return{sign:r,isBound:a,isVerticalBound:c,isHorizontalBound:l,isSnap:!1,offset:u}}))}function ra(t,e,n){return function(t,e){var n=[],i=t[0],r=t[1];return i&&r?n.push([[0,2*r],t,[-i,r]],[[2*i,0],t,[i,-r]]):i?(n.push([[2*i,0],[i,1],[i,-1]]),e&&n.push([[0,-1],[i,-1],[-i,-1]],[[0,1],[i,1],[-i,1]])):r?(n.push([[0,2*r],[1,r],[-1,r]]),e&&n.push([[-1,0],[-1,r],[-1,-r]],[[1,0],[1,r],[1,-r]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}(e,n).map((function(e){var n=e[2];return[e[0],Ao(t,e[1]),Ao(t,n)]}))}function oa(t,e,n,i){var r=i?t.map((function(t){return bi(t,i)})):t,o=ar([n],e);return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].some((function(t,e){return!ta(o,t)}))}function aa(t,e,n){var i=t||{},r=i.left,o=i.top,a=i.right,s=i.bottom,c={left:void 0===r?-1/0:r,top:void 0===o?-1/0:o,right:void 0===a?1/0:a,bottom:void 0===s?1/0:s};return{vertical:sa(c,e,!0),horizontal:sa(c,n,!1)}}function sa(t,e,n){var i=t[n?"left":"top"],r=t[n?"right":"bottom"],o=Math.min.apply(Math,e),a=Math.max.apply(Math,e),s=[];return i+1>o&&s.push({isBound:!0,offset:o-i,pos:i}),r-1<a&&s.push({isBound:!0,offset:a-r,pos:r}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort((function(t,e){return Math.abs(e.offset)-Math.abs(t.offset)}))}function ca(t,e,n){return(n?t.map((function(t){return bi(t,n)})):t).some((function(t){return t[0]<e.left&&Math.abs(t[0]-e.left)>.1||t[0]>e.right&&Math.abs(t[0]-e.right)>.1||t[1]<e.top&&Math.abs(t[1]-e.top)>.1||t[1]>e.bottom&&Math.abs(t[1]-e.bottom)>.1}))}var la=["horizontal","left","top","width","Y","X"],ua=["vertical","top","left","height","X","Y"];function ha(t){var e=t.state;e.guidelines&&e.guidelines.length||(e.staticGuidelines=No(t,!1),e.guidelines=qo(t),e.enableSnap=!0)}function pa(t,e){var n=t.props,i=n.snappable,r=n.bounds,o=n.innerBounds,a=n.verticalGuidelines,s=n.horizontalGuidelines,c=t.state,l=c.guidelines;return!(!i||!c.enableSnap||e&&!0!==i&&i.indexOf(e)<0||!(r||o||l&&l.length||a&&a.length||s&&s.length))}function da(t,e,n,i,r){var o=function(t,e,n,i){var r=e[0]-t[0],o=e[1]-t[1];if(Math.abs(r)<1e-7&&(r=0),Math.abs(o)<1e-7&&(o=0),!r)return i?[0,0]:[0,n];if(!o)return i?[n,0]:[0,0];var a=o/r,s=t[1]-a*t[0];return i?[n,a*(e[0]+n)+s-e[1]]:[(e[1]+n-s)/a-e[0],n]}(t,e,n,i);if(!o)return[0,0];var a=So({datas:r,distX:o[0],distY:o[1]});return[a[0],a[1]]}function ga(t,e,n,i,r,o){var a=Er(t,e,n,o?4:3);return qr(a,li(i,function(t,e){return Ao(t,e.map((function(t){return-t})))}(a,r)))}function fa(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function ba(t,e){return t.isBound?t.offset:e.isSnap?Wo(e).offset:0}function ma(t,e,n,i){void 0===i&&(i=n);var r=aa(t.props.bounds,i.map((function(t){return t[0]})),i.map((function(t){return t[1]}))),o=r.horizontal,a=r.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Yo(t,n.map((function(t){return t[0]})),n.map((function(t){return t[1]})),t.props.snapCenter),c=s.horizontal,l=s.vertical,u=ba(o[0],c),h=ba(a[0],l),p=Math.abs(u),d=Math.abs(h);return{horizontal:{isBound:o[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:u,dist:p,bounds:o,snap:c},vertical:{isBound:a[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:h,dist:d,bounds:a,snap:l}}}function va(t,e,n,i,r){void 0===r&&(r={});var o=aa(e,n,i),a=o.horizontal,s=o.vertical,c=r.isRequest?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Xo(t,n,i,r),l=c.horizontal,u=c.vertical,h=ba(a[0],l),p=ba(s[0],u),d=Math.abs(h),g=Math.abs(p);return{horizontal:{isBound:a[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:h,dist:d,bounds:a,snap:l},vertical:{isBound:s[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:p,dist:g,bounds:s,snap:u}}}function xa(t){return t?t/Math.abs(t):0}function Ca(t,e,n,i,r,o){var a=function(t,e){var n=[],i=[-t[0],-t[1]];return t[0]&&t[1]?(n.push([i,[t[0],-t[1]]],[i,[-t[0],t[1]]]),e&&n.push([i,t])):t[0]?e?n.push([i,[i[0],-1]],[i,[i[0],1]],[i,[t[0],-1]],[i,t],[i,[t[0],1]]):n.push([[i[0],-1],[t[0],-1]],[[i[0],0],[t[0],0]],[[i[0],1],[t[0],1]]):t[1]?e?n.push([i,[-1,i[1]]],[i,[1,i[1]]],[i,[-1,t[1]]],[i,[1,t[1]]],[i,t]):n.push([[-1,i[1]],[-1,t[1]]],[[0,i[1]],[0,t[1]]],[[1,i[1]],[1,t[1]]]):n.push([i,[1,0]],[i,[-1,0]],[i,[0,-1]],[i,[0,1]],[[1,0],[1,-1]],[[1,0],[1,1]],[[0,1],[1,1]],[[0,1],[-1,1]],[[-1,0],[-1,-1]],[[-1,0],[-1,1]],[[0,-1],[1,-1]],[[0,-1],[-1,-1]]),n}(n,i),s=ra(e,n,i),c=ar(function(t,e,n,i,r,o){return n.map((function(n){var a=n[0],s=n[1],c=Ao(e,a),l=Ao(e,s),u=i?function(t,e,n,i){var r=function(t,e,n){var i=t.props.bounds||{},r=i.left,o=void 0===r?-1/0:r,a=i.top,s=void 0===a?-1/0:a,c=i.right,l=void 0===c?1/0:c,u=i.bottom,h=void 0===u?1/0:u,p=n[0],d=n[1],g=li(n,e),f=g[0],b=g[1];Math.abs(f)<1e-7&&(f=0),Math.abs(b)<1e-7&&(b=0);var m=b>0,v=f>0,x={isBound:!1,offset:0,pos:0},C={isBound:!1,offset:0,pos:0};if(0===f&&0===b)return{vertical:x,horizontal:C};if(0===f)m?h<d&&(C.pos=h,C.offset=d-h):s>d&&(C.pos=s,C.offset=d-s);else if(0===b)v?l<p&&(x.pos=l,x.offset=p-l):o>p&&(x.pos=o,x.offset=p-o);else{var y=b/f,w=n[1]-y*p,k=0,M=0,O=!1;v&&l<=p?(k=y*l+w,M=l,O=!0):!v&&p<=o&&(k=y*o+w,M=o,O=!0),O&&(k<s||k>h)&&(O=!1),O||(m&&h<=d?(M=((k=h)-w)/y,O=!0):!m&&d<=s&&(M=((k=s)-w)/y,O=!0)),O&&(x.isBound=!0,x.pos=M,x.offset=p-M,C.isBound=!0,C.pos=k,C.offset=d-k)}return{vertical:x,horizontal:C}}(t,e,n),o=r.horizontal,a=r.vertical,s=i?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(t,e,n){var i=n[0],r=n[1],o=e[0],a=e[1],s=li(n,e),c=s[0],l=s[1],u=l>0,h=c>0;c=co(c),l=co(l);var p={isSnap:!1,offset:0,pos:0},d={isSnap:!1,offset:0,pos:0};if(0===c&&0===l)return{vertical:p,horizontal:d};var g=Yo(t,c?[i]:[],l?[r]:[]),f=g.vertical,b=g.horizontal;f.posInfos.filter((function(t){var e=t.pos;return h?e>=o:e<=o})),b.posInfos.filter((function(t){var e=t.pos;return u?e>=a:e<=a})),f.isSnap=f.posInfos.length>0,b.isSnap=b.posInfos.length>0;var m=Wo(f),v=m.isSnap,x=m.guideline,C=Wo(b),y=C.isSnap,w=C.guideline,k=y?w.pos[1]:0,M=v?x.pos[0]:0;if(0===c)y&&(d.isSnap=!0,d.pos=w.pos[1],d.offset=r-d.pos);else if(0===l)v&&(p.isSnap=!0,p.pos=M,p.offset=i-M);else{var O=l/c,S=n[1]-O*i,T=0,P=0,A=!1;v?(T=O*(P=M)+S,A=!0):y&&(P=((T=k)-S)/O,A=!0),A&&(p.isSnap=!0,p.pos=P,p.offset=i-P,d.isSnap=!0,d.pos=T,d.offset=r-T)}return{vertical:p,horizontal:d}}(t,e,n),c=s.horizontal,l=s.vertical,u=fa(o,c),h=fa(a,l),p=Math.abs(u),d=Math.abs(h);return{horizontal:{isBound:o.isBound,isSnap:c.isSnap,offset:u,dist:p},vertical:{isBound:a.isBound,isSnap:l.isSnap,offset:h,dist:d}}}(t,c,l,r):ma(t,r,[l]),h=u.horizontal,p=h.offset,d=h.isBound,g=h.isSnap,f=u.vertical,b=f.offset,m=f.isBound,v=f.isSnap,x=li(s,a);if(!b&&!p)return{isBound:m||d,isSnap:v||g,sign:x,offset:[0,0]};var C=function(t,e,n,i){var r=dt(t,e)/Math.PI*180,o=n.vertical,a=n.horizontal,s=r%180,c=s<3||s>177,l=s>87&&s<93;return a.dist<o.dist&&(o.isBound||o.isSnap&&!l&&(!i||!c))?"vertical":!a.isBound&&(!a.isSnap||c||i&&l)?"":"horizontal"}(c,l,u,i);if(!C)return{sign:x,isBound:!1,isSnap:!1,offset:[0,0]};var y="vertical"===C,w=da(c,l,-(y?b:p),y,o).map((function(t,e){return t*(x[e]?2/x[e]:0)}));return{sign:x,isBound:y?m:d,isSnap:y?v:g,offset:w}}))}(t,e,a,i,r,o),ia(t,s,Ao(e,[0,0]),o)),l=Zo(c,0),u=Zo(c,1);return{width:{isBound:l.isBound,offset:l.offset[0]},height:{isBound:u.isBound,offset:u.offset[1]}}}function ya(t,e,n,i,r,o,a,s){for(var c=Yr(t.state),l=t.props.keepRatio,u=0,h=0,p=0;p<2;++p){var d=Ca(t,e(u,h),r,l,a,s),g=d.width,f=d.height,b=g.isBound,m=f.isBound,v=g.offset,x=f.offset;if(1===p&&(b||(v=0),m||(x=0)),0===p&&a&&!b&&!m)return[0,0];if(l){var C=Math.abs(v)*(n?1/n:1),y=Math.abs(x)*(i?1/i:1);(b&&m?C<y:m||!b&&C<y)?v=n*x/i:x=i*v/n}u+=v,h+=x}if(r[0]&&r[1]){var w=function(t,e,n,i,r){var o=[-n[0],-n[1]],a=t.state,s=a.width,c=a.height,l=t.props.bounds,u=1/0,h=1/0;if(l){var p=l.left,d=void 0===p?-1/0:p,g=l.top,f=void 0===g?-1/0:g,b=l.right,m=void 0===b?1/0:b,v=l.bottom,x=void 0===v?1/0:v;[[n[0],-n[1]],[-n[0],n[1]]].forEach((function(t){var n=t[0]!==o[0],a=t[1]!==o[1],l=Ao(e,t),p=xa(t[1]-o[1]),g=xa(t[0]-o[0]),b=360*dt(i,l)/Math.PI;if(a){var v=l.slice();(Math.abs(b-360)<2||Math.abs(b-180)<2)&&(v[1]=i[1]);var C=da(i,v,(i[1]<l[1]?x:f)-l[1],!1,r)[1];isNaN(C)||(h=c+p*C)}if(n){v=l.slice(),(Math.abs(b-90)<2||Math.abs(b-270)<2)&&(v[0]=i[0]);var y=da(i,v,(i[0]<l[0]?m:d)-l[0],!0,r)[0];isNaN(y)||(u=s+g*y)}}))}return{maxWidth:u,maxHeight:h}}(t,c,r,o,s),k=w.maxWidth,M=w.maxHeight,O=function(t,e,n,i,r,o,a,s,c){var l=ma(t,s,[Ao(e,a)]),u=l.horizontal.offset,h=l.vertical.offset;if(h||u){var p=So({datas:c,distX:-h,distY:-u}),d=p[1];return[Math.min(r||1/0,n+a[0]*p[0])-n,Math.min(o||1/0,i+a[1]*d)-i]}return[0,0]}(t,e(u,h),n+u,i+h,k,M,r,a,s);u+=v=O[0],h+=x=O[1]}return[u,h]}function wa(t,e,n,i){if(!pa(t,"rotatable"))return i;var r=i*Math.PI/180,o=[e.pos1,e.pos2,e.pos3,e.pos4].map((function(t){return li(t,n)})),a=o.map((function(t){return bi(t,r)})),s=ar(function(t,e,n,i,r){var o=t.props.bounds,a=r*Math.PI/180;if(!o)return[];var s=o.left,c=o.top,l=o.right,u=o.bottom,h=(void 0===s?-1/0:s)-i[0],p=(void 0===l?1/0:l)-i[0],d=(void 0===c?-1/0:c)-i[1],g=(void 0===u?1/0:u)-i[1],f={left:h,top:d,right:p,bottom:g};if(!ca(n,f,0))return[];var b=[];return[[h,0],[p,0],[d,1],[g,1]].forEach((function(t,i){var r=t[0],o=t[1];n.forEach((function(t){var n=dt([0,0],t);b.push.apply(b,function(t,e,n){var i=Ir(t),r=Math.sqrt(i*i-e*e)||0;return[r,-r].sort((function(e,i){return Math.abs(e-t[n?0:1])-Math.abs(i-t[n?0:1])})).map((function(t){return dt([0,0],n?[t,e]:[e,t])}))}(t,r,o).map((function(t){return a+t-n})).filter((function(t){return!ca(e,f,t)})).map((function(t){return Xr(180*t/Math.PI,1e-7)})))}))})),b}(t,o,a,n,i),function(t,e,n,i,r){var o=t.props.innerBounds,a=r*Math.PI/180;if(!o)return[];var s=o.left,c=o.top,l=s-i[0],u=s+o.width-i[0],h=c-i[1],p=c+o.height-i[1],d=[[l,h],[u,h],[l,p],[u,p]],g=Ao(n,[0,0]);if(!oa(n,d,g,0))return[];var f=[],b=d.map((function(t){return[Ir(t),dt([0,0],t)]}));return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach((function(t){var n=dt([0,0],function(t){var e=t[0],n=t[1],i=n[0]-e[0],r=n[1]-e[1];if(!i)return[e[0],0];if(!r)return[0,e[1]];var o=r/i,a=-o*e[0]+e[1];return[-a/(o+1/o),a/(o*o+1)]}(t)),i=function(t){var e=t[0],n=t[1],i=n[0]-e[0],r=n[1]-e[1];if(!i)return Math.abs(e[0]);if(!r)return Math.abs(e[1]);var o=r/i;return Math.abs((-o*e[0]+e[1])/Math.sqrt(Math.pow(o,2)+1))}(t);f.push.apply(f,b.filter((function(t){var e=t[0];return e&&i<=e})).map((function(t){var e=t[0],r=t[1],o=Math.acos(e?i/e:0);return[a+(r+o)-n,a+(r-o)-n]})).reduce((function(t,e){return t.push.apply(t,e),t}),[]).filter((function(t){return!oa(e,d,g,t)})).map((function(t){return Xr(180*t/Math.PI,1e-7)})))})),f}(t,o,a,n,i));return s.sort((function(t,e){return Math.abs(t-i)-Math.abs(e-i)})),s.length?s[0]:i}function ka(t){var e=[];return t.forEach((function(t){t.guidelineInfos.forEach((function(t){var n=t.guideline;e.indexOf(n)>-1||e.push(n)}))})),e}function Ma(t,e,n,i){var r=t-n,o=r<0?r+e:i;return{size:(r<0?0:r)-o,pos:o}}function Oa(t,e,n,i){var r=[],o=eo(t.filter((function(t){return t.element&&!t.gap})),(function(t){var n=t.element,o=t.pos,a=o[i],s=(Math.min(0,a-e)<0?-1:1)+"_"+o[i?0:1],c=function(t,e,i){var r=ot(t,(function(t){return n===t[0]&&a===t[1]}));return r>-1?t[r]:void 0}(r);return c?c[2]:(r.push([n,a,s]),s)}));return o.forEach((function(t){t.sort((function(t,r){return Ma(t.pos[i],t.size,e,n).size-Ma(r.pos[i],t.size,e,n).size||t.pos[i?0:1]-r.pos[i?0:1]}))})),o}function Sa(t,e,n,i,r,o,a,s,c,l,u,h){var p=n[0],d=n[1],g=n[2],f=n[3],b=n[4],m=n[5],v=t.props,x=v.zoom,C=v.isDisplaySnapDigit,y=void 0===C||C;return no(e.map((function(t,e){var n=!0;return t.map((function(t,v){var C,w,k=t.pos,M=Ma(k[l],t.size,r,o),O=M.pos,S=M.size;if(S<s)return null;var T=n;n=!1;var P=y&&T?parseFloat(S.toFixed(c)):0;return h.createElement("div",{key:p+"LinkGuideline"+e+"-"+v,className:Cr("guideline-group",p),style:(C={},C[d]=i+O+"px",C[g]=-a+k[l?0:1]+"px",C[f]=S+"px",C)},h.createElement("div",{className:Cr("line",p,"guideline","dashed"),style:(w={},w[d]="0%",w[g]="0%",w[f]="100%",w.transform="translate"+b+"(-50%) scale"+b+"("+x+")",w)}),h.createElement("div",{className:Cr("size-value"),style:{transform:"translate"+m+"(-50%) scale("+x+")"}},P>0?u(P):""))}))})))}function Ta(t,e,n,i,r,o,a){var s=n[0],c=n[1],l=n[2],u=n[3],h=n[4],p=t.props.zoom;return e.map((function(t,e){var n,d=t.pos;return a.createElement("div",{className:Cr("line",s,"guideline","target","bold",t.type),key:s+"TargetGuideline"+e,style:(n={},n[c]=i+"px",n[l]=-r+d+"px",n[u]=o+"px",n.transform="translate"+h+"(-50%) scale"+h+"("+p+")",n)})}))}function Pa(t,e,n,i,r,o,a){var s=n[0],c=n[1],l=n[2],u=n[3],h=n[4],p=t.props.zoom;return e.map((function(t,e){var n,d=t.pos,g=t.size;return a.createElement("div",{className:Cr("line",s,"guideline",t.element?"bold":""),key:s+"Guideline"+e,style:(n={},n[c]=-i+d[o]+"px",n[l]=-r+d[o?0:1]+"px",n[u]=g+"px",n.transform="translate"+h+"(-50%) scale"+h+"("+p+")",n)})}))}function Aa(t,e,n,i){var r=t.filter((function(t){return t.element&&t.gap&&t.type===e})),o="vertical"===e?[0,1]:[1,0],a=o[0],s=o[1];return no(r.map((function(t){var e=t.pos,r=t.gap,o=t.gapGuidelines,c=t.sizes,l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return Math.abs(t)-Math.abs(e)})),t[0]}(e[s]+c[s]-n[s],e[s]-n[s]-i[s]),u=Math.min(c[s],i[s]);l>0&&l>u?l=2*(l-u/2):l<0&&l<-u&&(l=2*(l+u/2));var h=(l>0?0:i[s])+l/2;return ar(function(t,e,n,i,r,o,a){var s=Math.abs(o),c=r[e]+(o>0?i[0]:0);return t.filter((function(t){return t.pos[e]<=n[e]})).sort((function(t,n){return n.pos[e]-t.pos[e]})).filter((function(t){var n=t.pos[e];return Xr(n+t.sizes[e],1e-4)===Xr(c-s,1e-4)&&(c=n,!0)})).map((function(t){var i=-n[e]+t.pos[e]+t.sizes[e];return or(or({},t),{gap:o,renderPos:e?[a,i]:[i,a]})}))}(o,a,n,i,e,r,h),function(t,e,n,i,r,o,a){var s=Math.abs(o),c=r[e]+(o<0?i[e]:0);return t.filter((function(t){return t.pos[e]>n[e]})).sort((function(t,n){return t.pos[e]-n.pos[e]})).filter((function(t){var n=t.sizes,i=t.pos[e];return Xr(i,1e-4)===Xr(c+s,1e-4)&&(c=i+n[e],!0)})).map((function(t){var i=-n[e]+t.pos[e]-s;return or(or({},t),{gap:o,renderPos:e?[a,i]:[i,a]})}))}(o,a,n,i,e,r,h))})))}function _a(t,e,n,i,r,o){var a=i[0],s=i[1],c=i[2],l=i[3],u=i[4],h=i[5],p=t.props,d=p.snapDigit,g=void 0===d?0:d,f=p.isDisplaySnapDigit,b=void 0===f||f,m=p.zoom,v="vertical"===n?"horizontal":"vertical",x="vertical"===n?[0,1]:[1,0],C=x[0],y=x[1];return e.map((function(t,e){var n,i,p=t.renderPos,d=Math.abs(t.gap),f=b?parseFloat(d.toFixed(g)):0;return o.createElement("div",{key:v+"GapGuideline"+e,className:Cr("guideline-group",a),style:(n={},n[s]=p[C]+"px",n[c]=p[y]+"px",n[l]=d+"px",n)},o.createElement("div",{className:Cr("line",a,"guideline","gap"),style:(i={},i[l]="100%",i.transform="translate"+u+"(-50%) scale"+u+"("+m+")",i)}),o.createElement("div",{className:Cr("size-value","gap"),style:{transform:"translate"+h+"(-50%) scale("+m+")"}},f>0?r(f):""))}))}function Ea(t,e,n,i,r,o){var a=aa(o||t.props.bounds,e,n),s=a.horizontal;a.vertical.forEach((function(t){t.isBound&&i.push({type:"bounds",pos:t.pos})})),s.forEach((function(t){t.isBound&&r.push({type:"bounds",pos:t.pos})}));var c=function(t){var e=t.props.innerBounds;if(!e)return{vertical:[],horizontal:[]};var n=t.getRect(),i=n.pos1,r=n.pos2,o=n.pos3,a=n.pos4,s=Ao([i,r,o,a],[0,0]),c=e.left,l=e.top,u=e.width,h=e.height,p=[[c,l],[c,l+h]],d=[[c,l],[c+u,l]],g=[[c+u,l],[c+u,l+h]],f=[[c,l+h],[c+u,l+h]],b=[],m=[],v={top:!1,bottom:!1,left:!1,right:!1};return[[i,r],[r,a],[a,o],[o,i]].forEach((function(t){var e=Jo(s,t),n=e.horizontal,i=e.vertical,r=na(t,d,i,1,!0),o=na(t,f,i,1,!0),a=na(t,p,n,1,!0),x=na(t,g,n,1,!0);r.isBound&&!v.top&&(b.push(l),v.top=!0),o.isBound&&!v.bottom&&(b.push(l+h),v.bottom=!0),a.isBound&&!v.left&&(m.push(c),v.left=!0),x.isBound&&!v.right&&(m.push(c+u),v.right=!0)})),{horizontal:b,vertical:m}}(t),l=c.horizontal;c.vertical.forEach((function(t){ot(i,(function(e){return"bounds"===e.type&&e.pos===t}))>=0||i.push({type:"bounds",pos:t})})),l.forEach((function(t){ot(r,(function(e){return"bounds"===e.type&&e.pos===t}))>=0||r.push({type:"bounds",pos:t})}))}var Fa={name:"snappable",props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,isDisplaySnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function},events:{onSnap:"snap"},css:[":host {\n    --bounds-color: #d66;\n}\n.guideline {\n    pointer-events: none;\n    z-index: 2;\n}\n.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}\n.guideline-group {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.guideline-group .size-value {\n    position: absolute;\n    color: #f55;\n    font-size: 12px;\n    font-weight: bold;\n}\n.guideline-group.horizontal .size-value {\n    transform-origin: 50% 100%;\n    transform: translateX(-50%);\n    left: 50%;\n    bottom: 5px;\n}\n.guideline-group.vertical .size-value {\n    transform-origin: 0% 50%;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.guideline.gap {\n    background: #f55;\n}\n.size-value.gap {\n    color: #f55;\n}\n"],render:function(t,e){var n=t.state,i=n.top,r=n.left,o=n.pos1,a=n.pos2,s=n.pos3,c=n.pos4,l=n.snapRenderInfo,u=n.targetClientRect,h=n.containerClientRect,p=n.is3d,d=n.rootMatrix;if(!l||!pa(t,""))return[];var g=p?4:3,f=Math.min(o[0],a[0],s[0],c[0]),b=Math.min(o[1],a[1],s[1],c[1]),m=Lo(d,h,g),v=ro(d,[u.left-m[0],u.top-m[1]],g),x=v[0],C=v[1],y=t.props,w=y.snapThreshold,k=void 0===w?5:w,M=y.snapDigit,O=void 0===M?0:M,S=y.snapDistFormat,T=void 0===S?function(t){return t}:S,P=l.externalPoses||[],A=Yr(t.state),_=[],E=[],F=[],D=[],R=[],I=Fr(A),U=I.width,B=I.height,z=I.top,j=I.left,L=I.bottom,G=I.right,V=P.length>0,N=V?Fr(P):{};if(!l.request){if(l.direction&&R.push(function(t,e,n){var i=[];if(n[0]&&n[1])i=[n,[-n[0],n[1]],[n[0],-n[1]]].map((function(t){return Ao(e,t)}));else if(n[0]||n[1])t.props.keepRatio?i=[[-1,-1],[-1,1],[1,-1],[1,1],n].map((function(t){return Ao(e,t)})):(i=Po(e,n)).length>1&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]);else for(var r=[e[0],e[1],e[3],e[2],e[0]],o=0;o<4;++o)i.push(r[o]),i.push([(r[o][0]+r[o+1][0])/2,(r[o][1]+r[o+1][1])/2]);return Yo(t,i.map((function(t){return t[0]})),i.map((function(t){return t[1]})),!0,1)}(t,A,l.direction)),l.snap){var q=Fr(A);l.center&&(q.middle=(q.top+q.bottom)/2,q.center=(q.left+q.right)/2),R.push(Ho(t,q,!0,1))}V&&(l.center&&(N.middle=(N.top+N.bottom)/2,N.center=(N.left+N.right)/2),R.push(Ho(t,N,!0,1))),R.forEach((function(t){var e=t.vertical.posInfos,n=t.horizontal.posInfos;_.push.apply(_,e.map((function(t){return{type:"snap",pos:t.pos}}))),E.push.apply(E,n.map((function(t){return{type:"snap",pos:t.pos}}))),F.push.apply(F,ka(e)),D.push.apply(D,ka(n))}))}Ea(t,[j,G],[z,L],_,E),V&&Ea(t,[N.left,N.right],[N.top,N.bottom],_,E,l.externalBounds);var Y=Oa(D,x,U,0),X=Oa(F,C,B,1),H=Aa(F,"vertical",[r,i],[U,B]),W=Aa(D,"horizontal",[r,i],[U,B]),K=ar(F,D);return Zr(t,"onSnap",{guidelines:K.filter((function(t){return!t.element})),elements:eo(K.filter((function(t){return t.element})),(function(t){return t.element})),gaps:ar(H,W)},!0),ar(_a(t,H,"vertical",la,T,e),_a(t,W,"horizontal",ua,T,e),Sa(t,Y,la,f,x,U,i,k,O,0,T,e),Sa(t,X,ua,b,C,B,r,k,O,1,T,e),Ta(t,E,la,f,i,U,e),Ta(t,_,ua,b,r,B,e),Pa(t,D,la,r,i,0,e),Pa(t,F,ua,i,r,1,e))},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},ha(t)},drag:function(t,e){t.state.guidelines=qo(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t){return!(!lo(t)&&!za(t))||(!t.isRequest&&t.inputEvent?mt(t.inputEvent.target,Cr("snap-control")):void 0)},dragControlStart:function(t){t.state.snapRenderInfo=null,ha(t)},dragControl:function(t){t.state.guidelines=qo(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){t.state.guidelines=qo(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,ha(t)},dragGroupControl:function(t){t.state.guidelines=qo(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null}},Da={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(t,e){var n=t.props,i=n.zoom,r=t.state,o=r.dragInfo,a=r.beforeOrigin;if(!n.throttleDragRotate||!o)return[];var s=o.dist;if(!s[0]&&!s[1])return[];var c=Ir(s),l=dt(s,[0,0]);return[e.createElement("div",{className:Cr("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:c+"px",transform:"translate("+a[0]+"px, "+a[1]+"px) rotate("+l+"rad) scaleY("+i+")"}})]},dragStart:function(t,e){var n=e.datas,i=e.parentEvent,r=t.state,o=r.target;if(r.gesto)return!1;r.gesto=e.parentGesto||t.targetGesto;var a=window.getComputedStyle(o);n.datas={},n.left=parseFloat(a.left||"")||0,n.top=parseFloat(a.top||"")||0,n.bottom=parseFloat(a.bottom||"")||0,n.right=parseFloat(a.right||"")||0,n.startValue=[0,0],yo(t,e),Fo(e),function(t,e){e.absolutePoses=Yr(t.state)}(t,n),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1;var s=Kr(t,e,or({set:function(t){n.startValue=t}},Eo(e)));return!1!==(i||Zr(t,"onDragStart",s))?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(r.gesto=null,n.isPinch=!1),!!n.isDrag&&s},drag:function(t,e){wo(e,"translate");var n=e.datas,i=e.parentEvent,r=e.parentFlag,o=e.isPinch,a=e.isRequest,s=e.distX,c=e.distY,l=n.prevDist,u=n.prevBeforeDist,h=n.startValue;if(n.isDrag){var p=t.props,d=p.parentMoveable,g=i?0:p.throttleDrag||0,f=i?0:p.throttleDragRotate||0,b=!1,m=0;if(!i&&f>0&&(s||c)){var v=p.startDragRotate||0,x=Xr(v+180*dt([0,0],[s,c])/Math.PI,f)-v,C=c*Math.abs(Math.cos((x-90)/180*Math.PI)),y=Ir([s*Math.abs(Math.cos(x/180*Math.PI)),C]);m=x*Math.PI/180,s=y*Math.cos(m),c=y*Math.sin(m)}if(!o&&!i&&!r&&(!f||s||c)){var w=function(t,e,n,i,r,o){if(!pa(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var a=qr(o.absolutePoses,[e,n]),s=Fr(a),c=s.left,l=s.right,u=s.top,h=s.bottom,p=[[c,u],[l,u],[c,h],[l,h]];t.props.snapCenter&&p.push([(c+l)/2,(u+h)/2]);var d=ma(t,r,p,a),g=d.vertical,f=d.horizontal,b=function(t,e,n){var i,r=ia(t,ra(e,[0,0],!1).map((function(t){var e=t[1],n=t[2];return[t[0].map((function(t){return 2*Math.abs(t)})),e,n]})),Ao(e,[0,0]),n),o=Zo(r,0),a=Zo(r,1),s=0,c=0,l=o.isVerticalBound||a.isVerticalBound,u=o.isHorizontalBound||a.isHorizontalBound;return(l||u)&&(s=(i=function(t,e){var n=t.datas,i=n.absoluteOrigin,r=n.is3d?4:3;return li(hi(n.matrix,ci(n.startDragDist,[t.distX,t.distY]),r),i)}({datas:n,distX:-o.offset[0],distY:-a.offset[1]}))[0],c=i[1]),{vertical:{isBound:l,offset:s},horizontal:{isBound:u,offset:c}}}(t,a,o),m=b.vertical,v=b.horizontal,x=g.isSnap,C=f.isSnap,y=g.isBound||m.isBound,w=f.isBound||v.isBound,k=function(t,e,n,i,r){var o=e[0],a=e[1],s=n[0],c=n[1],l=i[0],u=i[1],h=r[0],p=r[1],d=-h,g=-p;if(t&&o&&a){d=0,g=0;var f=[];if(s&&c?f.push([0,p],[h,0]):s?f.push([h,0]):c?f.push([0,p]):l&&u?f.push([0,p],[h,0]):l?f.push([h,0]):u&&f.push([0,p]),f.length){f.sort((function(t,e){return Ir(li([o,a],t))-Ir(li([o,a],e))}));var b=f[0];if(b[0]&&Math.abs(o)>1e-7)d=-b[0],g=a*Math.abs(o+d)/Math.abs(o)-a;else if(b[1]&&Math.abs(a)>1e-7){var m=a;g=-b[1],d=o*Math.abs(a+g)/Math.abs(m)-o}if(t&&c&&s)if(Math.abs(d)>1e-7&&Math.abs(d)<Math.abs(h))d*=v=Math.abs(h)/Math.abs(d),g*=v;else if(Math.abs(g)>1e-7&&Math.abs(g)<Math.abs(p)){var v;d*=v=Math.abs(p)/Math.abs(g),g*=v}else d=io(-h,d),g=io(-p,g)}}else d=o||s?-h:0,g=a||c?-p:0;return[d,g]}(i,[e,n],[y,w],[x,C],[io(g.offset,m.offset),io(f.offset,v.offset)]);return[{isBound:y,isSnap:x,offset:k[0]},{isBound:w,isSnap:C,offset:k[1]}]}(t,s,c,f,a,n),k=w[0],M=w[1];b=k.isSnap||M.isSnap||k.isBound||M.isBound,s+=k.offset,c+=M.offset}n.passDeltaX=s-(n.passDistX||0),n.passDeltaY=c-(n.passDistY||0),n.passDistX=s,n.passDistY=c;var O=ci(Oo({datas:n,distX:s,distY:c}),h),S=ci(function(t){var e=t.datas,n=Oo({datas:e,distX:t.distX,distY:t.distY});return hi(Mo(e,function(t,e){for(var n=Ci(4),i=0;i<3;++i)n[12+i]=t[i]||0;return n}([n[0],n[1]])),ri([0,0,0],4),4)}({datas:n,distX:s,distY:c}),h);f||b||(Hr(S,g),Hr(O,g));var T=li(O,h),P=li(S,h),A=li(P,l),_=li(T,u);n.prevDist=P,n.prevBeforeDist=T;var E=n.left+T[0],F=n.top+T[1],D=n.right-T[0],R=n.bottom-T[1],I=ko(n,"translate("+S[0]+"px, "+S[1]+"px)","translate("+P[0]+"px, "+P[1]+"px)");if(t.state.dragInfo.dist=i?[0,0]:P,i||d||!A.every((function(t){return!t}))||!_.some((function(t){return!t}))){var U=t.state,B=Kr(t,e,{transform:I,dist:P,delta:A,translate:S,beforeDist:T,beforeDelta:_,beforeTranslate:O,left:E,top:F,right:D,bottom:R,width:U.width,height:U.height,isPinch:o});return!i&&Zr(t,"onDrag",B),B}}},dragEnd:function(t,e){var n=e.parentEvent,i=e.datas,r=e.isDrag;if(t.state.gesto=null,t.state.dragInfo=null,i.isDrag)return i.isDrag=!1,!n&&Zr(t,"onDragEnd",Qr(t,e,{})),r},dragGroupStart:function(t,e){var n=e.datas,i=e.clientX,r=e.clientY,o=this.dragStart(t,e);if(!o)return!1;var a=vo(t,this,"dragStart",[i||0,r||0],e,!1),s=Zr(t,"onDragGroupStart",or(or({},o),{targets:t.props.targets,events:a}));return n.isDrag=!1!==s,!!n.isDrag&&o},dragGroup:function(t,e){if(e.datas.isDrag){var n=this.drag(t,e),i=e.datas,r=vo(t,this,"drag",[i.passDeltaX,i.passDeltaY],e,!1);if(n){var o=or({targets:t.props.targets,events:r},n);return Zr(t,"onDragGroup",o),o}}},dragGroupEnd:function(t,e){var n=e.isDrag;if(e.datas.isDrag)return this.dragEnd(t,e),vo(t,this,"dragEnd",[0,0],e,!1),Zr(t,"onDragGroupEnd",Qr(t,e,{targets:t.props.targets})),n},request:function(t){var e={},n=t.getRect(),i=0,r=0;return{isControl:!1,requestStart:function(){return{datas:e}},request:function(t){return"x"in t?i=t.x-n.left:"deltaX"in t&&(i+=t.deltaX),"y"in t?r=t.y-n.top:"deltaY"in t&&(r+=t.deltaY),{datas:e,distX:i,distY:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.dragInfo=null}};function Ra(t,e,n,i,r,o){var a=_r(t.state.rootMatrix,r,t.state.is3d?4:3),s=ci([o.left,o.top],a);e.startAbsoluteOrigin=s,e.prevDeg=dt(s,[n,i])/Math.PI*180,e.prevSnapDeg=e.prevDeg,e.startDeg=e.prevDeg,e.loop=0}function Ia(t,e,n,i,r,o){var a=n.prevDeg,s=wa(t,e,n.origin,i);return n.prevDeg=s,[s-a,s,o+s]}function Ua(t,e,n,i,r,o,a,s){var c=n.prevDeg,l=n.prevSnapDeg,u=n.startDeg,h=n.loop;c>i&&c>270&&i<90?++n.loop:c<i&&c<90&&i>270&&--n.loop;var p=n.loop,d=360*h+l-u+o,g=360*p+i-u+o;n.prevDeg=g-360*p+u-o;var f=r*((g=Xr(g,a))-o);return s&&(g=(f=wa(t,e,n.origin,f))/r+o),n.prevSnapDeg=g-360*p+u-o,[r*(g-d),f,o+f]}function Ba(t,e,n,i,r,o,a,s){return Ua(t,e,n,dt(n.startAbsoluteOrigin,[r,o])/Math.PI*180,i,a,s,!0)}function za(t){return t.isRequest?"rotatable"===t.requestAble:mt(t.inputEvent.target,Cr("rotation-control"))}var ja={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number},events:{onRotateStart:"rotateStart",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[".rotation {\n            position: absolute;\n            height: 40px;\n            width: 1px;\n            transform-origin: 50% 100%;\n            height: calc(40px * var(--zoom));\n            top: auto;\n            left: 0;\n            bottom: 100%;\n            will-change: transform;\n        }\n        .rotation .rotation-line {\n            display: block;\n            width: 100%;\n            height: 100%;\n            transform-origin: 50% 50%;\n        }\n        .rotation .rotation-control {\n            border-color: #4af;\n            border-color: var(--moveable-color);\n            background:#fff;\n            cursor: alias;\n        }"],render:function(t,e){var n=t.props,i=n.zoom,r=t.state;if(!n.rotatable)return null;var o=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=(t||"top").split("-"),c=s[0],l=s[1],u=[i,r];"left"===c?u=[o,i]:"right"===c?u=[r,a]:"bottom"===c&&(u=[a,o]);var h=[(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2],p=Lr(u,n);if(l){var d="top"===l||"left"===l,g="bottom"===c||"left"===c;h=u[d&&!g||!d&&g?0:1]}return[h,p]}(n.rotationPosition,r.renderPoses,r.direction),a=o[0],s=o[1];return e.createElement("div",{key:"rotation",className:Cr("rotation"),style:{transform:"translate(-50%) translate("+a[0]+"px, "+a[1]+"px) rotate("+s+"rad)"}},e.createElement("div",{className:Cr("line rotation-line"),style:{transform:"scaleX("+i+")"}}),e.createElement("div",{className:Cr("control rotation-control"),style:{transform:"translate(0.5px) scale("+i+")"}}))},dragControlCondition:za,dragControlStart:function(t,e){var n=e.datas,i=e.clientX,r=e.clientY,o=e.parentRotate,a=e.parentFlag,s=e.isPinch,c=e.isRequest,l=t.state,u=l.left,h=l.top,p=l.origin,d=l.beforeOrigin,g=l.direction,f=l.beforeDirection,b=l.targetTransform,m=l.moveableClientRect;if(!c&&!l.target)return!1;var v=t.getRect();if(n.rect=v,n.transform=b,n.left=u,n.top=h,n.fixedPosition=zo(t,Bo(t)),n.absoluteInfo={origin:v.origin,startValue:v.rotation},Ra(t,n.absoluteInfo,i,r,p,m),c||s||a){var x=o||0;n.beforeInfo={origin:v.beforeOrigin,prevDeg:x,startDeg:x,prevSnapDeg:x,loop:0},n.afterInfo={origin:v.origin,prevDeg:x,startDeg:x,prevSnapDeg:x,loop:0}}else n.beforeInfo={origin:v.beforeOrigin},n.afterInfo={origin:v.origin},Ra(t,n.beforeInfo,i,r,d,m),Ra(t,n.afterInfo,i,r,p,m);n.direction=g,n.beforeDirection=f,n.startValue=0,n.datas={},Fo(e);var C=Kr(t,e,or(or({set:function(t){n.startValue=t*Math.PI/180}},Eo(e)),{dragStart:Da.dragStart(t,(new bo).dragStart([0,0],e))})),y=Zr(t,"onRotateStart",C);return n.isRotate=!1!==y,t.state.snapRenderInfo={request:e.isRequest},!!n.isRotate&&C},dragControl:function(t,e){var n,i,r,o,a,s,c,l,u,h=e.datas,p=e.clientX,d=e.clientY,g=e.parentRotate,f=e.parentFlag,b=e.isPinch,m=e.groupDelta,v=h.beforeDirection,x=h.beforeInfo,C=h.afterInfo,y=h.absoluteInfo,w=h.startValue,k=h.rect;if(h.isRotate){wo(e,"rotate");var M,O,S,T,P,A,_,E,F,D=v*function(t){return Rr(t.datas.beforeTransform,[50,50],100,100).direction}(e),R=t.props,I=R.throttleRotate,U=void 0===I?0:I,B=R.parentMoveable,z=180/Math.PI*w,j=y.startValue;if(!f&&"parentDist"in e){var L=e.parentDist;M=(n=Ia(t,k,C,L,0,z))[0],O=n[1],S=n[2],T=(i=Ia(t,k,x,L,0,z))[0],P=i[1],A=i[2],_=(r=Ia(t,k,y,L,0,j))[0],E=r[1],F=r[2]}else b||f?(M=(o=Ua(t,k,C,g,D,z,U))[0],O=o[1],S=o[2],T=(a=Ua(t,k,x,g,v,z,U))[0],P=a[1],A=a[2],_=(s=Ua(t,k,y,g,D,j,U))[0],E=s[1],F=s[2]):(M=(c=Ba(t,k,C,D,p,d,z,U))[0],O=c[1],S=c[2],T=(l=Ba(t,k,x,v,p,d,z,U))[0],P=l[1],A=l[2],_=(u=Ba(t,k,y,D,p,d,j,U))[0],E=u[1],F=u[2]);if(_||M||T||B){var G=ko(h,"rotate("+S+"deg)","rotate("+O+"deg)"),V=function(t,e,n,i){return Uo(t,"rotate("+e+"deg)",Bo(t),n,i)}(t,O,h.fixedPosition,h),N=li(ci(m||[0,0],V),h.prevInverseDist||[0,0]);h.prevInverseDist=V;var q=Kr(t,e,or({delta:M,dist:O,rotate:S,beforeDist:P,beforeDelta:T,beforeRotate:A,absoluteDist:E,absoluteDelta:_,absoluteRotate:F,isPinch:!!b},Io(t,G,N,b,e)));return Zr(t,"onRotate",q),q}}},dragControlEnd:function(t,e){var n=e.datas,i=e.isDrag;return!!n.isRotate&&(n.isRotate=!1,Zr(t,"onRotateEnd",Qr(t,e,{})),i)},dragGroupControlCondition:za,dragGroupControlStart:function(t,e){var n=e.datas,i=t.state,r=i.left,o=i.top,a=i.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(n.beforeDirection*t.rotation);var c=xo(t,this,"dragControlStart",e,(function(t,e){var n=t.state,i=n.beforeOrigin,s=ci(li([n.left,n.top],[r,o]),li(i,a));return e.datas.groupClient=s,or(or({},e),{parentRotate:0})})),l=Zr(t,"onRotateGroupStart",or(or({},s),{targets:t.props.targets,events:c}));return n.isRotate=!1!==l,!!n.isRotate&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isRotate){var i=this.dragControl(t,e);if(i){var r=n.beforeDirection,o=i.beforeDist,a=i.beforeDelta/180*Math.PI,s=xo(t,this,"dragControl",e,(function(t,e){var n=e.datas.groupClient,i=n[0],s=n[1],c=bi([i,s],a*r),l=c[0],u=c[1],h=[l-i,u-s];return e.datas.groupClient=[l,u],or(or({},e),{parentRotate:o,groupDelta:h})}));t.rotation=r*i.beforeRotate;var c=or({targets:t.props.targets,events:s,set:function(e){t.rotation=e}},i);return Zr(t,"onRotateGroup",c),c}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isRotate)return this.dragControlEnd(t,e),xo(t,this,"dragControlEnd",e),Zr(t,"onRotateGroupEnd",Qr(t,e,{targets:t.props.targets})),n},request:function(t){var e={},n=0,i=t.getRotation();return{isControl:!0,requestStart:function(t){return{datas:e}},request:function(t){return"deltaRotate"in t?n+=t.deltaRotate:"rotate"in t&&(n=t.rotate-i),{datas:e,parentDist:n}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function La(t,e,n){var i=t.state,r=i.renderPoses,o=i.rotation,a=t.props,s=a.renderDirections,c=void 0===s?e:s,l=a.zoom,u=t.state.direction,h={};return c.forEach((function(t){h[t]=!0})),c.map((function(t){var e=mr[t];if(!e||!h[t])return null;var i=Xr(o/Math.PI*180,15)+vr[t];return u<1&&(i=360-i),i%=180,n.createElement("div",{className:Cr("control","direction",t),"data-rotation":i,"data-direction":t,key:"direction-"+t,style:zr.apply(void 0,ar([o,l],e.map((function(t){return r[t]}))))})}))}function Ga(t,e,n,i,r,o){for(var a=[],s=6;s<arguments.length;s++)a[s-6]=arguments[s];var c=dt(n,i),l=e?Xr(c/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line"+o,className:Cr.apply(void 0,ar(["line","direction",e],a)),"data-rotation":l,"data-line-index":o,"data-direction":e,style:Br(n,i,r,c)})}function Va(t,e){return La(t,br,e)}function Na(t,e){return La(t,["nw","ne","sw","se"],e)}var qa={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean},events:{onResizeStart:"resizeStart",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:function(t,e){var n=t.props;if(n.resizable)return n.edge?Na(t,e):Va(t,e)},dragControlCondition:lo,dragControlStart:function(t,e){var n,i=e.isPinch,r=e.datas,o=e.parentFlag,a=e.parentDirection||(i?[0,0]:Nr(e.inputEvent.target)),s=t.state,c=s.target,l=s.width,u=s.height;if(!a||!c)return!1;!i&&yo(t,e),r.datas={},r.direction=a,r.startOffsetWidth=l,r.startOffsetHeight=u,r.prevWidth=0,r.prevHeight=0,n=function(t){var e=window.getComputedStyle(t);return[parseFloat(e.width),parseFloat(e.height)]}(c),r.startWidth=n[0],r.startHeight=n[1];var h=[Math.max(0,l-r.startWidth),Math.max(0,u-r.startHeight)];if(r.minSize=h,r.maxSize=[1/0,1/0],!o){var p=window.getComputedStyle(c);r.minSize=ci([parseFloat(p.minWidth)||0,parseFloat(p.minHeight)||0],h),r.maxSize=ci([parseFloat(p.maxWidth)||1/0,parseFloat(p.maxHeight)||1/0],h)}var d=t.props.transformOrigin||"% %";function g(t){r.ratio=t&&isFinite(t)?t:0}function f(e){r.fixedDirection=e,r.fixedPosition=jo(t,e)}r.transformOrigin=d&&K(d)?d.split(" "):d,r.isWidth=!a[0]&&!a[1]||a[0]||!a[1],g(l/u),f([-a[0],-a[1]]);var b=Kr(t,e,{direction:a,set:function(t){var e=t[1];r.startWidth=t[0],r.startHeight=e},setMin:function(t){r.minSize=t},setMax:function(t){r.maxSize=t},setRatio:g,setFixedDirection:f,setOrigin:function(t){r.transformOrigin=t},dragStart:Da.dragStart(t,(new bo).dragStart([0,0],e))});return!1!==Zr(t,"onResizeStart",b)&&(r.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:a}),!!r.isResize&&b},dragControl:function(t,e){var n,i=e.datas,r=e.distX,o=e.distY,a=e.isPinch,s=e.parentDistance,c=e.parentScale,l=e.dragClient,u=e.parentDist,h=e.isRequest,p=i.transformOrigin,d=i.fixedDirection,g=i.startWidth,f=i.startHeight,b=i.prevWidth,m=i.prevHeight,v=i.minSize,x=i.maxSize,C=i.ratio,y=i.isWidth;if(i.isResize){var w=t.props,k=w.throttleResize,M=void 0===k?0:k,O=w.parentMoveable,S=w.snapThreshold,T=void 0===S?5:S,P=i.direction,A=P,_=0,E=0;P[0]||P[1]||(A=[1,1]);var F=C&&(t.props.keepRatio||e.parentKeepRatio),D=l,R=i.startOffsetWidth,I=i.startOffsetHeight;if(l||(D=!e.parentFlag&&a?jo(t,[0,0]):i.fixedPosition),u)_=u[0],E=u[1];else if(c)_=(c[0]-1)*R,E=(c[1]-1)*I;else if(a)s&&(_=s,E=s*I/R);else{var U=So({datas:i,distX:r,distY:o});if(_=A[0]*U[0],E=A[1]*U[1],F&&R&&I){var B=dt([0,0],U),z=dt([0,0],A),j=dt([0,0],[R,I]),L=Ir([_,E]),G=Math.cos(B-z)*L;A[0]?A[1]?(_=Math.cos(j)*G,E=Math.sin(j)*G):E=(_=G)*C:_=(E=G)/C}else if(!F){var V=ar(P);R||(U[0]<0?V[0]=-1:U[0]>0&&(V[0]=1)),I||(U[1]<0?V[1]=-1:U[1]>0&&(V[1]=1)),P=V,_=(A=V)[0]*U[0],E=A[1]*U[1]}}var N=A[0]||F?Math.max(R+_,1e-7):R,q=A[1]||F?Math.max(I+E,1e-7):I;F&&R&&I&&(y?q=N/C:N=q*C);var Y=[0,0];if(a||(Y=function(t,e,n,i,r,o,a){if(!pa(t,"resizable"))return[0,0];var s=t.state,c=s.allMatrix,l=s.is3d;return ya(t,(function(t,o){return ga(c,e+t,n+o,r,i,l)}),e,n,i,r,o,a)}(t,N,q,P,D,h,i)),u&&(!u[0]&&(Y[0]=0),!u[1]&&(Y[1]=0)),F){A[0]&&A[1]&&Y[0]&&Y[1]&&(Math.abs(Y[0])>Math.abs(Y[1])?Y[1]=0:Y[0]=0);var X=!Y[0]&&!Y[1];X&&(y?N=Xr(N,M):q=Xr(q,M)),A[0]&&!A[1]||Y[0]&&!Y[1]||X&&y?q=(N+=Y[0])/C:(!A[0]&&A[1]||!Y[0]&&Y[1]||X&&!y)&&(N=(q+=Y[1])*C)}else R+_<-T&&(Y[0]=0),R+E<-T&&(Y[1]=0),N+=Y[0],q+=Y[1],Y[0]||(N=Xr(N,M)),Y[1]||(q=Xr(q,M));N=(n=function(t,e,n,i){if(!i)return t.map((function(t,i){return lt(t,e[i],n[i])}));var r=t[0],o=t[1],a=ht(t,e,!1),s=a[0],c=a[1],l=ht(t,n,!0),u=l[0],h=l[1];return r<s||o<c?(r=s,o=c):(r>u||o>h)&&(r=u,o=h),[r,o]}([N,q],v,x,F))[0],q=n[1];var H=[(_=(N=Math.round(N))-R)-b,(E=(q=Math.round(q))-I)-m];i.prevWidth=_,i.prevHeight=E;var W=function(t,e,n,i,r,o){var a=t.props.groupable,s=t.state,c=s.is3d?4:3,l=a?s.left:0,u=a?s.top:0;return li(function(t,e,n,i,r,o){var a=Ao(Er(e,n,i,r),o);return[t[0]-a[0],t[1]-a[1]]}(r,_o(s.offsetMatrix,s.targetMatrix,function(t,e,n,i,r,o){return void 0===i&&(i=e),void 0===r&&(r=n),void 0===o&&(o=[0,0]),t?t.map((function(t,a){var s=nt(t),c=s.value,l=s.unit,u=a?r:i,h=a?n:e;return"%"===t||isNaN(c)?h*(u?o[a]/u:0):"%"!==l?c:h*c/100})):o}(o,e,n,s.width,s.height,s.transformOrigin),c),e,n,c,i),[l,u])}(t,N,q,d,D,p);if(O||!H.every((function(t){return!t}))||!W.every((function(t){return!t}))){var K=Kr(t,e,{width:g+_,height:f+E,offsetWidth:N,offsetHeight:q,direction:P,dist:[_,E],delta:H,isPinch:!!a,drag:Da.drag(t,fo(e,t.state,W,!!a,!1))});return Zr(t,"onResize",K),K}}},dragControlAfter:function(t,e){var n=e.datas;if(n.isResize){var i=t.state,r=i.width-(n.startOffsetWidth+n.prevWidth),o=i.height-(n.startOffsetHeight+n.prevHeight),a=Math.abs(r)>3,s=Math.abs(o)>3;return a&&(n.startWidth+=r,n.startOffsetWidth+=r,n.prevWidth+=r),s&&(n.startHeight+=o,n.startOffsetHeight+=o,n.prevHeight+=o),a||s?(this.dragControl(t,e),!0):void 0}},dragControlEnd:function(t,e){var n=e.datas,i=e.isDrag;return!!n.isResize&&(n.isResize=!1,Zr(t,"onResizeEnd",Qr(t,e,{})),i)},dragGroupControlCondition:lo,dragGroupControlStart:function(t,e){var n=e.datas,i=this.dragControlStart(t,e);if(!i)return!1;var r=mo(t,"resizable",e);function o(e,i){var r=n.fixedPosition,o=jo(e,n.fixedDirection),a=hi(xi(-t.rotation/180*Math.PI,3),[o[0]-r[0],o[1]-r[1],1],3),s=a[1];return i.datas.originalX=a[0],i.datas.originalY=s,i}var a=xo(t,this,"dragControlStart",e,(function(t,e){return o(t,e)})),s=or(or({},i),{targets:t.props.targets,events:a,setFixedDirection:function(e){i.setFixedDirection(e),a.forEach((function(n,i){n.setFixedDirection(e),o(t.moveables[i],r[i])}))}}),c=Zr(t,"onResizeGroupStart",s);return n.isResize=!1!==c,!!n.isResize&&i},dragGroupControl:function(t,e){var n=e.datas;if(n.isResize){var i=this.dragControl(t,e);if(i){var r=i.offsetWidth,o=i.offsetHeight,a=i.dist,s=t.props.keepRatio,c=[r/(r-a[0]),o/(o-a[1])],l=n.fixedPosition,u=xo(t,this,"dragControl",e,(function(e,n){var i=hi(xi(t.rotation/180*Math.PI,3),[n.datas.originalX*c[0],n.datas.originalY*c[1],1],3),r=i[0],o=i[1];return or(or({},n),{parentDist:null,parentScale:c,dragClient:ci(l,[r,o]),parentKeepRatio:s})})),h=or({targets:t.props.targets,events:u},i);return Zr(t,"onResizeGroup",h),h}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isResize)return this.dragControlEnd(t,e),xo(t,this,"dragControlEnd",e),Zr(t,"onResizeGroupEnd",Qr(t,e,{targets:t.props.targets})),n},request:function(t){var e={},n=0,i=0,r=t.getRect();return{isControl:!0,requestStart:function(t){return{datas:e,parentDirection:t.direction||[1,1]}},request:function(t){return"offsetWidth"in t?n=t.offsetWidth-r.offsetWidth:"deltaWidth"in t&&(n+=t.deltaWidth),"offsetHeight"in t?i=t.offsetHeight-r.offsetHeight:"deltaHeight"in t&&(i+=t.deltaHeight),{datas:e,parentDist:[n,i]}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},Ya={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},events:{onScaleStart:"scaleStart",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:function(t,e){var n=t.props;if(!n.resizable&&n.scalable)return n.edge?Na(t,e):Va(t,e)},dragControlCondition:lo,dragControlStart:function(t,e){var n=e.datas,i=e.isPinch,r=e.parentDirection||(i?[0,0]:Nr(e.inputEvent.target)),o=t.state,a=o.width,s=o.height,c=o.targetTransform;if(!r||!o.target)return!1;function l(e){n.fixedDirection=e,n.fixedPosition=jo(t,e)}i||yo(t,e),Fo(e),n.datas={},n.transform=c,n.prevDist=[1,1],n.direction=r,n.width=a,n.height=s,n.startValue=[1,1],n.isWidth=!r[0]&&!r[1]||r[0]||!r[1],l([-r[0],-r[1]]);var u=Kr(t,e,or(or({direction:r,set:function(t){n.startValue=t},setFixedDirection:l},Eo(e)),{dragStart:Da.dragStart(t,(new bo).dragStart([0,0],e))}));return!1!==Zr(t,"onScaleStart",u)&&(n.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:r}),!!n.isScale&&u},dragControl:function(t,e){wo(e,"scale");var n=e.datas,i=e.distX,r=e.distY,o=e.parentScale,a=e.parentDistance,s=e.isPinch,c=e.dragClient,l=e.parentDist,u=e.isRequest,h=n.prevDist,p=n.direction,d=n.width,g=n.height,f=n.startValue,b=n.isWidth,m=n.fixedDirection;if(!n.isScale)return!1;var v=t.props,x=v.throttleScale,C=v.parentMoveable,y=p;p[0]||p[1]||(y=[1,1]);var w=t.props.keepRatio||e.parentKeepRatio,k=t.state,M=d*f[0],O=g*f[1],S=M/O,T=1,P=1,A=c;if(c||(A=!e.parentFlag&&s?jo(t,[0,0]):n.fixedPosition),l)T=(d+l[0])/d,P=(g+l[1])/g;else if(o)T=o[0],P=o[1];else if(s)a&&(T=(d+a)/d,P=(g+a*g/d)/g);else{var _=So({datas:n,distX:i,distY:r}),E=y[0]*_[0],F=y[1]*_[1];if(w&&d&&g){var D=dt([0,0],_),R=dt([0,0],y),I=dt([0,0],[M,O]),U=Ir([E,F]),B=Math.cos(D-R)*U;y[0]?y[1]?(E=Math.cos(I)*B,F=Math.sin(I)*B):F=(E=B)/S:E=(F=B)*S}T=(d+E)/d,P=(g+F)/g}0===(T=y[0]||w?T*f[0]:f[0])&&(T=1e-9*(h[0]>0?1:-1)),0===(P=y[1]||w?P*f[1]:f[1])&&(P=1e-9*(h[1]>0?1:-1));var z=[T/f[0],P/f[1]],j=[T,P];if(!s&&t.props.groupable){var L=(k.snapRenderInfo||{}).direction;W(L)&&(L[0]||L[1])&&(k.snapRenderInfo={direction:p,request:e.isRequest})}var G=[0,0];if(s||(G=function(t,e,n,i,r){var o=r.width,a=r.height,s=r.fixedPosition;if(!pa(t,"scalable"))return[0,0];var c=r.is3d,l=ya(t,(function(t,i){return ga(function(t,e){var n=t.transformOrigin,i=t.is3d?4:3;return _o(t.offsetMatrix,si(t.targetMatrix,yi(e,i),i),n,i)}(r,ci(e,[t/o,i/a])),o,a,s,n,c)}),o,a,n,s,i,r);return[l[0]/o,l[1]/a]}(t,z,p,u,n)),w){y[0]&&y[1]&&G[0]&&G[1]&&(Math.abs(G[0])>Math.abs(G[1])?G[1]=0:G[0]=0);var V=!G[0]&&!G[1];V&&(b?z[0]=Xr(z[0]*f[0],x)/f[0]:z[1]=Xr(z[1]*f[1],x)/f[1]),y[0]&&!y[1]||G[0]&&!G[1]||V&&b?(z[0]+=G[0],z[1]=d*z[0]*f[0]/S/g/f[1]):(!y[0]&&y[1]||!G[0]&&G[1]||V&&!b)&&(z[1]+=G[1],z[0]=g*z[1]*f[1]*S/d/f[0])}else z[0]+=G[0],z[1]+=G[1],G[0]||(z[0]=Xr(z[0]*f[0],x)/f[0]),G[1]||(z[1]=Xr(z[1]*f[1],x)/f[1]);0===z[0]&&(z[0]=1e-9*(h[0]>0?1:-1)),0===z[1]&&(z[1]=1e-9*(h[1]>0?1:-1));var N,q,Y=[z[0]/h[0],z[1]/h[1]];j=[(N=z)[0]*(q=f)[0],N[1]*q[1]];var X=function(t,e,n,i,r){return Uo(t,"scale("+e.join(", ")+")",n,i,r)}(t,z,m,A,n),H=li(X,n.prevInverseDist||[0,0]);if(n.prevDist=z,n.prevInverseDist=X,T===h[0]&&P===h[1]&&H.every((function(t){return!t}))&&!C)return!1;var K=ko(n,"scale("+j.join(", ")+")","scale("+z.join(", ")+")"),Q=Kr(t,e,or({offsetWidth:d,offsetHeight:g,direction:p,scale:j,dist:z,delta:Y,isPinch:!!s},Io(t,K,H,s,e)));return Zr(t,"onScale",Q),Q},dragControlEnd:function(t,e){var n=e.datas,i=e.isDrag;return!!n.isScale&&(n.isScale=!1,Zr(t,"onScaleEnd",Qr(t,e,{})),i)},dragGroupControlCondition:lo,dragGroupControlStart:function(t,e){var n=e.datas,i=this.dragControlStart(t,e);if(!i)return!1;var r=mo(t,"resizable",e);function o(e,i){var r=n.fixedPosition,o=jo(e,n.fixedDirection),a=hi(xi(-t.rotation/180*Math.PI,3),[o[0]-r[0],o[1]-r[1],1],3),s=a[1];return i.datas.originalX=a[0],i.datas.originalY=s,i}n.moveableScale=t.scale;var a=xo(t,this,"dragControlStart",e,(function(t,e){return o(t,e)})),s=or(or({},i),{targets:t.props.targets,events:a,setFixedDirection:function(e){i.setFixedDirection(e),a.forEach((function(n,i){n.setFixedDirection(e),o(t.moveables[i],r[i])}))}}),c=Zr(t,"onScaleGroupStart",s);return n.isScale=!1!==c,!!n.isScale&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isScale){var i=this.dragControl(t,e);if(i){var r=n.moveableScale;t.scale=[i.scale[0]*r[0],i.scale[1]*r[1]];var o=t.props.keepRatio,a=i.dist,s=i.scale,c=n.fixedPosition,l=xo(t,this,"dragControl",e,(function(e,n){var i=hi(xi(t.rotation/180*Math.PI,3),[n.datas.originalX*a[0],n.datas.originalY*a[1],1],3),r=i[0],l=i[1];return or(or({},n),{parentDist:null,parentScale:s,parentKeepRatio:o,dragClient:ci(c,[r,l])})})),u=or({targets:t.props.targets,events:l},i);return Zr(t,"onScaleGroup",u),u}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isScale)return this.dragControlEnd(t,e),xo(t,this,"dragControlEnd",e),Zr(t,"onScaleGroupEnd",Qr(t,e,{targets:t.props.targets})),n},request:function(){var t={},e=0,n=0;return{isControl:!0,requestStart:function(e){return{datas:t,parentDirection:e.direction||[1,1]}},request:function(i){return{datas:t,parentDist:[e+=i.deltaWidth,n+=i.deltaHeight]}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function Xa(t,e){return t.map((function(t,n){return(t*2+e[n]*1)/3}))}function Ha(t,e,n){var i=dt(t,e),r=dt(t,n)-i;return r>=0?r:r+2*Math.PI}var Wa={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},render:function(t,e){var n=t.props,i=n.zoom;if(n.resizable||n.scalable||!n.warpable)return[];var r=t.state,o=r.pos1,a=r.pos2,s=r.pos3,c=r.pos4,l=Xa(o,a),u=Xa(a,o),h=Xa(o,s),p=Xa(s,o),d=Xa(s,c),g=Xa(c,s),f=Xa(a,c),b=Xa(c,a);return ar([e.createElement("div",{className:Cr("line"),key:"middeLine1",style:Br(l,d,i)}),e.createElement("div",{className:Cr("line"),key:"middeLine2",style:Br(u,g,i)}),e.createElement("div",{className:Cr("line"),key:"middeLine3",style:Br(h,f,i)}),e.createElement("div",{className:Cr("line"),key:"middeLine4",style:Br(p,b,i)})],Va(t,e))},dragControlCondition:function(t){return!t.isRequest&&mt(t.inputEvent.target,Cr("direction"))},dragControlStart:function(t,e){var n=e.datas,i=t.props.target,r=Nr(e.inputEvent.target);if(!r||!i)return!1;var o=t.state,a=o.transformOrigin,s=o.is3d,c=o.targetTransform,l=o.targetMatrix,u=o.width,h=o.height,p=o.left,d=o.top;return n.datas={},n.targetTransform=c,n.warpTargetMatrix=s?l:oi(l,3,4),n.targetInverseMatrix=ni(ii(n.warpTargetMatrix,4),3,4),n.direction=r,n.left=p,n.top=d,yo(t,e),Fo(e),n.poses=[[0,0],[u,0],[0,h],[u,h]].map((function(t){return li(t,a)})),n.nextPoses=n.poses.map((function(t){return hi(n.warpTargetMatrix,[t[0],t[1],0,1],4)})),n.startValue=Ci(4),n.prevMatrix=Ci(4),n.absolutePoses=Yr(o),n.posIndexes=To(r),o.snapRenderInfo={request:e.isRequest,direction:r},!1!==Zr(t,"onWarpStart",Kr(t,e,or({set:function(t){n.startValue=t}},Eo(e))))&&(n.isWarp=!0),n.isWarp},dragControl:function(t,e){var n=e.datas,i=e.isRequest,r=e.distX,o=e.distY,a=n.targetInverseMatrix,s=n.prevMatrix,c=n.startValue,l=n.poses,u=n.posIndexes,h=n.absolutePoses;if(!n.isWarp)return!1;if(wo(e,"matrix3d"),pa(t,"warpable")){var p=u.map((function(t){return h[t]}));p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var d=ma(t,i,p.map((function(t){return[t[0]+r,t[1]+o]})));o-=d.horizontal.offset,r-=d.vertical.offset}var g=So({datas:n,distX:r,distY:o},!0),f=n.nextPoses.slice();if(u.forEach((function(t){f[t]=ci(f[t],g)})),!dr.every((function(t){return e=t.map((function(t){return l[t]})),n=t.map((function(t){return f[t]})),i=Ha(e[0],e[1],e[2]),r=Ha(n[0],n[1],n[2]),!(i>=(o=Math.PI)&&r<=o||i<=o&&r>=o);var e,n,i,r,o})))return!1;var b=ki(l[0],l[2],l[1],l[3],f[0],f[2],f[1],f[3]);if(!b.length)return!1;var m=Mo(n,si(a,b,4),!0),v=si(ii(s,4),m,4);n.prevMatrix=m;var x=si(c,m,4),C=ko(n,"matrix3d("+x.join(", ")+")","matrix3d("+m.join(", ")+")");return Ro(e,C),Zr(t,"onWarp",Kr(t,e,{delta:v,matrix:x,dist:m,multiply:si,transform:C})),!0},dragControlEnd:function(t,e){var n=e.datas,i=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,Zr(t,"onWarpEnd",Qr(t,e,{})),i)}},Ka=Cr("area-pieces"),Qa=Cr("area-piece"),Za=Cr("avoid");function Ja(t){var e=t.areaElement,n=t.state,i=n.width,r=n.height;(function(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}})(e,Za),e.style.cssText+="left: 0px; top: 0px; width: "+i+"px; height: "+r+"px"}function $a(t){return t.createElement("div",{key:"area_pieces",className:Ka},t.createElement("div",{className:Qa}),t.createElement("div",{className:Qa}),t.createElement("div",{className:Qa}),t.createElement("div",{className:Qa}))}var ts={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(t,e){var n=t.props,i=n.target,r=n.dragArea,o=n.groupable,a=t.state,s=a.width,c=a.height,l=a.renderPoses,u=n.passDragArea?Cr("area","pass"):Cr("area");if(o)return[e.createElement("div",{key:"area",ref:rn(t,"areaElement"),className:u}),$a(e)];if(!i||!r)return[];var h=ki([0,0],[s,0],[0,c],[s,c],l[0],l[1],l[2],l[3]),p=h.length?Tr(h,!0):"none";return[e.createElement("div",{key:"area",ref:rn(t,"areaElement"),className:u,style:{top:"0px",left:"0px",width:s+"px",height:c+"px",transformOrigin:"0 0",transform:p}}),$a(e)]},dragStart:function(t,e){var n=e.clientX,i=e.clientY;if(!e.inputEvent)return!1;e.datas.isDragArea=!1;var r,o,a=t.areaElement,s=t.state,c=s.moveableClientRect,l=s.rootMatrix,u=s.is3d,h=c.left,p=c.top,d=Fr(s.renderPoses),g=d.left,f=d.top,b=d.width,m=d.height,v=ro(l,[n-h,i-p],u?4:3),x=v[0],C=v[1],y=[{left:g,top:f,width:b,height:(C-=f)-10},{left:g,top:f,width:(x-=g)-10,height:m},{left:g,top:f+C+10,width:b,height:m-C-10},{left:g+x+10,top:f,width:b-x-10,height:m}],w=[].slice.call(a.nextElementSibling.children);y.forEach((function(t,e){w[e].style.cssText="left: "+t.left+"px;top: "+t.top+"px; width: "+t.width+"px; height: "+t.height+"px;"})),o=Za,(r=a).classList?r.classList.add(o):r.className+=" "+o},drag:function(t,e){var n=e.datas;if(!e.inputEvent)return!1;n.isDragArea||(n.isDragArea=!0,Ja(t))},dragEnd:function(t,e){if(!e.inputEvent)return!1;e.datas.isDragArea||Ja(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){Ja(t)}},es={name:"origin",props:{origin:Boolean},events:{},render:function(t,e){var n=t.props.zoom,i=t.state,r=i.beforeOrigin,o=i.rotation;return[e.createElement("div",{className:Cr("control","origin"),style:zr(o,n,r),key:"beforeOrigin"})]}};function ns(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var is={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragStart:function(t,e){var n=t.props.scrollContainer,i=void 0===n?t.getContainer():n,r=new Ui,o=ho(i,!0);e.datas.dragScroll=r;var a=e.isControl?"controlGesto":"targetGesto",s=e.targets;r.on("scroll",(function(n){var i=Kr(t,e,{scrollContainer:n.container,direction:n.direction}),r=s?"onScrollGroup":"onScroll";s&&(i.targets=s),Zr(t,r,i)})).on("move",(function(n){t[a].scrollBy(n.offsetX,n.offsetY,e.inputEvent,!1)})),r.dragStart(e,{container:o})},checkScroll:function(t,e){var n=e.datas.dragScroll;if(n){var i=t.props,r=i.scrollContainer,o=void 0===r?t.getContainer():r,a=i.scrollThreshold,s=i.getScrollPosition,c=void 0===s?ns:s;return n.drag(e,{container:o,threshold:void 0===a?0:a,getScrollPosition:function(t){return c({scrollContainer:t.container,direction:t.direction})}}),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,or(or({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,or(or({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,or(or({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,or(or({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,or(or({},e),{targets:t.props.targets,isControl:!0}))},dragGroupContro:function(t,e){return this.drag(t,or(or({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,or(or({},e),{targets:t.props.targets}))}},rs={name:"",props:{target:Object,dragTarget:Object,container:Object,rootContainer:Object,zoom:Number,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,props:Object},events:{}},os={name:"padding",props:{padding:Object},events:{},render:function(t,e){var n=t.props;if(n.dragArea)return[];var i=n.padding||{},r=i.left,o=i.top,a=void 0===o?0:o,s=i.right,c=void 0===s?0:s,l=i.bottom,u=void 0===l?0:l,h=t.state,p=h.renderPoses,d=[h.pos1,h.pos2,h.pos3,h.pos4],g=[];return(void 0===r?0:r)>0&&g.push([0,2]),a>0&&g.push([0,1]),c>0&&g.push([1,3]),u>0&&g.push([2,3]),g.map((function(t,n){var i=t[0],r=t[1],o=ki([0,0],[100,0],[0,100],[100,100],d[i],d[r],p[i],p[r]);if(o.length)return e.createElement("div",{key:"padding"+n,className:Cr("padding"),style:{transform:Tr(o,!0)}})}))}},as=["nw","ne","se","sw"];function ss(t,e){var n=t[0]+t[1],i=n>e?e/n:1;return t[0]*=i,t[1]=e-t[1]*i,t}var cs=[1,2,5,6],ls=[0,3,4,7],us=[1,-1,-1,1],hs=[1,1,-1,-1];function ps(t,e,n,i,r,o,a,s,c){void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=i),void 0===c&&(c=r);var l=[],u=!1,h=t.map((function(t,h){var p=e[h],d=p.horizontal,g=p.vertical;if(g&&!u&&(u=!0,l.push("/")),u){var f=Math.max(0,1===g?t[1]-a:c-t[1]);return l.push(so(f,r,n)),f}return f=Math.max(0,1===d?t[0]-o:s-t[0]),l.push(so(f,i,n)),f}));return{styles:l,raws:h}}function ds(t){for(var e=[0,0],n=[0,0],i=t.length,r=0;r<i;++r){var o=t[r];o.sub&&(o.horizontal&&(0===e[1]&&(e[0]=r),e[1]=r-e[0]+1,n[0]=r+1),o.vertical&&(0===n[1]&&(n[0]=r),n[1]=r-n[0]+1))}return{horizontalRange:e,verticalRange:n}}function gs(t,e,n,i,r,o){var a,s,c,l;void 0===o&&(o=[0,0]);var u=t.indexOf("/"),h=(u>-1?t.slice(0,u):t).length,p=t.slice(0,h),d=t.slice(h+1),g=p[0],f=void 0===g?"0px":g,b=p[1],m=void 0===b?f:b,v=p[2],x=p[3],C=d[0],y=void 0===C?f:C,w=d[1],k=void 0===w?y:w,M=d[2],O=void 0===M?y:M,S=d[3],T=void 0===S?k:S,P=[f,m,void 0===v?f:v,void 0===x?m:x].map((function(t){return ct(t,e)})),A=[y,k,O,T].map((function(t){return ct(t,n)})),_=P.slice(),E=A.slice();a=ss([_[0],_[1]],e),_[0]=a[0],_[1]=a[1],s=ss([_[3],_[2]],e),_[3]=s[0],_[2]=s[1],c=ss([E[0],E[3]],n),E[0]=c[0],E[3]=c[1],l=ss([E[1],E[2]],n),E[1]=l[0],E[2]=l[1];var F=_.slice(0,Math.max(o[0],p.length)),D=E.slice(0,Math.max(o[1],d.length));return ar(F.map((function(t,e){return{horizontal:us[e],vertical:0,pos:[i+t,r+(-1===hs[e]?n:0)],sub:!0,raw:P[e],direction:as[e]}})),D.map((function(t,n){return{horizontal:0,vertical:hs[n],pos:[i+(-1===us[n]?e:0),r+t],sub:!0,raw:A[n],direction:as[n]}})))}function fs(t,e,n,i,r){void 0===r&&(r=e.length);var o=ds(t.slice(i)),a=o.horizontalRange,s=o.verticalRange,c=n-i,l=0;if(0===c)l=r;else if(c>0&&c<a[1])l=a[1]-c;else{if(!(c>=s[0]))return;l=s[0]+s[1]-c}t.splice(n,l),e.splice(n,l)}function bs(t,e,n,i,r,o,a,s,c,l,u){void 0===l&&(l=0),void 0===u&&(u=0);var h=ds(t.slice(n)),p=h.horizontalRange,d=h.verticalRange;if(i>-1)for(var g=1===us[i]?o-l:s-o,f=p[1];f<=i;++f){var b=0;if(i===f?b=o:0===f?b=l+g:-1===us[f]&&(b=s-(e[n][0]-l)),t.splice(n+f,0,{horizontal:us[f],vertical:0,pos:[b,C=1===hs[f]?u:c]}),e.splice(n+f,0,[b,C]),0===f)break}else if(r>-1){var m=1===hs[r]?a-u:c-a;if(0===p[1]&&0===d[1]){var v=[l+m,u];t.push({horizontal:us[0],vertical:0,pos:v}),e.push(v)}var x=d[0];for(f=d[1];f<=r;++f){var C=0;if(r===f?C=a:0===f?C=u+m:1===hs[f]?C=e[n+x][1]:-1===hs[f]&&(C=c-(e[n+x][1]-u)),t.push({horizontal:0,vertical:hs[f],pos:[b=1===us[f]?l:s,C]}),e.push([b,C]),0===f)break}}}function ms(t,e){return void 0===e&&(e=t.map((function(t){return t.raw}))),{horizontals:t.map((function(t,n){return t.horizontal?e[n]:null})).filter((function(t){return null!=t})),verticals:t.map((function(t,n){return t.vertical?e[n]:null})).filter((function(t){return null!=t}))}}var vs=[[0,-1,"n"],[1,0,"e"]],xs=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Cs(t,e,n){var i=t.props.clipRelative,r=t.state,o=r.width,a=r.height,s=e.type,c=e.poses,l="rect"===s,u="circle"===s;if("polygon"===s)return n.map((function(t){return so(t[0],o,i)+" "+so(t[1],a,i)}));if(l||"inset"===s){var h=n[1][1],p=n[3][0],d=n[7][0],g=n[5][1];if(l)return[h,p,g,d].map((function(t){return t+"px"}));var f=[h,o-p,a-g,d].map((function(t,e){return so(t,e%2?o:a,i)}));if(n.length>8){var b=li(n[4],n[0]),m=b[0],v=b[1];f.push.apply(f,ar(["round"],ps(n.slice(8),c.slice(8),i,m,v,d,h,p,g).styles))}return f}if(u||"ellipse"===s){var x=n[0],C=so(Math.abs(n[1][1]-x[1]),u?Math.sqrt((o*o+a*a)/2):a,i);return(f=u?[C]:[so(Math.abs(n[2][0]-x[0]),o,i),C]).push("at",so(x[0],o,i),so(x[1],a,i)),f}}function ys(t,e,n,i){var r=[i,(i+e)/2,e],o=[t,(t+n)/2,n];return xs.map((function(t){var e=t[0],n=t[1],i=t[2],a=r[e+1],s=o[n+1];return{vertical:Math.abs(n),horizontal:Math.abs(e),direction:i,pos:[a,s]}}))}function ws(t,e,n,i,r){var o,a,s,c,l,u,h,p=r;if(!p){var d=getComputedStyle(t),g=d.clipPath;p="none"!==g?g:d.clip}if(p&&"none"!==p&&"auto"!==p||(p=i)){var f=et(p),b=f.prefix,m=void 0===b?p:b,v=f.value,x=void 0===v?"":v,C="circle"===m,y=" ";if("polygon"===m)return y=",",{type:m,clipText:p,poses:A=(T=tt(x||"0% 0%, 100% 0%, 100% 100%, 0% 100%")).map((function(t){var i=t.split(" "),r=i[1];return{vertical:1,horizontal:1,pos:[ct(i[0],e),ct(r,n)]}})),splitter:y};if(C||"ellipse"===m){var w,k="",M="",O=0,S=0,T=$(x);C?(k=void 0===(a=T[2])?"50%":a,M=void 0===(s=T[3])?"50%":s,O=ct(void 0===(o=T[0])?"50%":o,Math.sqrt((e*e+n*n)/2)),S=O):(w=void 0===(l=T[1])?"50%":l,k=void 0===(u=T[3])?"50%":u,M=void 0===(h=T[4])?"50%":h,O=ct(void 0===(c=T[0])?"50%":c,e),S=ct(w,n));var P=[ct(k,e),ct(M,n)],A=ar([{vertical:1,horizontal:1,pos:P,direction:"nesw"}],vs.slice(0,C?1:2).map((function(t){return{vertical:Math.abs(t[1]),horizontal:t[0],direction:t[2],sub:!0,pos:[P[0]+t[0]*O,P[1]+t[1]*S]}})));return{type:m,clipText:p,radiusX:O,radiusY:S,left:P[0]-O,top:P[1]-S,poses:A,splitter:y}}if("inset"===m){var _=(T=$(x||"0 0 0 0")).indexOf("round"),E=(_>-1?T.slice(0,_):T).length,F=T.slice(E+1),D=T.slice(0,E),R=D[0],I=D[1],U=void 0===I?R:I,B=D[2],z=D[3],j=void 0===z?U:z,L=[R,void 0===B?R:B].map((function(t){return ct(t,n)})),G=L[0],V=L[1],N=[j,U].map((function(t){return ct(t,e)})),q=e-(H=N[1]),Y=n-V,X=gs(F,q-(W=N[0]),Y-G,W,G);return{type:"inset",clipText:p,poses:A=ar(ys(G,q,Y,W),X),top:G,left:W,right:q,bottom:Y,radius:F,splitter:y}}if("rect"===m){y=",";var H,W,K=(T=tt(x||"0px, "+e+"px, "+n+"px, 0px")).map((function(t){return nt(t).value}));return{type:"rect",clipText:p,poses:A=ys(G=K[0],H=K[1],V=K[2],W=K[3]),top:G,right:H,bottom:V,left:W,values:T,splitter:y}}}}var ks={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[".control.clip-control {\n    background: #6d6;\n    cursor: pointer;\n}\n.control.clip-control.clip-radius {\n    background: #d66;\n}\n.line.clip-line {\n    background: #6e6;\n    cursor: move;\n    z-index: 1;\n}\n.clip-area {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.clip-ellipse {\n    position: absolute;\n    cursor: move;\n    border: 1px solid #6d6;\n    border: var(--zoompx) solid #6d6;\n    border-radius: 50%;\n    transform-origin: 0px 0px;\n}",":host {\n    --bounds-color: #d66;\n}",".guideline {\n    pointer-events: none;\n    z-index: 2;\n}",".line.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}"],render:function(t,e){var n=t.props,i=n.clipArea,r=n.zoom,o=t.state,a=o.target,s=o.width,c=o.height,l=o.allMatrix,u=o.is3d,h=o.left,p=o.top,d=o.pos1,g=o.pos2,f=o.pos3,b=o.pos4,m=o.snapBoundInfos;if(!a)return[];var v=ws(a,s,c,n.defaultClipPath||"inset",o.clipPathState||n.customClipPath);if(!v)return[];var x=u?4:3,C=v.type,y=v.poses.map((function(t){var e=_r(l,t.pos,x);return[e[0]-h,e[1]-p]})),w=[],k=[],M="rect"===C,O="inset"===C,S="polygon"===C;if(M||O||S){var T=O?y.slice(0,8):y;k=T.map((function(t,n){var i=0===n?T[T.length-1]:T[n-1],o=dt(i,t),a=Ur(i,t);return e.createElement("div",{key:"clipLine"+n,className:Cr("line","clip-line","snap-control"),"data-clip-index":n,style:{width:a+"px",transform:"translate("+i[0]+"px, "+i[1]+"px) rotate("+o+"rad) scaleY("+r+")"}})}))}if(w=y.map((function(t,n){return e.createElement("div",{key:"clipControl"+n,className:Cr("control","clip-control","snap-control"),"data-clip-index":n,style:{transform:"translate("+t[0]+"px, "+t[1]+"px) scale("+r+")"}})})),O&&w.push.apply(w,y.slice(8).map((function(t,n){return e.createElement("div",{key:"clipRadiusControl"+n,className:Cr("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+n,style:{transform:"translate("+t[0]+"px, "+t[1]+"px) scale("+r+")"}})}))),"circle"===C||"ellipse"===C){var P=v.radiusX,A=v.radiusY,_=li(_r(l,[v.left,v.top],x),_r(l,[0,0],x)),E=_[0],F=_[1],D="none";if(!i){for(var R=Math.max(10,P/5,A/5),I=[],U=0;U<=R;++U){var B=2*Math.PI/R*U;I.push([P+(P-r)*Math.cos(B),A+(A-r)*Math.sin(B)])}I.push([P,-2]),I.push([-2,-2]),I.push([-2,2*A+2]),I.push([2*P+2,2*A+2]),I.push([2*P+2,-2]),I.push([P,-2]),D="polygon("+I.map((function(t){return t[0]+"px "+t[1]+"px"})).join(", ")+")"}w.push(e.createElement("div",{key:"clipEllipse",className:Cr("clip-ellipse","snap-control"),style:{width:2*P+"px",height:2*A+"px",clipPath:D,transform:"translate("+(-h+E)+"px, "+(-p+F)+"px) "+Tr(l)}}))}if(i){var z=Fr(ar([d,g,f,b],y)),j=z.width,L=z.height,G=z.left,V=z.top;(S||M||O)&&(I=O?y.slice(0,8):y,w.push(e.createElement("div",{key:"clipArea",className:Cr("clip-area","snap-control"),style:{width:j+"px",height:L+"px",transform:"translate("+G+"px, "+V+"px)",clipPath:"polygon("+I.map((function(t){return t[0]-G+"px "+(t[1]-V)+"px"})).join(", ")+")"}})))}return m&&["vertical","horizontal"].forEach((function(t){var n=m[t],i="horizontal"===t;n.isSnap&&k.push.apply(k,n.snap.posInfos.map((function(n,o){var a=n.pos,u=li(_r(l,i?[0,a]:[a,0],x),[h,p]),d=li(_r(l,i?[s,a]:[a,c],x),[h,p]);return Ga(e,"",u,d,r,"clip"+t+"snap"+o,"guideline")}))),n.isBound&&k.push.apply(k,n.bounds.map((function(n,o){var a=n.pos,u=li(_r(l,i?[0,a]:[a,0],x),[h,p]),d=li(_r(l,i?[s,a]:[a,c],x),[h,p]);return Ga(e,"",u,d,r,"clip"+t+"bounds"+o,"guideline","bounds","bold")})))})),ar(w,k)},dragControlCondition:function(t){return t.inputEvent&&(t.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var n=t.props.dragWithClip;return!(void 0===n||n)&&this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,e)},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var n=t.state,i=t.props,r=i.defaultClipPath,o=i.customClipPath,a=n.target,s=n.width,c=n.height,l=e.inputEvent?e.inputEvent.target:null,u=l?l.getAttribute("class"):"",h=e.datas,p=ws(a,s,c,r||"inset",o);if(!p)return!1;var d=p.clipText;return!1===Zr(t,"onClipStart",Kr(t,e,{clipType:p.type,clipStyle:d,poses:p.poses.map((function(t){return t.pos}))}))?(h.isClipStart=!1,!1):(h.isControl=u.indexOf("clip-control")>-1,h.isLine=u.indexOf("clip-line")>-1,h.isArea=u.indexOf("clip-area")>-1||u.indexOf("clip-ellipse")>-1,h.index=l?parseInt(l.getAttribute("data-clip-index"),10):-1,h.clipPath=p,h.isClipStart=!0,n.clipPathState=d,yo(t,e),!0)},dragControl:function(t,e){var n=e.datas,i=e.originalDatas;if(!n.isClipStart)return!1;var r=i&&i.draggable||{},o=n.isControl,a=n.isLine,s=n.isArea,c=n.index,l=n.clipPath;if(!l)return!1;var u=r.isDrag?r.prevDist:So(e),h=u[0],p=u[1],d=t.props,g=t.state,f=g.width,b=g.height,m=!s&&!o&&!a,v=l.type,x=l.poses,C=l.splitter,y=x.map((function(t){return t.pos}));m&&(h=-h,p=-p);var w=!o||"nesw"===x[c].direction,k="inset"===v||"rect"===v,M=x.map((function(){return[0,0]}));if(o&&!w){var O=x[c],S=O.vertical,T=[h*Math.abs(O.horizontal),p*Math.abs(S)];M=function(t,e,n,i){var r=t[e],o=r.direction,a=r.sub,s=t.map((function(){return[0,0]})),c=o?o.split(""):[];if(i&&e<8){var l=c.filter((function(t){return"w"===t||"e"===t}))[0],u=c.filter((function(t){return"n"===t||"s"===t}))[0];s[e]=n,t.forEach((function(t,e){var i=t.direction;i&&(i.indexOf(l)>-1&&(s[e][0]=n[0]),i.indexOf(u)>-1&&(s[e][1]=n[1]))})),l&&(s[1][0]=n[0]/2,s[5][0]=n[0]/2),u&&(s[3][1]=n[1]/2,s[7][1]=n[1]/2)}else o&&!a?c.forEach((function(e){var i="n"===e||"s"===e;t.forEach((function(t,r){var o=t.direction,a=t.horizontal,c=t.vertical;o&&-1!==o.indexOf(e)&&(s[r]=[i||!a?0:n[0],i&&c?n[1]:0])}))})):s[e]=n;return s}(x,c,T,k)}else w&&(M=y.map((function(){return[h,p]})));var P=y.map((function(t,e){return ci(t,M[e])})),A=ar(P);g.snapBoundInfos=null;var _="circle"===l.type,E="ellipse"===l.type;if(_||E){var F=Fr(P),D=Math.abs(F.bottom-F.top),R=Math.abs(E?F.right-F.left:D),I=P[0][1]+D,U=P[0][0]-R;_&&(A.push([P[0][0]+R,F.bottom]),M.push([1,0])),A.push([F.left,I]),M.push([0,1]),A.push([U,F.bottom]),M.push([1,0])}var B=Vo([],f,b,(d.clipHorizontalGuidelines||[]).map((function(t){return ct(""+t,b)})),(d.clipVerticalGuidelines||[]).map((function(t){return ct(""+t,f)}))),z=[],j=[];if(_||E)z=[A[4][0],A[2][0]],j=[A[1][1],A[3][1]];else if(k){var L=[M[0],M[2],M[4],M[6]];z=(Y=[A[0],A[2],A[4],A[6]]).filter((function(t,e){return L[e][0]})).map((function(t){return t[0]})),j=Y.filter((function(t,e){return L[e][1]})).map((function(t){return t[1]}))}else z=A.filter((function(t,e){return M[e][0]})).map((function(t){return t[0]})),j=A.filter((function(t,e){return M[e][1]})).map((function(t){return t[1]}));for(var G=function(t){var e=va(B,d.clipTargetBounds&&{left:0,top:0,right:f,bottom:b},z,j,{snapThreshold:5}),n=e.horizontal,i=e.vertical,r=n.offset,o=i.offset;if(!E&&!_||0!==M[0][0]||0!==M[0][1])return A.forEach((function(t,e){var n=M[e];n[0]&&(t[0]-=o),n[1]&&(t[1]-=r)})),"break";var a=Fr(P),s=a.bottom-a.top,c=E?a.right-a.left:s;c-=i.isBound?Math.abs(o):0===i.snapIndex?-o:o,s-=n.isBound?Math.abs(r):0===n.snapIndex?-r:r,_&&(c=s=Qo(i,n)>0?s:c);var l=A[0];A[1][1]=l[1]-s,A[2][0]=l[0]+c,A[3][1]=l[1]+s,A[4][0]=l[0]-c},V=0;V<2&&"break"!==G();++V);var N=Cs(t,l,P),q=v+"("+N.join(C)+")";if(g.clipPathState=q,_||E)z=[A[4][0],A[2][0]],j=[A[1][1],A[3][1]];else if(k){var Y;z=(Y=[A[0],A[2],A[4],A[6]]).map((function(t){return t[0]})),j=Y.map((function(t){return t[1]}))}else z=A.map((function(t){return t[0]})),j=A.map((function(t){return t[1]}));return g.snapBoundInfos=va(B,d.clipTargetBounds&&{left:0,top:0,right:f,bottom:b},z,j,{snapThreshold:1}),Zr(t,"onClip",Kr(t,e,{clipEventType:"changed",clipType:v,poses:P,clipStyle:q,clipStyles:N,distX:h,distY:p})),!0},dragControlEnd:function(t,e){this.unset(t);var n=e.isDrag,i=e.datas,r=e.isDouble,o=i.isLine,a=i.isControl;return!!i.isClipStart&&(Zr(t,"onClipEnd",Qr(t,e,{})),r&&(a?function(t,e){var n=e.datas,i=n.clipPath,r=n.index,o=i.type,a=i.poses,s=i.splitter,c=a.map((function(t){return t.pos})),l=c.length;if("polygon"===o)a.splice(r,1),c.splice(r,1);else{if("inset"!==o)return;if(r<8)return;if(fs(a,c,r,8,l),l===a.length)return}var u=Cs(t,i,c);Zr(t,"onClip",Kr(t,e,{clipEventType:"removed",clipType:o,poses:c,clipStyles:u,clipStyle:o+"("+u.join(s)+")",distX:0,distY:0}))}(t,e):o&&function(t,e){var n=Co(t,e),i=n[0],r=n[1],o=e.datas,a=o.clipPath,s=o.index,c=a.type,l=a.poses,u=a.splitter,h=l.map((function(t){return t.pos}));if("polygon"===c)h.splice(s,0,[i,r]);else{if("inset"!==c)return;var p=cs.indexOf(s),d=ls.indexOf(s),g=l.length;if(bs(l,h,8,p,d,i,r,h[4][0],h[4][1],h[0][0],h[0][1]),g===l.length)return}var f=Cs(t,a,h);Zr(t,"onClip",Kr(t,e,{clipEventType:"added",clipType:c,poses:h,clipStyles:f,clipStyle:c+"("+f.join(u)+")",distX:0,distY:0}))}(t,e)),r||n)},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},Ms={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[":host[data-able-origindraggable] .control.origin {\n    pointer-events: auto;\n}"],dragControlCondition:function(t){return t.isRequest?"originDraggable"===t.requestAble:mt(t.inputEvent.target,Cr("origin"))},dragControlStart:function(t,e){var n=e.datas;yo(t,e);var i=Kr(t,e,{dragStart:Da.dragStart(t,(new bo).dragStart([0,0],e))}),r=Zr(t,"onDragOriginStart",i);return n.startOrigin=t.state.transformOrigin,n.startTargetOrigin=t.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,!1===r?(n.isDragOrigin=!1,!1):i},dragControl:function(t,e){var n=e.datas,i=e.isPinch,r=e.isRequest;if(!n.isDragOrigin)return!1;var o=So(e),a=t.state,s=a.width,c=a.height,l=a.offsetMatrix,u=a.targetMatrix,h=t.props.originRelative,p=void 0===h||h,d=a.is3d?4:3,g=[o[0],o[1]];if(r){var f=e.distOrigin;(f[0]||f[1])&&(g=f)}var b=ci(n.startOrigin,g),m=ci(n.startTargetOrigin,g),v=li(g,n.prevOrigin),x=_o(l,u,b,d),C=t.getRect(),y=Fr(Er(x,s,c,d)),w=[C.left-y.left,C.top-y.top];n.prevOrigin=g;var k=Kr(t,e,{width:s,height:c,origin:b,dist:g,delta:v,transformOrigin:[so(m[0],s,p),so(m[1],c,p)].join(" "),drag:Da.drag(t,fo(e,t.state,w,!!i,!1))});return Zr(t,"onDragOrigin",k),k},dragControlEnd:function(t,e){return!!e.datas.isDragOrigin&&(Zr(t,"onDragOriginEnd",Qr(t,e,{})),!0)},dragGroupControlCondition:function(t){return this.dragControlCondition(t)},dragGroupControlStart:function(t,e){return!!this.dragControlStart(t,e)},dragGroupControl:function(t,e){var n=this.dragControl(t,e);return!!n&&(t.transformOrigin=n.transformOrigin,!0)},request:function(t){var e={},n=t.getRect(),i=0,r=0,o=n.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaOrigin"in t?(a[0]+=t.deltaOrigin[0],a[1]+=t.deltaOrigin[1]):"origin"in t?(a[0]=t.origin[0]-o[0],a[1]=t.origin[1]-o[1]):("x"in t?i=t.x-n.left:"deltaX"in t&&(i+=t.deltaX),"y"in t?r=t.y-n.top:"deltaY"in t&&(r+=t.deltaY)),{datas:e,distX:i,distY:r,distOrigin:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Os(t,e,n,i,r){var o;if(void 0===i&&(i=[0,0]),r)o=r;else{var a=window.getComputedStyle(t);o=a&&a.borderRadius||""}return gs(!o||!r&&"0px"===o?[]:$(o),e,n,0,0,i)}function Ss(t,e,n,i,r,o){var a=t.state,s=a.width,c=a.height,l=ps(o,r,t.props.roundRelative,s,c),u=l.styles,h=ms(r,l.raws),p=h.horizontals,d=h.verticals,g=u.join(" ");a.borderRadiusState=g,Zr(t,"onRound",Kr(t,e,{horizontals:p,verticals:d,borderRadius:g,width:s,height:c,delta:i,dist:n}))}var Ts={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[".control.border-radius {\n    background: #d66;\n    cursor: pointer;\n}",":host[data-able-roundable] .line.direction {\n    cursor: pointer;\n}"],render:function(t,e){var n=t.state,i=n.target,r=n.allMatrix,o=n.left,a=n.top,s=t.props,c=s.minRoundControls,l=s.maxRoundControls,u=void 0===l?[4,4]:l,h=s.zoom;if(!i)return null;var p=n.is3d?4:3,d=Os(i,n.width,n.height,void 0===c?[0,0]:c,n.borderRadiusState);if(!d)return null;var g=0,f=0;return d.map((function(t,n){f+=Math.abs(t.horizontal),g+=Math.abs(t.vertical);var i=li(_r(r,t.pos,p),[o,a]),s=t.vertical?g<=u[1]:f<=u[0];return e.createElement("div",{key:"borderRadiusControl"+n,className:Cr("control","border-radius"),"data-radius-index":n,style:{display:s?"block":"none",transform:"translate("+i[0]+"px, "+i[1]+"px) scale("+h+")"}})}))},dragControlCondition:function(t){if(!t.inputEvent||t.isRequest)return!1;var e=t.inputEvent.target.getAttribute("class")||"";return e.indexOf("border-radius")>-1||e.indexOf("moveable-line")>-1&&e.indexOf("moveable-direction")>-1},dragControlStart:function(t,e){var n=e.datas,i=e.inputEvent.target,r=i.getAttribute("class")||"",o=r.indexOf("border-radius")>-1,a=r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1,s=o?parseInt(i.getAttribute("data-radius-index"),10):-1,c=a?parseInt(i.getAttribute("data-line-index"),10):-1;if(!o&&!a)return!1;if(!1===Zr(t,"onRoundStart",Kr(t,e,{})))return!1;n.lineIndex=c,n.controlIndex=s,n.isControl=o,n.isLine=a,yo(t,e);var l=t.props,u=l.roundRelative,h=l.minRoundControls,p=void 0===h?[0,0]:h,d=t.state,g=d.target,f=d.width,b=d.height;n.isRound=!0,n.prevDist=[0,0];var m=Os(g,f,b,p)||[];return n.controlPoses=m,d.borderRadiusState=ps(m.map((function(t){return t.pos})),m,u,f,b).styles.join(" "),!0},dragControl:function(t,e){var n=e.datas;if(!n.isRound||!n.isControl||!n.controlPoses.length)return!1;var i=n.controlIndex,r=n.controlPoses,o=So(e),a=o[0],s=o[1],c=[a,s],l=li(c,n.prevDist),u=t.props.maxRoundControls,h=void 0===u?[4,4]:u,p=t.state,d=p.width,g=p.height,f=r[i],b=f.vertical,m=f.horizontal,v=r.map((function(t,e){var n=t.horizontal,i=t.vertical,r=[n*m*c[0],i*b*c[1]];if(n){if(1===h[0])return r;if(h[0]<4&&n!==m)return r}else{if(0===h[1])return r[1]=i*m*c[0]/d*g,r;if(b){if(1===h[1])return r;if(h[1]<4&&i!==b)return r}}return[0,0]}));v[i]=c;var x=r.map((function(t,e){return ci(t.pos,v[e])}));return n.prevDist=[a,s],Ss(t,e,c,l,r,x),!0},dragControlEnd:function(t,e){var n=t.state;n.borderRadiusState="";var i=e.datas,r=e.isDouble;if(!i.isRound)return!1;var o=n.width,a=n.height,s=i.isControl,c=i.controlIndex,l=i.isLine,u=i.lineIndex,h=i.controlPoses,p=h.map((function(t){return t.pos})),d=p.length,g=t.props.roundClickable;if(r&&(void 0===g||g)){if(s)fs(h,p,c,0);else if(l){var f=Co(t,e);!function(t,e,n,i,r,o,a){var s=ms(t),c=s.horizontals.length,l=s.verticals.length,u=-1,h=-1;0===n?0===c?u=0:1===c&&(u=1):3===n&&(c<=2?u=2:c<=3&&(u=3)),2===n?0===l?h=0:l<4&&(h=3):1===n&&(l<=1?h=1:l<=2&&(h=2)),bs(t,e,0,u,h,i,r,o,a)}(h,p,u,f[0],f[1],o,a)}d!==h.length&&Ss(t,e,[0,0],[0,0],h,p),Zr(t,"onRoundEnd",Qr(t,e,{}))}return n.borderRadiusState="",!0},unset:function(t){t.state.borderRadiusState=""}},Ps={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},setTransform:function(t,e){var n=t.state,i=n.targetMatrix,r=n.is3d?"matrix3d("+i.join(",")+")":"matrix("+ui(i,!0)+")";e.datas.startTransforms=[r]},resetTransform:function(t,e){e.datas.nextTransforms=e.datas.startTransforms,e.datas.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return Kr(t,e,{setTransform:function(t){e.datas.startTransforms=W(t)?t:$(t)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return Kr(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),Zr(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){this.resetTransform(t,e),Zr(t,"onBeforeRender",Kr(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){Zr(t,"onBeforeRenderEnd",Kr(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var n=this;this.dragStart(t,e);var i=mo(t,"beforeRenderable",e),r=t.moveables,o=i.map((function(t,e){var i=r[e];return n.setTransform(i,t),n.fillDragStartParams(i,t)}));Zr(t,"onBeforeRenderGroupStart",Kr(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:o}))},dragGroup:function(t,e){var n=this;this.drag(t,e);var i=mo(t,"beforeRenderable",e),r=t.moveables,o=i.map((function(t,e){var i=r[e];return n.resetTransform(i,t),n.fillDragParams(i,t)}));Zr(t,"onBeforeRenderGroup",Kr(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:o}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),Zr(t,"onBeforeRenderGroupEnd",Kr(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},As={name:"Renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragStart:function(t,e){Zr(t,"onRenderStart",Kr(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){Zr(t,"onRender",Kr(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){Zr(t,"onRenderEnd",Kr(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){Zr(t,"onRenderGroupStart",Kr(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){Zr(t,"onRenderGroup",Kr(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroupEnd:function(t,e){Zr(t,"onRenderGroupEnd",Kr(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}};function _s(t,e,n,i,r,o,a){var s="Start"===r,c=o.isRequest;if(!t.state.target||s&&i.indexOf("Control")>-1&&!c&&t.areaElement===o.inputEvent.target)return!1;var l=""+n+i+r,u=""+n+i+"Condition",h="End"===r,p=r.indexOf("After")>-1,d=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());d&&t.updateRect(r,!0,!1),""!==r||p||oo(t.state,o);var g=i.indexOf("Group")>-1,f=ar([Ps],t[e].slice(),[As]);if(c){var b=o.requestAble;f.some((function(t){return t.name===b}))||f.push.apply(f,t.props.ables.filter((function(t){return t.name===b})))}if(!f.length)return!1;var m=f.filter((function(t){return t[l]})),v=o.datas;d&&m.forEach((function(e){e.unset&&e.unset(t)}));var x,C=o.inputEvent;h&&C&&(x=document.elementFromPoint(o.clientX,o.clientY)||C.target);var y=m.filter((function(e){var n=e.name,i=v[n]||(v[n]={});return s&&(i.isEventStart=!e[u]||e[u](o,t)),!!i.isEventStart&&e[l](t,or(or({},o),{datas:i,originalDatas:v,inputTarget:x}))})),w=y.length,k=s&&m.length&&!w;return(h||k)&&(t.state.gesto=null,t.moveables&&t.moveables.forEach((function(t){t.state.gesto=null}))),d&&k&&m.forEach((function(e){e.unset&&e.unset(t)})),!t.isUnmounted&&!k&&((!s&&w&&!a||h)&&(y.some((function(t){return t.updateRect}))&&!g?t.updateRect(r,!1,!1):t.updateRect(r,!0,!1),t.forceUpdate()),s||h||p||!w||a||_s(t,e,n,i,r+"After",o),!0)}function Es(t,e,n){var i=t.controlBox.getElement(),r=[];r.push(i),t.props.dragArea&&!t.props.dragTarget||r.push(e);var o=function(e){var n=e.inputEvent.target;return n===t.areaElement||!t.isMoveableElement(n)||mt(n,"moveable-area")||mt(n,"moveable-padding")};return Fs(t,r,"targetAbles",n,{dragStart:o,pinchStart:o})}function Fs(t,e,n,i,r){void 0===r&&(r={});var o=t.props,a={container:window,pinchThreshold:o.pinchThreshold,pinchOutside:o.pinchOutside},s=new Hi(e,a);return["drag","pinch"].forEach((function(e){["Start","","End"].forEach((function(o){s.on(""+e+o,(function(a){var s=a.eventType;(!r[s]||r[s](a))&&_s(t,n,e,i,o,a)||a.stop()}))}))})),s}var Ds=function(){function t(t,e,n){var i=this;this.target=t,this.moveable=e,this.eventName=n,this.ables=[],this.onEvent=function(t){var e=i.eventName,n=i.moveable;i.ables.forEach((function(i){i[e]({inputEvent:t},n)}))},this.target.addEventListener(this.eventName.toLowerCase(),this.onEvent)}var e=t.prototype;return e.setAbles=function(t){this.ables=t},e.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this.onEvent),this.target=null,this.moveable=null},t}(),Rs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=or({container:null,target:null,gesto:null,renderPoses:[[0,0],[0,0],[0,0],[0,0]]},Gr(null)),e.enabledAbles=[],e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isUnmounted=!1,e.events={mouseEnter:null,mouseLeave:null},e}rr(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=this.state,n=t.edge,i=t.parentPosition,r=t.className,o=t.target,a=t.zoom,s=t.cspNonce,c=t.translateZ,l=t.cssStyled;this.checkUpdate(),this.updateRenderPoses();var u=i||{left:0,top:0},h=u.left,p=u.top,d=e.left,g=e.top,f=e.direction,b=e.renderPoses,m=t.targets,v=(m&&m.length||o)&&e.target,x=this.isDragging(),C={},y={createElement:Tn};return this.getEnabledAbles().forEach((function(t){C["data-able-"+t.name.toLowerCase()]=!0})),Tn(l,or({cspNonce:s,ref:rn(this,"controlBox"),className:Cr("control-box",-1===f?"reverse":"",x?"dragging":"")+" "+r},C,{style:{position:"absolute",display:v?"block":"none",transform:"translate("+(d-h)+"px, "+(g-p)+"px) translateZ("+c+"px)","--zoom":a,"--zoompx":a+"px"}}),this.renderAbles(),Ga(y,n?"n":"",b[0],b[1],a,0),Ga(y,n?"e":"",b[1],b[3],a,1),Ga(y,n?"w":"",b[0],b[2],a,2),Ga(y,n?"s":"",b[2],b[3],a,3))},n.componentDidMount=function(){this.controlBox.getElement();var t=this.props,e=t.parentMoveable,n=t.container,i=t.wrapperMoveable;this.updateEvent(t),this.updateNativeEvents(t),n||e||i||this.updateRect("",!1,!0),this.updateCheckInput()},n.componentDidUpdate=function(t){this.updateNativeEvents(t),this.updateEvent(t),this.updateCheckInput()},n.componentWillUnmount=function(){this.isUnmounted=!0,Wr(this,"targetGesto"),Wr(this,"controlGesto");var t=this.events;for(var e in t){var n=t[e];n&&n.destroy()}},n.getContainer=function(){var t=this.props,e=t.parentMoveable,n=t.wrapperMoveable;return t.container||n&&n.getContainer()||e&&e.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(t){return t&&(t.getAttribute("class")||"").indexOf("moveable-")>-1},n.dragStart=function(t){return this.targetGesto&&this.targetGesto.triggerDragStart(t),this},n.hitTest=function(t){var e,n=this.state,i=n.pos1,r=n.pos2,o=n.pos3,a=n.pos4,s=n.targetClientRect;if(!n.target)return 0;if(t instanceof Element){var c=t.getBoundingClientRect();e={left:c.left,top:c.top,width:c.width,height:c.height}}else e=or({width:0,height:0},t);var l=e.left,u=e.top,h=e.width,p=e.height,d=Ti([i,r,a,o],s),g=Si(function(t,e){var n=t.slice(),i=e.slice();-1===gt(n)&&n.reverse(),-1===gt(i)&&i.reverse();var r=Di(n),o=Di(i),a=r.map((function(t){return _i(t[0],t[1])})),s=o.map((function(t){return _i(t[0],t[1])})),c=[];a.forEach((function(t,e){var n=r[e],a=[];s.forEach((function(i,r){var s=Fi(Ei(t,i),[n,o[r]]);a.push.apply(a,s.map((function(t){return{index1:e,index2:r,pos:t}})))})),a.sort((function(t,e){return ft(n[0],t.pos)-ft(n[0],e.pos)})),c.push.apply(c,a),Ai(n[1],i)&&c.push({index1:e,index2:-1,pos:n[1]})})),o.forEach((function(t,e){if(Ai(t[1],n)){var i=!1,r=ot(c,(function(t){return t.index2===e?(i=!0,!1):!!i}));-1===r&&(i=!1,r=ot(c,(function(t){return-1===t.index1&&t.index2+1===e?(i=!0,!1):!!i}))),-1===r?c.push({index1:-1,index2:e,pos:t[1]}):c.splice(r,0,{index1:-1,index2:e,pos:t[1]})}}));var l=c.map((function(t){return t.pos})),u={};return l.filter((function(t){var e=t[0]+"x"+t[1];return!u[e]&&(u[e]=!0,!0)}))}(d,[[l,u],[l+h,u],[l+h,u+p],[l,u+p]])),f=Si(d);return g&&f?Math.min(100,g/f*100):0},n.isInside=function(t,e){var n=this.state;return!!n.target&&Ai([t,e],Ti([n.pos1,n.pos2,n.pos4,n.pos3],n.targetClientRect))},n.updateRect=function(t,e,n){void 0===n&&(n=!0);var i=this.props,r=i.parentMoveable,o=this.state.target||this.props.target,a=this.getContainer(),s=r?r.props.rootContainer:i.rootContainer;this.updateState(Gr(this.controlBox&&this.controlBox.getElement(),o,a,a,s||a),!r&&n)},n.isTargetChanged=function(t,e){var n=this.props,i=n.dragArea;return!i&&(t.dragTarget||t.target)!==(n.dragTarget||n.target)||(e||i)&&t.dragArea!==i},n.updateNativeEvents=function(t){var e=this,n=this.props.dragArea?this.areaElement:this.state.target,i=this.events,r=at(i);if(this.isTargetChanged(t))for(var o in i){var a=i[o];a&&a.destroy(),i[o]=null}if(n){var s=this.enabledAbles;r.forEach((function(t){var r=$r(s,[t]),o=i[t];r.length>0?(o||(o=new Ds(n,e,t),i[t]=o),o.setAbles(r)):o&&(o.destroy(),i[t]=null)}))}},n.updateEvent=function(t){var e=this.controlBox.getElement(),n=this.targetAbles.length,i=this.controlAbles.length,r=this.props,o=r.dragTarget||r.target,a=this.isTargetChanged(t,!0),s=!n&&this.targetGesto||a;s&&(Wr(this,"targetGesto"),this.updateState({gesto:null})),i||Wr(this,"controlGesto"),o&&n&&!this.targetGesto&&(this.targetGesto=Es(this,o,"")),!this.controlGesto&&i&&(this.controlGesto=Fs(this,e,"controlAbles","Control")),s&&this.unsetAbles()},n.isDragging=function(){return!!this.targetGesto&&this.targetGesto.isFlag()||!!this.controlGesto&&this.controlGesto.isFlag()},n.updateTarget=function(t){this.updateRect(t,!0)},n.getRect=function(){var t=this.state,e=Yr(this.state),n=e[0],i=e[1],r=e[2],o=e[3],a=Fr(e),s=t.width,c=t.height,l=a.width,u=a.height,h=a.left,p=a.top,d=[t.left,t.top],g=ci(d,t.origin);return{width:l,height:u,left:h,top:p,pos1:n,pos2:i,pos3:r,pos4:o,offsetWidth:s,offsetHeight:c,beforeOrigin:ci(d,t.beforeOrigin),origin:g,transformOrigin:t.transformOrigin,rotation:this.getRotation()}},n.getManager=function(){return this},n.getRotation=function(){var t,e,n=this.state;return t=n.direction,e=dt(n.pos1,n.pos2)/Math.PI*180,(e=t>=0?e:180-e)>=0?e:360+e},n.request=function(t,e,n){void 0===e&&(e={});var i=this.props,r=i.groupable,o=i.ables.filter((function(e){return e.name===t}))[0];if(this.isDragging()||!o||!o.request)return{request:function(){return this},requestEnd:function(){return this}};var a=this,s=o.request(this),c=n||e.isInstant,l=s.isControl?"controlAbles":"targetAbles",u=(r?"Group":"")+(s.isControl?"Control":""),h={request:function(e){return _s(a,l,"drag",u,"",or(or({},s.request(e)),{requestAble:t,isRequest:!0}),c),this},requestEnd:function(){return _s(a,l,"drag",u,"End",or(or({},s.requestEnd()),{requestAble:t,isRequest:!0}),c),this}};return _s(a,l,"drag",u,"Start",or(or({},s.requestStart(e)),{requestAble:t,isRequest:!0}),c),c?h.request(e).requestEnd():h},n.destroy=function(){this.componentWillUnmount()},n.updateRenderPoses=function(){var t=this.state,e=this.props,n=t.originalBeforeOrigin,i=t.transformOrigin,r=t.allMatrix,o=t.pos1,a=t.pos2,s=t.pos3,c=t.pos4,l=e.padding||{},u=l.left,h=void 0===u?0:u,p=l.top,d=void 0===p?0:p,g=l.bottom,f=void 0===g?0:g,b=l.right,m=void 0===b?0:b,v=t.is3d?4:3,x=e.groupable?n:ci(n,[t.left,t.top]);t.renderPoses=[ci(o,ao(r,[-h,-d],i,x,v)),ci(a,ao(r,[m,-d],i,x,v)),ci(s,ao(r,[-h,f],i,x,v)),ci(c,ao(r,[m,f],i,x,v))]},n.checkUpdate=function(){var t=this.props,e=t.target,n=t.container,i=t.parentMoveable,r=this.state,o=r.target,a=r.container;(o||e)&&(this.updateAbles(),(!to(o,e)||!to(a,n))&&(this.updateState({target:e,container:n}),i||!n&&!this.controlBox||this.updateRect("End",!1,!1)))},n.triggerEvent=function(t,e){var n=this.props[t];return n&&n(e)},n.useCSS=function(t,e){var n=this.props.customStyledMap,i=t+e;return n[i]||(n[i]=$i(t,e)),n[i]},n.unsetAbles=function(){var t=this;this.targetAbles.filter((function(e){return!!e.unset&&(e.unset(t),!0)})).length&&this.forceUpdate()},n.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props,i=n.triggerAblesSimultaneously,r=t.filter((function(t){return t&&(t.always||n[t.name])})),o="drag"+e+"ControlStart",a=$r(r,["drag"+e+"Start","pinch"+e+"Start"],i),s=$r(r,[o],i);this.enabledAbles=r,this.targetAbles=a,this.controlAbles=s},n.updateState=function(t,e){if(e)this.setState(t);else{var n=this.state;for(var i in t)n[i]=t[i]}},n.getEnabledAbles=function(){var t=this.props;return t.ables.filter((function(e){return e&&t[e.name]}))},n.renderAbles=function(){var t,e,n,i,r=this,o=this.props.triggerAblesSimultaneously,a={createElement:Tn};return(t=no($r(this.getEnabledAbles(),["render"],o).map((function(t){return(0,t.render)(r,a)||[]}))).filter((function(t){return t})),e=function(t){return t.key},n=[],i={},t.forEach((function(t,r){var o=e(t),a=i[o];a||(i[o]=a=[],n.push(a)),a.push(t)})),n).map((function(t){return t[0]}))},n.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,wrapperMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,cspNonce:"",translateZ:50,cssStyled:null,customStyledMap:{},props:{}},e}(Bn),Is={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean},events:{},render:function(t,e){var n=t.props.targets||[];t.moveables=[];var i=t.state,r={left:i.left,top:i.top};return n.map((function(n,i){return e.createElement(Rs,{key:"moveable"+i,ref:on(t,"moveables",i),target:n,origin:!1,cssStyled:t.props.cssStyled,customStyledMap:t.props.customStyledMap,parentMoveable:t,parentPosition:r})}))}};function Us(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),or(or({},t),{datas:e})}var Bs={name:"edgeDraggable",props:{edgeDraggable:Boolean},events:{},dragControlCondition:function(t,e){if(!e.props.edgeDraggable||!t.inputEvent)return!1;var n=t.inputEvent.target;return mt(n,Cr("direction"))&&mt(n,Cr("line"))},dragControlStart:function(t,e){return Da.dragStart(t,Us(e))},dragControl:function(t,e){return Da.drag(t,Us(e))},dragControlEnd:function(t,e){return Da.dragEnd(t,Us(e))},dragGroupControlCondition:function(t,e){if(!e.props.edgeDraggable||!t.inputEvent)return!1;var n=t.inputEvent.target;return mt(n,Cr("direction"))&&mt(n,Cr("line"))},dragGroupControlStart:function(t,e){return Da.dragGroupStart(t,Us(e))},dragGroupControl:function(t,e){return Da.dragGroup(t,Us(e))},dragGroupControlEnd:function(t,e){return Da.dragGroupEnd(t,Us(e))},unset:function(t){t.state.dragInfo=null}},zs={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},js=[Ps,rs,Fa,go,Da,Bs,ja,qa,Ya,Wa,is,os,es,Ms,ks,Ts,Is,zs,{name:"clickable",props:{},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var n=t.state.target,i=e.inputTarget;if(e.inputEvent&&i&&!e.isDrag&&!t.isMoveableElement(i)){var r=n.contains(i);Zr(t,"onClick",Kr(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:n===i,containsTarget:r}))}},dragGroupEnd:function(t,e){var n=e.inputTarget;if(e.inputEvent&&n&&!e.isDrag&&!t.isMoveableElement(n)&&e.datas.inputTarget!==n){var i=t.props.targets,r=i.indexOf(n),o=r>-1,a=!1;-1===r&&(a=(r=ot(i,(function(t){return t.contains(n)})))>-1),Zr(t,"onClickGroup",Kr(t,e,{isDouble:e.isDouble,targets:i,inputTarget:n,targetIndex:r,isTarget:o,containsTarget:a}))}}},ts,As],Ls=js.reduce((function(t,e){return or(or({},t),e.events)}),{}),Gs=js.reduce((function(t,e){return or(or({},t),e.props)}),{}),Vs=Object.keys(uo(Ls)),Ns=Object.keys(Gs);function qs(t,e){return Math.max.apply(Math,t.map((function(t){return Math.max(t[0][e],t[1][e],t[2][e],t[3][e])})))}function Ys(t,e){return Math.min.apply(Math,t.map((function(t){return Math.min(t[0][e],t[1][e],t[2][e],t[3][e])})))}var Xs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.differ=new nr,e.moveables=[],e.transformOrigin="50% 50%",e}rr(e,t);var n=e.prototype;return n.updateEvent=function(t){var e=this.state,n=this.props,i=n.dragTarget||this.areaElement;(t.dragTarget||e.target)!==i&&(Wr(this,"targetGesto"),Wr(this,"controlGesto"),e.target=null),e.target||(e.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetGesto=Es(this,i,"Group"),this.controlGesto=Fs(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var r=!to(t.container,n.container);r&&(e.container=n.container);var o=this.differ.update(n.targets);(r||o.added.length||o.changed.length||o.removed.length)&&this.updateRect()},n.checkUpdate=function(){this.updateAbles()},n.updateRect=function(t,e,n){if(void 0===n&&(n=!0),this.controlBox){this.moveables.forEach((function(e){e.updateRect(t,!1,!1)}));var i=this.state,r=this.props,o=i.target||r.target;(!e||""!==t&&r.updateGroup)&&(this.rotation=r.defaultGroupRotate,this.transformOrigin=r.defaultGroupOrigin||"50% 50%",this.scale=[1,1]);var a=this.rotation,s=this.scale,c=function(t,e){if(!t.length)return[0,0,0,0];var n=t.map((function(t){return Yr(t.state)})),i=gr,r=gr,o=0,a=0,s=Xr(e,1e-7);if(s%90){var c=s/180*Math.PI,l=Math.tan(c),u=-1/l,h=[fr,gr],p=[fr,gr];n.forEach((function(t){t.forEach((function(t){var e=t[1]-l*t[0],n=t[1]-u*t[0];h[0]=Math.max(h[0],e),h[1]=Math.min(h[1],e),p[0]=Math.max(p[0],n),p[1]=Math.min(p[1],n)}))})),h.forEach((function(t){p.forEach((function(e){var n=(e-t)/(l-u),o=l*n+t;i=Math.min(i,n),r=Math.min(r,o)}))}));var d=n.map((function(t){var e=t[1],n=t[2],i=t[3];return[bi(t[0],-c),bi(e,-c),bi(n,-c),bi(i,-c)]}));o=qs(d,0)-Ys(d,0),a=qs(d,1)-Ys(d,1)}else if(i=Ys(n,0),r=Ys(n,1),o=qs(n,0)-i,a=qs(n,1)-r,s%180){var g=o;o=a,a=g}return[i,r,o,a]}(this.moveables,a),l=c[0],u=c[1],h=c[2],p=c[3],d="rotate("+a+"deg) scale("+(s[0]>=0?1:-1)+", "+(s[1]>=0?1:-1)+")";o.style.cssText+="left:0px;top:0px; transform-origin: "+this.transformOrigin+"; width:"+h+"px; height:"+p+"px;transform:"+d,i.width=h,i.height=p;var g=this.getContainer(),f=Gr(this.controlBox.getElement(),o,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||g),b=[f.left,f.top],m=Yr(f),v=m[0],x=m[1],C=m[2],y=m[3],w=Pi([v,x,C,y]),k=[w.minX,w.minY];f.pos1=li(v,k),f.pos2=li(x,k),f.pos3=li(C,k),f.pos4=li(y,k),f.left=l-f.left+k[0],f.top=u-f.top+k[1],f.origin=li(ci(b,f.origin),k),f.beforeOrigin=li(ci(b,f.beforeOrigin),k),f.originalBeforeOrigin=ci(b,f.originalBeforeOrigin);var M=f.targetClientRect,O=s[0]*s[1]>0?1:-1;M.top+=f.top-i.top,M.left+=f.left-i.left,o.style.transform="translate("+-k[0]+"px, "+-k[1]+"px) "+d,this.updateState(or(or({},f),{direction:O,beforeDirection:O}),n)}},n.getRect=function(){return or(or({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},n.triggerEvent=function(e,n,i){if(i||e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,n)},n.updateAbles=function(){t.prototype.updateAbles.call(this,ar(this.props.ables,[Is]),"Group")},e.defaultProps=or(or({},Rs.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(Rs),Hs=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveables=[],e}rr(e,t);var n=e.prototype;return n.render=function(){var t=this,e=this.props,n=e.targets;return Tn(e.cssStyled,{cspNonce:e.cspNonce,ref:rn(this,"controlBox"),className:Cr("control-box")},n.map((function(e,n){return Tn(Rs,or({key:"moveable"+n,ref:on(t,"moveables",n)},t.props,{target:e,wrapperMoveable:t}))})))},n.componentDidUpdate=function(){},n.updateRect=function(t,e,n){void 0===n&&(n=!0),this.moveables.forEach((function(i){i.updateRect(t,e,n)}))},n.getRect=function(){return or(or({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},n.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},n.dragStart=function(){return this},n.hitTest=function(){return 0},n.isInside=function(){return!1},n.isDragging=function(){return!1},n.updateRenderPoses=function(){},n.updateEvent=function(){},n.checkUpdate=function(){},n.triggerEvent=function(){},n.updateAbles=function(){},e}(Rs),Ws=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rr(e,t),e.defaultAbles=js,e}(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.refTargets=[],e.selectorMap={},e}rr(e,t);var n=e.prototype;return e.makeStyled=function(){var t={};this.getTotalAbles().forEach((function(e){var n=e.css;n&&n.forEach((function(e){t[e]=!0}))}));var e=at(t).join("\n");this.defaultStyled=$i("div",(pr+e).replace(/([^}{]*){/gm,(function(t,e){return e.replace(/\.([^{,\s\d.]+)/g,".moveable-$1")+"{"})))},e.getTotalAbles=function(){return ar([rs,Is,zs,ts],this.defaultAbles)},n.render=function(){var t=this.constructor;t.defaultStyled||t.makeStyled();var e=this.props,n=e.ables,i=e.props,r=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(e,["ables","props"]),o=po(r.target||r.targets),a=function(t,e){var n=[];return t.forEach((function(t){t&&(K(t)?e[t]&&n.push.apply(n,e[t]):n.push(t))})),n}(o,this.selectorMap);this.refTargets=o;var s=a.length>1,c=ar(t.getTotalAbles(),n||[]),l=or(or(or({},r),i||{}),{ables:c,cssStyled:t.defaultStyled,customStyledMap:t.customStyledMap});return s?r.individualGroupable?Tn(Hs,or({key:"individual-group",ref:rn(this,"moveable")},l,{target:null,targets:a})):Tn(Xs,or({key:"group",ref:rn(this,"moveable")},l,{target:null,targets:a})):Tn(Rs,or({key:"single",ref:rn(this,"moveable")},l,{target:a[0]}))},n.componentDidMount=function(){this.updateRefs()},n.componentDidUpdate=function(){this.updateRefs()},n.updateRefs=function(t){var e=po(this.props.target||this.props.targets),n=this.refTargets.some((function(t,n){var i=e[n];return!(!t&&!i)&&t!==i})),i=t?{}:this.selectorMap,r={};this.refTargets.forEach((function(t){K(t)&&(i[t]?r[t]=i[t]:(n=!0,r[t]=[].slice.call(document.querySelectorAll(t))))})),this.selectorMap=r,n&&this.forceUpdate()},n.getManager=function(){return this.moveable},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([sn(xr)],e.prototype,"moveable",void 0),e}(Bn)),Ks=function(t,e){return(Ks=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Qs(t,e){function n(){this.constructor=t}Ks(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Zs=function(){return(Zs=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Js=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n.state=n.props,n}return Qs(e,t),e.prototype.render=function(){return t=Tn(Ws,Zs({ref:rn(this,"moveable")},this.state)),Tn(zn,{element:t,container:this.state.parentElement});var t},e}(Un),$s=Ns,tc=xr,ec=Vs,nc=function(){return(nc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ic=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Qs(e,t),e}(function(t){function e(e,n){void 0===n&&(n={});var i=t.call(this)||this;i.tempElement=document.createElement("div");var r=Zs({container:e||document.body},n),o={};ec.forEach((function(t){var e;o[(e="on "+t,e.replace(/[\s-_]([a-z])/g,(function(t,e){return e.toUpperCase()})))]=function(e){return i.trigger(t,e)}})),Gn(Tn(Js,Zs({ref:rn(i,"innerMoveable"),parentElement:e},r,o)),i.tempElement);var a=r.target;return W(a)&&a.length>1&&i.updateRect(),i}Qs(e,t);var n=e.prototype;return n.setState=function(t,e){this.innerMoveable.setState(t,e)},n.destroy=function(){Gn(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},n.getMoveable=function(){return this.innerMoveable.moveable},function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([an(tc,(function(t,e){t[e]||(t[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.getMoveable();if(i&&i[e])return i[e].apply(i,t)})})),an($s,(function(t,e){Object.defineProperty(t,e,{get:function(){return this.getMoveable().props[e]},set:function(t){var n;this.setState(((n={})[e]=t,n))},enumerable:!0,configurable:!0})}))],e)}(function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(H(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(H(t))for(var n in t)this.off(n);else if(e){var i=this._events[t];if(i){var r=ot(i,(function(t){return t.listener===e}));r>-1&&i.splice(r,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this;void 0===e&&(e={});var i=this._events[t];if(!t||!i)return!0;var r=!1;return e.eventType=t,e.stop=function(){r=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}(i).forEach((function(i){i.listener(e),i.once&&n.off(t,i.listener)})),!r},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,n){var i=this._events;i[t]=i[t]||[],i[t].push(nc({listener:e},n))},t}()));function rc(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}let oc=(()=>{class t{}return function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([sn(tc,{dragStart:"ngDragStart"}),rc("design:type",ic)],t.prototype,"moveable",void 0),t})(),ac=(()=>{class t extends oc{constructor(){super(),ec.forEach(t=>{this[t]=new o.n})}ngOnInit(){const t={},e={};$s.forEach(e=>{t[e]=this[e]}),ec.forEach(t=>{e[t]=e=>{this[t].emit(e)}}),this.moveable=new ic(this.container||document.body,t),this.moveable.on(e)}ngOnChanges(t){const e=this.moveable;if(e)for(const n in t){const{previousValue:i,currentValue:r}=t[n];i!==r&&(e[n]=r)}}ngOnDestroy(){this.moveable.destroy()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Jb({type:t,selectors:[["ngx-moveable"]],inputs:{draggable:"draggable",resizable:"resizable",scalable:"scalable",rotatable:"rotatable",warpable:"warpable",pinchable:"pinchable",snappable:"snappable",origin:"origin",target:"target",container:"container",throttleDrag:"throttleDrag",throttleDragRotate:"throttleDragRotate",throttleResize:"throttleResize",throttleScale:"throttleScale",throttleRotate:"throttleRotate",keepRatio:"keepRatio",edge:"edge",pinchThreshold:"pinchThreshold",snapCenter:"snapCenter",snapVertical:"snapVertical",snapElement:"snapElement",snapHorizontal:"snapHorizontal",snapThreshold:"snapThreshold",horizontalGuidelines:"horizontalGuidelines",verticalGuidelines:"verticalGuidelines",elementGuidelines:"elementGuidelines",bounds:"bounds",dragArea:"dragArea",rotationPosition:"rotationPosition",baseDirection:"baseDirection",defaultGroupRotate:"defaultGroupRotate",ables:"ables",edgeDraggable:"edgeDraggable",translateZ:"translateZ",passDragArea:"passDragArea",clipTargetBounds:"clipTargetBounds",clipVerticalGuidelines:"clipVerticalGuidelines",clipHorizontalGuidelines:"clipHorizontalGuidelines",clipSnapThreshold:"clipSnapThreshold",className:"className",renderDirections:"renderDirections",scrollable:"scrollable",scrollContainer:"scrollContainer",scrollThreshold:"scrollThreshold",getScrollPosition:"getScrollPosition",rootContainer:"rootContainer",zoom:"zoom",transformOrigin:"transformOrigin",snapDigit:"snapDigit",isDisplaySnapDigit:"isDisplaySnapDigit",innerBounds:"innerBounds",triggerAblesSimultaneously:"triggerAblesSimultaneously",snapGap:"snapGap",pinchOutside:"pinchOutside",padding:"padding",snapDistFormat:"snapDistFormat",dragTarget:"dragTarget",checkInput:"checkInput",cspNonce:"cspNonce",startDragRotate:"startDragRotate",originDraggable:"originDraggable",originRelative:"originRelative",defaultGroupOrigin:"defaultGroupOrigin",groupable:"groupable",clippable:"clippable",customClipPath:"customClipPath",defaultClipPath:"defaultClipPath",clipRelative:"clipRelative",dragWithClip:"dragWithClip",clipArea:"clipArea",roundable:"roundable",roundRelative:"roundRelative",roundClickable:"roundClickable",minRoundControls:"minRoundControls",maxRoundControls:"maxRoundControls",props:"props",individualGroupable:"individualGroupable"},outputs:{dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",dragGroupStart:"dragGroupStart",dragGroup:"dragGroup",dragGroupEnd:"dragGroupEnd",resizeStart:"resizeStart",resize:"resize",resizeEnd:"resizeEnd",resizeGroupStart:"resizeGroupStart",resizeGroup:"resizeGroup",resizeGroupEnd:"resizeGroupEnd",scaleStart:"scaleStart",scale:"scale",scaleEnd:"scaleEnd",scaleGroupStart:"scaleGroupStart",scaleGroup:"scaleGroup",scaleGroupEnd:"scaleGroupEnd",rotateStart:"rotateStart",rotate:"rotate",rotateEnd:"rotateEnd",rotateGroupStart:"rotateGroupStart",rotateGroup:"rotateGroup",rotateGroupEnd:"rotateGroupEnd",warpStart:"warpStart",warp:"warp",warpEnd:"warpEnd",pinchStart:"pinchStart",pinch:"pinch",pinchEnd:"pinchEnd",pinchGroupStart:"pinchGroupStart",pinchGroup:"pinchGroup",pinchGroupEnd:"pinchGroupEnd",click:"click",clickGroup:"clickGroup",renderStart:"renderStart",render:"render",renderEnd:"renderEnd",renderGroupStart:"renderGroupStart",renderGroup:"renderGroup",renderGroupEnd:"renderGroupEnd",scroll:"scroll",scrollGroup:"scrollGroup",snap:"snap",clipStart:"clipStart",clip:"clip",clipEnd:"clipEnd",roundStart:"roundStart",round:"round",roundEnd:"roundEnd",dragOriginStart:"dragOriginStart",dragOrigin:"dragOrigin",dragOriginEnd:"dragOriginEnd",beforeRenderStart:"beforeRenderStart",beforeRender:"beforeRender",beforeRenderEnd:"beforeRenderEnd",beforeRenderGroupStart:"beforeRenderGroupStart",beforeRenderGroup:"beforeRenderGroup",beforeRenderGroupEnd:"beforeRenderGroupEnd"},features:[o.zb,o.Ab],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),sc=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[]]}),t})();var cc=n("0EQZ");let lc=0,uc=(()=>{class t{constructor(){this._stateChanges=new se.a,this._openCloseAllActions=new se.a,this.id="cdk-accordion-"+lc++,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=Object(oe.b)(t)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(t){this.multi&&this._openCloseAllActions.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Kb({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[o.Ab]}),t})(),hc=0,pc=(()=>{class t{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=ce.a.EMPTY,this.closed=new o.n,this.opened=new o.n,this.destroyed=new o.n,this.expandedChange=new o.n,this.id="cdk-accordion-child-"+hc++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=Object(oe.b)(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(oe.b)(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(uc,12),o.Pb(o.h),o.Pb(cc.c))},t.\u0275dir=o.Kb({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[o.Bb([{provide:uc,useValue:void 0}])]}),t})(),dc=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)}}),t})();var gc=n("/uUt"),fc=n("EY2u"),bc=n("R1ws");const mc=["body"];function vc(t,e){}const xc=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Cc=["mat-expansion-panel-header","*","mat-action-row"],yc=function(t,e){return{collapsedHeight:t,expandedHeight:e}},wc=function(t,e){return{value:t,params:e}};function kc(t,e){if(1&t&&o.Qb(0,"span",2),2&t){const t=o.gc();o.lc("@indicatorRotate",t._getExpandedState())}}const Mc=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Oc=["mat-panel-title","mat-panel-description","*"],Sc=new o.q("MAT_ACCORDION"),Tc={indicatorRotate:Object(Me.n)("indicatorRotate",[Object(Me.k)("collapsed, void",Object(Me.l)({transform:"rotate(0deg)"})),Object(Me.k)("expanded",Object(Me.l)({transform:"rotate(180deg)"})),Object(Me.m)("expanded <=> collapsed, void => collapsed",Object(Me.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:Object(Me.n)("expansionHeight",[Object(Me.k)("collapsed, void",Object(Me.l)({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),Object(Me.k)("expanded",Object(Me.l)({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),Object(Me.m)("expanded <=> collapsed, void => collapsed",Object(Me.g)([Object(Me.i)("@indicatorRotate",Object(Me.f)(),{optional:!0}),Object(Me.e)("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:Object(Me.n)("bodyExpansion",[Object(Me.k)("collapsed, void",Object(Me.l)({height:"0px",visibility:"hidden"})),Object(Me.k)("expanded",Object(Me.l)({height:"*",visibility:"visible"})),Object(Me.m)("expanded <=> collapsed, void => collapsed",Object(Me.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};let Pc=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.M))},t.\u0275dir=o.Kb({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),Ac=0;const _c=new o.q("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Ec=(()=>{class t extends pc{constructor(t,e,n,i,r,a,s){super(t,e,n),this._viewContainerRef=i,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new o.n,this.afterCollapse=new o.n,this._inputChanges=new se.a,this._headerId="mat-expansion-panel-header-"+Ac++,this._bodyAnimationDone=new se.a,this.accordion=t,this._document=r,this._bodyAnimationDone.pipe(Object(gc.a)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),s&&(this.hideToggle=s.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=Object(oe.b)(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Object(pe.a)(null),Object(fe.a)(()=>this.expanded&&!this._portal),Object(ge.a)(1)).subscribe(()=>{this._portal=new Oe.h(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(Sc,12),o.Pb(o.h),o.Pb(cc.c),o.Pb(o.P),o.Pb(i.d),o.Pb(bc.a,8),o.Pb(_c,8))},t.\u0275cmp=o.Jb({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var i;1&t&&o.Ib(n,Pc,!0),2&t&&o.rc(i=o.dc())&&(e._lazyContent=i.first)},viewQuery:function(t,e){var n;1&t&&o.Lc(mc,!0),2&t&&o.rc(n=o.dc())&&(e._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&o.Gb("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[o.Bb([{provide:Sc,useValue:void 0}]),o.zb,o.Ab],ngContentSelectors:Cc,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(o.kc(xc),o.jc(0),o.Ub(1,"div",0,1),o.cc("@bodyExpansion.done",(function(t){return e._bodyAnimationDone.next(t)})),o.Ub(3,"div",2),o.jc(4,1),o.Dc(5,vc,0,0,"ng-template",3),o.Tb(),o.jc(6,2),o.Tb()),2&t&&(o.Cb(1),o.lc("@bodyExpansion",e._getExpandedState())("id",e.id),o.Db("aria-labelledby",e._headerId),o.Cb(4),o.lc("cdkPortalOutlet",e._portal))},directives:[Oe.c],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Tc.bodyExpansion]},changeDetection:0}),t})(),Fc=(()=>{class t{constructor(t,e,n,i,r){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=i,this._parentChangeSubscription=ce.a.EMPTY,this._animationsDisabled=!0;const o=t.accordion?t.accordion._stateChanges.pipe(Object(fe.a)(t=>!(!t.hideToggle&&!t.togglePosition))):fc.a;this._parentChangeSubscription=Object(le.a)(t.opened,t.closed,o,t._inputChanges.pipe(Object(fe.a)(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Object(fe.a)(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),n.monitor(e).subscribe(e=>{e&&t.accordion&&t.accordion._handleHeaderFocus(this)}),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}_animationStarted(){this._animationsDisabled=!1}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_keydown(t){switch(t.keyCode){case ae.j:case ae.d:Object(ae.o)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t="program",e){this._focusMonitor.focusVia(this._element,t,e)}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(Ec,1),o.Pb(o.l),o.Pb(re.e),o.Pb(o.h),o.Pb(_c,8))},t.\u0275cmp=o.Jb({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:19,hostBindings:function(t,e){1&t&&(o.Hb("@expansionHeight.start",(function(){return e._animationStarted()})),o.cc("click",(function(){return e._toggle()}))("keydown",(function(t){return e._keydown(t)}))),2&t&&(o.Db("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),o.Kc("@.disabled",e._animationsDisabled)("@expansionHeight",o.qc(16,wc,e._getExpandedState(),o.qc(13,yc,e.collapsedHeight,e.expandedHeight))),o.Gb("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:Oc,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(o.kc(Mc),o.Ub(0,"span",0),o.jc(1),o.jc(2,1),o.jc(3,2),o.Tb(),o.Dc(4,kc,1,1,"span",1)),2&t&&(o.Cb(4),o.lc("ngIf",e._showToggle()))},directives:[i.l],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;position:relative}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[Tc.indicatorRotate,Tc.expansionHeaderHeight]},changeDetection:0}),t})(),Dc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Kb({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),t})(),Rc=(()=>{class t extends uc{constructor(){super(...arguments),this._ownHeaders=new o.D,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=Object(oe.b)(t)}ngAfterContentInit(){this._headers.changes.pipe(Object(pe.a)(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(t=>t.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new re.d(this._ownHeaders).withWrap()}_handleHeaderKeydown(t){const{keyCode:e}=t,n=this._keyManager;e===ae.f?Object(ae.o)(t)||(n.setFirstItemActive(),t.preventDefault()):e===ae.c?Object(ae.o)(t)||(n.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}}return t.\u0275fac=function(e){return Ic(e||t)},t.\u0275dir=o.Kb({type:t,selectors:[["mat-accordion"]],contentQueries:function(t,e,n){var i;1&t&&o.Ib(n,Fc,!0),2&t&&o.rc(i=o.dc())&&(e._headers=i)},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,e){2&t&&o.Gb("mat-accordion-multi",e.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[o.Bb([{provide:Sc,useExisting:t}]),o.zb]}),t})();const Ic=o.Wb(Rc);let Uc=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[i.c,dc,Oe.g]]}),t})();var Bc=n("3Pt+"),zc=n("GU7r");const jc=["input"],Lc=function(){return{enterDuration:150}},Gc=["*"],Vc=new o.q("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),Nc=new o.q("mat-checkbox-click-action");let qc=0;const Yc={provide:Bc.i,useExisting:Object(o.U)(()=>Kc),multi:!0};class Xc{}class Hc{constructor(t){this._elementRef=t}}const Wc=Object(Se.l)(Object(Se.h)(Object(Se.i)(Object(Se.j)(Hc))));let Kc=(()=>{class t extends Wc{constructor(t,e,n,i,r,a,s,c){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._clickAction=a,this._animationMode=s,this._options=c,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++qc,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new o.n,this.indeterminateChange=new o.n,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this._options.color),this.tabIndex=parseInt(r)||0,this._focusMonitor.monitor(t,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),e.markForCheck()})}),this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return(this.id||this._uniqueId)+"-input"}get required(){return this._required}set required(t){this._required=Object(oe.b)(t)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=Object(oe.b)(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=Object(oe.b)(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new Xc;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t="keyboard",e){this._focusMonitor.focusVia(this._inputElement,t,e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-"+n}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.l),o.Pb(o.h),o.Pb(re.e),o.Pb(o.z),o.Zb("tabindex"),o.Pb(Nc,8),o.Pb(bc.a,8),o.Pb(Vc,8))},t.\u0275cmp=o.Jb({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){var n;1&t&&(o.Lc(jc,!0),o.Lc(Se.e,!0)),2&t&&(o.rc(n=o.dc())&&(e._inputElement=n.first),o.rc(n=o.dc())&&(e.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(o.Xb("id",e.id),o.Db("tabindex",null),o.Gb("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[o.Bb([Yc]),o.zb],ngContentSelectors:Gc,decls:17,vars:19,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(o.kc(),o.Ub(0,"label",0,1),o.Ub(2,"div",2),o.Ub(3,"input",3,4),o.cc("change",(function(t){return e._onInteractionEvent(t)}))("click",(function(t){return e._onInputClick(t)})),o.Tb(),o.Ub(5,"div",5),o.Qb(6,"div",6),o.Tb(),o.Qb(7,"div",7),o.Ub(8,"div",8),o.fc(),o.Ub(9,"svg",9),o.Qb(10,"path",10),o.Tb(),o.ec(),o.Qb(11,"div",11),o.Tb(),o.Tb(),o.Ub(12,"span",12,13),o.cc("cdkObserveContent",(function(){return e._onLabelTextChange()})),o.Ub(14,"span",14),o.Fc(15,"\xa0"),o.Tb(),o.jc(16),o.Tb(),o.Tb()),2&t){const t=o.sc(1),n=o.sc(13);o.Db("for",e.inputId),o.Cb(2),o.Gb("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),o.Cb(1),o.lc("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),o.Db("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked()),o.Cb(2),o.lc("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",o.oc(18,Lc))}},directives:[Se.e,zc.a],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox.cdk-keyboard-focused .cdk-high-contrast-active .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})(),Qc=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)}}),t})(),Zc=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[Se.f,Se.d,zc.c,Qc],Se.d,Qc]}),t})();const Jc=["dialogPopup"],$c=["hueSlider"],tl=["alphaSlider"];function el(t,e){if(1&t&&o.Qb(0,"div"),2&t){const t=o.gc();o.Fb("arrow arrow-",t.cpUsePosition,""),o.Cc("top",t.arrowTop,"px")}}function nl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",26),o.cc("newValue",(function(e){return o.wc(t),o.gc().onColorChange(e)}))("dragStart",(function(){return o.wc(t),o.gc().onDragStart("saturation-lightness")}))("dragEnd",(function(){return o.wc(t),o.gc().onDragEnd("saturation-lightness")})),o.Qb(1,"div",13),o.Tb()}if(2&t){const t=o.gc();o.Cc("background-color",t.hueSliderColor),o.lc("rgX",1)("rgY",1),o.Cb(1),o.Cc("top",null==t.slider?null:t.slider.v,"px")("left",null==t.slider?null:t.slider.s,"px")}}function il(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",27),o.cc("click",(function(e){o.wc(t);const n=o.gc();return n.onAddPresetColor(e,n.selectedColor)})),o.Fc(1),o.Tb()}if(2&t){const t=o.gc();o.Eb(t.cpAddColorButtonClass),o.lc("disabled",t.cpPresetColors&&t.cpPresetColors.length>=t.cpMaxPresetColorsLength),o.Cb(1),o.Hc(" ",t.cpAddColorButtonText," ")}}function rl(t,e){1&t&&o.Qb(0,"div",28)}function ol(t,e){if(1&t){const t=o.Vb();o.Ub(0,"input",34),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc(2).onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc(2).onAlphaInput(e)})),o.Tb()}if(2&t){const t=o.gc(2);o.lc("rg",1)("value",null==t.cmykText?null:t.cmykText.a)}}function al(t,e){1&t&&(o.Ub(0,"div"),o.Fc(1,"A"),o.Tb())}function sl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",29),o.Ub(1,"div",30),o.Ub(2,"input",31),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc().onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc().onCyanInput(e)})),o.Tb(),o.Ub(3,"input",31),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc().onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc().onMagentaInput(e)})),o.Tb(),o.Ub(4,"input",31),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc().onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc().onYellowInput(e)})),o.Tb(),o.Ub(5,"input",31),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc().onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc().onBlackInput(e)})),o.Tb(),o.Dc(6,ol,1,2,"input",32),o.Tb(),o.Ub(7,"div",30),o.Ub(8,"div"),o.Fc(9,"C"),o.Tb(),o.Ub(10,"div"),o.Fc(11,"M"),o.Tb(),o.Ub(12,"div"),o.Fc(13,"Y"),o.Tb(),o.Ub(14,"div"),o.Fc(15,"K"),o.Tb(),o.Dc(16,al,2,0,"div",33),o.Tb(),o.Tb()}if(2&t){const t=o.gc();o.Cc("display",3!==t.format?"none":"block"),o.Cb(2),o.lc("rg",100)("value",null==t.cmykText?null:t.cmykText.c),o.Cb(1),o.lc("rg",100)("value",null==t.cmykText?null:t.cmykText.m),o.Cb(1),o.lc("rg",100)("value",null==t.cmykText?null:t.cmykText.y),o.Cb(1),o.lc("rg",100)("value",null==t.cmykText?null:t.cmykText.k),o.Cb(1),o.lc("ngIf","disabled"!==t.cpAlphaChannel),o.Cb(10),o.lc("ngIf","disabled"!==t.cpAlphaChannel)}}function cl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"input",34),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc(2).onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc(2).onAlphaInput(e)})),o.Tb()}if(2&t){const t=o.gc(2);o.lc("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function ll(t,e){1&t&&(o.Ub(0,"div"),o.Fc(1,"A"),o.Tb())}function ul(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",35),o.Ub(1,"div",30),o.Ub(2,"input",36),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc().onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc().onHueInput(e)})),o.Tb(),o.Ub(3,"input",31),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc().onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc().onSaturationInput(e)})),o.Tb(),o.Ub(4,"input",31),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc().onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc().onLightnessInput(e)})),o.Tb(),o.Dc(5,cl,1,2,"input",32),o.Tb(),o.Ub(6,"div",30),o.Ub(7,"div"),o.Fc(8,"H"),o.Tb(),o.Ub(9,"div"),o.Fc(10,"S"),o.Tb(),o.Ub(11,"div"),o.Fc(12,"L"),o.Tb(),o.Dc(13,ll,2,0,"div",33),o.Tb(),o.Tb()}if(2&t){const t=o.gc();o.Cc("display",2!==t.format?"none":"block"),o.Cb(2),o.lc("rg",360)("value",null==t.hslaText?null:t.hslaText.h),o.Cb(1),o.lc("rg",100)("value",null==t.hslaText?null:t.hslaText.s),o.Cb(1),o.lc("rg",100)("value",null==t.hslaText?null:t.hslaText.l),o.Cb(1),o.lc("ngIf","disabled"!==t.cpAlphaChannel),o.Cb(8),o.lc("ngIf","disabled"!==t.cpAlphaChannel)}}function hl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"input",34),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc(2).onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc(2).onAlphaInput(e)})),o.Tb()}if(2&t){const t=o.gc(2);o.lc("rg",1)("value",null==t.rgbaText?null:t.rgbaText.a)}}function pl(t,e){1&t&&(o.Ub(0,"div"),o.Fc(1,"A"),o.Tb())}function dl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",37),o.Ub(1,"div",30),o.Ub(2,"input",38),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc().onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc().onRedInput(e)})),o.Tb(),o.Ub(3,"input",38),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc().onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc().onGreenInput(e)})),o.Tb(),o.Ub(4,"input",38),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc().onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc().onBlueInput(e)})),o.Tb(),o.Dc(5,hl,1,2,"input",32),o.Tb(),o.Ub(6,"div",30),o.Ub(7,"div"),o.Fc(8,"R"),o.Tb(),o.Ub(9,"div"),o.Fc(10,"G"),o.Tb(),o.Ub(11,"div"),o.Fc(12,"B"),o.Tb(),o.Dc(13,pl,2,0,"div",33),o.Tb(),o.Tb()}if(2&t){const t=o.gc();o.Cc("display",1!==t.format?"none":"block"),o.Cb(2),o.lc("rg",255)("value",null==t.rgbaText?null:t.rgbaText.r),o.Cb(1),o.lc("rg",255)("value",null==t.rgbaText?null:t.rgbaText.g),o.Cb(1),o.lc("rg",255)("value",null==t.rgbaText?null:t.rgbaText.b),o.Cb(1),o.lc("ngIf","disabled"!==t.cpAlphaChannel),o.Cb(8),o.lc("ngIf","disabled"!==t.cpAlphaChannel)}}function gl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"input",34),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc(2).onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc(2).onAlphaInput(e)})),o.Tb()}if(2&t){const t=o.gc(2);o.lc("rg",1)("value",t.hexAlpha)}}function fl(t,e){1&t&&(o.Ub(0,"div"),o.Fc(1,"A"),o.Tb())}function bl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",39),o.Ub(1,"div",30),o.Ub(2,"input",40),o.cc("blur",(function(){return o.wc(t),o.gc().onHexInput(null)}))("keyup.enter",(function(e){return o.wc(t),o.gc().onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc().onHexInput(e)})),o.Tb(),o.Dc(3,gl,1,2,"input",32),o.Tb(),o.Ub(4,"div",30),o.Ub(5,"div"),o.Fc(6,"Hex"),o.Tb(),o.Dc(7,fl,2,0,"div",33),o.Tb(),o.Tb()}if(2&t){const t=o.gc();o.Cc("display",0!==t.format?"none":"block"),o.Gb("hex-alpha","forced"===t.cpAlphaChannel),o.Cb(2),o.lc("value",t.hexText),o.Cb(1),o.lc("ngIf","forced"===t.cpAlphaChannel),o.Cb(4),o.lc("ngIf","forced"===t.cpAlphaChannel)}}function ml(t,e){if(1&t){const t=o.Vb();o.Ub(0,"input",34),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc(2).onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc(2).onAlphaInput(e)})),o.Tb()}if(2&t){const t=o.gc(2);o.lc("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function vl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",41),o.Ub(1,"div",30),o.Ub(2,"input",31),o.cc("keyup.enter",(function(e){return o.wc(t),o.gc().onAcceptColor(e)}))("newValue",(function(e){return o.wc(t),o.gc().onValueInput(e)})),o.Tb(),o.Dc(3,ml,1,2,"input",32),o.Tb(),o.Ub(4,"div",30),o.Ub(5,"div"),o.Fc(6,"V"),o.Tb(),o.Ub(7,"div"),o.Fc(8,"A"),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=o.gc();o.Cb(2),o.lc("rg",100)("value",null==t.hslaText?null:t.hslaText.l),o.Cb(1),o.lc("ngIf","disabled"!==t.cpAlphaChannel)}}function xl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",42),o.Ub(1,"span",43),o.cc("click",(function(){return o.wc(t),o.gc().onFormatToggle(-1)})),o.Tb(),o.Ub(2,"span",43),o.cc("click",(function(){return o.wc(t),o.gc().onFormatToggle(1)})),o.Tb(),o.Tb()}}function Cl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"span",50),o.cc("click",(function(e){o.wc(t);const n=o.gc().$implicit;return o.gc(3).onRemovePresetColor(e,n)})),o.Tb()}if(2&t){const t=o.gc(4);o.Eb(t.cpRemoveColorButtonClass)}}function yl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",48),o.cc("click",(function(){o.wc(t);const n=e.$implicit;return o.gc(3).setColorFromString(n)})),o.Dc(1,Cl,1,3,"span",49),o.Tb()}if(2&t){const t=e.$implicit,n=o.gc(3);o.Cc("background-color",t),o.Cb(1),o.lc("ngIf",n.cpAddColorButton)}}function wl(t,e){if(1&t&&(o.Ub(0,"div"),o.Dc(1,yl,2,3,"div",47),o.Tb()),2&t){const t=o.gc(2);o.Eb(t.cpPresetColorsClass),o.Cb(1),o.lc("ngForOf",t.cpPresetColors)}}function kl(t,e){if(1&t&&(o.Ub(0,"div"),o.Fc(1),o.Tb()),2&t){const t=o.gc(2);o.Eb(t.cpPresetEmptyMessageClass),o.Cb(1),o.Gc(t.cpPresetEmptyMessage)}}function Ml(t,e){if(1&t&&(o.Ub(0,"div",44),o.Qb(1,"hr"),o.Ub(2,"div",45),o.Fc(3),o.Tb(),o.Dc(4,wl,2,4,"div",46),o.Dc(5,kl,2,4,"div",46),o.Tb()),2&t){const t=o.gc();o.Cb(3),o.Gc(t.cpPresetLabel),o.Cb(1),o.lc("ngIf",null==t.cpPresetColors?null:t.cpPresetColors.length),o.Cb(1),o.lc("ngIf",!(null!=t.cpPresetColors&&t.cpPresetColors.length)&&t.cpAddColorButton)}}function Ol(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",53),o.cc("click",(function(e){return o.wc(t),o.gc(2).onCancelColor(e)})),o.Fc(1),o.Tb()}if(2&t){const t=o.gc(2);o.Eb(t.cpCancelButtonClass),o.Cb(1),o.Gc(t.cpCancelButtonText)}}function Sl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",53),o.cc("click",(function(e){return o.wc(t),o.gc(2).onAcceptColor(e)})),o.Fc(1),o.Tb()}if(2&t){const t=o.gc(2);o.Eb(t.cpOKButtonClass),o.Cb(1),o.Gc(t.cpOKButtonText)}}function Tl(t,e){if(1&t&&(o.Ub(0,"div",51),o.Dc(1,Ol,2,4,"button",52),o.Dc(2,Sl,2,4,"button",52),o.Tb()),2&t){const t=o.gc();o.Cb(1),o.lc("ngIf",t.cpCancelButton),o.Cb(1),o.lc("ngIf",t.cpOKButton)}}var Pl=function(t){return t[t.HEX=0]="HEX",t[t.RGBA=1]="RGBA",t[t.HSLA=2]="HSLA",t[t.CMYK=3]="CMYK",t}({});class Al{constructor(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a=i}}class _l{constructor(t,e,n,i){this.h=t,this.s=e,this.v=n,this.a=i}}class El{constructor(t,e,n,i){this.h=t,this.s=e,this.l=n,this.a=i}}class Fl{constructor(t,e,n,i,r=1){this.c=t,this.m=e,this.y=n,this.k=i,this.a=r}}let Dl=(()=>{class t{constructor(){this.newValue=new o.n}inputChange(t){const e=t.target.value;if(void 0===this.rg)this.newValue.emit(e);else{const t=parseFloat(e);this.newValue.emit({v:t,rg:this.rg})}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Kb({type:t,selectors:[["","text",""]],hostBindings:function(t,e){1&t&&o.cc("input",(function(t){return e.inputChange(t)}))},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),t})(),Rl=(()=>{class t{constructor(t){this.elRef=t,this.dragEnd=new o.n,this.dragStart=new o.n,this.newValue=new o.n,this.listenerMove=t=>this.move(t),this.listenerStop=()=>this.stop()}mouseDown(t){this.start(t)}touchStart(t){this.start(t)}move(t){t.preventDefault(),this.setCursor(t)}start(t){this.setCursor(t),t.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(t){const e=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageX?t.pageX:t.touches[0].pageX)-e.left-window.pageXOffset}getY(t){const e=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageY?t.pageY:t.touches[0].pageY)-e.top-window.pageYOffset}setCursor(t){const e=this.elRef.nativeElement.offsetWidth,n=this.elRef.nativeElement.offsetHeight,i=Math.max(0,Math.min(this.getX(t),e)),r=Math.max(0,Math.min(this.getY(t),n));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:i/e,v:1-r/n,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:r/n,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:i/e,rgX:this.rgX})}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.l))},t.\u0275dir=o.Kb({type:t,selectors:[["","slider",""]],hostBindings:function(t,e){1&t&&o.cc("mousedown",(function(t){return e.mouseDown(t)}))("touchstart",(function(t){return e.touchStart(t)}))},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),t})();class Il{constructor(t,e,n,i){this.h=t,this.s=e,this.v=n,this.a=i}}class Ul{constructor(t,e,n,i){this.h=t,this.s=e,this.v=n,this.a=i}}let Bl=(()=>{class t{constructor(){this.active=null}setActive(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=t}hsva2hsla(t){const e=t.h,n=t.s,i=t.v,r=t.a;if(0===i)return new El(e,0,0,r);if(0===n&&1===i)return new El(e,1,1,r);{const t=i*(2-n)/2;return new El(e,i*n/(1-Math.abs(2*t-1)),t,r)}}hsla2hsva(t){const e=Math.min(t.h,1),n=Math.min(t.s,1),i=Math.min(t.l,1),r=Math.min(t.a,1);if(0===i)return new _l(e,0,0,r);{const t=i+n*(1-Math.abs(2*i-1))/2;return new _l(e,2*(t-i)/t,t,r)}}hsvaToRgba(t){let e,n,i;const r=t.h,o=t.s,a=t.v,s=t.a,c=Math.floor(6*r),l=6*r-c,u=a*(1-o),h=a*(1-l*o),p=a*(1-(1-l)*o);switch(c%6){case 0:e=a,n=p,i=u;break;case 1:e=h,n=a,i=u;break;case 2:e=u,n=a,i=p;break;case 3:e=u,n=h,i=a;break;case 4:e=p,n=u,i=a;break;case 5:e=a,n=u,i=h;break;default:e=0,n=0,i=0}return new Al(e,n,i,s)}cmykToRgb(t){return new Al((1-t.c)*(1-t.k),(1-t.m)*(1-t.k),(1-t.y)*(1-t.k),t.a)}rgbaToCmyk(t){const e=1-Math.max(t.r,t.g,t.b);return 1===e?new Fl(0,0,0,1,t.a):new Fl((1-t.r-e)/(1-e),(1-t.g-e)/(1-e),(1-t.b-e)/(1-e),e,t.a)}rgbaToHsva(t){let e,n;const i=Math.min(t.r,1),r=Math.min(t.g,1),o=Math.min(t.b,1),a=Math.min(t.a,1),s=Math.max(i,r,o),c=Math.min(i,r,o),l=s,u=s-c;if(n=0===s?0:u/s,s===c)e=0;else{switch(s){case i:e=(r-o)/u+(r<o?6:0);break;case r:e=(o-i)/u+2;break;case o:e=(i-r)/u+4;break;default:e=0}e/=6}return new _l(e,n,l,a)}rgbaToHex(t,e){let n="#"+(1<<24|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return e&&(n+=(256|Math.round(255*t.a)).toString(16).substr(1)),n}normalizeCMYK(t){return new Fl(t.c/100,t.m/100,t.y/100,t.k/100,t.a)}denormalizeCMYK(t){return new Fl(Math.floor(100*t.c),Math.floor(100*t.m),Math.floor(100*t.y),Math.floor(100*t.k),t.a)}denormalizeRGBA(t){return new Al(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)}stringToHsva(t="",e=!1){let n=null;t=(t||"").toLowerCase();const i=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return new Al(parseInt(t[2],10)/255,parseInt(t[3],10)/255,parseInt(t[4],10)/255,isNaN(parseFloat(t[5]))?1:parseFloat(t[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return new El(parseInt(t[2],10)/360,parseInt(t[3],10)/100,parseInt(t[4],10)/100,isNaN(parseFloat(t[5]))?1:parseFloat(t[5]))}}];i.push(e?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(t){return new Al(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,parseInt(t[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(t){return new Al(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,1)}}),i.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(t){return new Al(parseInt(t[1]+t[1],16)/255,parseInt(t[2]+t[2],16)/255,parseInt(t[3]+t[3],16)/255,1)}});for(const r in i)if(i.hasOwnProperty(r)){const e=i[r],o=e.re.exec(t),a=o&&e.parse(o);if(a)return a instanceof Al?n=this.rgbaToHsva(a):a instanceof El&&(n=this.hsla2hsva(a)),n}return n}outputFormat(t,e,n){switch("auto"===e&&(e=t.a<1?"rgba":"hex"),e){case"hsla":const e=this.hsva2hsla(t),i=new El(Math.round(360*e.h),Math.round(100*e.s),Math.round(100*e.l),Math.round(100*e.a)/100);return t.a<1||"always"===n?"hsla("+i.h+","+i.s+"%,"+i.l+"%,"+i.a+")":"hsl("+i.h+","+i.s+"%,"+i.l+"%)";case"rgba":const r=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===n?"rgba("+r.r+","+r.g+","+r.b+","+Math.round(100*r.a)/100+")":"rgb("+r.r+","+r.g+","+r.b+")";default:const o="always"===n||"forced"===n;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),o)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Lb({token:t,factory:t.\u0275fac}),t})(),zl=(()=>{class t{constructor(t,e,n){this.elRef=t,this.cdRef=e,this.service=n,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[Pl.HEX,Pl.RGBA,Pl.HSLA,Pl.CMYK],this.useRootViewContainer=!1}handleEsc(t){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(t)}handleEnter(t){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(t)}ngOnInit(){this.slider=new Il(0,0,0,0),this.sliderDimMax=new Ul(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?Pl.CMYK:"rgba"===this.cpOutputFormat?Pl.RGBA:"hsla"===this.cpOutputFormat?Pl.HSLA:Pl.HEX,this.listenerMouseDown=t=>{this.onMouseDown(t)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new Ul(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(t,e=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(t),this.setColorFromString(t,e),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(t,e,n,i,r,o,a,s,c,l,u,h,p,d,g,f,b,m,v,x,C,y,w,k,M,O,S,T,P,A,_,E,F,D,R,I){this.setInitialColor(n),this.setColorMode(s),this.isIE10=10===function(){let t="";"undefined"!=typeof navigator&&(t=navigator.userAgent.toLowerCase());const e=t.indexOf("msie ");return e>0&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}(),this.directiveInstance=t,this.directiveElementRef=e,this.cpDisableInput=h,this.cpCmykEnabled=c,this.cpAlphaChannel=l,this.cpOutputFormat=u,this.cpDialogDisplay=o,this.cpIgnoredElements=p,this.cpSaveClickOutside=d,this.cpCloseClickOutside=g,this.useRootViewContainer=f,this.width=this.cpWidth=parseInt(i,10),this.height=this.cpHeight=parseInt(r,10),this.cpPosition=b,this.cpPositionOffset=parseInt(m,10),this.cpOKButton=O,this.cpOKButtonText=T,this.cpOKButtonClass=S,this.cpCancelButton=P,this.cpCancelButtonText=_,this.cpCancelButtonClass=A,this.fallbackColor=a||"#fff",this.setPresetConfig(x,C),this.cpPresetColorsClass=y,this.cpMaxPresetColorsLength=w,this.cpPresetEmptyMessage=k,this.cpPresetEmptyMessageClass=M,this.cpAddColorButton=E,this.cpAddColorButtonText=D,this.cpAddColorButtonClass=F,this.cpRemoveColorButtonClass=R,this.cpTriggerElement=I,v||(this.dialogArrowOffset=0),"inline"===o&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===u&&"always"!==l&&"forced"!==l&&(this.cpAlphaChannel="disabled")}setColorMode(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3;break;default:this.cpColorMode=1}}setInitialColor(t){this.initialColor=t}setPresetConfig(t,e){this.cpPresetLabel=t,this.cpPresetColors=e}setColorFromString(t,e=!0,n=!0){let i;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(i=this.service.stringToHsva(t,!0),i||this.hsva||(i=this.service.stringToHsva(t,!1))):i=this.service.stringToHsva(t,!1),i||this.hsva||(i=this.service.stringToHsva(this.fallbackColor,!1)),i&&(this.hsva=i,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(e,n))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(t){this.directiveInstance.sliderDragEnd({slider:t,color:this.outputColor})}onDragStart(t){this.directiveInstance.sliderDragStart({slider:t,color:this.outputColor})}onMouseDown(t){!this.show||this.isIE10||"popup"!==this.cpDialogDisplay||t.target===this.directiveElementRef.nativeElement||this.isDescendant(this.elRef.nativeElement,t.target)||this.isDescendant(this.directiveElementRef.nativeElement,t.target)||0!==this.cpIgnoredElements.filter(e=>e===t.target).length||(this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker())}onAcceptColor(t){t.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(t){this.hsva=null,t.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onFormatToggle(t){const e=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),n=((this.dialogInputFields.indexOf(this.format)+t)%e+e)%e;this.format=this.dialogInputFields[n]}onColorChange(t){this.hsva.s=t.s/t.rgX,this.hsva.v=t.v/t.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(t){this.hsva.h=t.v/t.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(t){this.hsva.v=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(t){this.hsva.a=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(t){if(null===t)this.updateColorPicker();else{t&&"#"!==t[0]&&(t="#"+t);let e=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(e=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const n=e.test(t);n&&(t.length<5&&(t="#"+t.substring(1).split("").map(t=>t+t).join("")),"forced"===this.cpAlphaChannel&&(t+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(t,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:n,value:t,color:this.outputColor})}}onRedInput(t){const e=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.r=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:n,value:e.r,color:this.outputColor})}onBlueInput(t){const e=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.b=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:n,value:e.b,color:this.outputColor})}onGreenInput(t){const e=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.g=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:n,value:e.g,color:this.outputColor})}onHueInput(t){const e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.h=t.v/t.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:e,value:this.hsva.h,color:this.outputColor})}onValueInput(t){const e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.v=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:e,value:this.hsva.v,color:this.outputColor})}onAlphaInput(t){const e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.a=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:e,value:this.hsva.a,color:this.outputColor})}onLightnessInput(t){const e=this.service.hsva2hsla(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.l=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:n,value:e.l,color:this.outputColor})}onSaturationInput(t){const e=this.service.hsva2hsla(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.s=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:n,value:e.s,color:this.outputColor})}onCyanInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.c=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.m=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.y=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.k=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(t,e){t.stopPropagation(),this.cpPresetColors.filter(t=>t===e).length||(this.cpPresetColors=this.cpPresetColors.concat(e),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(t,e){t.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(t=>t!==e),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||(document.addEventListener("mousedown",this.listenerMouseDown),document.addEventListener("touchstart",this.listenerMouseDown)),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(document.removeEventListener("mousedown",this.listenerMouseDown),document.removeEventListener("touchstart",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(t=!0,e=!0,n=!1){if(this.sliderDimMax){let i,r,o;2===this.cpColorMode&&(this.hsva.s=0);const a=this.outputColor;if(r=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(n?(o=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(o)):(o=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(o))),o=this.service.denormalizeRGBA(o),this.sliderH=this.hsva.h):o=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),i=this.service.denormalizeRGBA(this.service.hsvaToRgba(new _l(this.sliderH||this.hsva.h,1,1,1))),e&&(this.hslaText=new El(Math.round(360*r.h),Math.round(100*r.s),Math.round(100*r.l),Math.round(100*r.a)/100),this.rgbaText=new Al(o.r,o.g,o.b,Math.round(100*o.a)/100),this.cpCmykEnabled&&(this.cmykText=new Fl(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(o,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==Pl.RGBA&&this.format!==Pl.CMYK&&this.hsva.a<1&&(this.format=this.hsva.a<1?Pl.RGBA:Pl.HEX),this.hueSliderColor="rgb("+i.r+","+i.g+","+i.b+")",this.alphaSliderColor="rgb("+o.r+","+o.g+","+o.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==Pl.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const t=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${t})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new Il((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),t&&a!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let t,e="static",n="",i=null,r=null,o=this.directiveElementRef.nativeElement.parentNode;const a=this.dialogElement.nativeElement.offsetHeight;for(;null!==o&&"HTML"!==o.tagName;){if(t=window.getComputedStyle(o),e=t.getPropertyValue("position"),n=t.getPropertyValue("transform"),"static"!==e&&null===i&&(i=o),n&&"none"!==n&&null===r&&(r=o),"fixed"===e){i=r;break}o=o.parentNode}const s=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==e);if(this.useRootViewContainer||"fixed"===e&&(!i||i instanceof HTMLUnknownElement))this.top=s.top,this.left=s.left;else{null===i&&(i=o);const t=this.createDialogBox(i,"fixed"!==e);this.top=s.top-t.top,this.left=s.left-t.left}"fixed"===e&&(this.position="fixed");let c=this.cpPosition;"auto"===this.cpPosition&&(c=function(t,e){let n="right",i="bottom";const{height:r,width:o}=t,{top:a,left:s}=e,c=a+e.height,l=s+e.width,u=a-r<0,h=c+r>(window.innerHeight||document.documentElement.clientHeight),p=s-o<0,d=l+o>(window.innerWidth||document.documentElement.clientWidth);return h&&(i="top"),u&&(i="bottom"),p&&(n="right"),d&&(n="left"),u&&h&&p&&d?["left","right","top","bottom"].reduce((e,n)=>t[e]>t[n]?e:n):p&&d?u?"bottom":h||a>c?"top":"bottom":u&&h?p?"right":d||s>l?"left":"right":`${i}-${n}`}(this.dialogElement.nativeElement.getBoundingClientRect(),this.cpTriggerElement.nativeElement.getBoundingClientRect())),"top"===c?(this.arrowTop=a-1,this.top-=a+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*s.width-this.dialogArrowOffset):"bottom"===c?(this.top+=s.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*s.width-this.dialogArrowOffset):"top-left"===c||"left-top"===c?(this.top-=a-s.height+s.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===c||"right-top"===c?(this.top-=a-s.height+s.height*this.cpPositionOffset/100,this.left+=s.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===c||"bottom-left"===c||"left-bottom"===c?(this.top+=s.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=s.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=s.width+this.dialogArrowSize-2),this.cpUsePosition=c}}isDescendant(t,e){let n=e.parentNode;for(;null!==n;){if(n===t)return!0;n=n.parentNode}return!1}createDialogBox(t,e){return{top:t.getBoundingClientRect().top+(e?window.pageYOffset:0),left:t.getBoundingClientRect().left+(e?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.l),o.Pb(o.h),o.Pb(Bl))},t.\u0275cmp=o.Jb({type:t,selectors:[["color-picker"]],viewQuery:function(t,e){var n;1&t&&(o.Bc(Jc,!0),o.Bc($c,!0),o.Bc(tl,!0)),2&t&&(o.rc(n=o.dc())&&(e.dialogElement=n.first),o.rc(n=o.dc())&&(e.hueSlider=n.first),o.rc(n=o.dc())&&(e.alphaSlider=n.first))},hostBindings:function(t,e){1&t&&o.cc("keyup.esc",(function(t){return e.handleEsc(t)}),!1,o.uc)("keyup.enter",(function(t){return e.handleEnter(t)}),!1,o.uc)},decls:28,vars:47,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"]],template:function(t,e){1&t&&(o.Ub(0,"div",0,1),o.cc("click",(function(t){return t.stopPropagation()})),o.Dc(2,el,1,5,"div",2),o.Dc(3,nl,2,8,"div",3),o.Ub(4,"div",4),o.Ub(5,"div",5),o.Qb(6,"div",6),o.Qb(7,"div",7),o.Dc(8,il,2,5,"button",8),o.Tb(),o.Ub(9,"div",9),o.Dc(10,rl,1,0,"div",10),o.Ub(11,"div",11,12),o.cc("newValue",(function(t){return e.onHueChange(t)}))("dragStart",(function(){return e.onDragStart("hue")}))("dragEnd",(function(){return e.onDragEnd("hue")})),o.Qb(13,"div",13),o.Tb(),o.Ub(14,"div",14,15),o.cc("newValue",(function(t){return e.onValueChange(t)}))("dragStart",(function(){return e.onDragStart("value")}))("dragEnd",(function(){return e.onDragEnd("value")})),o.Qb(16,"div",13),o.Tb(),o.Ub(17,"div",16,17),o.cc("newValue",(function(t){return e.onAlphaChange(t)}))("dragStart",(function(){return e.onDragStart("alpha")}))("dragEnd",(function(){return e.onDragEnd("alpha")})),o.Qb(19,"div",13),o.Tb(),o.Tb(),o.Tb(),o.Dc(20,sl,17,12,"div",18),o.Dc(21,ul,14,10,"div",19),o.Dc(22,dl,14,10,"div",20),o.Dc(23,bl,8,7,"div",21),o.Dc(24,vl,9,3,"div",22),o.Dc(25,xl,3,0,"div",23),o.Dc(26,Ml,6,3,"div",24),o.Dc(27,Tl,3,2,"div",25),o.Tb()),2&t&&(o.Cc("display",e.show?"block":"none")("visibility",e.hidden?"hidden":"visible")("top",e.top,"px")("left",e.left,"px")("position",e.position)("height",e.cpHeight,"px")("width",e.cpWidth,"px"),o.Gb("open",e.show),o.Cb(2),o.lc("ngIf","popup"==e.cpDialogDisplay),o.Cb(1),o.lc("ngIf",1===(e.cpColorMode||1)),o.Cb(4),o.Cc("background-color",e.selectedColor),o.Cb(1),o.lc("ngIf",e.cpAddColorButton),o.Cb(2),o.lc("ngIf","disabled"===e.cpAlphaChannel),o.Cb(1),o.Cc("display",1===(e.cpColorMode||1)?"block":"none"),o.lc("rgX",1),o.Cb(2),o.Cc("left",null==e.slider?null:e.slider.h,"px"),o.Cb(1),o.Cc("display",2===(e.cpColorMode||1)?"block":"none"),o.lc("rgX",1),o.Cb(2),o.Cc("right",null==e.slider?null:e.slider.v,"px"),o.Cb(1),o.Cc("display","disabled"===e.cpAlphaChannel?"none":"block")("background-color",e.alphaSliderColor),o.lc("rgX",1),o.Cb(2),o.Cc("left",null==e.slider?null:e.slider.a,"px"),o.Cb(1),o.lc("ngIf",!e.cpDisableInput&&1===(e.cpColorMode||1)),o.Cb(1),o.lc("ngIf",!e.cpDisableInput&&1===(e.cpColorMode||1)),o.Cb(1),o.lc("ngIf",!e.cpDisableInput&&1===(e.cpColorMode||1)),o.Cb(1),o.lc("ngIf",!e.cpDisableInput&&1===(e.cpColorMode||1)),o.Cb(1),o.lc("ngIf",!e.cpDisableInput&&2===(e.cpColorMode||1)),o.Cb(1),o.lc("ngIf",!e.cpDisableInput&&1===(e.cpColorMode||1)),o.Cb(1),o.lc("ngIf",(null==e.cpPresetColors?null:e.cpPresetColors.length)||e.cpAddColorButton),o.Cb(1),o.lc("ngIf",e.cpOKButton||e.cpCancelButton))},directives:[i.l,Rl,Dl,i.k],styles:['.color-picker{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;background-color:#fff;border:1px solid #777;cursor:default;height:auto;position:absolute;user-select:none;width:230px;z-index:1000}.color-picker *{box-sizing:border-box;font-size:11px;margin:0}.color-picker input{color:#000;font-size:13px;height:26px;min-width:0;text-align:center;width:0}.color-picker input:-moz-submit-invalid,.color-picker input:-moz-ui-invalid,.color-picker input:invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.color-picker .arrow{border-style:solid;height:0;position:absolute;width:0;z-index:999999}.color-picker .arrow.arrow-top{border-color:#777 transparent transparent;border-width:10px 5px;left:8px}.color-picker .arrow.arrow-bottom{border-color:transparent transparent #777;border-width:10px 5px;left:8px;top:-20px}.color-picker .arrow.arrow-left-top,.color-picker .arrow.arrow-top-left{border-color:transparent transparent transparent #777;border-width:5px 10px;bottom:8px;right:-21px}.color-picker .arrow.arrow-right-top,.color-picker .arrow.arrow-top-right{border-color:transparent #777 transparent transparent;border-width:5px 10px;bottom:8px;left:-20px}.color-picker .arrow.arrow-bottom-left,.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom{border-color:transparent transparent transparent #777;border-width:5px 10px;right:-21px;top:8px}.color-picker .arrow.arrow-bottom-right,.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom{border-color:transparent #777 transparent transparent;border-width:5px 10px;left:-20px;top:8px}.color-picker .cursor{border:2px solid #222;border-radius:50%;cursor:default;height:16px;position:relative;width:16px}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{padding:16px 8px;position:relative}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{color:#555;font-size:11px;overflow:hidden;padding:4px;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%}.color-picker .preset-area .preset-color{border:1px solid #a9a9a9;border-radius:25%;cursor:pointer;display:inline-block;height:18px;margin:4px 6px 8px;position:relative;width:18px}.color-picker .preset-area .preset-empty-message{font-style:italic;margin-bottom:8px;margin-top:4px;min-height:18px;text-align:center}.color-picker .hex-text{font-size:11px;padding:4px 8px;width:100%}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{clear:left;color:#555;flex:1 1 auto;float:left;text-align:center}.color-picker .hex-text .box input{border:1px solid #a9a9a9;flex:1 1 auto;padding:1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{font-size:11px;padding:4px 8px;width:100%}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{color:#555;flex:1 1 auto;margin-right:8px;text-align:center}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{border:1px solid #a9a9a9;flex:1;float:left;margin:0 8px 0 0;padding:1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC");direction:ltr}.color-picker .hue,.color-picker .value{background-size:100% 100%;border:none;cursor:pointer;height:16px;margin-bottom:16px;width:100%}.color-picker .value{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=");direction:rtl}.color-picker .alpha{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==");background-size:100% 100%;border:none;cursor:pointer;direction:ltr;height:16px;width:100%}.color-picker .type-policy{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==");background-position:50%;background-repeat:no-repeat;background-size:8px 16px;height:24px;position:absolute;right:12px;top:218px;width:16px}.color-picker .type-policy .type-policy-arrow{display:block;height:50%;width:100%}.color-picker .selected-color{border:1px solid #a9a9a9;border-radius:50%;height:40px;left:8px;position:absolute;top:16px;width:40px}.color-picker .selected-color-background{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC");border-radius:50%;height:40px;width:40px}.color-picker .saturation-lightness{background-image:url("data:image/png;base64,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");background-size:100% 100%;border:none;cursor:pointer;direction:ltr;height:130px;touch-action:manipulation;width:100%}.color-picker .cp-add-color-button-class{background:transparent;border:0;cursor:pointer;display:inline;margin:3px -3px;padding:0;position:absolute}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{color:#999;cursor:not-allowed}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{background:#fff;border-radius:50%;box-shadow:1px 1px 5px #333;cursor:pointer;display:block;height:10px;position:absolute;right:-5px;text-align:center;top:-5px;width:10px}.color-picker .cp-remove-color-button-class:before{bottom:3.5px;content:"x";display:inline-block;font-size:10px;position:relative}'],encapsulation:2}),t})(),jl=(()=>{class t{constructor(t,e,n,i,r,a){this.injector=t,this.cfr=e,this.appRef=n,this.vcRef=i,this.elRef=r,this._service=a,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new o.n(!0),this.cpToggleChange=new o.n(!0),this.cpSliderChange=new o.n(!0),this.cpSliderDragEnd=new o.n(!0),this.cpSliderDragStart=new o.n(!0),this.colorPickerOpen=new o.n(!0),this.colorPickerClose=new o.n(!0),this.colorPickerCancel=new o.n(!0),this.colorPickerSelect=new o.n(!0),this.colorPickerChange=new o.n(!1),this.cpCmykColorChange=new o.n(!0),this.cpPresetColorsChange=new o.n(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(t){this.inputChange(t)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(t){t.cpToggle&&!this.cpDisabled&&(t.cpToggle.currentValue?this.openDialog():t.cpToggle.currentValue||this.closeDialog()),t.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(t.colorPicker.currentValue),this.dialog.setColorFromString(t.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(t.cpPresetLabel||t.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let t=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const e=this.injector.get(this.appRef.componentTypes[0],o.r.NULL);e!==o.r.NULL?(t=e.vcRef||e.viewContainerRef||this.vcRef,t===this.vcRef&&console.warn("You are using cpUseRootViewContainer, but the root component is not exposing viewContainerRef!Please expose it by adding 'public vcRef: ViewContainerRef' to the constructor.")):this.viewAttachedToAppRef=!0}const e=this.cfr.resolveComponentFactory(zl);if(this.viewAttachedToAppRef)this.cmpRef=e.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const n=o.E.fromResolvedProviders([],t.parentInjector);this.cmpRef=t.createComponent(e,0,n,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.elRef),this.dialog=this.cmpRef.instance,this.vcRef!==t&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(t){this.cpCmykColorChange.emit(t)}stateChanged(t){this.cpToggleChange.emit(t),t?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(t,e=!0){this.ignoreChanges=e,this.colorPickerChange.emit(t)}colorSelected(t){this.colorPickerSelect.emit(t)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const t=this.elRef.nativeElement,e=this.cpIgnoredElements.filter(e=>e===t);this.cpDisabled||e.length||("undefined"!=typeof document&&t===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(t){this.dialog?this.dialog.setColorFromString(t.target.value,!0):(this.colorPicker=t.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(t){this.cpInputChange.emit(t)}sliderChanged(t){this.cpSliderChange.emit(t)}sliderDragEnd(t){this.cpSliderDragEnd.emit(t)}sliderDragStart(t){this.cpSliderDragStart.emit(t)}presetColorsChanged(t){this.cpPresetColorsChange.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(o.r),o.Pb(o.j),o.Pb(o.g),o.Pb(o.P),o.Pb(o.l),o.Pb(Bl))},t.\u0275dir=o.Kb({type:t,selectors:[["","colorPicker",""]],hostBindings:function(t,e){1&t&&o.cc("click",(function(){return e.handleClick()}))("focus",(function(){return e.handleFocus()}))("input",(function(t){return e.handleInput(t)}))},inputs:{cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpPresetLabel:"cpPresetLabel",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",colorPicker:"colorPicker",cpPresetColors:"cpPresetColors"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[o.Ab]}),t})(),Ll=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},providers:[Bl],imports:[[i.c]]}),t})();n("xgIS");let Gl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Kb({type:t,selectors:[["mat-label"]]}),t})(),Vl=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[i.c,Se.d,zc.c],Se.d]}),t})();var Nl=n("QibW"),ql=n("sYmb");const Yl=["moveable"],Xl=["chart"],Hl=["materialModal"];function Wl(t,e){if(1&t&&(o.fc(),o.Ub(0,"svg",100),o.Ub(1,"g"),o.Qb(2,"rect",3),o.Ub(3,"g",4),o.Qb(4,"rect",5),o.Tb(),o.Tb(),o.Ub(5,"g"),o.Qb(6,"rect",6),o.Qb(7,"rect",101),o.Tb(),o.Tb()),2&t){const t=o.gc().$implicit,e=o.gc();o.lc("ngStyle",e.svgStyle[t]),o.Cb(7),o.lc("ngStyle",e.rectStyle[t])}}function Kl(t,e){if(1&t&&(o.fc(),o.Ub(0,"svg",100),o.Ub(1,"g"),o.Qb(2,"rect",9),o.Ub(3,"g",10),o.Qb(4,"rect",11),o.Tb(),o.Tb(),o.Ub(5,"g"),o.Qb(6,"rect",12),o.Qb(7,"ellipse",102),o.Tb(),o.Tb()),2&t){const t=o.gc().$implicit,e=o.gc();o.lc("ngStyle",e.svgStyle[t]),o.Cb(7),o.lc("ngStyle",e.ellipseStyle[t])}}function Ql(t,e){if(1&t&&(o.fc(),o.Ub(0,"svg",100),o.Ub(1,"g"),o.Qb(2,"rect",15),o.Ub(3,"g",4),o.Qb(4,"rect",5),o.Tb(),o.Tb(),o.Ub(5,"g"),o.Qb(6,"rect",6),o.Qb(7,"polygon",103),o.Tb(),o.Tb()),2&t){const t=o.gc().$implicit,e=o.gc();o.lc("ngStyle",e.svgStyle[t]),o.Cb(7),o.lc("ngStyle",e.polygonStyle[t]),o.Db("points",e.polygonStyle[t].points)}}function Zl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"span",98),o.cc("mouseover",(function(n){o.wc(t);const i=e.$implicit;return o.gc().hover(n,i)}))("mouseout",(function(e){return o.wc(t),o.gc().hoverout(e)}))("click",(function(){o.wc(t);const n=e.$implicit;return o.gc().moveClick(n)}))("contextmenu",(function(n){o.wc(t);const i=e.$implicit;return o.gc().onRightClick(n,i)})),o.Dc(1,Wl,8,2,"svg",99),o.Dc(2,Kl,8,2,"svg",99),o.Dc(3,Ql,8,3,"svg",99),o.Tb()}if(2&t){const t=e.$implicit,n=o.gc();o.mc("id",t),o.lc("ngStyle",n.spanStyle[t]),o.Cb(1),o.lc("ngIf","rect"===n.dragObject[t].element),o.Cb(1),o.lc("ngIf","ellipse"===n.dragObject[t].element),o.Cb(1),o.lc("ngIf","polygon"===n.dragObject[t].element)}}function Jl(t,e){if(1&t){const t=o.Vb();o.Ub(0,"span",104),o.cc("mouseover",(function(n){o.wc(t);const i=e.$implicit;return o.gc().hover(n,i)}))("mouseout",(function(e){return o.wc(t),o.gc().hoverout(e)}))("click",(function(){o.wc(t);const n=e.$implicit;return o.gc().moveClick(n)}))("contextmenu",(function(n){o.wc(t);const i=e.$implicit;return o.gc().onRightClick(n,i)})),o.fc(),o.Ub(1,"svg",105),o.Ub(2,"g"),o.Qb(3,"rect",19),o.Tb(),o.Ub(4,"g"),o.Qb(5,"path",20),o.Qb(6,"path",106),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit,n=o.gc();o.mc("id",t),o.lc("ngStyle",n.spanStyle[t]),o.Cb(1),o.lc("ngStyle",n.svgStyle[t]),o.Cb(5),o.lc("ngStyle",n.pathStyle[t])}}function $l(t,e){if(1&t&&(o.Ub(0,"span",107),o.Fc(1),o.Tb()),2&t){const t=e.index;o.nc("id","",e.$implicit,"_circle"),o.Cb(1),o.Gc(t+1)}}function tu(t,e){if(1&t){const t=o.Vb();o.Ub(0,"span",108),o.cc("mouseover",(function(n){o.wc(t);const i=e.$implicit;return o.gc().hover(n,i)}))("mouseout",(function(e){return o.wc(t),o.gc().hoverout(e)}))("click",(function(){o.wc(t);const n=e.$implicit;return o.gc().moveClick(n)}))("contextmenu",(function(n){o.wc(t);const i=e.$implicit;return o.gc().onRightClick(n,i)})),o.fc(),o.Ub(1,"svg",105),o.Ub(2,"g"),o.Qb(3,"rect",19),o.Tb(),o.Ub(4,"g"),o.Ub(5,"g"),o.Qb(6,"rect",24),o.Tb(),o.Ub(7,"g"),o.Ub(8,"g",25),o.Ub(9,"g",25),o.Qb(10,"path",109),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit,n=o.gc();o.mc("id",t),o.lc("ngStyle",n.spanStyle[t]),o.Cb(1),o.lc("ngStyle",n.svgStyle[t]),o.Cb(9),o.lc("ngStyle",n.pathStyle[t])}}function eu(t,e){if(1&t&&(o.Ub(0,"span",110),o.Fc(1),o.Tb()),2&t){const t=e.index;o.nc("id","",e.$implicit,"_circle"),o.Cb(1),o.Gc(t+1)}}function nu(t,e){if(1&t){const t=o.Vb();o.Ub(0,"span",111),o.cc("mouseover",(function(n){o.wc(t);const i=e.$implicit;return o.gc().hover(n,i)}))("mouseout",(function(e){return o.wc(t),o.gc().hoverout(e)}))("click",(function(){o.wc(t);const n=e.$implicit;return o.gc().moveClick(n)}))("contextmenu",(function(n){o.wc(t);const i=e.$implicit;return o.gc().onRightClick(n,i)})),o.fc(),o.Ub(1,"svg",105),o.Ub(2,"g"),o.Qb(3,"rect",29),o.Tb(),o.Ub(4,"g"),o.Qb(5,"path",112),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit,n=o.gc();o.mc("id",t),o.lc("ngStyle",n.spanStyle[t]),o.Cb(1),o.lc("ngStyle",n.svgStyle[t]),o.Cb(4),o.lc("ngStyle",n.pathStyle[t])}}function iu(t,e){if(1&t&&o.Qb(0,"span",113),2&t){const t=o.gc();o.lc("ngStyle",t.tooltipStyle)("innerHTML",t.tooltipStr,o.xc)}}function ru(t,e){if(1&t){const t=o.Vb();o.Ub(0,"button",114),o.cc("click",(function(){return o.wc(t),o.gc().delete()})),o.Fc(1),o.hc(2,"translate"),o.Tb(),o.Ub(3,"button",115),o.cc("click",(function(e){return o.wc(t),e.stopPropagation()}))("colorPickerChange",(function(e){return o.wc(t),o.gc().color=e}))("colorPickerChange",(function(){return o.wc(t),o.gc().colorChange()})),o.Fc(4,"\u63db\u984f\u8272"),o.Tb(),o.Ub(5,"button",114),o.cc("click",(function(){return o.wc(t),o.gc().openHeightSetting()})),o.Fc(6),o.hc(7,"translate"),o.hc(8,"translate"),o.Tb()}if(2&t){const t=o.gc();o.Cb(1),o.Gc(o.ic(2,4,"delete")),o.Cb(2),o.lc("colorPicker",t.color),o.Cb(3),o.Ic("",o.ic(7,6,"altitude.setting"),"/",o.ic(8,8,"material.setting"),"")}}function ou(t,e){if(1&t&&(o.Ub(0,"span"),o.Fc(1),o.Tb()),2&t){const t=o.gc();o.Cb(1),o.Gc(t.calculateForm.mapName)}}function au(t,e){if(1&t){const t=o.Vb();o.Ub(0,"span",116),o.cc("click",(function(){return o.wc(t),o.gc().clearAll("obstacle")})),o.Ub(1,"span",34),o.Fc(2,"clear"),o.Tb(),o.Fc(3,"Clear All "),o.Tb()}}function su(t,e){if(1&t){const t=o.Vb();o.Ub(0,"li"),o.Ub(1,"span"),o.Ub(2,"label"),o.Fc(3,"X"),o.Tb(),o.Ub(4,"input",82),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].x=n}))("change",(function(){o.wc(t);const n=e.$implicit;return o.gc().changePosition(n)})),o.Tb(),o.Tb(),o.Ub(5,"span"),o.Ub(6,"label"),o.Fc(7,"Y"),o.Tb(),o.Ub(8,"input",82),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].y=n}))("change",(function(){o.wc(t);const n=e.$implicit;return o.gc().changePosition(n)})),o.Tb(),o.Tb(),o.Ub(9,"span"),o.Ub(10,"label"),o.Fc(11,"\u89d2\u5ea6"),o.Tb(),o.Ub(12,"input",82),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].rotate=n}))("change",(function(){o.wc(t);const n=e.$implicit;return o.gc().changeRotate(n)})),o.Tb(),o.Tb(),o.Qb(13,"br"),o.Ub(14,"span"),o.Ub(15,"label"),o.Fc(16,"\u9577"),o.Tb(),o.Ub(17,"input",82),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].width=n}))("change",(function(){o.wc(t);const n=e.$implicit;return o.gc().changeSize(n)})),o.Tb(),o.Tb(),o.Ub(18,"span"),o.Ub(19,"label"),o.Fc(20,"\u5bec"),o.Tb(),o.Ub(21,"input",82),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].height=n}))("change",(function(){o.wc(t);const n=e.$implicit;return o.gc().changeSize(n)})),o.Tb(),o.Tb(),o.Ub(22,"span"),o.Ub(23,"label"),o.Fc(24,"\u9ad8"),o.Tb(),o.Ub(25,"input",69),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].altitude=n})),o.Tb(),o.Tb(),o.Ub(26,"span"),o.Ub(27,"label"),o.Fc(28,"\u6750\u8cea"),o.Tb(),o.Ub(29,"select",117),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].material=n})),o.Ub(30,"option",83),o.Fc(31,"\u6728\u982d"),o.Tb(),o.Ub(32,"option",84),o.Fc(33,"\u6c34\u6ce5"),o.Tb(),o.Ub(34,"option",85),o.Fc(35,"\u8f15\u92fc\u67b6"),o.Tb(),o.Ub(36,"option",73),o.Fc(37,"\u73bb\u7483"),o.Tb(),o.Ub(38,"option",90),o.Fc(39,"\u4e0d\u93fd\u92fc/\u5176\u5b83\u91d1\u5c6c\u985e"),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit,n=o.gc();o.Cb(4),o.lc("ngModel",n.dragObject[t].x),o.Cb(4),o.lc("ngModel",n.dragObject[t].y),o.Cb(4),o.lc("ngModel",n.dragObject[t].rotate),o.Cb(5),o.lc("ngModel",n.dragObject[t].width),o.Cb(4),o.lc("ngModel",n.dragObject[t].height),o.Cb(4),o.lc("ngModel",n.dragObject[t].altitude),o.Cb(4),o.lc("ngModel",n.dragObject[t].material)}}function cu(t,e){if(1&t){const t=o.Vb();o.Ub(0,"span",116),o.cc("click",(function(){return o.wc(t),o.gc().clearAll("defaultBS")})),o.Ub(1,"span",34),o.Fc(2,"clear"),o.Tb(),o.Fc(3,"Clear All "),o.Tb()}}function lu(t,e){if(1&t&&(o.Ub(0,"option",120),o.Fc(1),o.Tb()),2&t){const t=e.$implicit;o.lc("value",t),o.Cb(1),o.Gc(t)}}function uu(t,e){if(1&t){const t=o.Vb();o.Ub(0,"li"),o.Ub(1,"span"),o.Ub(2,"label"),o.Fc(3,"X"),o.Tb(),o.Ub(4,"input",82),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].x=n}))("change",(function(){o.wc(t);const n=e.$implicit;return o.gc().changePosition(n)})),o.Tb(),o.Tb(),o.Ub(5,"span"),o.Ub(6,"label"),o.Fc(7,"Y"),o.Tb(),o.Ub(8,"input",82),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].y=n}))("change",(function(){o.wc(t);const n=e.$implicit;return o.gc().changePosition(n)})),o.Tb(),o.Tb(),o.Ub(9,"span"),o.Ub(10,"label"),o.Fc(11,"Z"),o.Tb(),o.Ub(12,"select",118),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].z=n})),o.Dc(13,lu,2,2,"option",119),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit,n=o.gc();o.Cb(4),o.lc("ngModel",n.dragObject[t].x),o.Cb(4),o.lc("ngModel",n.dragObject[t].y),o.Cb(4),o.lc("ngModel",n.dragObject[t].z),o.Cb(1),o.lc("ngForOf",n.zValues)}}function hu(t,e){if(1&t){const t=o.Vb();o.Ub(0,"span",116),o.cc("click",(function(){return o.wc(t),o.gc().clearAll("UE")})),o.Ub(1,"span",34),o.Fc(2,"clear"),o.Tb(),o.Fc(3,"Clear All "),o.Tb()}}function pu(t,e){if(1&t&&(o.Ub(0,"option",120),o.Fc(1),o.Tb()),2&t){const t=e.$implicit;o.lc("value",t),o.Cb(1),o.Gc(t)}}function du(t,e){if(1&t){const t=o.Vb();o.Ub(0,"li"),o.Ub(1,"span"),o.Ub(2,"label"),o.Fc(3,"X"),o.Tb(),o.Ub(4,"input",82),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].x=n}))("change",(function(){o.wc(t);const n=e.$implicit;return o.gc().changePosition(n)})),o.Tb(),o.Tb(),o.Ub(5,"span"),o.Ub(6,"label"),o.Fc(7,"Y"),o.Tb(),o.Ub(8,"input",82),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].y=n}))("change",(function(){o.wc(t);const n=e.$implicit;return o.gc().changePosition(n)})),o.Tb(),o.Tb(),o.Ub(9,"span"),o.Ub(10,"label"),o.Fc(11,"Z"),o.Tb(),o.Ub(12,"select",118),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].z=n})),o.Dc(13,pu,2,2,"option",119),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit,n=o.gc();o.Cb(4),o.lc("ngModel",n.dragObject[t].x),o.Cb(4),o.lc("ngModel",n.dragObject[t].y),o.Cb(4),o.lc("ngModel",n.dragObject[t].z),o.Cb(1),o.lc("ngForOf",n.zValues)}}function gu(t,e){if(1&t){const t=o.Vb();o.Ub(0,"span",116),o.cc("click",(function(){return o.wc(t),o.gc().clearAll("candidate")})),o.Ub(1,"span",34),o.Fc(2,"clear"),o.Tb(),o.Fc(3,"Clear All "),o.Tb()}}function fu(t,e){if(1&t&&(o.Ub(0,"option",120),o.Fc(1),o.Tb()),2&t){const t=e.$implicit;o.lc("value",t),o.Cb(1),o.Gc(t)}}function bu(t,e){if(1&t){const t=o.Vb();o.Ub(0,"li"),o.Ub(1,"span"),o.Ub(2,"label"),o.Fc(3,"X"),o.Tb(),o.Ub(4,"input",82),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].x=n}))("change",(function(){o.wc(t);const n=e.$implicit;return o.gc().changePosition(n)})),o.Tb(),o.Tb(),o.Ub(5,"span"),o.Ub(6,"label"),o.Fc(7,"Y"),o.Tb(),o.Ub(8,"input",82),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].y=n}))("change",(function(){o.wc(t);const n=e.$implicit;return o.gc().changePosition(n)})),o.Tb(),o.Tb(),o.Ub(9,"span"),o.Ub(10,"label"),o.Fc(11,"Z"),o.Tb(),o.Ub(12,"select",118),o.cc("ngModelChange",(function(n){o.wc(t);const i=e.$implicit;return o.gc().dragObject[i].z=n})),o.Dc(13,fu,2,2,"option",119),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=e.$implicit,n=o.gc();o.Cb(4),o.lc("ngModel",n.dragObject[t].x),o.Cb(4),o.lc("ngModel",n.dragObject[t].y),o.Cb(4),o.lc("ngModel",n.dragObject[t].z),o.Cb(1),o.lc("ngForOf",n.zValues)}}function mu(t,e){if(1&t){const t=o.Vb();o.Ub(0,"h5",121),o.Fc(1),o.hc(2,"translate"),o.hc(3,"translate"),o.Tb(),o.Ub(4,"div",122),o.Ub(5,"ul"),o.Ub(6,"li",123),o.Fc(7),o.hc(8,"translate"),o.Ub(9,"input",69),o.cc("ngModelChange",(function(e){o.wc(t);const n=o.gc();return n.dragObject[n.svgId].altitude=e})),o.Tb(),o.Fc(10,"\u516c\u5206 "),o.Tb(),o.Ub(11,"li",124),o.Ub(12,"mat-label"),o.Fc(13),o.hc(14,"translate"),o.Tb(),o.Ub(15,"mat-radio-group",125),o.cc("ngModelChange",(function(e){o.wc(t);const n=o.gc();return n.dragObject[n.svgId].material=e})),o.Ub(16,"mat-radio-button",83),o.Fc(17,"\u6728\u982d"),o.Tb(),o.Ub(18,"mat-radio-button",126),o.Fc(19,"\u6c34\u6ce5"),o.Tb(),o.Ub(20,"mat-radio-button",127),o.Fc(21,"\u8f15\u92fc\u67b6"),o.Tb(),o.Ub(22,"mat-radio-button",128),o.Fc(23,"\u73bb\u7483"),o.Tb(),o.Ub(24,"mat-radio-button",129),o.Fc(25,"\u4e0d\u93fd\u92fc/\u5176\u5b83\u91d1\u5c6c\u985e"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&t){const t=o.gc();o.Cb(1),o.Ic("",o.ic(2,6,"altitude.setting")," / ",o.ic(3,8,"material.setting")," "),o.Cb(6),o.Hc(" ",o.ic(8,10,"altitude.setting")," "),o.Cb(2),o.lc("ngModel",t.dragObject[t.svgId].altitude),o.Cb(4),o.Gc(o.ic(14,12,"material.setting")),o.Cb(2),o.lc("ngModel",t.dragObject[t.svgId].material)}}const vu=function(){return["/site/result"]},xu=[{path:"site-planning",component:(()=>{class t{constructor(t,e,n,i){this.authService=t,this.router=e,this.matDialog=n,this.http=i,this.scalable=!1,this.resizable=!0,this.warpable=!1,this.frame=new ie({width:"30px",height:"30px",left:"0px",top:"0px",transform:{rotate:"0deg",scaleX:1,scaleY:1}}),this.iconList=[1,2,3],this.opened=!0,this.panelOpenState=!1,this.live=!1,this.subitemClass={obstacle:"subitem active",ue:"subitem active"},this.zValues=["50","",""],this.obstacleList=[],this.dragObject={},this.defaultBSList=[],this.candidateList=[],this.ueList=[],this.chartLeft=0,this.chartRight=0,this.chartTop=0,this.chartBottom=0,this.svgMap={rect:{id:"svg_1",title:"\u969c\u7919\u7269",type:"obstacle",element:"rect"},ellipse:{id:"svg_2",title:"\u969c\u7919\u7269",type:"obstacle",element:"ellipse"},polygon:{id:"svg_3",title:"\u969c\u7919\u7269",type:"obstacle",element:"polygon"},defaultBS:{id:"svg_4",title:"\u73fe\u6709\u57fa\u7ad9",type:"defaultBS",element:""},candidate:{id:"svg_5",title:"\u65b0\u589e\u57fa\u7ad9",type:"candidate",element:""},UE:{id:"svg_6",title:"\u65b0\u589e\uff35\uff25",type:"UE",element:""}},this.tooltipStr="",this.roundFormat=Plotly.d3.format(".1f"),this.pathLossModelIdList=[],this.menuTopLeftStyle={top:"0",left:"0"},this.showFileName=!0,this.circleStyle={},this.numColumnList=["totalRound","crossover","mutation","iteration","seed","width","height","altitude","pathLossModelId","useUeCoordinate","powerMaxRange","powerMinRange","beamMaxId","beamMinId","objectiveIndex","availableNewBsNumber","addFixedBsNumber","bandwidth","frequency","sinrRatio","throughputRatio","coverageRatio","ueAvgSinrRatio","ueAvgThroughputRatio","ueTpByDistanceRatio","mctsC","mctsMimo","ueCoverageRatio","ueTpByRsrpRatio","mctsTemperature","mctsTime","mctsTestTime","mctsTotalTime"],this.heightList=[],this.view3dDialogConfig=new p.c,this.tooltipStyle={left:"0px",top:"0px"},this.spanStyle={},this.rectStyle={},this.ellipseStyle={},this.polygonStyle={},this.svgStyle={},this.pathStyle={},this.onWindowReisze=()=>{this.moveable.updateRect()}}windowResize(){}clickout(t){if(void 0!==this.target&&null!=this.target)if(this.target.contains(t.target))this.live=!0;else{this.live=!1;try{this.moveable.destroy()}catch(e){this.moveable.ngOnInit(),this.moveable.destroy()}}}keyEvent(t){if(void 0!==this.target&&this.live&&"Delete"===t.key){this.live=!1,this.moveable.destroy();const t=this.target.closest("span").id,e=this.dragObject[t];"obstacle"===e.type?this.obstacleList.splice(this.obstacleList.indexOf(t),1):"defaultBS"===e.type?this.defaultBSList.splice(this.defaultBSList.indexOf(t),1):"candidate"===e.type?this.candidateList.splice(this.candidateList.indexOf(t),1):"UE"===e.type&&this.ueList.splice(this.ueList.indexOf(t),1)}}ngOnInit(){this.view3dDialogConfig.autoFocus=!1,this.view3dDialogConfig.width="80%";for(let t=0;t<9;t++)this.pathLossModelIdList.push(t);if(null!=sessionStorage.getItem("importFile")){this.calculateForm=new u.a;const t=new FileReader;t.onload=t=>{this.readXls(t.target.result)},t.readAsBinaryString(this.dataURLtoBlob(sessionStorage.getItem("importFile")))}else this.calculateForm=JSON.parse(sessionStorage.getItem("calculateForm")),this.initData(!1)}ngOnDestroy(){void 0!==this.progressInterval&&window.clearInterval(this.progressInterval);try{this.moveable.destroy()}catch(t){}}ngAfterViewInit(){}initData(t){if(null!=this.calculateForm.mapImage){const e=new FileReader;e.readAsDataURL(this.dataURLtoBlob(this.calculateForm.mapImage)),e.onload=n=>{this.plotLayout={autosize:!0,xaxis:{linewidth:1,mirror:"all",range:[0,this.calculateForm.width],showgrid:!1,zeroline:!1,fixedrange:!0},yaxis:{linewidth:1,mirror:"all",range:[0,this.calculateForm.height],showgrid:!1,zeroline:!1,fixedrange:!0},margin:{t:20,b:20,l:40},images:[{source:e.result,x:0,y:0,sizex:this.calculateForm.width,sizey:this.calculateForm.height,xref:"x",yref:"y",xanchor:"left",yanchor:"bottom",sizing:"stretch",hover:"x+y"}]},Plotly.newPlot("chart",{data:[],layout:this.plotLayout,config:{displaylogo:!1,showTips:!1,editable:!1,scrollZoom:!1,displayModeBar:!1}}).then(e=>{this.calScale(e),t&&this.setImportData()})}}}calScale(t){const e=t.querySelector(".xy").querySelectorAll("rect")[0].getBoundingClientRect();this.chartLeft=e.left,this.chartRight=e.right,this.chartTop=e.top,this.chartBottom=e.bottom,this.xLinear=Plotly.d3.scale.linear().domain([0,e.width]).range([0,this.calculateForm.width]),this.yLinear=Plotly.d3.scale.linear().domain([0,e.height]).range([0,this.calculateForm.height]),this.pixelXLinear=Plotly.d3.scale.linear().domain([0,this.calculateForm.width]).range([0,e.width]),this.pixelYLinear=Plotly.d3.scale.linear().domain([0,this.calculateForm.height]).range([0,e.height])}dataURLtoBlob(t){let e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);const n=t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return new Blob([i],{type:n})}addMoveable(t){try{this.moveable.destroy()}catch(e){}window.setTimeout(()=>{this.live=!0},0),"rect"===t?(this.svgId=`${t}_${this.obstacleList.length}`,this.obstacleList.push(this.svgId),this.rectStyle[this.svgId]={width:30,height:30,fill:"green"}):"ellipse"===t?(this.svgId=`${t}_${this.obstacleList.length}`,this.obstacleList.push(this.svgId),this.ellipseStyle[this.svgId]={ry:15,rx:15,cx:15,cy:15,fill:"green"}):"polygon"===t?(this.svgId=`${t}_${this.obstacleList.length}`,this.obstacleList.push(this.svgId),this.polygonStyle[this.svgId]={points:"15,0 30,30 0,30",fill:"green"}):"defaultBS"===t?(this.svgId=`${t}_${this.defaultBSList.length}`,this.defaultBSList.push(this.svgId),this.pathStyle[this.svgId]={fill:"green"}):"candidate"===t?(this.svgId=`${t}_${this.candidateList.length}`,this.candidateList.push(this.svgId),this.pathStyle[this.svgId]={fill:"green"}):"UE"===t&&(this.svgId=`${t}_${this.ueList.length}`,this.ueList.push(this.svgId),this.pathStyle[this.svgId]={fill:"green"}),this.spanStyle[this.svgId]={left:200,top:250,width:30,height:30},this.svgStyle[this.svgId]={display:"inherit",width:30,height:30},this.dragObject[this.svgId]={x:0,y:0,z:this.zValues[0],width:30,height:30,altitude:50,rotate:0,title:this.svgMap[t].title,type:this.svgMap[t].type,color:"green",material:"0",element:t},this.frame=new ie({width:"30px",height:"30px",left:"200px",top:"250px",transform:{rotate:"0deg",scaleX:1,scaleY:1}}),window.setTimeout(()=>{this.target=document.getElementById(""+this.svgId),this.live=!0,"obstacle"===this.svgMap[t].type?(this.moveable.rotatable=!0,this.moveable.resizable=!0):(this.moveable.rotatable=!1,this.moveable.resizable=!1),this.moveable.ngOnInit(),this.setDragData(),this.moveNumber(this.svgId),this.hoverObj=this.target,this.setLabel()},0)}moveClick(t){try{this.moveable.destroy()}catch(n){}window.setTimeout(()=>{this.live=!0},0),this.target=document.getElementById(t),this.svgId=t;const e=this.target.getBoundingClientRect();this.frame=new ie({width:e.width+"px",height:e.height+"px",left:e.left+"px",top:e.top+"px",transform:{rotate:this.dragObject[this.svgId].rotate+"deg",scaleX:1,scaleY:1}}),this.live=!0,"obstacle"===this.dragObject[t].type?(this.moveable.rotatable=!0,this.moveable.resizable=!0):(this.moveable.rotatable=!1,this.moveable.resizable=!1),this.moveable.ngOnInit(),this.setDragData(),this.hoverObj=this.target,this.setLabel()}clickScalable(){this.scalable=!0,this.resizable=!1,this.warpable=!1}clickResizable(){this.scalable=!1,this.resizable=!0,this.warpable=!1}clickWarpable(){this.scalable=!1,this.resizable=!1,this.warpable=!0}setTransform(t){t.style.cssText=this.frame.toCSS()}setLabel(){this.live=!0,window.setTimeout(()=>{const t=this.hoverObj.getBoundingClientRect();this.tooltipStyle.left=t.left+"px",this.tooltipStyle.top=t.top+t.height+5+"px",this.tooltipStr=this.getTooltip()},0)}getTooltip(){const t=this.hoverObj.id;let e=this.dragObject[t].title+"<br>";return e+=`X: ${this.dragObject[t].x}<br>`,e+=`Y: ${this.dragObject[t].y}<br>`,"obstacle"===this.dragObject[t].type&&(e+=`\u9577: ${this.dragObject[t].width}<br>`,e+=`\u5bec: ${this.dragObject[t].height}<br>`),e+=`\u9ad8: ${this.dragObject[t].altitude}<br>`,"obstacle"===this.dragObject[t].type&&(e+="\u6750\u8cea: "+this.parseMaterial(this.dragObject[t].material)),e}setDragData(){const t=this.target.getBoundingClientRect(),e=this.chartBottom-t.bottom;let n=this.roundFormat(this.xLinear(t.left-this.chartLeft));n<0&&(n=0);const i=this.roundFormat(this.yLinear(e)),r=this.roundFormat(this.xLinear(t.width)),o=this.roundFormat(this.yLinear(t.height));this.dragObject[this.svgId].x=n,this.dragObject[this.svgId].y=i,this.dragObject[this.svgId].width=r,this.dragObject[this.svgId].height=o}parseMaterial(t){return"0"===t?"\u6728\u982d":"1"===t?"\u6c34\u6ce5":"2"===t?"\u8f15\u92fc\u67b6":"3"===t?"\u73bb\u7483":"4"===t?"\u4e0d\u93fd\u92fc/\u5176\u5b83\u91d1\u5c6c\u985e":void 0}dragStart(t,e){e.bounds=this.bounds}onDrag({target:t,top:e,left:n}){this.target=t;const i=t.getBoundingClientRect(),r=i.left,o=i.right,a=i.top,s=i.bottom;if(r>this.chartLeft-1&&o<this.chartRight&&a>this.chartTop&&s<this.chartBottom)this.frame.set("left",n+"px"),this.frame.set("top",e+"px"),this.setTransform(t);else if(r<this.chartLeft)this.frame.set("left",this.chartLeft+"px"),this.setTransform(t),t.closest("span").style.left="152px";else if(a<=this.chartTop){this.frame.set("top",this.chartTop+1+"px"),this.setTransform(t);const e=Number(t.closest("span").style.top.replace("px",""));t.closest("span").style.top=e+1+"px"}else if(o>=this.chartRight){this.frame.set("left",r-1+"px"),this.setTransform(t);const e=Number(t.closest("span").style.left.replace("px",""));t.closest("span").style.left=e-1+"px"}else if(s>=this.chartBottom){this.frame.set("top",a-1+"px"),this.setTransform(t);const e=Number(t.closest("span").style.top.replace("px",""));t.closest("span").style.top=e-1+"px"}this.setDragData(),"defaultBS"!==this.dragObject[this.svgId].type&&"candidate"!==this.dragObject[this.svgId].type||this.moveNumber(this.svgId),this.setLabel()}onScale({target:t,delta:e,isPinch:n}){const i=this.frame.get("transform","scaleX")*e[0],r=this.frame.get("transform","scaleY")*e[1];this.frame.set("transform","scaleX",i),this.frame.set("transform","scaleY",r),this.setTransform(t),n||this.setLabel(),this.scalex=i,"defaultBS"!==this.dragObject[this.svgId].type&&"candidate"!==this.dragObject[this.svgId].type||this.moveNumber(this.svgId)}onRotate({target:t,beforeDelta:e}){const n=parseFloat(this.frame.get("transform","rotate"))+e;this.frame.set("transform","rotate",n+"deg"),this.setTransform(t),this.dragObject[this.svgId].rotate=Math.ceil(n),this.setLabel()}onResize({target:t,width:e,height:n}){e<5&&(e=5),n<5&&(n=5),this.frame.set("width",e+"px"),this.frame.set("height",n+"px"),this.setTransform(t),this.svgStyle[this.svgId].width=e,this.svgStyle[this.svgId].height=n,t.querySelector("svg");const i=this.dragObject[this.svgId].element;if("rect"===i)this.rectStyle[this.svgId].width=e,this.rectStyle[this.svgId].height=n;else if("ellipse"===i){const t=(e/2).toString(),i=(n/2).toString();this.ellipseStyle[this.svgId].rx=t,this.ellipseStyle[this.svgId].ry=i,this.ellipseStyle[this.svgId].cx=t,this.ellipseStyle[this.svgId].cy=i}else"polygon"===i&&(this.polygonStyle[this.svgId].points=`${e/2},0 ${e}, ${n} 0, ${n}`);this.setDragData(),"defaultBS"!==this.dragObject[this.svgId].type&&"candidate"!==this.dragObject[this.svgId].type||this.moveNumber(this.svgId),this.setLabel()}onEnd(){this.live=!1}moveableDestroy(){this.moveable.destroy()}arrowUpDown(t,e){const n=t.target;"keyboard_arrow_down"===n.innerHTML?(n.innerHTML="keyboard_arrow_up",this.subitemClass[e]="subitem active"):(n.innerHTML="keyboard_arrow_down",this.subitemClass[e]="subitem")}onRightClick(t,e){this.svgId=e,t.preventDefault(),this.menuTopLeftStyle.left=t.clientX+"px",this.menuTopLeftStyle.top=t.clientY+"px",this.matMenuTrigger.openMenu()}delete(){if("obstacle"===this.dragObject[this.svgId].type)for(let t=this.obstacleList.length-1;t>=0;t--)this.obstacleList[t]===this.svgId&&this.obstacleList.splice(t,1);else if("defaultBS"===this.dragObject[this.svgId].type)for(let t=this.defaultBSList.length-1;t>=0;t--)this.defaultBSList[t]===this.svgId&&this.defaultBSList.splice(t,1);else if("candidate"===this.dragObject[this.svgId].type)for(let t=this.candidateList.length-1;t>=0;t--)this.candidateList[t]===this.svgId&&this.candidateList.splice(t,1);else if("UE"===this.dragObject[this.svgId].type)for(let t=this.ueList.length-1;t>=0;t--)this.ueList[t]===this.svgId&&this.ueList.splice(t,1)}colorChange(){this.dragObject[this.svgId].color=this.color,"obstacle"===this.dragObject[this.svgId].type?"rect"===this.dragObject[this.svgId].element?this.rectStyle[this.svgId].fill=this.color:"ellipse"===this.dragObject[this.svgId].element?this.ellipseStyle[this.svgId].fill=this.color:"polygon"===this.dragObject[this.svgId].element&&(this.polygonStyle[this.svgId].fill=this.color):this.pathStyle[this.svgId].fill=this.color}openHeightSetting(){this.matDialog.open(this.materialModal)}materialChange(t){this.dragObject[this.svgId].material=t}hover(t,e){this.live=!0,this.svgId=e,this.hoverObj=t.target.closest("span"),this.setLabel()}hoverout(t){this.live=!1}fileChange(t){const e=t.target.files[0];this.calculateForm.mapName=e.name,this.showFileName=!1;const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{this.calculateForm.mapImage=n.result.toString(),this.initData(!1)}}moveNumber(t){const e=document.querySelector(`#${t}_circle`);if(null!=e){const n=document.querySelector("#"+t).getBoundingClientRect();e.style.top=n.top-20+"px",e.style.left=n.left+n.width-10+"px"}}setCheckbox(t){return""!==t}calculate(){try{this.moveable.destroy()}catch(t){}this.authService.spinnerShowAsHome(),this.setForm(),console.log(this.calculateForm),this.http.post(this.authService.API_URL+"/calculate",JSON.stringify(this.calculateForm)).subscribe(t=>{this.taskid=t.taskid,document.getElementById("percentageVal").innerHTML="0",this.getProgress()},t=>{this.authService.spinnerHide(),console.log(t)})}setForm(){this.authService.spinnerShowAsHome(),void 0===this.calculateForm.isAverageSinr&&(this.calculateForm.isAverageSinr=!1),void 0===this.calculateForm.isAvgThroughput&&(this.calculateForm.isAvgThroughput=!1),void 0===this.calculateForm.isCoverage&&(this.calculateForm.isCoverage=!1),void 0===this.calculateForm.isUeAvgSinr&&(this.calculateForm.isUeAvgSinr=!1),void 0===this.calculateForm.isUeAvgThroughput&&(this.calculateForm.isUeAvgThroughput=!1),void 0===this.calculateForm.isUeTpByDistance&&(this.calculateForm.isUeTpByDistance=!1),this.calculateForm.useUeCoordinate=1,this.calculateForm.sessionid=this.authService.userToken;const t=this.zValues.filter(t=>""!==t);this.calculateForm.zValue=`[${t.toString()}]`;let e="";if(this.calculateForm.obstacleInfo=e,this.obstacleList.length>0){for(let t=0;t<this.obstacleList.length;t++){const n=this.dragObject[this.obstacleList[t]];e+=`[${n.x},${n.y},${n.width},${n.height},${n.altitude},${n.rotate},${n.material}]`,t<this.obstacleList.length-1&&(e+="|")}this.calculateForm.obstacleInfo=e}let n="";if(this.calculateForm.ueCoordinate=n,this.ueList.length>0){for(let t=0;t<this.ueList.length;t++){const e=this.dragObject[this.ueList[t]];n+=`[${e.x},${e.y},${e.z}]`,t<this.ueList.length-1&&(n+="|")}this.calculateForm.ueCoordinate=n}let i="";if(this.calculateForm.defaultBs=i,this.defaultBSList.length>0){for(let t=0;t<this.defaultBSList.length;t++){const e=this.dragObject[this.defaultBSList[t]];i+=`[${e.x},${e.y},${e.z},${e.material}]`,t<this.defaultBSList.length-1&&(i+="|")}this.calculateForm.defaultBs=i}let r="";if(this.calculateForm.candidateBs=r,this.candidateList.length>0){for(let t=0;t<this.candidateList.length;t++){const e=this.dragObject[this.candidateList[t]];r+=`[${e.x},${e.y},${e.z}]`,t<this.candidateList.length-1&&(r+="|")}this.calculateForm.candidateBs=r}Object.keys(this.calculateForm).forEach(t=>{this.numColumnList.includes(t)&&(this.calculateForm[t]=Number(this.calculateForm[t]))})}getProgress(){this.http.get(`${this.authService.API_URL}/progress/${this.taskid}/${this.authService.userToken}`).subscribe(t=>{window.clearInterval(this.progressInterval),document.getElementById("percentageVal").innerHTML=(100*t.progress).toString(),1===t.progress?(this.authService.spinnerHide(),location.replace("#/site/result?taskId="+this.taskid),location.reload()):(window.clearInterval(this.progressInterval),this.progressInterval=window.setTimeout(()=>{this.getProgress()},5e3))},t=>{this.authService.spinnerHide(),window.clearInterval(this.progressInterval)})}changeSize(t){this.svgId=t,this.target=document.querySelector("#"+t);const e=this.pixelXLinear(this.dragObject[t].width),n=this.pixelYLinear(this.dragObject[t].height);this.frame.set("width",e+"px"),this.frame.set("height",n+"px"),this.setTransform(this.target);const i=this.target.querySelector("svg");i.setAttribute("width",e.toString()),i.setAttribute("height",n.toString());const r=i.querySelector(".drag_rect"),o=this.dragObject[this.svgId].element;if("rect"===o)r.setAttribute("width",e.toString()),r.setAttribute("height",n.toString());else if("ellipse"===o){const t=(Plotly.d3.min([e,n])/2).toString();r.setAttribute("rx",t.toString()),r.setAttribute("ry",t.toString()),r.setAttribute("cx",t.toString()),r.setAttribute("cy",t.toString())}else"polygon"===o&&r.setAttribute("points",`${e/2},0 ${e}, ${n} 0, ${n}`);"defaultBS"!==this.dragObject[this.svgId].type&&"candidate"!==this.dragObject[this.svgId].type||this.moveNumber(t)}changePosition(t){this.target=document.querySelector("#"+t);const e=this.target.getBoundingClientRect().height,n=this.pixelXLinear(this.dragObject[t].x)+this.chartLeft,i=this.chartBottom-this.pixelYLinear(this.dragObject[t].y)-e;this.frame.set("left",n+"px"),this.frame.set("top",i+"px"),"obstacle"===this.dragObject[t].type&&(this.frame.set("width",this.pixelXLinear(this.dragObject[t].width)+"px"),this.frame.set("height",this.pixelYLinear(this.dragObject[t].height)+"px")),this.setTransform(this.target),this.spanStyle[t].left=n,this.spanStyle[t].top=i,"defaultBS"!==this.dragObject[t].type&&"candidate"!==this.dragObject[t].type||this.moveNumber(t)}changeRotate(t){this.svgId=t,this.target=document.querySelector("#"+t),this.frame.set("transform","rotate",this.dragObject[t].rotate+"deg"),this.setTransform(this.target),this.target.setAttribute("style",`transform: rotate(${this.dragObject[t].rotate}deg)`),"0"===this.dragObject[t].rotate&&(this.target.click(),this.target.blur())}clearAll(t){"obstacle"===t?this.obstacleList.length=0:"defaultBS"===t?this.defaultBSList.length=0:"candidate"===t?this.candidateList.length=0:"UE"===t&&(this.ueList.length=0)}plotResize(){}view3D(){this.view3dDialogConfig.data={calculateForm:this.calculateForm,obstacleList:this.obstacleList,defaultBSList:this.defaultBSList,candidateList:this.candidateList,ueList:this.ueList,dragObject:this.dragObject},this.matDialog.open(Je,this.view3dDialogConfig)}export(){const t=$e.utils.book_new(),e=[["image","width","height","altitude","mapLayer","imageName"],[this.calculateForm.mapImage,this.calculateForm.width,this.calculateForm.height,this.calculateForm.altitude,this.zValues[0],this.calculateForm.mapName]];if(this.zValues.length>1)for(let g=1;g<this.zValues.length;g++)e.push(["","","","",this.zValues[g],""]);const n=$e.utils.aoa_to_sheet(e);$e.utils.book_append_sheet(t,n,"map");const i=[["x","y","z","material","color"]];for(const g of this.defaultBSList)i.push([this.dragObject[g].x,this.dragObject[g].y,this.dragObject[g].z,this.dragObject[g].material,this.dragObject[g].color]);const r=$e.utils.aoa_to_sheet(i);$e.utils.book_append_sheet(t,r,"base_station");const o=[["x","y","z","material","color"]];for(const g of this.candidateList)o.push([this.dragObject[g].x,this.dragObject[g].y,this.dragObject[g].z,this.dragObject[g].material,this.dragObject[g].color]);const a=$e.utils.aoa_to_sheet(o);$e.utils.book_append_sheet(t,a,"candidate");const s=[["x","y","z","material","color"]];for(const g of this.ueList)s.push([this.dragObject[g].x,this.dragObject[g].y,this.dragObject[g].z,this.dragObject[g].material,this.dragObject[g].color]);const c=$e.utils.aoa_to_sheet(s);$e.utils.book_append_sheet(t,c,"ue");const l=[["x","y","width","height","altitude","rotate","material","color","shape"]];for(const g of this.obstacleList)l.push([this.dragObject[g].x,this.dragObject[g].y,this.dragObject[g].width,this.dragObject[g].height,this.dragObject[g].altitude,this.dragObject[g].rotate,this.dragObject[g].material,this.dragObject[g].color,this.dragObject[g].element]);const u=$e.utils.aoa_to_sheet(l);$e.utils.book_append_sheet(t,u,"obstacle");const h=$e.utils.aoa_to_sheet([["bsPowerMax","bsPowerMin","bsBeamIdMax","bsBeamIdMin","bandwidth","frequency"],[this.calculateForm.powerMaxRange,this.calculateForm.powerMinRange,"","",this.calculateForm.bandwidth,this.calculateForm.frequency]]);$e.utils.book_append_sheet(t,h,"bs parameters");const p=$e.utils.aoa_to_sheet([["crossover","mutation","iteration","seed","computeRound","useUeCoordinate","pathLossModel"],[this.calculateForm.crossover,this.calculateForm.mutation,this.calculateForm.iteration,this.calculateForm.seed,1,this.calculateForm.useUeCoordinate,this.calculateForm.pathLossModelId]]);$e.utils.book_append_sheet(t,p,"algorithm parameters");const d=$e.utils.aoa_to_sheet([["objective","objectiveStopCondition","newBsNum"],[this.calculateForm.objectiveIndex,"",this.calculateForm.availableNewBsNumber]]);$e.utils.book_append_sheet(t,d,"objective parameters"),console.log(t),$e.writeFile(t,this.calculateForm.taskName+".xlsx")}import(t){const e=t.target;if(1!==e.files.length)throw new Error("Cannot use multiple files");const n=new FileReader;n.onload=e=>{this.readXls(e.target.result),t.target.value=""},n.readAsBinaryString(e.files[0])}readXls(t){this.wb=$e.read(t,{type:"binary"});const e=$e.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[0]],{header:1});this.calculateForm.mapImage="";const n={};Object.keys(e[0]).forEach(t=>{n[e[0][t]]=t});for(let i=1;i<e.length;i++)this.calculateForm.mapImage+=e[i][0],void 0!==e[i][n.mapLayer]&&""!==e[i][n.mapLayer]&&this.zValues.push(e[i][n.mapLayer]);this.calculateForm.width=e[1][n.width],this.calculateForm.height=e[1][n.height],this.calculateForm.altitude=e[1][n.altitude],this.calculateForm.mapName=void 0===e[1][n.mapName]?e[1][n.imageName]:e[1][n.mapName],this.initData(!0)}setImportData(){this.obstacleList.length=0,this.defaultBSList.length=0,this.candidateList.length=0,this.ueList.length=0;const t=$e.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[1]],{header:1});if(t.length>1)for(let s=1;s<t.length;s++){const e="defaultBS_"+(s-1),n=void 0===t[s][3]?"0":t[s][3],i=void 0===t[s][4]?"green":t[s][4];this.dragObject[e]={x:t[s][0],y:t[s][1],z:t[s][2],width:this.xLinear(30),height:this.yLinear(30),altitude:50,rotate:0,title:this.svgMap.defaultBS.title,type:this.svgMap.defaultBS.type,color:i,material:n,element:this.svgMap.defaultBS.element},this.defaultBSList.push(e),this.spanStyle[e]={left:this.pixelXLinear(t[s][0]),top:this.pixelYLinear(t[s][1]),width:30,height:30},this.svgStyle[e]={display:"inherit",width:30,height:30},this.pathStyle[e]={fill:i},window.setTimeout(()=>{this.moveNumber(e)},0)}const e=$e.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[2]],{header:1});if(e.length>1)for(let s=1;s<e.length;s++){const t="candidate_"+(s-1);this.candidateList.push(t);const n=void 0===e[s][3]?"0":e[s][3],i=void 0===e[s][4]?"green":e[s][4];this.dragObject[t]={x:e[s][0],y:e[s][1],z:e[s][2],width:this.xLinear(30),height:this.yLinear(30),altitude:50,rotate:0,title:this.svgMap.candidate.title,type:this.svgMap.candidate.type,color:i,material:n,element:this.svgMap.candidate.element},console.log(this.pixelXLinear(e[s][0])),this.spanStyle[t]={left:this.pixelXLinear(e[s][0]),top:this.pixelYLinear(e[s][1]),width:30,height:30},this.svgStyle[t]={display:"inherit",width:30,height:30},this.pathStyle[t]={fill:i},window.setTimeout(()=>{this.changePosition(t)},0)}const n=$e.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[3]],{header:1});if(n.length>1)for(let s=1;s<n.length;s++){const t="UE_"+(s-1);this.ueList.push(t);const e=void 0===n[s][4]?"green":n[s][4];this.dragObject[t]={x:n[s][0],y:n[s][1],z:n[s][2],width:30,height:30,altitude:50,rotate:0,title:this.svgMap.UE.title,type:this.svgMap.UE.type,color:e,material:void 0===n[s][3]?"0":n[s][3],element:this.svgMap.UE.element},this.spanStyle[t]={left:this.pixelXLinear(n[s][0]),top:this.pixelYLinear(n[s][1]),width:30,height:30},this.svgStyle[t]={display:"inherit",width:30,height:30},this.pathStyle[t]={fill:e},window.setTimeout(()=>{this.changePosition(t)},0)}const i=$e.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[4]],{header:1});if(i.length>1){let t=0,e=0,n=0;for(let r=1;r<i.length;r++){if(0===i[r].length)continue;let o,a,s=i[r][8];if("rect"===s?(o="rect_"+t,a="rect",t++):"ellipse"===s?(o="ellipse_"+e,a="ellipse",e++):"polygon"===s?(o="polygon_"+n,a="polygon",n++):(s="rect",o="rect_"+t,a="rect",t++),this.dragObject[o]={x:i[r][0],y:i[r][1],z:0,width:i[r][2],height:i[r][3],altitude:i[r][4],rotate:void 0===i[r][5]?0:i[r][5],title:this.svgMap[a].title,type:this.svgMap[a].type,color:void 0===i[r][7]?"green":i[r][7],material:void 0===i[r][6]?"0":i[r][6],element:s},this.svgStyle[o]={display:"inherit",width:this.pixelXLinear(this.dragObject[o].width),height:this.pixelYLinear(this.dragObject[o].height)},"rect"===s)this.spanStyle[o]={left:""+this.pixelXLinear(this.dragObject[o].x),top:""+this.pixelYLinear(this.dragObject[o].y),width:this.pixelXLinear(i[r][2]),height:this.pixelYLinear(i[r][3])},this.rectStyle[o]={width:this.pixelXLinear(this.dragObject[o].width),height:this.pixelYLinear(this.dragObject[o].height),fill:this.dragObject[o].color};else if("ellipse"===s){this.spanStyle[o]={left:""+this.pixelXLinear(this.dragObject[o].x),top:""+this.pixelYLinear(this.dragObject[o].y),width:this.pixelXLinear(2*this.dragObject[o].width),height:this.pixelYLinear(2*this.dragObject[o].height)};const t=(this.pixelXLinear(this.dragObject[o].width)/2).toString(),e=(this.pixelYLinear(this.dragObject[o].height)/2).toString();this.ellipseStyle[o]={cx:t,cy:e,rx:t,ry:e,fill:this.dragObject[o].color}}else if("polygon"===s){this.spanStyle[o]={left:""+this.pixelXLinear(this.dragObject[o].x),top:""+this.pixelYLinear(this.dragObject[o].y),width:this.pixelXLinear(i[r][2]/2),height:this.pixelYLinear(i[r][3]/2)};const t=this.pixelXLinear(this.dragObject[o].width),e=this.pixelYLinear(this.dragObject[o].height);this.polygonStyle[o]={points:`${t/2},0 ${t}, ${e} 0, ${e}`,fill:this.dragObject[o].color}}this.obstacleList.push(o),window.setTimeout(()=>{this.changePosition(o)},0)}}const r=$e.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[5]],{header:1});r.length>1&&(this.calculateForm.powerMaxRange=Number(r[1][0]),this.calculateForm.powerMinRange=Number(r[1][1]),this.calculateForm.beamMaxId=Number(r[1][2]),this.calculateForm.beamMinId=Number(r[1][3]),this.calculateForm.bandwidth=Number(r[1][4]),this.calculateForm.frequency=Number(r[1][5]));const o=$e.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[6]],{header:1});o.length>1&&(this.calculateForm.crossover=Number(o[1][0]),this.calculateForm.mutation=Number(o[1][1]),this.calculateForm.iteration=Number(o[1][2]),this.calculateForm.seed=Number(o[1][3]),this.calculateForm.useUeCoordinate=Number(o[1][5]),this.calculateForm.pathLossModelId=Number(o[1][6]));const a=$e.utils.sheet_to_json(this.wb.Sheets[this.wb.SheetNames[7]],{header:1});a.length>1&&(this.calculateForm.objectiveIndex=a[1][0],this.calculateForm.obstacleInfo=a[1][1],this.calculateForm.availableNewBsNumber=Number(a[1][2])),window.setTimeout(()=>{this.moveable.destroy()},0)}save(){this.authService.spinnerShowAsHome(),this.setForm(),this.http.post(this.authService.API_URL+"/storeResult",JSON.stringify(this.calculateForm)).subscribe(t=>{this.taskid=t.taskid,this.authService.spinnerHide()},t=>{this.authService.spinnerHide(),console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(h.a),o.Pb(r.b),o.Pb(p.b),o.Pb(f.b))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-site-planning"]],viewQuery:function(t,e){var n;1&t&&(o.Lc(Yl,!0),o.Bc(Ke,!0),o.Lc(Xl,!0),o.Lc(Hl,!0)),2&t&&(o.rc(n=o.dc())&&(e.moveable=n.first),o.rc(n=o.dc())&&(e.matMenuTrigger=n.first),o.rc(n=o.dc())&&(e.chart=n.first),o.rc(n=o.dc())&&(e.materialModal=n.first))},hostBindings:function(t,e){1&t&&o.cc("resize",(function(){return e.windowResize()}),!1,o.vc)("click",(function(t){return e.clickout(t)}),!1,o.uc)("keyup",(function(t){return e.keyEvent(t)}),!1,o.vc)},inputs:{bounds:"bounds"},decls:332,vars:75,consts:[[1,"tool"],["matTooltip","\u969c\u7919\u7269",1,"svg",3,"click"],["id","svg_01","width","30","height","30","xmlns","http://www.w3.org/2000/svg"],["x","-1","y","-1","width","32","height","32","id","canvas_background","fill","#fff"],["id","canvasGrid","display","none"],["width","100%","height","100%","x","0","y","0","stroke-width","0","fill","url(#gridpattern)"],["fill","#000000","stroke-width","1.5","x","111","y","151","width","41","height","28","stroke","#000"],["fill","#ffffff","stroke-width","1.5","x","0","y","0","width","30","height","30","id","svg_1",1,"target"],["id","svg_02","width","30","height","30","xmlns","http://www.w3.org/2000/svg"],["fill","none","id","canvas_background","height","32","width","20","y","-1","x","-1"],["display","none","id","canvasGrid"],["fill","url(#gridpattern)","stroke-width","0","y","0","x","0","height","100%","width","100%"],["stroke","#000","height","28","width","41","y","151","x","111","stroke-width","1.5","fill","#000000"],["ry","15","rx","15","id","svg_2","cy","15","cx","15","stroke-width","1.5","fill","#ffffff",1,"target"],["id","svg_03","width","30","height","30","xmlns","http://www.w3.org/2000/svg"],["x","-1","y","-1","width","32","height","32","id","canvas_background","fill","none"],["points","15,0 30,30 0,30","fill","#ffffff","id","svg_3",1,"target"],["matTooltip","\u73fe\u6709\u57fa\u7ad9",1,"svg",3,"click"],["id","svg_04","width","30","height","30","xmlns","http://www.w3.org/2000/svg",1,"s"],["fill","none","id","canvas_background","height","32","width","32","y","-1","x","-1"],["fill","none","d","m0,0l24,0l0,24l-24,0l0,-24z"],["fill","#ffffff","stroke","null","id","svg_4","d","m27.1373,5.80872l1.19321,-1.19321c-2.08811,-2.08811 -4.77283,-3.13217 -7.45754,-3.13217s-5.36943,1.04406 -7.45754,3.13217l1.19321,1.19321c1.78981,-1.64066 4.02707,-2.53556 6.26434,-2.53556s4.47453,0.89491 6.26434,2.53556zm-1.34236,1.19321c-1.34236,-1.34236 -3.13217,-2.08811 -4.92198,-2.08811s-3.57962,0.74575 -4.92198,2.08811l1.19321,1.19321c1.04406,-1.04406 2.38641,-1.49151 3.72877,-1.49151c1.34236,0 2.68472,0.44745 3.72877,1.49151l1.19321,-1.19321zm-0.44745,9.39651l-2.98302,0l0,-5.96604l-2.98302,0l0,5.96604l-14.91509,0c-1.64066,0 -2.98302,1.34236 -2.98302,2.98302l0,5.96604c0,1.64066 1.34236,2.98302 2.98302,2.98302l20.88112,0c1.64066,0 2.98302,-1.34236 2.98302,-2.98302l0,-5.96604c0,-1.64066 -1.34236,-2.98302 -2.98302,-2.98302zm-16.4066,7.45754l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302z",1,"target"],["matTooltip","\u65b0\u589e\u57fa\u7ad9",1,"svg",3,"click"],["id","svg_05","width","30","height","30","xmlns","http://www.w3.org/2000/svg",1,"s"],["x","0","width","24","height","24","fill","none"],["stroke","null"],["fill","#ffffff","stroke","null","id","svg_5","d","m26.60334,2.83059l-23.16898,0c-1.60735,0 -2.88164,1.28877 -2.88164,2.89612l-0.01448,17.37673c0,1.60735 1.28877,2.89612 2.89612,2.89612l23.16898,0c1.60735,0 2.89612,-1.28877 2.89612,-2.89612l0,-17.37673c0,-1.60735 -1.28877,-2.89612 -2.89612,-2.89612zm-16.6527,15.92867l-1.73767,0l-3.69256,-5.06821l0,5.06821l-1.81008,0l0,-8.68837l1.81008,0l3.62015,5.06821l0,-5.06821l1.81008,0l0,8.68837zm7.2403,-6.86381l-3.62015,0l0,1.62183l3.62015,0l0,1.82456l-3.62015,0l0,1.60735l3.62015,0l0,1.81008l-5.79224,0l0,-8.68837l5.79224,0l0,1.82456zm10.13643,5.41575c0,0.79643 -0.65163,1.44806 -1.44806,1.44806l-5.79224,0c-0.79643,0 -1.44806,-0.65163 -1.44806,-1.44806l0,-7.2403l1.81008,0l0,6.53075l1.63631,0l0,-5.09717l1.81008,0l0,5.08269l1.62183,0l0,-6.51627l1.81008,0l0,7.2403z",1,"target"],["matTooltip","\u65b0\u589e\uff35\uff25",1,"svg",3,"click"],["id","svg_06","width","20","height","30","xmlns","http://www.w3.org/2000/svg",1,"s"],["fill","none","height","20","width","30","y","-1","x","-1"],["fill","#ffffff","id","svg_6","d","M15.88,0H3.12C1.4,0,0,1.47,0,3.27v22.46C0,27.53,1.4,29,3.12,29h12.76C17.6,29,19,27.53,19,25.73V3.27\n        C19,1.47,17.6,0,15.88,0z M9.5,27.09c-0.48,0-0.86-0.41-0.86-0.91c0-0.5,0.39-0.91,0.86-0.91c0.48,0,0.86,0.41,0.86,0.91\n        C10.36,26.69,9.98,27.09,9.5,27.09z M16.71,21.99c0,0.77-0.59,1.39-1.32,1.39H3.61c-0.73,0-1.32-0.62-1.32-1.39V4.11\n        c0-0.77,0.59-1.39,1.32-1.39h11.77c0.73,0,1.32,0.62,1.32,1.39V21.99z",1,"target"],[1,"example-container"],["id","d_area"],["mat-button","",1,"toggle",3,"click"],[1,"material-icons"],[1,"inline-block"],["value","save","selected","",3,"click"],["value","import",3,"click"],["value","export",3,"click"],["type","file","multiple","false","accept",".xlsx",2,"display","none",3,"change"],["file",""],[1,"inline-block","ml_5"],["value","go",3,"click"],["value","result",3,"routerLink"],[3,"click"],["id","chart"],["chart",""],["class","obstacle",3,"id","ngStyle","mouseover","mouseout","click","contextmenu",4,"ngFor","ngForOf"],["class","defaultBS",3,"id","ngStyle","mouseover","mouseout","click","contextmenu",4,"ngFor","ngForOf"],["class","rounded-circle blue_circle",3,"id",4,"ngFor","ngForOf"],["class","candidate",3,"id","ngStyle","mouseover","mouseout","click","contextmenu",4,"ngFor","ngForOf"],["class","rounded-circle pink_circle",3,"id",4,"ngFor","ngForOf"],["class","UE",3,"id","ngStyle","mouseover","mouseout","click","contextmenu",4,"ngFor","ngForOf"],["class","msg_label",3,"ngStyle","innerHTML",4,"ngIf"],[3,"target","draggable","origin","rotatable","pinchable","scalable","resizable","warpable","keepRatio","throttleDrag","throttleScale","throttleRotate","throttleResize","drag","resize","rotate","dragEnd","resizeEnd","rotateEnd"],["moveable",""],[2,"visibility","hidden","position","fixed",3,"ngStyle","matMenuTriggerFor"],["rightMenu","matMenu"],["matMenuContent",""],["mode","side","position","end",3,"opened","openedChange"],["sidenav",""],[3,"opened","closed"],[1,"panel_content"],[1,"sub_title","active"],[1,"sub_content"],[3,"ngModel","ngModelChange"],["type","text",3,"ngModel","ngModelChange","keyup"],[1,"sub_title","inline-block"],[1,"sub_content","inline-block"],["type","text",3,"ngModel","ngModelChange"],[1,"sub_title"],["type","text","placeholder","\u4e0b\u9650",3,"ngModel","ngModelChange"],["type","text","placeholder","\u4e0a\u9650",3,"ngModel","ngModelChange"],["value","3"],["value","5"],["value","10"],["value","15"],["value","20"],[1,"areaSetting"],["type","text",1,"w18",3,"ngModel","ngModelChange"],["type","file",3,"change"],[4,"ngIf"],["type","text",3,"ngModel","ngModelChange","change"],["value","0"],["value","1"],["value","2"],[1,"matBadge"],["class","clearAll",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"widthAuto"],["value","4"],["value","6"],["value","7"],["value","8"],["value","9"],["value","1000"],[1,"panel_content","algorithm"],["materialModal",""],[1,"obstacle",3,"id","ngStyle","mouseover","mouseout","click","contextmenu"],["xmlns","http://www.w3.org/2000/svg",3,"ngStyle",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg",3,"ngStyle"],["stroke-width","1.5","x","0","y","0",1,"drag_rect",3,"ngStyle"],["stroke-width","1.5","fill","#ffffff",1,"drag_rect",3,"ngStyle"],[1,"drag_rect",3,"ngStyle"],[1,"defaultBS",3,"id","ngStyle","mouseover","mouseout","click","contextmenu"],["xmlns","http://www.w3.org/2000/svg",1,"s",3,"ngStyle"],["stroke","null","d","m27.1373,5.80872l1.19321,-1.19321c-2.08811,-2.08811 -4.77283,-3.13217 -7.45754,-3.13217s-5.36943,1.04406 -7.45754,3.13217l1.19321,1.19321c1.78981,-1.64066 4.02707,-2.53556 6.26434,-2.53556s4.47453,0.89491 6.26434,2.53556zm-1.34236,1.19321c-1.34236,-1.34236 -3.13217,-2.08811 -4.92198,-2.08811s-3.57962,0.74575 -4.92198,2.08811l1.19321,1.19321c1.04406,-1.04406 2.38641,-1.49151 3.72877,-1.49151c1.34236,0 2.68472,0.44745 3.72877,1.49151l1.19321,-1.19321zm-0.44745,9.39651l-2.98302,0l0,-5.96604l-2.98302,0l0,5.96604l-14.91509,0c-1.64066,0 -2.98302,1.34236 -2.98302,2.98302l0,5.96604c0,1.64066 1.34236,2.98302 2.98302,2.98302l20.88112,0c1.64066,0 2.98302,-1.34236 2.98302,-2.98302l0,-5.96604c0,-1.64066 -1.34236,-2.98302 -2.98302,-2.98302zm-16.4066,7.45754l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302z",1,"drag_rect",3,"ngStyle"],[1,"rounded-circle","blue_circle",3,"id"],[1,"candidate",3,"id","ngStyle","mouseover","mouseout","click","contextmenu"],["stroke","null","d","m26.60334,2.83059l-23.16898,0c-1.60735,0 -2.88164,1.28877 -2.88164,2.89612l-0.01448,17.37673c0,1.60735 1.28877,2.89612 2.89612,2.89612l23.16898,0c1.60735,0 2.89612,-1.28877 2.89612,-2.89612l0,-17.37673c0,-1.60735 -1.28877,-2.89612 -2.89612,-2.89612zm-16.6527,15.92867l-1.73767,0l-3.69256,-5.06821l0,5.06821l-1.81008,0l0,-8.68837l1.81008,0l3.62015,5.06821l0,-5.06821l1.81008,0l0,8.68837zm7.2403,-6.86381l-3.62015,0l0,1.62183l3.62015,0l0,1.82456l-3.62015,0l0,1.60735l3.62015,0l0,1.81008l-5.79224,0l0,-8.68837l5.79224,0l0,1.82456zm10.13643,5.41575c0,0.79643 -0.65163,1.44806 -1.44806,1.44806l-5.79224,0c-0.79643,0 -1.44806,-0.65163 -1.44806,-1.44806l0,-7.2403l1.81008,0l0,6.53075l1.63631,0l0,-5.09717l1.81008,0l0,5.08269l1.62183,0l0,-6.51627l1.81008,0l0,7.2403z",1,"drag_rect",3,"ngStyle"],[1,"rounded-circle","pink_circle",3,"id"],[1,"UE",3,"id","ngStyle","mouseover","mouseout","click","contextmenu"],["d","M15.88,0H3.12C1.4,0,0,1.47,0,3.27v22.46C0,27.53,1.4,29,3.12,29h12.76C17.6,29,19,27.53,19,25.73V3.27\n            C19,1.47,17.6,0,15.88,0z M9.5,27.09c-0.48,0-0.86-0.41-0.86-0.91c0-0.5,0.39-0.91,0.86-0.91c0.48,0,0.86,0.41,0.86,0.91\n            C10.36,26.69,9.98,27.09,9.5,27.09z M16.71,21.99c0,0.77-0.59,1.39-1.32,1.39H3.61c-0.73,0-1.32-0.62-1.32-1.39V4.11\n            c0-0.77,0.59-1.39,1.32-1.39h11.77c0.73,0,1.32,0.62,1.32,1.39V21.99z",1,"drag_rect",3,"ngStyle"],[1,"msg_label",3,"ngStyle","innerHTML"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"colorPicker","click","colorPickerChange"],[1,"clearAll",3,"click"],[1,"w7em",3,"ngModel","ngModelChange"],[1,"zAxis",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"highset"],[1,"mt-2"],["aria-label","Select an option",3,"ngModel","ngModelChange"],["value","1",1,"ml-2"],["value","2",1,"ml-2"],["value","3",1,"ml-2"],["value","4",1,"ml-2"]],template:function(t,e){if(1&t){const t=o.Vb();o.Ub(0,"div",0),o.Ub(1,"span",1),o.cc("click",(function(){return e.addMoveable("rect")})),o.fc(),o.Ub(2,"svg",2),o.Ub(3,"g"),o.Qb(4,"rect",3),o.Ub(5,"g",4),o.Qb(6,"rect",5),o.Tb(),o.Tb(),o.Ub(7,"g"),o.Qb(8,"rect",6),o.Qb(9,"rect",7),o.Tb(),o.Tb(),o.Tb(),o.ec(),o.Ub(10,"span",1),o.cc("click",(function(){return e.addMoveable("ellipse")})),o.fc(),o.Ub(11,"svg",8),o.Ub(12,"g"),o.Qb(13,"rect",9),o.Ub(14,"g",10),o.Qb(15,"rect",11),o.Tb(),o.Tb(),o.Ub(16,"g"),o.Qb(17,"rect",12),o.Qb(18,"ellipse",13),o.Tb(),o.Tb(),o.Tb(),o.ec(),o.Ub(19,"span",1),o.cc("click",(function(){return e.addMoveable("polygon")})),o.fc(),o.Ub(20,"svg",14),o.Ub(21,"g"),o.Qb(22,"rect",15),o.Ub(23,"g",4),o.Qb(24,"rect",5),o.Tb(),o.Tb(),o.Ub(25,"g"),o.Qb(26,"rect",6),o.Qb(27,"polygon",16),o.Tb(),o.Tb(),o.Tb(),o.ec(),o.Qb(28,"hr"),o.Ub(29,"span",17),o.cc("click",(function(){return e.addMoveable("defaultBS")})),o.fc(),o.Ub(30,"svg",18),o.Ub(31,"g"),o.Qb(32,"rect",19),o.Tb(),o.Ub(33,"g"),o.Qb(34,"path",20),o.Qb(35,"path",21),o.Tb(),o.Tb(),o.Tb(),o.ec(),o.Ub(36,"span",22),o.cc("click",(function(){return e.addMoveable("candidate")})),o.fc(),o.Ub(37,"svg",23),o.Ub(38,"g"),o.Qb(39,"rect",19),o.Tb(),o.Ub(40,"g"),o.Ub(41,"g"),o.Qb(42,"rect",24),o.Tb(),o.Ub(43,"g"),o.Ub(44,"g",25),o.Ub(45,"g",25),o.Qb(46,"path",26),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.ec(),o.Qb(47,"hr"),o.Ub(48,"span",27),o.cc("click",(function(){return e.addMoveable("UE")})),o.fc(),o.Ub(49,"svg",28),o.Ub(50,"g"),o.Qb(51,"rect",29),o.Tb(),o.Ub(52,"g"),o.Qb(53,"path",30),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.ec(),o.Ub(54,"mat-sidenav-container",31),o.Ub(55,"mat-sidenav-content"),o.Ub(56,"div",32),o.Ub(57,"button",33),o.cc("click",(function(){return o.wc(t),o.sc(94).toggle(),e.plotResize()})),o.Ub(58,"span",34),o.Fc(59,"swap_horiz"),o.Tb(),o.Tb(),o.Ub(60,"h2",35),o.Fc(61),o.Tb(),o.Ub(62,"mat-button-toggle-group",35),o.Ub(63,"mat-button-toggle",36),o.cc("click",(function(){return e.save()})),o.Fc(64,"\u5132\u5b58"),o.Tb(),o.Ub(65,"mat-button-toggle",37),o.cc("click",(function(){return o.wc(t),o.sc(70).click()})),o.Fc(66,"\u532f\u5165"),o.Tb(),o.Ub(67,"mat-button-toggle",38),o.cc("click",(function(){return e.export()})),o.Fc(68,"\u532f\u51fa"),o.Tb(),o.Tb(),o.Ub(69,"input",39,40),o.cc("change",(function(t){return e.import(t)})),o.Tb(),o.Ub(71,"mat-button-toggle-group",41),o.Ub(72,"mat-button-toggle",42),o.cc("click",(function(){return e.calculate()})),o.Fc(73,"\u958b\u59cb\u904b\u7b97"),o.Tb(),o.Ub(74,"mat-button-toggle",43),o.Fc(75,"\u904b\u7b97\u7d50\u679c"),o.Tb(),o.Ub(76,"mat-button-toggle",44),o.cc("click",(function(){return e.view3D()})),o.Fc(77,"3\uff24\u986f\u793a"),o.Tb(),o.Tb(),o.Ub(78,"div",45,46),o.Dc(80,Zl,4,5,"span",47),o.Dc(81,Jl,7,4,"span",48),o.Dc(82,$l,2,2,"span",49),o.Dc(83,tu,11,4,"span",50),o.Dc(84,eu,2,2,"span",51),o.Dc(85,nu,6,4,"span",52),o.Dc(86,iu,1,2,"span",53),o.Tb(),o.Tb(),o.Ub(87,"ngx-moveable",54,55),o.cc("drag",(function(t){return e.onDrag(t)}))("resize",(function(t){return e.onResize(t)}))("rotate",(function(t){return e.onRotate(t)}))("dragEnd",(function(){return e.onEnd()}))("resizeEnd",(function(){return e.onEnd()}))("rotateEnd",(function(){return e.onEnd()})),o.Tb(),o.Qb(89,"div",56),o.Ub(90,"mat-menu",null,57),o.Dc(92,ru,9,10,"ng-template",58),o.Tb(),o.Tb(),o.Ub(93,"mat-sidenav",59,60),o.cc("openedChange",(function(t){return e.opened=t})),o.Ub(95,"mat-accordion"),o.Ub(96,"mat-expansion-panel",61),o.cc("opened",(function(){return e.panelOpenState=!0}))("closed",(function(){return e.panelOpenState=!1})),o.Ub(97,"mat-expansion-panel-header"),o.Ub(98,"mat-panel-title"),o.Fc(99,"\u898f\u5283\u76ee\u6a19"),o.Tb(),o.Tb(),o.Ub(100,"div",62),o.Ub(101,"p",63),o.Fc(102,"\u76ee\u6a19\u8a2d\u5b9a"),o.Tb(),o.Ub(103,"div",64),o.Ub(104,"div"),o.Ub(105,"mat-checkbox",65),o.cc("ngModelChange",(function(t){return e.calculateForm.isAverageSinr=t})),o.Fc(106,"\u5e73\u5747 SINR"),o.Tb(),o.Ub(107,"input",66),o.cc("ngModelChange",(function(t){return e.calculateForm.sinrRatio=t}))("keyup",(function(){return e.calculateForm.isAverageSinr=e.setCheckbox(e.calculateForm.sinrRatio)})),o.Tb(),o.Tb(),o.Ub(108,"div"),o.Ub(109,"mat-checkbox",65),o.cc("ngModelChange",(function(t){return e.calculateForm.isAvgThroughput=t})),o.Fc(110,"\u5e73\u5747 Throughput"),o.Tb(),o.Ub(111,"input",66),o.cc("ngModelChange",(function(t){return e.calculateForm.throughputRatio=t}))("keyup",(function(){return e.calculateForm.isAvgThroughput=e.setCheckbox(e.calculateForm.throughputRatio)})),o.Tb(),o.Tb(),o.Ub(112,"div"),o.Ub(113,"mat-checkbox",65),o.cc("ngModelChange",(function(t){return e.calculateForm.isCoverage=t})),o.Fc(114,"\u5834\u57df Coverage"),o.Tb(),o.Ub(115,"input",66),o.cc("ngModelChange",(function(t){return e.calculateForm.coverageRatio=t}))("keyup",(function(){return e.calculateForm.isCoverage=e.setCheckbox(e.calculateForm.coverageRatio)})),o.Tb(),o.Tb(),o.Ub(116,"div"),o.Ub(117,"mat-checkbox",65),o.cc("ngModelChange",(function(t){return e.calculateForm.isUeAvgSinr=t})),o.Fc(118,"UE \u5e73\u5747 SINR"),o.Tb(),o.Ub(119,"input",66),o.cc("ngModelChange",(function(t){return e.calculateForm.ueAvgSinrRatio=t}))("keyup",(function(){return e.calculateForm.isUeAvgSinr=e.setCheckbox(e.calculateForm.ueAvgSinrRatio)})),o.Tb(),o.Tb(),o.Ub(120,"div"),o.Ub(121,"mat-checkbox",65),o.cc("ngModelChange",(function(t){return e.calculateForm.isUeAvgThroughput=t})),o.Fc(122,"UE\u5e73\u5747 Throughput"),o.Tb(),o.Ub(123,"input",66),o.cc("ngModelChange",(function(t){return e.calculateForm.ueAvgThroughputRatio=t}))("keyup",(function(){return e.calculateForm.isUeAvgThroughput=e.setCheckbox(e.calculateForm.ueAvgThroughputRatio)})),o.Tb(),o.Tb(),o.Ub(124,"div"),o.Ub(125,"mat-checkbox",65),o.cc("ngModelChange",(function(t){return e.calculateForm.isUeTpByDistance=t})),o.Fc(126,"UE \u5e73\u5747 Throughput \u6700\u5927(\u4f9d\u8ddd\u96e2)"),o.Tb(),o.Ub(127,"input",66),o.cc("ngModelChange",(function(t){return e.calculateForm.ueTpByDistanceRatio=t}))("keyup",(function(){return e.calculateForm.isUeTpByDistance=e.setCheckbox(e.calculateForm.ueTpByDistanceRatio)})),o.Tb(),o.Tb(),o.Tb(),o.Ub(128,"p",67),o.Fc(129,"\u6b32\u4f48\u5efa\u7684\u7121\u7dda\u57fa\u7ad9\u6578\u91cf"),o.Tb(),o.Ub(130,"div",68),o.Ub(131,"input",69),o.cc("ngModelChange",(function(t){return e.calculateForm.availableNewBsNumber=t})),o.Tb(),o.Tb(),o.Ub(132,"p",70),o.Fc(133,"\u4f48\u5efa\u4f7f\u7528\u7684\u7121\u7dda\u57fa\u7ad9\u898f\u683c"),o.Tb(),o.Ub(134,"div",64),o.Ub(135,"ul"),o.Ub(136,"li"),o.Ub(137,"label"),o.Fc(138,"\u50b3\u8f38\u529f\u7387"),o.Tb(),o.Ub(139,"span"),o.Ub(140,"input",71),o.cc("ngModelChange",(function(t){return e.calculateForm.powerMinRange=t})),o.Tb(),o.Fc(141,"~"),o.Ub(142,"input",72),o.cc("ngModelChange",(function(t){return e.calculateForm.powerMaxRange=t})),o.Tb(),o.Fc(143,"dBm "),o.Tb(),o.Tb(),o.Ub(144,"li"),o.Ub(145,"label"),o.Fc(146,"\u7cfb\u7d71\u983b\u5bec"),o.Tb(),o.Ub(147,"span"),o.Ub(148,"select",65),o.cc("ngModelChange",(function(t){return e.calculateForm.bandwidth=t})),o.Ub(149,"option",73),o.Fc(150,"3"),o.Tb(),o.Ub(151,"option",74),o.Fc(152,"5"),o.Tb(),o.Ub(153,"option",75),o.Fc(154,"10"),o.Tb(),o.Ub(155,"option",76),o.Fc(156,"15"),o.Tb(),o.Ub(157,"option",77),o.Fc(158,"20"),o.Tb(),o.Tb(),o.Fc(159," / "),o.Ub(160,"label"),o.Fc(161,"\u983b\u7387"),o.Tb(),o.Ub(162,"input",69),o.cc("ngModelChange",(function(t){return e.calculateForm.frequency=t})),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(163,"mat-expansion-panel",61),o.cc("opened",(function(){return e.panelOpenState=!0}))("closed",(function(){return e.panelOpenState=!1})),o.Ub(164,"mat-expansion-panel-header"),o.Ub(165,"mat-panel-title"),o.Fc(166,"\u5834\u57df\u8a2d\u5b9a"),o.Tb(),o.Tb(),o.Ub(167,"div",78),o.Ub(168,"mat-expansion-panel"),o.Ub(169,"mat-expansion-panel-header"),o.Ub(170,"mat-panel-title"),o.Fc(171,"\u5834\u57df\u57fa\u672c\u8cc7\u8a0a"),o.Tb(),o.Tb(),o.Ub(172,"ul"),o.Ub(173,"li"),o.Ub(174,"p"),o.Fc(175,"\u5834\u57df\u540d\u7a31"),o.Tb(),o.Ub(176,"input",79),o.cc("ngModelChange",(function(t){return e.calculateForm.taskName=t})),o.Tb(),o.Tb(),o.Ub(177,"li"),o.Ub(178,"p"),o.Fc(179,"\u4e0a\u50b3\u5716\u6a94"),o.Tb(),o.Ub(180,"input",80),o.cc("change",(function(t){return e.fileChange(t)})),o.Tb(),o.Dc(181,ou,2,1,"span",81),o.Tb(),o.Ub(182,"li"),o.Ub(183,"p"),o.Fc(184,"\u5834\u57df\u5c3a\u5bf8"),o.Tb(),o.Ub(185,"ul",35),o.Ub(186,"li",35),o.Ub(187,"label"),o.Fc(188,"\u9577"),o.Tb(),o.Ub(189,"input",82),o.cc("ngModelChange",(function(t){return e.calculateForm.width=t}))("change",(function(){return e.initData(!1)})),o.Tb(),o.Tb(),o.Ub(190,"li",35),o.Ub(191,"label"),o.Fc(192,"\u5bec"),o.Tb(),o.Ub(193,"input",82),o.cc("ngModelChange",(function(t){return e.calculateForm.height=t}))("change",(function(){return e.initData(!1)})),o.Tb(),o.Tb(),o.Ub(194,"li",35),o.Ub(195,"label"),o.Fc(196,"\u9ad8"),o.Tb(),o.Ub(197,"input",82),o.cc("ngModelChange",(function(t){return e.calculateForm.altitude=t}))("change",(function(){return e.initData(!1)})),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(198,"li"),o.Ub(199,"p"),o.Fc(200,"\u7db2\u8def\u7a2e\u985e\t"),o.Tb(),o.Ub(201,"select",65),o.cc("ngModelChange",(function(t){return e.calculateForm.objectiveIndex=t})),o.Ub(202,"option",83),o.Fc(203,"4G"),o.Tb(),o.Ub(204,"option",84),o.Fc(205,"5G"),o.Tb(),o.Ub(206,"option",85),o.Fc(207,"Wifi"),o.Tb(),o.Tb(),o.Tb(),o.Ub(208,"li"),o.Ub(209,"p"),o.Fc(210,"\u5207\u9762\u9ad8\u5ea6"),o.Ub(211,"span"),o.Fc(212," ( \u55ae\u4f4d:\u516c\u5206\uff0c\u6700\u591a\u53ef\u8a2d\u5b9a3\u7d44\u9ad8\u5ea6 ) "),o.Tb(),o.Tb(),o.Ub(213,"ol",35),o.Ub(214,"li"),o.Ub(215,"input",69),o.cc("ngModelChange",(function(t){return e.zValues[0]=t})),o.Tb(),o.Tb(),o.Ub(216,"li"),o.Ub(217,"input",69),o.cc("ngModelChange",(function(t){return e.zValues[1]=t})),o.Tb(),o.Tb(),o.Ub(218,"li"),o.Ub(219,"input",69),o.cc("ngModelChange",(function(t){return e.zValues[2]=t})),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(220,"mat-expansion-panel"),o.Ub(221,"mat-expansion-panel-header"),o.Ub(222,"mat-panel-title"),o.Fc(223,"\u5834\u57df\u969c\u7919\u7269\u8cc7\u8a0a "),o.Ub(224,"label",86),o.Fc(225),o.Tb(),o.Tb(),o.Tb(),o.Dc(226,au,4,0,"span",87),o.Ub(227,"ol"),o.Dc(228,su,40,7,"li",88),o.Tb(),o.Tb(),o.Ub(229,"mat-expansion-panel"),o.Ub(230,"mat-expansion-panel-header"),o.Ub(231,"mat-panel-title"),o.Fc(232,"\u5834\u57df\u5167\u539f\u6709\u7121\u7dda\u57fa\u7ad9\u4f4d\u7f6e "),o.Ub(233,"label",86),o.Fc(234),o.Tb(),o.Tb(),o.Tb(),o.Dc(235,cu,4,0,"span",87),o.Ub(236,"ul"),o.Ub(237,"li"),o.Ub(238,"ol"),o.Dc(239,uu,14,4,"li",88),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(240,"mat-expansion-panel"),o.Ub(241,"mat-expansion-panel-header"),o.Ub(242,"mat-panel-title"),o.Fc(243,"\u5834\u57df\u5167\u7121\u7dda\u7d42\u7aef\u5206\u4f48\u8cc7\u8a0a "),o.Ub(244,"label",86),o.Fc(245),o.Tb(),o.Tb(),o.Tb(),o.Dc(246,hu,4,0,"span",87),o.Ub(247,"ul"),o.Ub(248,"li"),o.Ub(249,"ol"),o.Dc(250,du,14,4,"li",88),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(251,"mat-expansion-panel"),o.Ub(252,"mat-expansion-panel-header"),o.Ub(253,"mat-panel-title"),o.Fc(254,"\u5834\u57df\u5167\u53ef\u5b89\u88dd\u7121\u7dda\u57fa\u7ad9\u7684\u4f4d\u7f6e "),o.Ub(255,"label",86),o.Fc(256),o.Tb(),o.Tb(),o.Tb(),o.Dc(257,gu,4,0,"span",87),o.Ub(258,"ol"),o.Dc(259,bu,14,4,"li",88),o.Tb(),o.Tb(),o.Ub(260,"mat-expansion-panel"),o.Ub(261,"mat-expansion-panel-header"),o.Ub(262,"mat-panel-title"),o.Fc(263,"\u5834\u57df\u5167\u7121\u7dda\u8a0a\u865f\u8870\u6e1b\u6a21\u578b"),o.Tb(),o.Tb(),o.Ub(264,"ul"),o.Ub(265,"li"),o.Ub(266,"p"),o.Ub(267,"span"),o.Fc(268,"Path Loss Model"),o.Tb(),o.Ub(269,"select",89),o.Ub(270,"option"),o.Fc(271,"\u53f0\u4e2d\u667a\u6a5f\u5834\u57df"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(272,"li"),o.Ub(273,"p"),o.Ub(274,"label"),o.Fc(275,"\u9810\u8a2d\u7121\u7dda\u6a21\u578b"),o.Tb(),o.Ub(276,"span"),o.Ub(277,"select",65),o.cc("ngModelChange",(function(t){return e.calculateForm.pathLossModelId=t})),o.Ub(278,"option",83),o.Fc(279,"ITRI 51\u99285F"),o.Tb(),o.Ub(280,"option",84),o.Fc(281,"\u53f0\u4e2d\u667a\u6a5f\u5834\u57df"),o.Tb(),o.Ub(282,"option",85),o.Fc(283,"ITU office 900MHz"),o.Tb(),o.Ub(284,"option",73),o.Fc(285,"ITU office 1.2~1.3GHz"),o.Tb(),o.Ub(286,"option",90),o.Fc(287,"ITU office 1.8~2, 2.4GHz"),o.Tb(),o.Ub(288,"option",74),o.Fc(289,"ITU office 3.5GHz"),o.Tb(),o.Ub(290,"option",91),o.Fc(291,"ITU residential 1.8~2, 2.4GHz"),o.Tb(),o.Ub(292,"option",92),o.Fc(293,"ITU commercial 900MHz"),o.Tb(),o.Ub(294,"option",93),o.Fc(295,"ITU commercial 1.2~1.3, 1.8~2, 4GHz"),o.Tb(),o.Ub(296,"option",94),o.Fc(297,"Wifi 2.4GHz"),o.Tb(),o.Ub(298,"option",95),o.Fc(299,"\u4f7f\u7528\u8005\u81ea\u5b9a\u7fa9"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(300,"mat-expansion-panel"),o.Ub(301,"mat-expansion-panel-header"),o.Ub(302,"mat-panel-title"),o.Fc(303,"\u898f\u5283\u6f14\u7b97\u6cd5\u8a2d\u5b9a"),o.Tb(),o.Tb(),o.Ub(304,"div",96),o.Ub(305,"ul"),o.Ub(306,"li"),o.Ub(307,"span"),o.Fc(308,"C \u503c"),o.Tb(),o.Ub(309,"input",69),o.cc("ngModelChange",(function(t){return e.calculateForm.mctsC=t})),o.Tb(),o.Tb(),o.Ub(310,"li"),o.Ub(311,"span"),o.Fc(312,"\u5929\u7dda\u6578"),o.Tb(),o.Ub(313,"input",69),o.cc("ngModelChange",(function(t){return e.calculateForm.mctsMimo=t})),o.Tb(),o.Tb(),o.Ub(314,"li"),o.Ub(315,"span"),o.Fc(316,"\u6c23\u6eab"),o.Tb(),o.Ub(317,"input",69),o.cc("ngModelChange",(function(t){return e.calculateForm.mctsTemperature=t})),o.Tb(),o.Tb(),o.Ub(318,"li"),o.Ub(319,"span"),o.Fc(320,"\u7bc0\u9ede\u6a21\u64ec\u6642\u9593\u9650\u5236"),o.Tb(),o.Ub(321,"input",69),o.cc("ngModelChange",(function(t){return e.calculateForm.mctsTime=t})),o.Tb(),o.Tb(),o.Ub(322,"li"),o.Ub(323,"span"),o.Fc(324,"\u672c\u6b21\u898f\u5283\u4e4b\u6642\u9593\u9650\u5236"),o.Tb(),o.Ub(325,"input",69),o.cc("ngModelChange",(function(t){return e.calculateForm.mctsTestTime=t})),o.Tb(),o.Tb(),o.Ub(326,"li"),o.Ub(327,"span"),o.Fc(328,"\u672c\u6b21\u898f\u5283\u4e4b\u6a21\u64ec\u6b21\u6578\u4e0a\u9650"),o.Tb(),o.Ub(329,"input",69),o.cc("ngModelChange",(function(t){return e.calculateForm.mctsTotalTime=t})),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Dc(330,mu,26,14,"ng-template",null,97,o.Ec)}if(2&t){const t=o.sc(91);o.Cb(61),o.Hc("\u5834\u57df wifi \u898f\u5283(",e.calculateForm.taskName,")"),o.Cb(13),o.lc("routerLink",o.oc(74,vu)),o.Cb(6),o.lc("ngForOf",e.obstacleList),o.Cb(1),o.lc("ngForOf",e.defaultBSList),o.Cb(1),o.lc("ngForOf",e.defaultBSList),o.Cb(1),o.lc("ngForOf",e.candidateList),o.Cb(1),o.lc("ngForOf",e.candidateList),o.Cb(1),o.lc("ngForOf",e.ueList),o.Cb(1),o.lc("ngIf",e.live),o.Cb(1),o.lc("target",e.target)("draggable",!0)("origin",!1)("rotatable",!0)("pinchable",!0)("scalable",e.scalable)("resizable",e.resizable)("warpable",e.warpable)("keepRatio",!1)("throttleDrag",1)("throttleScale",.01)("throttleRotate",.2)("throttleResize",1),o.Cb(2),o.lc("ngStyle",e.menuTopLeftStyle)("matMenuTriggerFor",t),o.Cb(4),o.lc("opened",e.opened),o.Cb(12),o.lc("ngModel",e.calculateForm.isAverageSinr),o.Cb(2),o.lc("ngModel",e.calculateForm.sinrRatio),o.Cb(2),o.lc("ngModel",e.calculateForm.isAvgThroughput),o.Cb(2),o.lc("ngModel",e.calculateForm.throughputRatio),o.Cb(2),o.lc("ngModel",e.calculateForm.isCoverage),o.Cb(2),o.lc("ngModel",e.calculateForm.coverageRatio),o.Cb(2),o.lc("ngModel",e.calculateForm.isUeAvgSinr),o.Cb(2),o.lc("ngModel",e.calculateForm.ueAvgSinrRatio),o.Cb(2),o.lc("ngModel",e.calculateForm.isUeAvgThroughput),o.Cb(2),o.lc("ngModel",e.calculateForm.ueAvgThroughputRatio),o.Cb(2),o.lc("ngModel",e.calculateForm.isUeTpByDistance),o.Cb(2),o.lc("ngModel",e.calculateForm.ueTpByDistanceRatio),o.Cb(4),o.lc("ngModel",e.calculateForm.availableNewBsNumber),o.Cb(9),o.lc("ngModel",e.calculateForm.powerMinRange),o.Cb(2),o.lc("ngModel",e.calculateForm.powerMaxRange),o.Cb(6),o.lc("ngModel",e.calculateForm.bandwidth),o.Cb(14),o.lc("ngModel",e.calculateForm.frequency),o.Cb(14),o.lc("ngModel",e.calculateForm.taskName),o.Cb(5),o.lc("ngIf",e.showFileName),o.Cb(8),o.lc("ngModel",e.calculateForm.width),o.Cb(4),o.lc("ngModel",e.calculateForm.height),o.Cb(4),o.lc("ngModel",e.calculateForm.altitude),o.Cb(4),o.lc("ngModel",e.calculateForm.objectiveIndex),o.Cb(14),o.lc("ngModel",e.zValues[0]),o.Cb(2),o.lc("ngModel",e.zValues[1]),o.Cb(2),o.lc("ngModel",e.zValues[2]),o.Cb(3),o.Eb(e.subitemClass.obstacle),o.Cb(3),o.Gc(e.obstacleList.length),o.Cb(1),o.lc("ngIf",e.obstacleList.length>0),o.Cb(2),o.lc("ngForOf",e.obstacleList),o.Cb(6),o.Gc(e.defaultBSList.length),o.Cb(1),o.lc("ngIf",e.defaultBSList.length>0),o.Cb(4),o.lc("ngForOf",e.defaultBSList),o.Cb(3),o.Eb(e.subitemClass.ue),o.Cb(3),o.Gc(e.ueList.length),o.Cb(1),o.lc("ngIf",e.ueList.length>0),o.Cb(4),o.lc("ngForOf",e.ueList),o.Cb(6),o.Gc(e.candidateList.length),o.Cb(1),o.lc("ngIf",e.candidateList.length>0),o.Cb(2),o.lc("ngForOf",e.candidateList),o.Cb(18),o.lc("ngModel",e.calculateForm.pathLossModelId),o.Cb(32),o.lc("ngModel",e.calculateForm.mctsC),o.Cb(4),o.lc("ngModel",e.calculateForm.mctsMimo),o.Cb(4),o.lc("ngModel",e.calculateForm.mctsTemperature),o.Cb(4),o.lc("ngModel",e.calculateForm.mctsTime),o.Cb(4),o.lc("ngModel",e.calculateForm.mctsTestTime),o.Cb(4),o.lc("ngModel",e.calculateForm.mctsTotalTime)}},directives:[tn.a,en.b,en.c,a.b,a.a,r.c,i.k,i.l,ac,i.m,Ke,Ye,Ie,en.a,Rc,Ec,Fc,Dc,Kc,Bc.k,Bc.n,Bc.b,Bc.s,Bc.o,Bc.u,je,jl,Gl,Nl.b,Nl.a],pipes:[ql.c],styles:['@charset "UTF-8";mat-sidenav-container[_ngcontent-%COMP%]{margin:-2em -2em 0 2em;padding:2em 0 0 1em;position:relative;height:95vh}.tool[_ngcontent-%COMP%]{position:absolute;left:0;top:54px;padding-top:1em;width:4em;height:100%;background-color:#263345;color:#fff;z-index:1}.tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:.3em 0;width:100%;text-align:center;cursor:move}.tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child   svg[_ngcontent-%COMP%], .tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2)   svg[_ngcontent-%COMP%], .tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3)   svg[_ngcontent-%COMP%]{-ms-transform:scale(.6);transform:scale(.6)}.tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4)   svg[_ngcontent-%COMP%], .tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5)   svg.tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6)   svg[_ngcontent-%COMP%]{-ms-transform:scale(.8);transform:scale(.8)}.tool[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#545151;width:55%;margin:.8em auto}.tool[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]{margin-bottom:.6em}.tool[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:18px;height:18px;margin:auto}.mat-sidenav[_ngcontent-%COMP%]{max-width:30%}.toggle[_ngcontent-%COMP%]{float:right;border:0;background-color:#2e5480;outline:0;margin:0;cursor:pointer;border-radius:3px 0 0 3px}#d_area[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:22px;margin-top:.2em}[_nghost-%COMP%]     .mat-button-toggle-group{margin-left:1em}.dropDown_area[_ngcontent-%COMP%]{margin:1em;width:90%;min-height:80vh;display:block;background-repeat:no-repeat;background-position:0 0;background-size:contain;opacity:.4}[_nghost-%COMP%]     .mat-expansion-panel-body{font-size:.9em}[_nghost-%COMP%]    {margin:0;padding:0;color:#3b71b5}p.subitem[_ngcontent-%COMP%] + ol[_ngcontent-%COMP%]{display:none}p.subitem.active[_ngcontent-%COMP%] + ol[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]     .mat-expansion-panel-body p .material-icons{display:inline-block;vertical-align:middle;cursor:pointer}.matBadge[_ngcontent-%COMP%]{width:2.2em;height:2.2em;display:inline-block;line-height:2.2em;margin-left:.3em;color:#fff;background-color:#3b71b5;font-size:.5em;text-align:center;border-radius:5em}[_nghost-%COMP%]     .mat-expansion-panel-body ul>li{padding:0 0 1em}[_nghost-%COMP%]     .mat-expansion-panel-body ul>li div{margin-left:1em}.algorithm[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, [_nghost-%COMP%]     .mat-expansion-panel-body p:before{font-family:Material Icons;content:"\ue5df";font-size:1.5em;vertical-align:middle}[_nghost-%COMP%]     .mat-expansion-panel-body li input[type=text]{width:5em}[_nghost-%COMP%]     .mat-expansion-panel-body input[type=text]{margin-left:.3em;vertical-align:middle;padding-left:.5em;width:5em;background:transparent;border:transparent;border-bottom:1px solid #ddd;border-radius:0}[_nghost-%COMP%]     .mat-expansion-panel-body ul>li>ul{margin-left:1em}[_nghost-%COMP%]     .mat-expansion-panel-body ul>li>ul li{padding-bottom:0}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{outline:0}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:list-item;list-style:decimal;margin-left:2.2em;line-height:2em}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:inline-block}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:initial;font-size:.7em}.w7em[_ngcontent-%COMP%]{width:7em!important}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:transparent;border:transparent;border-bottom:1px solid #ddd;border-radius:0;width:5em;vertical-align:middle;padding:.5em 0 .5em .5em;margin-left:.3em}ol.inline-block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:list-item;list-style:decimal;float:left}ol.inline-block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding-left:.5em}.widthAuto[_ngcontent-%COMP%]{width:auto!important}.target[_ngcontent-%COMP%]{position:relative}.candidate[_ngcontent-%COMP%], .defaultBS[_ngcontent-%COMP%], .obstacle[_ngcontent-%COMP%], .UE[_ngcontent-%COMP%]{position:fixed;left:200px;top:250px;z-index:9999}.mat-tooltip[_ngcontent-%COMP%]{white-space:pre-line}.msg_label[_ngcontent-%COMP%]{z-index:9999;border:1px solid #161718;padding:1em;position:fixed;background-color:#110f0f;color:#fff;opacity:.9}input[type=file][_ngcontent-%COMP%]{display:inline-block;margin-left:.5em;width:75%}.w22[_ngcontent-%COMP%]{padding-left:2.2em!important}.ml_5[_ngcontent-%COMP%]{margin-left:.5em}.w18[_ngcontent-%COMP%]{width:18em!important}.spCell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:6.5em!important}.pink_circle[_ngcontent-%COMP%]{background-color:#f7176a}.blue_circle[_ngcontent-%COMP%], .pink_circle[_ngcontent-%COMP%]{padding:0 7px;color:#fff;z-index:99999;position:fixed}.blue_circle[_ngcontent-%COMP%]{background-color:#338aee!important}.highset[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;margin-right:.3em;width:3em}.clearAll[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:10px;text-align:center;color:#86abd4;font-size:.6em;line-height:1}.clearAll[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;display:block;margin:0 auto 2px;width:1em;height:1em;background-color:#4a86c5;color:#fff;border-radius:5em}p.sub_title[_ngcontent-%COMP%]{margin-bottom:.5em;display:block}p.sub_title[_ngcontent-%COMP%] + .sub_content[_ngcontent-%COMP%]{margin-left:2em!important;transition:all .25s}p.sub_title.active[_ngcontent-%COMP%] + .sub_content[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]     #d_area mat-button-toggle-group mat-button-toggle button{width:auto!important}[_nghost-%COMP%]     .mat-expansion-panel-header{padding:0 24px 0 16px}.areaSetting[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{background-color:#ddd;border-color:#c2ccd6}.areaSetting[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#476a90}[_nghost-%COMP%]     .areaSetting .mat-expansion-panel-body p{color:#516c8c!important}.areaSetting[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding-left:30px}.areaSetting[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%], .areaSetting[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .areaSetting[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:initial!important}[_nghost-%COMP%]     .mat-expansion-panel-body{padding:0;border-radius:0;border-top:1px solid #527198}[_nghost-%COMP%]     .areaSetting .mat-expansion-panel-body{padding:0;border-radius:0;border-top:1px solid #c2ccd6;padding:1em 1em 0 2em}.mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]:not(.mat-expansion-panel-spacing), [_nghost-%COMP%]     .mat-accordion .mat-expansion-panel:not(.mat-expanded){border-radius:0!important}[_nghost-%COMP%]     .areaSetting .mat-expansion-indicator:after{color:#7997b7}.panel_content[_ngcontent-%COMP%]{padding:1em 0 1em 2em}.mat-button-toggle-appearance-standard[_ngcontent-%COMP%]{background:transparent!important}']}),t})()},{path:"view3d",component:Je},{path:"result",component:U},{path:"planning-report",component:c}];let Cu=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[r.d.forChild(xu)],r.d]}),t})();var yu=n("wZkO"),wu=n("NFeN");n("3UWI");let ku=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[Pe.b]]}),t})(),Mu=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},providers:[Se.a],imports:[[ku,Vl],ku,Vl]}),t})(),Ou=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},providers:[jl],imports:[[i.c,Bc.g,Bc.q,r.d,en.d,a.c,wu.a,Uc,yu.a,Zc,tn.b,sc,Ze,ql.b,Ll,Nl.c,Mu]]}),t})(),Su=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[i.c,r.d]]}),t})();var Tu=n("xR3L"),Pu=n("27D2"),Au=n("3NtM"),_u=n("CLfV"),Eu=n("tAWS"),Fu=n("bJ/z"),Du=n("Ue+b"),Ru=n("dMng");let Iu=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[i.c,r.d,a.c,Tu.a,Pu.a,Au.a,_u.a,Eu.a,Fu.a,Du.a,Ru.PdfModule,ql.b]]}),t})(),Uu=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[i.c,a.c,r.d]]}),t})(),Bu=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(e){return new(e||t)},imports:[[i.c,r.d,Cu,Ou,Su,Iu,Uu]]}),t})()}}]);