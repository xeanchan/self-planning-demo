{"version":3,"sources":["webpack:///node_modules/@angular/cdk/__ivy_ngcc__/fesm2015/accordion.js","webpack:///node_modules/@angular/material/__ivy_ngcc__/fesm2015/checkbox.js","webpack:///node_modules/@angular/material/__ivy_ngcc__/fesm2015/expansion.js","webpack:///node_modules/@daybrush/utils/dist/utils.esm.js","webpack:///node_modules/@egjs/agent/dist/agent.esm.js","webpack:///node_modules/@egjs/children-differ/dist/children-differ.esm.js","webpack:///node_modules/@egjs/list-differ/dist/list-differ.esm.js","webpack:///node_modules/@scena/dragscroll/dist/dragscroll.esm.js","webpack:///node_modules/@scena/event-emitter/dist/event-emitter.esm.js","webpack:///node_modules/@scena/matrix/dist/matrix.esm.js","webpack:///node_modules/css-styled/dist/styled.esm.js","webpack:///node_modules/css-to-mat/dist/css-to-mat.esm.js","webpack:///node_modules/framework-utils/dist/utils.esm.js","webpack:///node_modules/gesto/dist/gesto.esm.js","webpack:///node_modules/moveable/dist/moveable.esm.js","webpack:///node_modules/ngx-moveable/__ivy_ngcc__/fesm2015/ngx-moveable.js","webpack:///node_modules/ngx-moveable/node_modules/tslib/tslib.es6.js","webpack:///node_modules/order-map/dist/order-map.esm.js","webpack:///node_modules/overlap-area/dist/overlap-area.esm.js","webpack:///node_modules/react-compat-css-styled/dist/styled.esm.js","webpack:///node_modules/react-compat-moveable/dist/moveable.esm.js","webpack:///node_modules/react-simple-compat/dist/compat.esm.js","webpack:///node_modules/scenejs/dist/scene.esm.js","webpack:///src/app/site/planning-report/planning-report.component.ts","webpack:///src/app/site/planning-report/planning-report.component.html","webpack:///src/app/site/planning-report/planning-report.module.ts","webpack:///src/app/site/result/result.component.ts","webpack:///src/app/site/result/result.component.html","webpack:///src/app/site/result/result.module.ts","webpack:///src/app/site/site-planning/site-planning.component.ts","webpack:///src/app/site/site-planning/site-planning.component.html","webpack:///src/app/site/site-planning/site-planning.module.ts","webpack:///src/app/site/site-routing.module.ts","webpack:///src/app/site/site.module.ts","webpack:///src/app/site/task-form.service.ts","webpack:///src/app/site/view3d/view3d.component.ts","webpack:///src/app/site/view3d/view3d.component.html","webpack:///src/app/site/view3d/view3d.module.ts"],"names":["nextId","CdkAccordion","_stateChanges","_openCloseAllActions","id","_multi","_openCloseAll","changes","next","complete","expanded","multi","ɵfac","CdkAccordion_Factory","t","ɵdir","type","selectors","inputs","exportAs","features","propDecorators","args","selector","nextId$1","ɵ0","undefined","CdkAccordionItem","accordion","_changeDetectorRef","_expansionDispatcher","_openCloseAllSubscription","EMPTY","closed","opened","destroyed","expandedChange","_expanded","_disabled","_removeUniqueSelectionListener","listen","accordionId","_subscribeToOpenCloseAllActions","emit","unsubscribe","disabled","subscribe","notify","markForCheck","CdkAccordionItem_Factory","outputs","provide","useValue","ctorParameters","decorators","providers","CdkAccordionModule","ɵmod","ɵinj","factory","CdkAccordionModule_Factory","ngJitMode","declarations","exports","_c0","_c1","enterDuration","_c2","MatCheckboxDefaultOptions","MAT_CHECKBOX_DEFAULT_OPTIONS","providedIn","MAT_CHECKBOX_DEFAULT_OPTIONS_FACTORY","color","clickAction","MAT_CHECKBOX_CLICK_ACTION","nextUniqueId","MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR","useExisting","MatCheckbox","TransitionCheckState","Init","Checked","Unchecked","Indeterminate","MatCheckboxChange","MatCheckboxBase","_elementRef","_MatCheckboxMixinBase","elementRef","_focusMonitor","_ngZone","tabIndex","_clickAction","_animationMode","_options","ariaLabel","ariaLabelledby","_uniqueId","labelPosition","name","change","indeterminateChange","_onTouched","_currentAnimationClass","_currentCheckState","_controlValueAccessorChangeFn","_checked","_indeterminate","parseInt","monitor","focusOrigin","Promise","resolve","then","_syncIndeterminate","stopMonitoring","disableRipple","detectChanges","value","checked","fn","isDisabled","indeterminate","newState","oldState","element","nativeElement","length","classList","remove","_getAnimationClassForCheckStateTransition","add","animationClass","runOutsideAngular","setTimeout","event","source","stopPropagation","toggle","_transitionCheckState","_emitChangeEvent","_inputElement","origin","options","focusVia","animSuffix","nativeCheckbox","_required","newValue","changed","MatCheckbox_Factory","ɵcmp","viewQuery","MatCheckbox_Query","rf","ctx","_t","first","ripple","hostAttrs","hostVars","hostBindings","MatCheckbox_HostBindings","required","ngContentSelectors","decls","vars","consts","template","MatCheckbox_Template","MatCheckbox_Template_input_change_3_listener","$event","_onInteractionEvent","MatCheckbox_Template_input_click_3_listener","_onInputClick","MatCheckbox_Template_span_cdkObserveContent_12_listener","_onLabelTextChange","_r0","_r2","inputId","textContent","trim","_getAriaChecked","_isRippleDisabled","directives","styles","encapsulation","changeDetection","String","host","None","OnPush","MAT_CHECKBOX_REQUIRED_VALIDATOR","MatCheckboxRequiredValidator","MatCheckboxRequiredValidator_Factory","ɵMatCheckboxRequiredValidator_BaseFactory","_MatCheckboxRequiredValidatorModule","_MatCheckboxRequiredValidatorModule_Factory","MatCheckboxModule","MatCheckboxModule_Factory","imports","MatExpansionPanel_ng_template_5_Template","_c3","a0","a1","collapsedHeight","expandedHeight","_c4","params","MatExpansionPanelHeader_span_4_Template","ctx_r0","_getExpandedState","_c5","_c6","MatAccordionBase","MAT_ACCORDION","EXPANSION_PANEL_ANIMATION_TIMING","matExpansionAnimations","indicatorRotate","transform","expansionHeaderHeight","height","optional","bodyExpansion","visibility","MatExpansionPanelContent","_template","MatExpansionPanelContent_Factory","uniqueId","MatExpansionPanelDefaultOptions","MAT_EXPANSION_PANEL_DEFAULT_OPTIONS","MatExpansionPanel","_uniqueSelectionDispatcher","_viewContainerRef","_document","defaultOptions","_hideToggle","afterExpand","afterCollapse","_inputChanges","_headerId","_bodyAnimationDone","pipe","x","y","fromState","toState","hideToggle","displayMode","_lazyContent","_portal","_body","focusedElement","activeElement","bodyElement","contains","_togglePosition","togglePosition","MatExpansionPanel_Factory","contentQueries","MatExpansionPanel_ContentQueries","dirIndex","MatExpansionPanel_Query","MatExpansionPanel_HostBindings","_hasSpacing","MatExpansionPanel_Template","MatExpansionPanel_Template_div_animation_bodyExpansion_done_1_listener","data","animation","animations","MatExpansionPanelActionRow","MatExpansionPanelActionRow_Factory","MatExpansionPanelHeader","panel","_element","_parentChangeSubscription","_animationsDisabled","accordionHideToggleChange","_containsFocus","_handleHeaderFocus","keyCode","preventDefault","_toggle","_handleHeaderKeydown","MatExpansionPanelHeader_Factory","MatExpansionPanelHeader_HostBindings","MatExpansionPanelHeader_animation_expansionHeight_start_HostBindingHandler","_animationStarted","MatExpansionPanelHeader_click_HostBindingHandler","MatExpansionPanelHeader_keydown_HostBindingHandler","_keydown","_getPanelId","_isExpanded","_getTogglePosition","MatExpansionPanelHeader_Template","_showToggle","MatExpansionPanelDescription","MatExpansionPanelDescription_Factory","MatExpansionPanelTitle","MatExpansionPanelTitle_Factory","MatAccordion","arguments","_ownHeaders","_headers","headers","reset","filter","header","notifyOnChanges","_keyManager","withWrap","manager","setFirstItemActive","setLastItemActive","onKeydown","updateActiveItem","show","MatAccordion_Factory","ɵMatAccordion_BaseFactory","MatAccordion_ContentQueries","MatAccordion_HostBindings","descendants","MatExpansionModule","MatExpansionModule_Factory","RGB","RGBA","HSL","HSLA","COLOR_MODELS","FUNCTION","PROPERTY","ARRAY","OBJECT","STRING","NUMBER","UNDEFINED","IS_WINDOW","window","doc","document","prefixes","getCrossBrowserProperty","property","body","documentElement","style","i","TRANSFORM","FILTER","ANIMATION","KEYFRAMES","replace","OPEN_CLOSED_CHARACTER","TINY_NUM","DEFAULT_UNIT_PRESETS","pos","size","innerWidth","innerHeight","Math","max","min","dot","a2","b1","b2","isUndefined","isObject","isArray","Array","isString","isNumber","isFunction","findClosed","closedCharacter","texts","index","character","nextIndex","indexOf","splitText","text","separator","regexText","regex","RegExp","split","Boolean","values","tempValues","Error","push","join","slice","splitSpace","splitComma","splitBracket","matches","exec","prefix","suffix","splitUnit","unit","NaN","parseFloat","camelize","str","all","letter","toUpperCase","decamelize","letter2","toLowerCase","toArray","call","now","Date","getTime","findIndex","arr","callback","defaultIndex","find","defalutValue","requestAnimationFrame","firstTime","raf","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","bind","currTime","cancelAnimationFrame","caf","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","handle","clearTimeout","getKeys","obj","Object","keys","sortOrders","orders","sort","a","b","index1","index2","convertUnitSize","_a","sizeFunction","between","throttle","num","round","checkBoundSize","targetSize","compareSize","isMax","every","calculateBoundSize","minSize","maxSize","keepRatio","map","width","minWidth","minHeight","_b","maxWidth","maxHeight","sum","nums","total","average","getRad","pos1","pos2","distX","distY","rad","atan2","PI","getCenterPoint","points","getShapeDirection","center","pos1Rad","pos2Rad","getDist","sqrt","pow","cutHex","hex","hexToRGBA","h","r","substring","g","isNaN","toFullHex","charAt","hslToRGBA","hsl","s","l","floor","abs","c","m","rgb","stringToRGBA","colorArr","$","querySelectorAll","querySelector","hasClass","className","match","addClass","removeClass","reg","fromCSS","elements","properties","Element","cssObject","getComputedStyle","addEvent","el","listener","addEventListener","removeEvent","removeEventListener","some","getUserAgent","agent","userAgent","navigator","execRegExp","pattern","e","hasUserAgentData","userAgentData","brands","uaList","findVersion","versionTest","result","convertVersion","findPreset","presets","userPreset","version","preset","test","brand","versionAlias","findBrand","BROWSER_PRESETS","CHROMIUM_PRESETS","WEBKIT_PRESETS","WEBVIEW_PRESETS","OS_PRESETS","parseUserAgentData","osData","isMobile","mobile","firstBrand","browser","majorVersion","webkit","webview","chromium","os","platform_1","platform","platformVersion","uaFullVersion","isHints","parseUserAgent","nextAgent","browserPreset","browserVersion","osPreset","osVersion","getAccurateAgent","getHighEntropyValues","info","agentInfo","extendStatics","d","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","__","constructor","prototype","create","findKeyCallback","Map","childrenCount","__DIFF_KEY__","ChildrenDiffer","_super","list","diff","prevList","PolyMap","__proto","get","key","set","prevIndex","HashMap","object","SUPPORT_MAP","Link","connect","prevLink","nextLink","prev","disconnect","getIndex","link","orderChanged","fixed","fromLinks","toLinks","forEach","from","to","_","fromLink","toLink","fromIndex","toIndex","Result","added","removed","maintained","changedBeforeAdded","defineProperty","cacheOrdered","caculateOrdered","enumerable","configurable","cachePureChanged","ordered","pureChanged","fromBefore","toBefore","mapClass","prevKeys","prevKeyMap","keyMap","removedMap","addedCount","removedCount","prevListIndex","listIndex","reverse","ListDiffer","update","newData","getDefaultScrollPosition","container","scrollLeft","scrollTop","DragScroll","_this","apply","startRect","startPos","prevTime","timer","dragStart","getBoundingClientRect","top","left","clientX","clientY","drag","threshold","throttleTime","_c","getScrollPosition","_d","nowTime","distTime","direction","prevPos","trigger","inputEvent","nextPos","offsetX","offsetY","dragEnd","__assign","assign","n","__spreadArrays","il","k","j","jl","EventEmitter","_events","on","eventName","_addEvent","off","events","splice","once","param","isStop","eventType","stop","currentTarget","listeners","matrix","inverseMatrix","startIndex","fromX","swap","v","iv","divide","ignoreDimension","newMatrix","invert","createIdentityMatrix","identityIndex","targetStartIndex","targetIndex","target","transpose","getOrigin","originMatrix","w","fromTranslation","convertPositionMatrix","convertDimension","multiplies","matrixes","_i","multiply","matrix2","plus","minus","convertCSStoMatrix","is2d","convertMatrixtoCSS","calculate","rotateX3d","cos","sin","rotateY3d","rotateZ3d","createRotateMatrix","scale3d","sx","sy","sz","rotate","translate3d","tx","ty","tz","matrix3d","matrix1","createScaleMatrix","scale","createOriginMatrix","createWarpMatrix","pos0","pos3","nextPos0","nextPos1","nextPos2","nextPos3","x0","y0","x1","y1","x2","y2","x3","y3","u0","v0","u1","v1","u2","v2","u3","v3","getCenter","hash","charCodeAt","stringHash","getHash","toString","getShadowRoot","parentElement","getRootNode","rootNode","nodeType","replaceStyle","css","original","trimmedSelector","subSelector","trimmedSubSelector","injectStyle","shadowRoot","createElement","setAttribute","nonce","innerHTML","head","appendChild","styled","injectClassName","injectCount","injectElement","inject","firstMount","styleElement","destroy","removeChild","parentNode","createMatrix","parseMat","toMat","parse","getElementMatrix","calculateMatrixDist","res","getDistElementMatrix","matrixInfos","matrixFunction","functionValue","transforms","functionName","posX","posY","posZ","_e","_f","_g","_h","unitValue","prefixNames","classNames","prefixCSS","ref","refs","Properties","action","component","withMethods","methods","duplicate","propertyName","methodName","getRotatiion","touches","isMultiTouch","getEventClients","getClients","getClient","getPosition","clients","prevClients","startClients","getAverageClient","originalClientX","originalClientY","prevX","prevY","startX","startY","deltaX","deltaY","sumClient","client","ClientStore","movement","addClients","position","getAngle","getRotation","getPositions","startClient","getMovement","currentClient","prevClient","getDistance","getScale","move","INPUT_TAGNAMES","Gesto","targets","flag","pinchFlag","datas","isDrag","isPinch","isMouse","isTouch","clientStores","doubleFlag","onDragStart","isTrusted","cancelable","pinchOutside","preventRightClick","checkInput","isDragStart","tagName","hasInput","hasContentEditable","isContentEditable","activeTagName","blur","which","button","initDrag","isDouble","getCurrentStore","passive","changedTouches","onPinchStart","onDrag","isScroll","moveClients","onPinch","onDragEnd","currentTime","onPinchEnd","onBlur","concat","checkWindowBlur","pinchThreshold","passive_1","reduce","cur","isDragging","isFlag","isPinchFlag","isDoubleFlag","isPinching","scrollBy","isCallDrag","store","nextClients","triggerDragStart","setEventDatas","currentDatas","getEventDatas","unset","angle","rotation","distance","isAdd","__decorate","desc","getOwnPropertyDescriptor","Reflect","decorate","InnerMoveable","props","state","render","PROPERTIES","METHODS","EVENTS","__assign$1","MoveableManager","tempElement","nextOptions","updateRect","setState","innerMoveable","getMoveable","moveable","self","Moveable","getElementInfo","rootContainer","NgxMoveableService","NgxMoveableService_Factory","ɵprov","token","NgxMoveableInterface","NgxMoveableComponent","previousValue","currentValue","NgxMoveableComponent_Factory","draggable","resizable","scalable","rotatable","warpable","pinchable","snappable","throttleDrag","throttleDragRotate","throttleResize","throttleScale","throttleRotate","edge","snapCenter","snapVertical","snapElement","snapHorizontal","snapThreshold","horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","dragArea","rotationPosition","baseDirection","defaultGroupRotate","ables","edgeDraggable","translateZ","passDragArea","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold","renderDirections","scrollable","scrollContainer","scrollThreshold","zoom","transformOrigin","snapDigit","isDisplaySnapDigit","innerBounds","triggerAblesSimultaneously","snapGap","padding","snapDistFormat","dragTarget","cspNonce","startDragRotate","originDraggable","originRelative","defaultGroupOrigin","groupable","clippable","customClipPath","defaultClipPath","clipRelative","dragWithClip","clipArea","roundable","roundRelative","roundClickable","minRoundControls","maxRoundControls","individualGroupable","dragGroupStart","dragGroup","dragGroupEnd","resizeStart","resize","resizeEnd","resizeGroupStart","resizeGroup","resizeGroupEnd","scaleStart","scaleEnd","scaleGroupStart","scaleGroup","scaleGroupEnd","rotateStart","rotateEnd","rotateGroupStart","rotateGroup","rotateGroupEnd","warpStart","warp","warpEnd","pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","click","clickGroup","renderStart","renderEnd","renderGroupStart","renderGroup","renderGroupEnd","scroll","scrollGroup","snap","clipStart","clip","clipEnd","roundStart","roundEnd","dragOriginStart","dragOrigin","dragOriginEnd","beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd","NgxMoveableComponent_Template","NgxMoveableModule","NgxMoveableModule_Factory","__rest","getOwnPropertySymbols","propertyIsEnumerable","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","adopt","reject","fulfilled","step","rejected","done","__generator","label","sent","trys","ops","f","verb","Symbol","iterator","op","TypeError","pop","__createBinding","o","k2","__exportStar","__values","__read","ar","error","__spread","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__esModule","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","OrderMap","orderMap","getFullName","names","gets","isFull","fullOrders","pushOrders","nextNames","stack","nextStack","nextOrders","addName","orderName","fullName","prevNames","lastName","deleteCount","currentOrders","clear","setObject","getObject","nextMap","clone","getAreaSize","point","nextPoint","fitPoints","rect","getMinMaxs","minX","minY","maxX","maxY","ratioX","ratioY","xs","ys","isInside","excludeLine","xLine","yLine","xLinearConstants","getLinearConstants","yLinearConstants","lines","convertLines","intersectionXPoints","intersectionYPoints","line","linearConstants","xPoints","getPointsOnLines","getIntersectionPointsByConstants","yPoints","point1","point2","a_1","b_1","linearConstants1","linearConstants2","c1","c2","isZeroA","isZeroB","Infinity","getIntersectionPoints","line1","line2","isLimit","minMaxs","order","minMax","bottom","right","getOverlapPoints","points1","points2","targetPoints1","targetPoints2","lines1","lines2","linearConstantss1","linearConstantss2","overlapInfos","linePointInfos","intersectionPoints","isNext_1","overlapPoints","pointMap","getOverlapSize","StyledElement","injectResult","tag","attributes","cssId","injector","Tag","componentDidMount","componentWillUnmount","getElement","Styled","getSVGCursor","degree","getCursorCSS","degree45","defaultCursor","IS_WEBKIT","IS_WEBKIT605","PREFIX","MOVEABLE_CSS","NEARBY_POS","MIN_SCALE","MAX_NUM","MIN_NUM","DIRECTIONS","DIRECTION_INDEXES","nw","ne","sw","se","DIRECTION_ROTATIONS","MOVEABLE_METHODS","multiply2","getTransformMatrix","getAbsoluteMatrix","measureSVGSize","isHorizontal","viewBox","getSVGViewBox","ownerSVGElement","getBeforeTransformOrigin","relativeOrigin","getTransformOrigin","getComputedStyle$1","getOffsetInfo","lastParent","isParent","isEnd","isStatic","offsetParent","getOffsetPosInfo","isFixed","offsetLeft","offsetTop","containerClientRect","isSVG","hasOffset","targetOrigin","getSVGGraphicsOffset","offset","getBodyOffset","bodyStyle","bodyPosition","marginLeft","marginTop","getMatrixStackInfo","is3d","targetTransformOrigin","targetMatrix","offsetContainer","matrixesLength","offsetPos","getSVGMatrix","isOffsetEnd","parentClientLeft","parentClientTop","clientLeft","clientTop","margin","calculateElementInfo","isAbsolute3d","allResult","offsetWidth","offsetHeight","getSize","calculateMatrixStack","calculateMoveablePosition","allMatrix","getRotationRad","rootMatrix","beforeMatrix","offsetMatrix","targetTransform","pos4","prevTargetMatrix","rootMatrixes","isRoot3d","isNext3d","isSVGGraphicElement","originalContainer","endContainer","getSVGOffset","isMatrix3d","makeMatrixCSS","clientWidth","clientHeight","baseVal","viewBoxWidth","viewBoxHeight","scaleX","scaleY","preserveAspectRatio","align","meetOrSlice","svgOrigin","translate","xAlign","yAlign","scaleDimension","scaleMatrix","getBBox","bbox","calculatePosition","calculatePoses","getRect","poses","posesX","posesY","rectWidth","rectHeight","calculateRect","absoluteMatrix","rectLeft","rectTop","mat","prevLeft","prevTop","prevWidth","prevHeight","posOrigin","prevOrigin","rectOrigin","count","inverseBeforeMatrix","mat2","nextLeft","nextTop","distLeft","distTop","x4","y4","originX","originY","getDistSize","vec","getDiagonalSize","getLineStyle","getControlTransform","getCSSSize","isOffset","isBoxSizing","boxSizing","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","getTargetInfo","moveableElement","parentContainer","beforeDirection","beforeOrigin","targetClientRect","resetClientRect","moveableClientRect","beforePosition","getClientRect","scrollWidth","scrollHeight","isExtends","getDirection","direciton","getAttribute","dir","getAbsolutePoses","dist","getAbsolutePosesByState","roundSign","throttleArray","fillParams","nextParams","isStartEvent","lastEvent","fillEndParams","triggerEvent","isManager","pseudoElt","filterAbles","enabledAbles","ableGroups","able","method","ableGroup","getKeepRatioHeight","isWidth","ratio","getKeepRatioWidth","equals","selectValue","groupBy","func","groups","groupKeys","groupKey","keyIndex","group","groupByMap","flat","maxOffset","minOffset","calculateInversePosition","convertDragDist","calculatePadding","convertCSSSize","isRelative","moveControlPos","controlPoses","isRect","sub","dists","directions","verticalDirection_1","horizontalDirection_1","controlPose","controlDir","isVertical","dirDir","dirHorizontal","horizontal","dirVertical","vertical","getTinyDist","directionCondition","isRequest","requestAble","parentDirection","invertObject","nextObj","getTransform","beforeFunctionTexts","targetFunctionText","afterFunctionTexts","beforeFunctions","targetFunctions","afterFunctions","beforeFunctionMatrix","afterFunctionMatrix","allFunctionMatrix","targetFunctionMatrix","targetFunction","isArrayFormat","getRefTargets","userTargets","current","getElementTargets","selectorMap","elementTargets","Pinchable","onPinchGroupStart","onPinchGroup","onPinchGroupEnd","originalDatas","controlEventName","pinchAbles","controlAbles","canPinch","ableEvent","parentRotate","snapRenderInfo","request","pinchScale","parentDistance","setCustomDrag","delta","isConvert","gesto","draggableDatas","parentEvent","CustomGesto","parentGesto","fillChildEvents","groupableDatas","childDatas","moveables","child","triggerChildGesto","isStart","childs","ev","childMoveable","childEvent","childGestos","parentFlag","triggerChildAble","eachEvent","calculatePointerDist","getDragDist","setDragStart","absoluteOrigin","startDragBeforeDist","startDragDist","getTransformDirection","beforeTransform","resolveTransformEvent","beforeRenderable","transformIndex","nextTransforms","nextTransformAppendedIndexes","matFunctionName","targetTansform","afterTransform","targetAllTransform","isAppendTransform","convertTransformFormat","getTransformDist","getBeforeDragDist","bx","by","getTransfromMatrix","isAfter","nextTargetMatrix","res1","afterTargetMatrix","isBefore","getInverseDragDist","calculateTransformOrigin","prevSize","measureRatio","getPosIndexesByDirection","indexes","getPosesByDirection","getPosByDirection","nextPoses","getPosByReverseDirection","getNextMatrix","getNextTransformMatrix","fillTransformStartEvent","setTransform","startTransforms","setTransformIndex","setDefaultTransformIndex","startValue","fillOriginalTransform","fillTransformEvent","nextTransform","Draggable","getTranslateDist","fixedPosition","fixedDirection","nextMatrix","groupLeft","groupTop","nextFixedPosition","getDirectionOffset","getScaleDist","scaleDist","getOriginDirection","nextFixedOffset","getRotateDist","rotateDist","getResizeDist","nextOrigin","getStartDirection","getAbsoluteFixedPosition","getGapGuidelines","guidelines","start","end","otherStart","otherEnd","totalGuidelines","otherIndex","otherType","guidelineType","sizes","guideline1","elementStart","elementEnd","guideline2Pos","guideline2Sizes","guideline2Element","targetStart","targetEnd","gap","canSnap","gapGuidelines","centerPos","addGuidelines","getTotalGuidelines","containerHeight","containerWidth","checkMoveableSnapPoses","customSnapThreshold","checkSnapPoses","checkSnap","checkSnapKeepRatio","endPos","endX","endY","dx","dy","isBottom","isRight","verticalInfo","isSnap","horizontalInfo","verticalSnapInfo","horizontalSnapInfo","posInfos","getNearestSnapGuidelineInfo","isVerticalSnap","verticalGuideline","guideline","isHorizontalSnap","horizontalGuideline","horizontalPos","verticalPos","checkSnaps","isCenter","isSnapCenter","verticalNames","horizontalNames","snapInfo","posInfo","guidelineInfo","guidelineInfos","targetType","targetPoses","posType","snapPosInfos","targetPos","snapPosInfo","getSnapInfosByDirection","snapDirection","alignPoses","checkSnapBoundPriority","aDist","bDist","isBound","getNearOffsetInfo","offsets","aSign","sign","bSign","aOffset","bOffset","isStartLine","cx","cy","hitTestLine","test1","test2","isSameStartLine","dots","centerSign","checkInnerBoundDot","checkInnerBound","isAllBound","isVerticalBound","isHorizontalBound","leftLine","topLine","rightLine","bottomLine","isHorizontalStart","isVerticalStart","topBoundInfo","checkLineBoundCollision","bottomBoundInfo","leftBoundInfo","rightBoundInfo","isAllVerticalBound","isAllHorizontalBound","verticalOffset","horizontalOffset","boundLine","isRender","dot1","dot2","boundDot1","boundDot2","dy1","dx1","dy2","dx2","getInnerBoundInfo","multiple","sizeOffset","getInnerBoundDragInfo","getCheckSnapLines","innerBoundInfo","widthOffsetInfo","heightOffsetInfo","getCheckSnapLineDirections","lineDirections","dir1","dir2","isBoundRotate","relativePoses","boundDots","getDistPointLine","solveReverseLine","checkRotateInnerBounds","prevPoses","relativeLeft","relativeRight","relativeTop","relativeBottom","dotInfos","lineRad","lineDist","dotDist","dotRad","distRad","acos","nextRad1","nextRad2","nextRad","checkInnerBoundPoses","horizontalPoses","verticalPoses","boundMap","checkBoundPoses","nextBounds","checkBounds","checkBoundKeepRatio","startBoundPos","endBoundPos","minPos","maxPos","boundInfos","isBoundRotate$1","boundRect","boundRotate","boundPos","checkRotateBounds","relativeRad1","relativeRad2","HORIZONTAL_NAMES","VERTICAL_NAMES","calculateContainerPos","containerRect","clientPos","snapStart","containerLeft","containerTop","targetLeft","targetTop","elementLeft","elementTop","elementRight","elementBottom","enableSnap","hasGuidelines","ableName","solveNextOffset","solveEquation","widthOffset","heightOffset","getNextFixedPoses","fixedPos","getSnapBoundOffset","boundInfo","getSnapBound","checkSnapBoundsKeepRatio","horizontalBoundInfo","verticalBoundInfo","horizontalDist","verticalDist","checkMoveableSnapBounds","boundPoses","horizontalBoundInfos","verticalBoundInfos","snapIndex","checkSnapBounds","guideines","normalized","checkMaxBounds","left_1","top_1","right_1","bottom_1","otherDirection","isCheckVertical","isCheckHorizontal","otherPos","verticalDirection","horizontalDirection","deg","nextOtherPos","checkSnapRightLine","snapBoundInfo","rad180","isHorizontalLine","isVerticalLine","getSnapBoundInfo","startDirection","endDirection","otherStartPos","otherEndPos","otherHorizontalOffset","isOtherHorizontalBound","isOtherHorizontalSnap","otherVerticalOffset","isOtherVerticalBound","isOtherVerticalSnap","snapLine","getCheckSnapDirections","getSizeOffsetInfo","recheckSizeByTwoDirection","snapPos","nextWidthOffset","nextHeightOffset","nextWidth","nextHeight","checkSizeDist","getNextPoses","isWidthBound","isHeightBound","widthDist","heightDist","isGetWidthOffset","checkSnapRotate","checkSnapSize","checkSnapScale","sizeDist","snapOffset","startCheckSnapDrag","absolutePoses","checkThrottleDragRotate","adjustPoses","adjustPos","prevDistY","checkSnapDrag","snapPoses","verticalSnapBoundInfo","horizontalSnapBoundInfo","verticalInnerBoundInfo","horizontalInnerBoundInfo","getSnapGuidelines","getElementGuidelineDist","elementPos","elementSize","relativePos","groupByElementGuidelines","groupInfos","groupInfo","groupElement","groupPos","renderElementGroup","clientSize","React","directionName","posName1","posName2","sizeName","scaleDirection","isFirstRenderSize","linePos","lineSize","isRenderSize","snapSize","toFixed","renderSnapPoses","renderGuidelines","targetPos1","targetPos2","getGapGuidelinesToStart","targetSizes","guidelinePos","absGap","gapPos","aPos","bPos","gapSizes","gapGuideline","renderPos","getGapGuidelinesToEnd","getGapGuidelines$1","renderGapGuidelines","addBoundGuidelines","verticalSnapPoses","horizontalSnapPoses","externalBounds","verticalInnerBoundPoses","horizontalInnerBoundPoses","innerPos","Snappable","Number","Function","onSnap","minLeft","minTop","containerPos","externalPoses","snapInfos","hasExternalPoses","externalRect","middle","verticalPosInfos","horizontalPosInfos","elementHorizontalGroup","elementVerticalGroup","gapVerticalGuidelines","gapHorizontalGuidelines","allGuidelines","gaps","dragControlCondition","dragControlStart","dragControlEnd","dragGroupControlStart","dragGroupControlEnd","onDragGroupStart","onDragGroup","onDragGroupEnd","dragInfo","targetGesto","prevDist","prevBeforeDist","parentMoveable","dragRotateRad","ry","rx","passDeltaX","passDistX","passDeltaY","passDistY","beforeTranslate","beforeDist","beforeDelta","isControl","requestStart","requestEnd","setRotateStartInfo","startAbsoluteOrigin","prevDeg","prevSnapDeg","startDeg","loop","getParentDeg","moveableRect","parentDist","getDeg","prevLoop","absolutePrevSnapDeg","absoluteDeg","getRotateInfo","getRotationPositions","radPoses","isReverse","Rotatable","onRotateStart","onRotate","onRotateEnd","onRotateGroupStart","onRotateGroup","onRotateGroupEnd","renderPoses","externalRotate","beforeInfo","afterInfo","controlRect","controlBox","rotatation","isRotate","dragControl","groupDelta","targetDirection","beforeRotate","inverseDist","inverseDelta","prevInverseDist","dragGroupControlCondition","parentLeft","parentTop","parentBeforeOrigin","childClient","groupClient","dragGroupControl","distRotate","startRotation","deltaRotate","renderControls","defaultDirections","directionMap","directionRotation","renderLine","renderAllDirections","renderDiagonalDirections","Resizable","onResizeStart","onResize","onResizeEnd","onResizeGroupStart","onResizeGroup","onResizeGroupEnd","startOffsetWidth","startOffsetHeight","startWidth","startHeight","fixedOriginalPosition","setMin","setMax","setOrigin","isResize","parentScale","parentKeepRatio","dragClient","sizeDirection","distWidth","distHeight","standardRad","ratioRad","signSize","nextDirection","snapDist","isNoSnap","dragControlAfter","errorWidth","errorHeight","isErrorWidth","isErrorHeight","originalX","originalY","deltaWidth","deltaHeight","Scalable","onScaleStart","onScale","onScaleEnd","onScaleGroupStart","onScaleGroup","onScaleGroupEnd","isScale","dragDist","stateDirection","snapHeight","snapWidth","moveableScale","getMiddleLinePos","getTriangleRad","rad1","rad2","isValidPos","poses1","poses2","pi","Warpable","onWarpStart","onWarp","onWarpEnd","linePosFrom1","linePosFrom2","linePosFrom3","linePosFrom4","linePosTo1","linePosTo2","linePosTo3","linePosTo4","inputTarget","warpTargetMatrix","targetInverseMatrix","prevMatrix","posIndexes","isWarp","selectedPoses","nearByPoses","afterMatrix","totalMatrix","AREA_PIECES","AREA_PIECE","AVOID","restoreStyle","areaElement","cssText","renderPieces","DragArea","onClick","onClickGroup","isDragArea","rects","children","nextElementSibling","Origin","Scrollable","onScroll","onScrollGroup","getContainer","dragScroll","gestoName","checkScroll","dragGroupContro","dragGroupControEnd","Default","Padding","paddingDirections","paddingPos1","paddingPos2","paddingPos3","paddingPos4","RADIUS_DIRECTIONS","calculateRatio","sumSize","sumRatio","HORIZONTAL_RADIUS_ORDER","VERTICAL_RADIUS_ORDER","HORIZONTAL_RADIUS_DIRECTIONS","VERTICAL_RADIUS_DIRECTIONS","getRadiusStyles","clipStyles","raws","rawPos","getRadiusRange","horizontalRange","verticalRange","clipPose","getRadiusValues","minCounts","splitIndex","splitLength","horizontalValues","verticalValues","nwValue","neValue","seValue","swValue","_j","wnValue","_k","enValue","_l","esValue","_m","wsValue","horizontalRawPoses","verticalRawPoses","nextHorizontalPoses","nextVerticalPoses","removeRadiusPos","radiuslIndex","addRadiusPos","horizontalIndex","verticalIndex","radiusX","radiusY","startVerticalIndex","splitRadiusPoses","horizontals","verticals","CLIP_DIRECTIONS","CLIP_RECT_DIRECTIONS","getClipStyles","clipPath","clipType","clipPoses","isCircle","subWidth","subHeight","getRectPoses","dirx","diry","getClipPath","defaultClip","customClip","clipText","clipPrefix","splitter","xPos","yPos","radiusX_1","radiusY_1","radius","xRadius","yRadius","centerPos_1","roundIndex","rectLength","radiusValues","topValue","rightValue","_o","bottomValue","_p","leftValue","_q","_r","nextRight","nextBottom","radiusPoses","_s","posValue","addClipPath","clipEventType","clipStyle","removeClipPath","Clippable","onClipStart","onClip","onClipEnd","clipPathState","snapBoundInfos","calculatedPos","controls","isInset","isPolygon","linePoses_1","clipLeft","clipTop","ellipseClipPath","piece","areaPoses","allWidth","allHeight","allLeft_1","allTop_1","directionType","snapPos1","snapPos2","isClipStart","isLine","isArea","draggableData","isDragWithTarget","isAll","guidePoses","isEllipse","guideRect","guideXPoses","guideYPoses","rectPoses","rectDists_1","_loop_1","snapOffsetY","snapOffsetX","distSnapX","distSnapY","state_1","nextClipStyles","OriginDraggable","onDragOriginStart","onDragOrigin","onDragOriginEnd","startOrigin","startTargetOrigin","isDragOrigin","distOrigin","nextRect","dragDelta","deltaOrigin","addBorderRadius","lineIndex","horizontalsLength","verticalsLength","getBorderRadius","borderRadius","triggerRoundEvent","borderRadiusState","Roundable","onRoundStart","onRound","onRoundEnd","verticalCount","horizontalCount","isDisplay","display","controlIndex","isRound","selectedControlPose","selectedVertical","selectedHorizontal","pose","poseDist","BeforeRenderable","onBeforeRenderStart","onBeforeRender","onBeforeRenderEnd","onBeforeRenderGroupStart","onBeforeRenderGroup","onBeforeRenderGroupEnd","cssMatrix","resetTransform","fillDragStartParams","fillDragParams","Renderable","onRenderStart","onRender","onRenderEnd","onRenderGroupStart","onRenderGroup","onRenderGroupEnd","triggerAble","ableType","eventOperation","eventAffix","requestInstant","conditionName","isFirstStart","controlGesto","isGroup","requestAble_1","elementFromPoint","results","nextDatas","isEventStart","isUpdate","isForceEnd","isUnmounted","forceUpdate","getTargetAbleGesto","moveableTarget","startFunc","eventTarget","isMoveableElement","getAbleGesto","conditionFunctions","EventManager","onEvent","setAbles","targetAbles","parentPosition","propsTarget","ControlBoxElement","cssStyled","checkUpdate","updateRenderPoses","stateTarget","groupTargets","ableAttributes","Renderer","getEnabledAbles","renderAbles","wrapperMoveable","updateEvent","updateNativeEvents","updateCheckInput","componentDidUpdate","prevProps","hitTest","clientRect","totalSize","isTarget","isSetState","updateState","isTargetChanged","useDragArea","prevTarget","prevDragArea","eventKeys","hasAbles","controlBoxElement","hasTargetAble","hasControlAble","isUnset","unsetAbles","updateTarget","statePos","getManager","isInstant","requsetAble","ableRequester","requester","ableParam","stateLeft","stateTop","stateContainer","updateAbles","isChanged","always","nextState","defaultProps","Groupable","Clickable","containsTarget","parentTarget","getDraggableEvent","IndividualGroupable","MOVEABLE_ABLES","MOVEABLE_EVENTS_PROPS_MAP","MOVEABLE_PROPS_MAP","MOVEABLE_EVENTS_MAP","MOVEABLE_EVENTS","MOVEABLE_PROPS","getMaxPos","getMinPos","getGroupRect","moveablePoses","groupWidth","groupHeight","fixedRotation","rad_1","a1_1","tan","a2_1","b1s_1","b2s_1","rotatePoses","changedWidth","MoveableGroup","differ","isContainerChanged","updateGroup","MoveableIndividualGroup","InitialMoveable","refTargets","makeStyled","cssMap","getTotalAbles","defaultStyled","defaultAbles","moveableContructor","userAbles","userProps","totalAbles","nextProps","updateRefs","isReset","nextTarget","nextSelectorMap","makeMoveable","isDiff","diffObject","keys1","keys2","executeHooks","hooks","hook","fillKeys","createProvider","TextProvider","providerClass","ElementProvider","ComponentProvider","FunctionProvider","arr2","getAttributes","otherProps","fillProps","Provider","_providers","_should","_update","nextElement","isForceUpdate","base","_setState","_render","_mounted","nextstate","_updated","_destroy","diffAttributes","attrs1","attrs2","removeAttribute","diffEvents","events1","events2","provier","diffStyle","style1","style2","beforeName","setProperty","removeProperty","splitProps","isMount","createTextNode","_unmount","nativeEvent","renderProviders","prevAttributes","prevEvents","nextAttributes","nextEvents","provider","findContainerNode","Node","findDOMNode","comp","_provider","ContainerProvider","shouldComponentUpdate","prevState","Component","PureComponent","_Portal","_portalProvider","renderProvider","updateProvider","getNextSibiling","childProvider","childProviders","diffProviders","containerProvider","childrenKeys","childrenProvider","insertBefore","updatedHooks","updated","containerNode","__REACT_COMPAT__","isProvider","createPortal","cubic","t2","solveFromX","solveX","bezier","easingName","steps","time","level","STEP_START","STEP_END","LINEAR","EASE","EASE_IN","EASE_OUT","EASE_IN_OUT","DATA_SCENE_ID","TIMING_FUNCTION","ROLES","attribute","html","ALIAS","easing","FIXED","contents","MAXIMUM","THRESHOLD","DURATION","FILL_MODE","DIRECTION","ITERATION_COUNT","DELAY","EASING","PLAY_SPEED","EASING_NAME","ITERATION_TIME","PAUSED","ENDED","TIMEUPDATE","ANIMATE","PLAY","RUNNING","ITERATION","START_ANIMATION","PAUSE_ANIMATION","ALTERNATE","REVERSE","ALTERNATE_REVERSE","NORMAL","INFINITE","PLAY_STATE","PLAY_CSS","PREV_TIME","TICK_TIME","CURRENT_TIME","SELECTOR","TRANSFORM_NAME","EASINGS","NAME_SEPARATOR","OPTIONS","PropertyObject","model","setOptions","newOptions","toValue","splitStyle","totalLength","toPropertyObject","arrayToColorObject","stringToBracketObject","afterModel","arrayToPropertyObject","stringToColorObject","toObject","isPropertyObject","setAlias","alias","setRole","isProperty","isFixedProperty","roles","getType","isPureObject","getNames","updateFrame","getValueByNames","isInProperties","isCheckTrue","role","isRole","setPlayCSS","item","isActivate","isPausedCSS","isPaused","isEndedCSS","isEnded","makeId","random","checkElement","getRealId","getId","setId","toId","playCSS","isExportCSS","playClassName","getPlayState","addPlayClass","setTime","exportCSS","addAnimationEvent","setPlayState","duration","getDuration","isZeroDuration","isFinite","animationend","finish","animationstart","animationiteration","elapsedTime","iterationCount","setIteration","getEasing","curveArray","GetterSetter","getter","setter","parent","isDirectionReverse","iteration","iteraiontCount","setters","getters","Animator","timerId","delay","fillMode","playSpeed","iterationTime","tickTime","playState","setEasing","setDuration","getTotalDuration","getActiveDuration","play","toTime","tick","pause","isTick","activeDuration","getUnitTime","isDelay","getIterationTime","passIterationCount","maxIterationCount","currentIterationTime","setIterationTime","isFiniteDuration","isForwards","toInnerProperties","arrObj","merge","getValue","getPropertyName","Frame","getOrders","setOrders","getOrderObject","setOrderObject","nextValue","firstParam","_set","stylesLength","frame","frameProperties","toCSSObject","toCSS","cssArray","lastParam","dotArray","dotColor","color1","color2","value1","value2","model1","model2","colorModel","dotObject","a1Type","type1","type2","isFunction1","isFunction2","dotValue","nextTime","prevValue","getNearTimeIndex","times","makeAnimationProperties","addTime","addEntry","entries","keytime","prevEntry","getEntries","states","nextEntries","intCount","ceil","currentDuration","lastTime","entry","divideTime","unshift","SceneItem","items","nameMap","needUpdate","load","originalDuration","ratio_1","items_1","obj_1","time2","newFrame","sceneId_1","eachTime","realTime","innerValue","value_1","getDelay","frames","hasFrame","frameTime","getFrame","updateFrameOrders","removeFrame","append","prepend","unshiftTime","firstFrame","isStartZero","setSelector","setElement","getElements","setElements","targetFunc","_loop_2","html_1","setTarget","setCSS","parentEasing","getNowFrame","temp","prevNameMap","pushKeys","setFrame","hasName","mergeFrame","toFrame","isAccurate","realEasing","nowEasing","getNowValue","prevFrame_1","prevOrderMap","keyframes","playCondition","parentDuration","itemState","reversedStates","superParent","infiniteIndex","finiteStates","timingFunction","sel","selectorCallback","preselector","peusdo","_toKeyframes","styledInjector","getAnimationElement","pauseCSS","endCSS","usePrevValue","prevFrame","nextFrame","isUndefinedLeft","isUndefinedRight","indicies","lastEntry","Scene","getPlaySpeed","sceneDuration","setDelay","getItem","newItem","setItem","removeItem","parentStates","totalDuration","animtionElement","scene","isItFunction","VERSION","animate","animateItem","PlanningReportComponent","templateUrl","styleUrls","PlanningReportModule","ResultComponent","ResultModule","SitePlanningComponent","taskFormService","router","matDialog","http","iconList","panelOpenState","live","subitemClass","obstacle","ue","zValues","obstacleList","dragObject","defaultBSList","newBSList","ueList","chartLeft","chartRight","chartTop","chartBottom","svgMap","svg_01","title","svg_02","svg_03","svg_04","svg_05","svg_06","tooltipStr","roundFormat","Plotly","d3","format","pathLossModelIdList","onWindowReisze","ngOnInit","calculateForm","JSON","sessionStorage","initData","mapImage","reader","FileReader","readAsDataURL","dataURLtoBlob","onload","defaultPlotlyConfiguration","displaylogo","showTips","editable","scrollZoom","displayModeBar","pLayout","autosize","xaxis","linewidth","mirror","range","showgrid","zeroline","fixedrange","yaxis","images","sizex","sizey","xref","yref","xanchor","yanchor","sizing","hover","newPlot","layout","config","gd","xy","xLinear","linear","domain","yLinear","dataURI","byteString","atob","unescape","mimeString","ia","Uint8Array","Blob","typeName","closest","svg","svgId","titleName","z","altitude","span","outerHTML","getElementById","setTooltip","tooltip","setLabel","rectBottom","xVal","yVal","wVal","hVal","rectRight","scalex","isAvgThroughput","console","log","moveClick","onEnd","arrowUpDown","SitePlanningModule","routes","path","SiteRoutingModule","forChild","SiteModule","TaskFormService","View3dComponent","View3dModule"],"mappings":"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","file":"site-site-module-es5.js","sourcesContent":["import { Directive, Input, EventEmitter, Optional, SkipSelf, ChangeDetectorRef, Output, NgModule } from '@angular/core';\nimport { UniqueSelectionDispatcher } from '@angular/cdk/collections';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { Subject, Subscription } from 'rxjs';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/cdk/accordion/accordion.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Used to generate unique ID for each accordion.\n * @type {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/collections';\nlet nextId = 0;\n/**\n * Directive whose purpose is to manage the expanded state of CdkAccordionItem children.\n */\nclass CdkAccordion {\n    constructor() {\n        /**\n         * Emits when the state of the accordion changes\n         */\n        this._stateChanges = new Subject();\n        /**\n         * Stream that emits true/false when openAll/closeAll is triggered.\n         */\n        this._openCloseAllActions = new Subject();\n        /**\n         * A readonly id value to use for unique selection coordination.\n         */\n        this.id = `cdk-accordion-${nextId++}`;\n        this._multi = false;\n    }\n    /**\n     * Whether the accordion should allow multiple expanded accordion items simultaneously.\n     * @return {?}\n     */\n    get multi() { return this._multi; }\n    /**\n     * @param {?} multi\n     * @return {?}\n     */\n    set multi(multi) { this._multi = coerceBooleanProperty(multi); }\n    /**\n     * Opens all enabled accordion items in an accordion where multi is enabled.\n     * @return {?}\n     */\n    openAll() {\n        this._openCloseAll(true);\n    }\n    /**\n     * Closes all enabled accordion items in an accordion where multi is enabled.\n     * @return {?}\n     */\n    closeAll() {\n        this._openCloseAll(false);\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        this._stateChanges.next(changes);\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this._stateChanges.complete();\n    }\n    /**\n     * @private\n     * @param {?} expanded\n     * @return {?}\n     */\n    _openCloseAll(expanded) {\n        if (this.multi) {\n            this._openCloseAllActions.next(expanded);\n        }\n    }\n}\nCdkAccordion.ɵfac = function CdkAccordion_Factory(t) { return new (t || CdkAccordion)(); };\nCdkAccordion.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkAccordion, selectors: [[\"cdk-accordion\"], [\"\", \"cdkAccordion\", \"\"]], inputs: { multi: \"multi\" }, exportAs: [\"cdkAccordion\"], features: [ɵngcc0.ɵɵNgOnChangesFeature] });\nCdkAccordion.propDecorators = {\n    multi: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkAccordion, [{\n        type: Directive,\n        args: [{\n                selector: 'cdk-accordion, [cdkAccordion]',\n                exportAs: 'cdkAccordion'\n            }]\n    }], function () { return []; }, { multi: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    CdkAccordion.ngAcceptInputType_multi;\n    /**\n     * Emits when the state of the accordion changes\n     * @type {?}\n     */\n    CdkAccordion.prototype._stateChanges;\n    /**\n     * Stream that emits true/false when openAll/closeAll is triggered.\n     * @type {?}\n     */\n    CdkAccordion.prototype._openCloseAllActions;\n    /**\n     * A readonly id value to use for unique selection coordination.\n     * @type {?}\n     */\n    CdkAccordion.prototype.id;\n    /**\n     * @type {?}\n     * @private\n     */\n    CdkAccordion.prototype._multi;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/cdk/accordion/accordion-item.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Used to generate unique ID for each accordion item.\n * @type {?}\n */\nlet nextId$1 = 0;\nconst ɵ0 = undefined;\n/**\n * An basic directive expected to be extended and decorated as a component.  Sets up all\n * events and attributes needed to be managed by a CdkAccordion parent.\n */\nclass CdkAccordionItem {\n    /**\n     * @param {?} accordion\n     * @param {?} _changeDetectorRef\n     * @param {?} _expansionDispatcher\n     */\n    constructor(accordion, _changeDetectorRef, _expansionDispatcher) {\n        this.accordion = accordion;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._expansionDispatcher = _expansionDispatcher;\n        /**\n         * Subscription to openAll/closeAll events.\n         */\n        this._openCloseAllSubscription = Subscription.EMPTY;\n        /**\n         * Event emitted every time the AccordionItem is closed.\n         */\n        this.closed = new EventEmitter();\n        /**\n         * Event emitted every time the AccordionItem is opened.\n         */\n        this.opened = new EventEmitter();\n        /**\n         * Event emitted when the AccordionItem is destroyed.\n         */\n        this.destroyed = new EventEmitter();\n        /**\n         * Emits whenever the expanded state of the accordion changes.\n         * Primarily used to facilitate two-way binding.\n         * \\@docs-private\n         */\n        this.expandedChange = new EventEmitter();\n        /**\n         * The unique AccordionItem id.\n         */\n        this.id = `cdk-accordion-child-${nextId$1++}`;\n        this._expanded = false;\n        this._disabled = false;\n        /**\n         * Unregister function for _expansionDispatcher.\n         */\n        this._removeUniqueSelectionListener = (/**\n         * @return {?}\n         */\n        () => { });\n        this._removeUniqueSelectionListener =\n            _expansionDispatcher.listen((/**\n             * @param {?} id\n             * @param {?} accordionId\n             * @return {?}\n             */\n            (id, accordionId) => {\n                if (this.accordion && !this.accordion.multi &&\n                    this.accordion.id === accordionId && this.id !== id) {\n                    this.expanded = false;\n                }\n            }));\n        // When an accordion item is hosted in an accordion, subscribe to open/close events.\n        if (this.accordion) {\n            this._openCloseAllSubscription = this._subscribeToOpenCloseAllActions();\n        }\n    }\n    /**\n     * Whether the AccordionItem is expanded.\n     * @return {?}\n     */\n    get expanded() { return this._expanded; }\n    /**\n     * @param {?} expanded\n     * @return {?}\n     */\n    set expanded(expanded) {\n        expanded = coerceBooleanProperty(expanded);\n        // Only emit events and update the internal value if the value changes.\n        if (this._expanded !== expanded) {\n            this._expanded = expanded;\n            this.expandedChange.emit(expanded);\n            if (expanded) {\n                this.opened.emit();\n                /**\n                 * In the unique selection dispatcher, the id parameter is the id of the CdkAccordionItem,\n                 * the name value is the id of the accordion.\n                 * @type {?}\n                 */\n                const accordionId = this.accordion ? this.accordion.id : this.id;\n                this._expansionDispatcher.notify(this.id, accordionId);\n            }\n            else {\n                this.closed.emit();\n            }\n            // Ensures that the animation will run when the value is set outside of an `@Input`.\n            // This includes cases like the open, close and toggle methods.\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    /**\n     * Whether the AccordionItem is disabled.\n     * @return {?}\n     */\n    get disabled() { return this._disabled; }\n    /**\n     * @param {?} disabled\n     * @return {?}\n     */\n    set disabled(disabled) { this._disabled = coerceBooleanProperty(disabled); }\n    /**\n     * Emits an event for the accordion item being destroyed.\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.opened.complete();\n        this.closed.complete();\n        this.destroyed.emit();\n        this.destroyed.complete();\n        this._removeUniqueSelectionListener();\n        this._openCloseAllSubscription.unsubscribe();\n    }\n    /**\n     * Toggles the expanded state of the accordion item.\n     * @return {?}\n     */\n    toggle() {\n        if (!this.disabled) {\n            this.expanded = !this.expanded;\n        }\n    }\n    /**\n     * Sets the expanded state of the accordion item to false.\n     * @return {?}\n     */\n    close() {\n        if (!this.disabled) {\n            this.expanded = false;\n        }\n    }\n    /**\n     * Sets the expanded state of the accordion item to true.\n     * @return {?}\n     */\n    open() {\n        if (!this.disabled) {\n            this.expanded = true;\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _subscribeToOpenCloseAllActions() {\n        return this.accordion._openCloseAllActions.subscribe((/**\n         * @param {?} expanded\n         * @return {?}\n         */\n        expanded => {\n            // Only change expanded state if item is enabled\n            if (!this.disabled) {\n                this.expanded = expanded;\n            }\n        }));\n    }\n}\nCdkAccordionItem.ɵfac = function CdkAccordionItem_Factory(t) { return new (t || CdkAccordionItem)(ɵngcc0.ɵɵdirectiveInject(CdkAccordion, 12), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.UniqueSelectionDispatcher)); };\nCdkAccordionItem.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CdkAccordionItem, selectors: [[\"cdk-accordion-item\"], [\"\", \"cdkAccordionItem\", \"\"]], inputs: { expanded: \"expanded\", disabled: \"disabled\" }, outputs: { closed: \"closed\", opened: \"opened\", destroyed: \"destroyed\", expandedChange: \"expandedChange\" }, exportAs: [\"cdkAccordionItem\"], features: [ɵngcc0.ɵɵProvidersFeature([\n            // Provide CdkAccordion as undefined to prevent nested accordion items from registering\n            // to the same accordion.\n            { provide: CdkAccordion, useValue: ɵ0 },\n        ])] });\n/** @nocollapse */\nCdkAccordionItem.ctorParameters = () => [\n    { type: CdkAccordion, decorators: [{ type: Optional }, { type: SkipSelf }] },\n    { type: ChangeDetectorRef },\n    { type: UniqueSelectionDispatcher }\n];\nCdkAccordionItem.propDecorators = {\n    closed: [{ type: Output }],\n    opened: [{ type: Output }],\n    destroyed: [{ type: Output }],\n    expandedChange: [{ type: Output }],\n    expanded: [{ type: Input }],\n    disabled: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkAccordionItem, [{\n        type: Directive,\n        args: [{\n                selector: 'cdk-accordion-item, [cdkAccordionItem]',\n                exportAs: 'cdkAccordionItem',\n                providers: [\n                    // Provide CdkAccordion as undefined to prevent nested accordion items from registering\n                    // to the same accordion.\n                    { provide: CdkAccordion, useValue: ɵ0 },\n                ]\n            }]\n    }], function () { return [{ type: CdkAccordion, decorators: [{\n                type: Optional\n            }, {\n                type: SkipSelf\n            }] }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.UniqueSelectionDispatcher }]; }, { closed: [{\n            type: Output\n        }], opened: [{\n            type: Output\n        }], destroyed: [{\n            type: Output\n        }], expandedChange: [{\n            type: Output\n        }], expanded: [{\n            type: Input\n        }], disabled: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    CdkAccordionItem.ngAcceptInputType_expanded;\n    /** @type {?} */\n    CdkAccordionItem.ngAcceptInputType_disabled;\n    /**\n     * Subscription to openAll/closeAll events.\n     * @type {?}\n     * @private\n     */\n    CdkAccordionItem.prototype._openCloseAllSubscription;\n    /**\n     * Event emitted every time the AccordionItem is closed.\n     * @type {?}\n     */\n    CdkAccordionItem.prototype.closed;\n    /**\n     * Event emitted every time the AccordionItem is opened.\n     * @type {?}\n     */\n    CdkAccordionItem.prototype.opened;\n    /**\n     * Event emitted when the AccordionItem is destroyed.\n     * @type {?}\n     */\n    CdkAccordionItem.prototype.destroyed;\n    /**\n     * Emits whenever the expanded state of the accordion changes.\n     * Primarily used to facilitate two-way binding.\n     * \\@docs-private\n     * @type {?}\n     */\n    CdkAccordionItem.prototype.expandedChange;\n    /**\n     * The unique AccordionItem id.\n     * @type {?}\n     */\n    CdkAccordionItem.prototype.id;\n    /**\n     * @type {?}\n     * @private\n     */\n    CdkAccordionItem.prototype._expanded;\n    /**\n     * @type {?}\n     * @private\n     */\n    CdkAccordionItem.prototype._disabled;\n    /**\n     * Unregister function for _expansionDispatcher.\n     * @type {?}\n     * @private\n     */\n    CdkAccordionItem.prototype._removeUniqueSelectionListener;\n    /** @type {?} */\n    CdkAccordionItem.prototype.accordion;\n    /**\n     * @type {?}\n     * @private\n     */\n    CdkAccordionItem.prototype._changeDetectorRef;\n    /**\n     * @type {?}\n     * @protected\n     */\n    CdkAccordionItem.prototype._expansionDispatcher;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/cdk/accordion/accordion-module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass CdkAccordionModule {\n}\nCdkAccordionModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: CdkAccordionModule });\nCdkAccordionModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function CdkAccordionModule_Factory(t) { return new (t || CdkAccordionModule)(); } });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(CdkAccordionModule, { declarations: [CdkAccordion,\n        CdkAccordionItem], exports: [CdkAccordion,\n        CdkAccordionItem] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CdkAccordionModule, [{\n        type: NgModule,\n        args: [{\n                exports: [CdkAccordion, CdkAccordionItem],\n                declarations: [CdkAccordion, CdkAccordionItem]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/cdk/accordion/public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CdkAccordion, CdkAccordionItem, CdkAccordionModule };\n\n//# sourceMappingURL=accordion.js.map","import { FocusMonitor } from '@angular/cdk/a11y';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { InjectionToken, forwardRef, EventEmitter, Component, ViewEncapsulation, ChangeDetectionStrategy, ElementRef, ChangeDetectorRef, NgZone, Attribute, Optional, Inject, Input, Output, ViewChild, Directive, NgModule } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, NG_VALIDATORS, CheckboxRequiredValidator } from '@angular/forms';\nimport { mixinTabIndex, mixinColor, mixinDisableRipple, mixinDisabled, MatRipple, MatRippleModule, MatCommonModule } from '@angular/material/core';\nimport { ANIMATION_MODULE_TYPE } from '@angular/platform-browser/animations';\nimport { ObserversModule } from '@angular/cdk/observers';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/checkbox/checkbox-config.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Default `mat-checkbox` options that can be overridden.\n * @record\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/a11y';\nimport * as ɵngcc2 from '@angular/material/core';\nimport * as ɵngcc3 from '@angular/cdk/observers';\n\nconst _c0 = [\"input\"];\nconst _c1 = function () { return { enterDuration: 150 }; };\nconst _c2 = [\"*\"];\nfunction MatCheckboxDefaultOptions() { }\nif (false) {\n    /** @type {?|undefined} */\n    MatCheckboxDefaultOptions.prototype.color;\n    /** @type {?|undefined} */\n    MatCheckboxDefaultOptions.prototype.clickAction;\n}\n/**\n * Injection token to be used to override the default options for `mat-checkbox`.\n * @type {?}\n */\nconst MAT_CHECKBOX_DEFAULT_OPTIONS = new InjectionToken('mat-checkbox-default-options', {\n    providedIn: 'root',\n    factory: MAT_CHECKBOX_DEFAULT_OPTIONS_FACTORY\n});\n/**\n * \\@docs-private\n * @return {?}\n */\nfunction MAT_CHECKBOX_DEFAULT_OPTIONS_FACTORY() {\n    return {\n        color: 'accent',\n        clickAction: 'check-indeterminate',\n    };\n}\n/**\n * Injection token that can be used to specify the checkbox click behavior.\n * @deprecated Injection token will be removed, use `MAT_CHECKBOX_DEFAULT_OPTIONS` instead.\n * \\@breaking-change 10.0.0\n * @type {?}\n */\nconst MAT_CHECKBOX_CLICK_ACTION = new InjectionToken('mat-checkbox-click-action');\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/checkbox/checkbox.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n// Increasing integer for generating unique ids for checkbox components.\n/** @type {?} */\nlet nextUniqueId = 0;\n/**\n * Provider Expression that allows mat-checkbox to register as a ControlValueAccessor.\n * This allows it to support [(ngModel)].\n * \\@docs-private\n * @type {?}\n */\nconst MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef((/**\n     * @return {?}\n     */\n    () => MatCheckbox)),\n    multi: true\n};\n/** @enum {number} */\nconst TransitionCheckState = {\n    /** The initial state of the component before any user interaction. */\n    Init: 0,\n    /** The state representing the component when it's becoming checked. */\n    Checked: 1,\n    /** The state representing the component when it's becoming unchecked. */\n    Unchecked: 2,\n    /** The state representing the component when it's becoming indeterminate. */\n    Indeterminate: 3,\n};\n/**\n * Change event object emitted by MatCheckbox.\n */\nclass MatCheckboxChange {\n}\nif (false) {\n    /**\n     * The source MatCheckbox of the event.\n     * @type {?}\n     */\n    MatCheckboxChange.prototype.source;\n    /**\n     * The new `checked` value of the checkbox.\n     * @type {?}\n     */\n    MatCheckboxChange.prototype.checked;\n}\n// Boilerplate for applying mixins to MatCheckbox.\n/**\n * \\@docs-private\n */\nclass MatCheckboxBase {\n    /**\n     * @param {?} _elementRef\n     */\n    constructor(_elementRef) {\n        this._elementRef = _elementRef;\n    }\n}\nif (false) {\n    /** @type {?} */\n    MatCheckboxBase.prototype._elementRef;\n}\n/** @type {?} */\nconst _MatCheckboxMixinBase = mixinTabIndex(mixinColor(mixinDisableRipple(mixinDisabled(MatCheckboxBase))));\n/**\n * A material design checkbox component. Supports all of the functionality of an HTML5 checkbox,\n * and exposes a similar API. A MatCheckbox can be either checked, unchecked, indeterminate, or\n * disabled. Note that all additional accessibility attributes are taken care of by the component,\n * so there is no need to provide them yourself. However, if you want to omit a label and still\n * have the checkbox be accessible, you may supply an [aria-label] input.\n * See: https://material.io/design/components/selection-controls.html\n */\nclass MatCheckbox extends _MatCheckboxMixinBase {\n    /**\n     * @param {?} elementRef\n     * @param {?} _changeDetectorRef\n     * @param {?} _focusMonitor\n     * @param {?} _ngZone\n     * @param {?} tabIndex\n     * @param {?} _clickAction\n     * @param {?=} _animationMode\n     * @param {?=} _options\n     */\n    constructor(elementRef, _changeDetectorRef, _focusMonitor, _ngZone, tabIndex, _clickAction, _animationMode, _options) {\n        super(elementRef);\n        this._changeDetectorRef = _changeDetectorRef;\n        this._focusMonitor = _focusMonitor;\n        this._ngZone = _ngZone;\n        this._clickAction = _clickAction;\n        this._animationMode = _animationMode;\n        this._options = _options;\n        /**\n         * Attached to the aria-label attribute of the host element. In most cases, aria-labelledby will\n         * take precedence so this may be omitted.\n         */\n        this.ariaLabel = '';\n        /**\n         * Users can specify the `aria-labelledby` attribute which will be forwarded to the input element\n         */\n        this.ariaLabelledby = null;\n        this._uniqueId = `mat-checkbox-${++nextUniqueId}`;\n        /**\n         * A unique id for the checkbox input. If none is supplied, it will be auto-generated.\n         */\n        this.id = this._uniqueId;\n        /**\n         * Whether the label should appear after or before the checkbox. Defaults to 'after'\n         */\n        this.labelPosition = 'after';\n        /**\n         * Name value will be applied to the input element if present\n         */\n        this.name = null;\n        /**\n         * Event emitted when the checkbox's `checked` value changes.\n         */\n        this.change = new EventEmitter();\n        /**\n         * Event emitted when the checkbox's `indeterminate` value changes.\n         */\n        this.indeterminateChange = new EventEmitter();\n        /**\n         * Called when the checkbox is blurred. Needed to properly implement ControlValueAccessor.\n         * \\@docs-private\n         */\n        this._onTouched = (/**\n         * @return {?}\n         */\n        () => { });\n        this._currentAnimationClass = '';\n        this._currentCheckState = 0 /* Init */;\n        this._controlValueAccessorChangeFn = (/**\n         * @return {?}\n         */\n        () => { });\n        this._checked = false;\n        this._disabled = false;\n        this._indeterminate = false;\n        this._options = this._options || {};\n        if (this._options.color) {\n            this.color = this._options.color;\n        }\n        this.tabIndex = parseInt(tabIndex) || 0;\n        this._focusMonitor.monitor(elementRef, true).subscribe((/**\n         * @param {?} focusOrigin\n         * @return {?}\n         */\n        focusOrigin => {\n            if (!focusOrigin) {\n                // When a focused element becomes disabled, the browser *immediately* fires a blur event.\n                // Angular does not expect events to be raised during change detection, so any state change\n                // (such as a form control's 'ng-touched') will cause a changed-after-checked error.\n                // See https://github.com/angular/angular/issues/17793. To work around this, we defer\n                // telling the form control it has been touched until the next tick.\n                Promise.resolve().then((/**\n                 * @return {?}\n                 */\n                () => {\n                    this._onTouched();\n                    _changeDetectorRef.markForCheck();\n                }));\n            }\n        }));\n        // TODO: Remove this after the `_clickAction` parameter is removed as an injection parameter.\n        this._clickAction = this._clickAction || this._options.clickAction;\n    }\n    /**\n     * Returns the unique id for the visual hidden input.\n     * @return {?}\n     */\n    get inputId() { return `${this.id || this._uniqueId}-input`; }\n    /**\n     * Whether the checkbox is required.\n     * @return {?}\n     */\n    get required() { return this._required; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set required(value) { this._required = coerceBooleanProperty(value); }\n    /**\n     * @return {?}\n     */\n    ngAfterViewInit() {\n        this._syncIndeterminate(this._indeterminate);\n    }\n    // TODO: Delete next major revision.\n    /**\n     * @return {?}\n     */\n    ngAfterViewChecked() { }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this._focusMonitor.stopMonitoring(this._elementRef);\n    }\n    /**\n     * Whether the checkbox is checked.\n     * @return {?}\n     */\n    get checked() { return this._checked; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set checked(value) {\n        if (value != this.checked) {\n            this._checked = value;\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    /**\n     * Whether the checkbox is disabled. This fully overrides the implementation provided by\n     * mixinDisabled, but the mixin is still required because mixinTabIndex requires it.\n     * @return {?}\n     */\n    get disabled() { return this._disabled; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set disabled(value) {\n        /** @type {?} */\n        const newValue = coerceBooleanProperty(value);\n        if (newValue !== this.disabled) {\n            this._disabled = newValue;\n            this._changeDetectorRef.markForCheck();\n        }\n    }\n    /**\n     * Whether the checkbox is indeterminate. This is also known as \"mixed\" mode and can be used to\n     * represent a checkbox with three states, e.g. a checkbox that represents a nested list of\n     * checkable items. Note that whenever checkbox is manually clicked, indeterminate is immediately\n     * set to false.\n     * @return {?}\n     */\n    get indeterminate() { return this._indeterminate; }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set indeterminate(value) {\n        /** @type {?} */\n        const changed = value != this._indeterminate;\n        this._indeterminate = coerceBooleanProperty(value);\n        if (changed) {\n            if (this._indeterminate) {\n                this._transitionCheckState(3 /* Indeterminate */);\n            }\n            else {\n                this._transitionCheckState(this.checked ? 1 /* Checked */ : 2 /* Unchecked */);\n            }\n            this.indeterminateChange.emit(this._indeterminate);\n        }\n        this._syncIndeterminate(this._indeterminate);\n    }\n    /**\n     * @return {?}\n     */\n    _isRippleDisabled() {\n        return this.disableRipple || this.disabled;\n    }\n    /**\n     * Method being called whenever the label text changes.\n     * @return {?}\n     */\n    _onLabelTextChange() {\n        // Since the event of the `cdkObserveContent` directive runs outside of the zone, the checkbox\n        // component will be only marked for check, but no actual change detection runs automatically.\n        // Instead of going back into the zone in order to trigger a change detection which causes\n        // *all* components to be checked (if explicitly marked or not using OnPush), we only trigger\n        // an explicit change detection for the checkbox view and its children.\n        this._changeDetectorRef.detectChanges();\n    }\n    // Implemented as part of ControlValueAccessor.\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    writeValue(value) {\n        this.checked = !!value;\n    }\n    // Implemented as part of ControlValueAccessor.\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnChange(fn) {\n        this._controlValueAccessorChangeFn = fn;\n    }\n    // Implemented as part of ControlValueAccessor.\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    registerOnTouched(fn) {\n        this._onTouched = fn;\n    }\n    // Implemented as part of ControlValueAccessor.\n    /**\n     * @param {?} isDisabled\n     * @return {?}\n     */\n    setDisabledState(isDisabled) {\n        this.disabled = isDisabled;\n    }\n    /**\n     * @return {?}\n     */\n    _getAriaChecked() {\n        if (this.checked) {\n            return 'true';\n        }\n        return this.indeterminate ? 'mixed' : 'false';\n    }\n    /**\n     * @private\n     * @param {?} newState\n     * @return {?}\n     */\n    _transitionCheckState(newState) {\n        /** @type {?} */\n        let oldState = this._currentCheckState;\n        /** @type {?} */\n        let element = this._elementRef.nativeElement;\n        if (oldState === newState) {\n            return;\n        }\n        if (this._currentAnimationClass.length > 0) {\n            element.classList.remove(this._currentAnimationClass);\n        }\n        this._currentAnimationClass = this._getAnimationClassForCheckStateTransition(oldState, newState);\n        this._currentCheckState = newState;\n        if (this._currentAnimationClass.length > 0) {\n            element.classList.add(this._currentAnimationClass);\n            // Remove the animation class to avoid animation when the checkbox is moved between containers\n            /** @type {?} */\n            const animationClass = this._currentAnimationClass;\n            this._ngZone.runOutsideAngular((/**\n             * @return {?}\n             */\n            () => {\n                setTimeout((/**\n                 * @return {?}\n                 */\n                () => {\n                    element.classList.remove(animationClass);\n                }), 1000);\n            }));\n        }\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _emitChangeEvent() {\n        /** @type {?} */\n        const event = new MatCheckboxChange();\n        event.source = this;\n        event.checked = this.checked;\n        this._controlValueAccessorChangeFn(this.checked);\n        this.change.emit(event);\n    }\n    /**\n     * Toggles the `checked` state of the checkbox.\n     * @return {?}\n     */\n    toggle() {\n        this.checked = !this.checked;\n    }\n    /**\n     * Event handler for checkbox input element.\n     * Toggles checked state if element is not disabled.\n     * Do not toggle on (change) event since IE doesn't fire change event when\n     *   indeterminate checkbox is clicked.\n     * @param {?} event\n     * @return {?}\n     */\n    _onInputClick(event) {\n        // We have to stop propagation for click events on the visual hidden input element.\n        // By default, when a user clicks on a label element, a generated click event will be\n        // dispatched on the associated input element. Since we are using a label element as our\n        // root container, the click event on the `checkbox` will be executed twice.\n        // The real click event will bubble up, and the generated click event also tries to bubble up.\n        // This will lead to multiple click events.\n        // Preventing bubbling for the second event will solve that issue.\n        event.stopPropagation();\n        // If resetIndeterminate is false, and the current state is indeterminate, do nothing on click\n        if (!this.disabled && this._clickAction !== 'noop') {\n            // When user manually click on the checkbox, `indeterminate` is set to false.\n            if (this.indeterminate && this._clickAction !== 'check') {\n                Promise.resolve().then((/**\n                 * @return {?}\n                 */\n                () => {\n                    this._indeterminate = false;\n                    this.indeterminateChange.emit(this._indeterminate);\n                }));\n            }\n            this.toggle();\n            this._transitionCheckState(this._checked ? 1 /* Checked */ : 2 /* Unchecked */);\n            // Emit our custom change event if the native input emitted one.\n            // It is important to only emit it, if the native input triggered one, because\n            // we don't want to trigger a change event, when the `checked` variable changes for example.\n            this._emitChangeEvent();\n        }\n        else if (!this.disabled && this._clickAction === 'noop') {\n            // Reset native input when clicked with noop. The native checkbox becomes checked after\n            // click, reset it to be align with `checked` value of `mat-checkbox`.\n            this._inputElement.nativeElement.checked = this.checked;\n            this._inputElement.nativeElement.indeterminate = this.indeterminate;\n        }\n    }\n    /**\n     * Focuses the checkbox.\n     * @param {?=} origin\n     * @param {?=} options\n     * @return {?}\n     */\n    focus(origin = 'keyboard', options) {\n        this._focusMonitor.focusVia(this._inputElement, origin, options);\n    }\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    _onInteractionEvent(event) {\n        // We always have to stop propagation on the change event.\n        // Otherwise the change event, from the input element, will bubble up and\n        // emit its event object to the `change` output.\n        event.stopPropagation();\n    }\n    /**\n     * @private\n     * @param {?} oldState\n     * @param {?} newState\n     * @return {?}\n     */\n    _getAnimationClassForCheckStateTransition(oldState, newState) {\n        // Don't transition if animations are disabled.\n        if (this._animationMode === 'NoopAnimations') {\n            return '';\n        }\n        /** @type {?} */\n        let animSuffix = '';\n        switch (oldState) {\n            case 0 /* Init */:\n                // Handle edge case where user interacts with checkbox that does not have [(ngModel)] or\n                // [checked] bound to it.\n                if (newState === 1 /* Checked */) {\n                    animSuffix = 'unchecked-checked';\n                }\n                else if (newState == 3 /* Indeterminate */) {\n                    animSuffix = 'unchecked-indeterminate';\n                }\n                else {\n                    return '';\n                }\n                break;\n            case 2 /* Unchecked */:\n                animSuffix = newState === 1 /* Checked */ ?\n                    'unchecked-checked' : 'unchecked-indeterminate';\n                break;\n            case 1 /* Checked */:\n                animSuffix = newState === 2 /* Unchecked */ ?\n                    'checked-unchecked' : 'checked-indeterminate';\n                break;\n            case 3 /* Indeterminate */:\n                animSuffix = newState === 1 /* Checked */ ?\n                    'indeterminate-checked' : 'indeterminate-unchecked';\n                break;\n        }\n        return `mat-checkbox-anim-${animSuffix}`;\n    }\n    /**\n     * Syncs the indeterminate value with the checkbox DOM node.\n     *\n     * We sync `indeterminate` directly on the DOM node, because in Ivy the check for whether a\n     * property is supported on an element boils down to `if (propName in element)`. Domino's\n     * HTMLInputElement doesn't have an `indeterminate` property so Ivy will warn during\n     * server-side rendering.\n     * @private\n     * @param {?} value\n     * @return {?}\n     */\n    _syncIndeterminate(value) {\n        /** @type {?} */\n        const nativeCheckbox = this._inputElement;\n        if (nativeCheckbox) {\n            nativeCheckbox.nativeElement.indeterminate = value;\n        }\n    }\n}\nMatCheckbox.ɵfac = function MatCheckbox_Factory(t) { return new (t || MatCheckbox)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.FocusMonitor), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵinjectAttribute('tabindex'), ɵngcc0.ɵɵdirectiveInject(MAT_CHECKBOX_CLICK_ACTION, 8), ɵngcc0.ɵɵdirectiveInject(ANIMATION_MODULE_TYPE, 8), ɵngcc0.ɵɵdirectiveInject(MAT_CHECKBOX_DEFAULT_OPTIONS, 8)); };\nMatCheckbox.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: MatCheckbox, selectors: [[\"mat-checkbox\"]], viewQuery: function MatCheckbox_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, true);\n        ɵngcc0.ɵɵviewQuery(MatRipple, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._inputElement = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.ripple = _t.first);\n    } }, hostAttrs: [1, \"mat-checkbox\"], hostVars: 12, hostBindings: function MatCheckbox_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵhostProperty(\"id\", ctx.id);\n        ɵngcc0.ɵɵattribute(\"tabindex\", null);\n        ɵngcc0.ɵɵclassProp(\"mat-checkbox-indeterminate\", ctx.indeterminate)(\"mat-checkbox-checked\", ctx.checked)(\"mat-checkbox-disabled\", ctx.disabled)(\"mat-checkbox-label-before\", ctx.labelPosition == \"before\")(\"_mat-animation-noopable\", ctx._animationMode === \"NoopAnimations\");\n    } }, inputs: { disableRipple: \"disableRipple\", color: \"color\", tabIndex: \"tabIndex\", ariaLabel: [\"aria-label\", \"ariaLabel\"], ariaLabelledby: [\"aria-labelledby\", \"ariaLabelledby\"], id: \"id\", labelPosition: \"labelPosition\", name: \"name\", required: \"required\", checked: \"checked\", disabled: \"disabled\", indeterminate: \"indeterminate\", value: \"value\" }, outputs: { change: \"change\", indeterminateChange: \"indeterminateChange\" }, exportAs: [\"matCheckbox\"], features: [ɵngcc0.ɵɵProvidersFeature([MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR]), ɵngcc0.ɵɵInheritDefinitionFeature], ngContentSelectors: _c2, decls: 17, vars: 19, consts: [[1, \"mat-checkbox-layout\"], [\"label\", \"\"], [1, \"mat-checkbox-inner-container\"], [\"type\", \"checkbox\", 1, \"mat-checkbox-input\", \"cdk-visually-hidden\", 3, \"id\", \"required\", \"checked\", \"disabled\", \"tabIndex\", \"change\", \"click\"], [\"input\", \"\"], [\"matRipple\", \"\", 1, \"mat-checkbox-ripple\", \"mat-focus-indicator\", 3, \"matRippleTrigger\", \"matRippleDisabled\", \"matRippleRadius\", \"matRippleCentered\", \"matRippleAnimation\"], [1, \"mat-ripple-element\", \"mat-checkbox-persistent-ripple\"], [1, \"mat-checkbox-frame\"], [1, \"mat-checkbox-background\"], [\"version\", \"1.1\", \"focusable\", \"false\", \"viewBox\", \"0 0 24 24\", 0, \"xml\", \"space\", \"preserve\", 1, \"mat-checkbox-checkmark\"], [\"fill\", \"none\", \"stroke\", \"white\", \"d\", \"M4.1,12.7 9,17.6 20.3,6.3\", 1, \"mat-checkbox-checkmark-path\"], [1, \"mat-checkbox-mixedmark\"], [1, \"mat-checkbox-label\", 3, \"cdkObserveContent\"], [\"checkboxLabel\", \"\"], [2, \"display\", \"none\"]], template: function MatCheckbox_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"label\", 0, 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n        ɵngcc0.ɵɵelementStart(3, \"input\", 3, 4);\n        ɵngcc0.ɵɵlistener(\"change\", function MatCheckbox_Template_input_change_3_listener($event) { return ctx._onInteractionEvent($event); })(\"click\", function MatCheckbox_Template_input_click_3_listener($event) { return ctx._onInputClick($event); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(5, \"div\", 5);\n        ɵngcc0.ɵɵelement(6, \"div\", 6);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelement(7, \"div\", 7);\n        ɵngcc0.ɵɵelementStart(8, \"div\", 8);\n        ɵngcc0.ɵɵnamespaceSVG();\n        ɵngcc0.ɵɵelementStart(9, \"svg\", 9);\n        ɵngcc0.ɵɵelement(10, \"path\", 10);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵnamespaceHTML();\n        ɵngcc0.ɵɵelement(11, \"div\", 11);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(12, \"span\", 12, 13);\n        ɵngcc0.ɵɵlistener(\"cdkObserveContent\", function MatCheckbox_Template_span_cdkObserveContent_12_listener() { return ctx._onLabelTextChange(); });\n        ɵngcc0.ɵɵelementStart(14, \"span\", 14);\n        ɵngcc0.ɵɵtext(15, \"\\u00A0\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵprojection(16);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        const _r0 = ɵngcc0.ɵɵreference(1);\n        const _r2 = ɵngcc0.ɵɵreference(13);\n        ɵngcc0.ɵɵattribute(\"for\", ctx.inputId);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵclassProp(\"mat-checkbox-inner-container-no-side-margin\", !_r2.textContent || !_r2.textContent.trim());\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"id\", ctx.inputId)(\"required\", ctx.required)(\"checked\", ctx.checked)(\"disabled\", ctx.disabled)(\"tabIndex\", ctx.tabIndex);\n        ɵngcc0.ɵɵattribute(\"value\", ctx.value)(\"name\", ctx.name)(\"aria-label\", ctx.ariaLabel || null)(\"aria-labelledby\", ctx.ariaLabelledby)(\"aria-checked\", ctx._getAriaChecked());\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"matRippleTrigger\", _r0)(\"matRippleDisabled\", ctx._isRippleDisabled())(\"matRippleRadius\", 20)(\"matRippleCentered\", true)(\"matRippleAnimation\", ɵngcc0.ɵɵpureFunction0(18, _c1));\n    } }, directives: [ɵngcc2.MatRipple, ɵngcc3.CdkObserveContent], styles: [\"@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox.cdk-keyboard-focused .cdk-high-contrast-active .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\\n\"], encapsulation: 2, changeDetection: 0 });\n/** @nocollapse */\nMatCheckbox.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ChangeDetectorRef },\n    { type: FocusMonitor },\n    { type: NgZone },\n    { type: String, decorators: [{ type: Attribute, args: ['tabindex',] }] },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [MAT_CHECKBOX_CLICK_ACTION,] }] },\n    { type: String, decorators: [{ type: Optional }, { type: Inject, args: [ANIMATION_MODULE_TYPE,] }] },\n    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [MAT_CHECKBOX_DEFAULT_OPTIONS,] }] }\n];\nMatCheckbox.propDecorators = {\n    ariaLabel: [{ type: Input, args: ['aria-label',] }],\n    ariaLabelledby: [{ type: Input, args: ['aria-labelledby',] }],\n    id: [{ type: Input }],\n    required: [{ type: Input }],\n    labelPosition: [{ type: Input }],\n    name: [{ type: Input }],\n    change: [{ type: Output }],\n    indeterminateChange: [{ type: Output }],\n    value: [{ type: Input }],\n    _inputElement: [{ type: ViewChild, args: ['input',] }],\n    ripple: [{ type: ViewChild, args: [MatRipple,] }],\n    checked: [{ type: Input }],\n    disabled: [{ type: Input }],\n    indeterminate: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatCheckbox, [{\n        type: Component,\n        args: [{\n                selector: 'mat-checkbox',\n                template: \"<label [attr.for]=\\\"inputId\\\" class=\\\"mat-checkbox-layout\\\" #label>\\n  <div class=\\\"mat-checkbox-inner-container\\\"\\n       [class.mat-checkbox-inner-container-no-side-margin]=\\\"!checkboxLabel.textContent || !checkboxLabel.textContent.trim()\\\">\\n    <input #input\\n           class=\\\"mat-checkbox-input cdk-visually-hidden\\\" type=\\\"checkbox\\\"\\n           [id]=\\\"inputId\\\"\\n           [required]=\\\"required\\\"\\n           [checked]=\\\"checked\\\"\\n           [attr.value]=\\\"value\\\"\\n           [disabled]=\\\"disabled\\\"\\n           [attr.name]=\\\"name\\\"\\n           [tabIndex]=\\\"tabIndex\\\"\\n           [attr.aria-label]=\\\"ariaLabel || null\\\"\\n           [attr.aria-labelledby]=\\\"ariaLabelledby\\\"\\n           [attr.aria-checked]=\\\"_getAriaChecked()\\\"\\n           (change)=\\\"_onInteractionEvent($event)\\\"\\n           (click)=\\\"_onInputClick($event)\\\">\\n    <div matRipple class=\\\"mat-checkbox-ripple mat-focus-indicator\\\"\\n         [matRippleTrigger]=\\\"label\\\"\\n         [matRippleDisabled]=\\\"_isRippleDisabled()\\\"\\n         [matRippleRadius]=\\\"20\\\"\\n         [matRippleCentered]=\\\"true\\\"\\n         [matRippleAnimation]=\\\"{enterDuration: 150}\\\">\\n      <div class=\\\"mat-ripple-element mat-checkbox-persistent-ripple\\\"></div>\\n    </div>\\n    <div class=\\\"mat-checkbox-frame\\\"></div>\\n    <div class=\\\"mat-checkbox-background\\\">\\n      <svg version=\\\"1.1\\\"\\n           focusable=\\\"false\\\"\\n           class=\\\"mat-checkbox-checkmark\\\"\\n           viewBox=\\\"0 0 24 24\\\"\\n           xml:space=\\\"preserve\\\">\\n        <path class=\\\"mat-checkbox-checkmark-path\\\"\\n              fill=\\\"none\\\"\\n              stroke=\\\"white\\\"\\n              d=\\\"M4.1,12.7 9,17.6 20.3,6.3\\\"/>\\n      </svg>\\n      <!-- Element for rendering the indeterminate state checkbox. -->\\n      <div class=\\\"mat-checkbox-mixedmark\\\"></div>\\n    </div>\\n  </div>\\n  <span class=\\\"mat-checkbox-label\\\" #checkboxLabel (cdkObserveContent)=\\\"_onLabelTextChange()\\\">\\n    <!-- Add an invisible span so JAWS can read the label -->\\n    <span style=\\\"display:none\\\">&nbsp;</span>\\n    <ng-content></ng-content>\\n  </span>\\n</label>\\n\",\n                exportAs: 'matCheckbox',\n                host: {\n                    'class': 'mat-checkbox',\n                    '[id]': 'id',\n                    '[attr.tabindex]': 'null',\n                    '[class.mat-checkbox-indeterminate]': 'indeterminate',\n                    '[class.mat-checkbox-checked]': 'checked',\n                    '[class.mat-checkbox-disabled]': 'disabled',\n                    '[class.mat-checkbox-label-before]': 'labelPosition == \"before\"',\n                    '[class._mat-animation-noopable]': `_animationMode === 'NoopAnimations'`\n                },\n                providers: [MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR],\n                inputs: ['disableRipple', 'color', 'tabIndex'],\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                styles: [\"@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox.cdk-keyboard-focused .cdk-high-contrast-active .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\\n\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.FocusMonitor }, { type: ɵngcc0.NgZone }, { type: String, decorators: [{\n                type: Attribute,\n                args: ['tabindex']\n            }] }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [MAT_CHECKBOX_CLICK_ACTION]\n            }] }, { type: String, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [ANIMATION_MODULE_TYPE]\n            }] }, { type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [MAT_CHECKBOX_DEFAULT_OPTIONS]\n            }] }]; }, { ariaLabel: [{\n            type: Input,\n            args: ['aria-label']\n        }], ariaLabelledby: [{\n            type: Input,\n            args: ['aria-labelledby']\n        }], id: [{\n            type: Input\n        }], labelPosition: [{\n            type: Input\n        }], name: [{\n            type: Input\n        }], change: [{\n            type: Output\n        }], indeterminateChange: [{\n            type: Output\n        }], required: [{\n            type: Input\n        }], checked: [{\n            type: Input\n        }], disabled: [{\n            type: Input\n        }], indeterminate: [{\n            type: Input\n        }], value: [{\n            type: Input\n        }], _inputElement: [{\n            type: ViewChild,\n            args: ['input']\n        }], ripple: [{\n            type: ViewChild,\n            args: [MatRipple]\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    MatCheckbox.ngAcceptInputType_disabled;\n    /** @type {?} */\n    MatCheckbox.ngAcceptInputType_required;\n    /** @type {?} */\n    MatCheckbox.ngAcceptInputType_disableRipple;\n    /** @type {?} */\n    MatCheckbox.ngAcceptInputType_indeterminate;\n    /**\n     * Attached to the aria-label attribute of the host element. In most cases, aria-labelledby will\n     * take precedence so this may be omitted.\n     * @type {?}\n     */\n    MatCheckbox.prototype.ariaLabel;\n    /**\n     * Users can specify the `aria-labelledby` attribute which will be forwarded to the input element\n     * @type {?}\n     */\n    MatCheckbox.prototype.ariaLabelledby;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._uniqueId;\n    /**\n     * A unique id for the checkbox input. If none is supplied, it will be auto-generated.\n     * @type {?}\n     */\n    MatCheckbox.prototype.id;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._required;\n    /**\n     * Whether the label should appear after or before the checkbox. Defaults to 'after'\n     * @type {?}\n     */\n    MatCheckbox.prototype.labelPosition;\n    /**\n     * Name value will be applied to the input element if present\n     * @type {?}\n     */\n    MatCheckbox.prototype.name;\n    /**\n     * Event emitted when the checkbox's `checked` value changes.\n     * @type {?}\n     */\n    MatCheckbox.prototype.change;\n    /**\n     * Event emitted when the checkbox's `indeterminate` value changes.\n     * @type {?}\n     */\n    MatCheckbox.prototype.indeterminateChange;\n    /**\n     * The value attribute of the native input element\n     * @type {?}\n     */\n    MatCheckbox.prototype.value;\n    /**\n     * The native `<input type=\"checkbox\">` element\n     * @type {?}\n     */\n    MatCheckbox.prototype._inputElement;\n    /**\n     * Reference to the ripple instance of the checkbox.\n     * @type {?}\n     */\n    MatCheckbox.prototype.ripple;\n    /**\n     * Called when the checkbox is blurred. Needed to properly implement ControlValueAccessor.\n     * \\@docs-private\n     * @type {?}\n     */\n    MatCheckbox.prototype._onTouched;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._currentAnimationClass;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._currentCheckState;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._controlValueAccessorChangeFn;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._checked;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._disabled;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._indeterminate;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._changeDetectorRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._focusMonitor;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._ngZone;\n    /**\n     * @deprecated `_clickAction` parameter to be removed, use\n     * `MAT_CHECKBOX_DEFAULT_OPTIONS`\n     * \\@breaking-change 10.0.0\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._clickAction;\n    /** @type {?} */\n    MatCheckbox.prototype._animationMode;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatCheckbox.prototype._options;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/checkbox/checkbox-required-validator.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst MAT_CHECKBOX_REQUIRED_VALIDATOR = {\n    provide: NG_VALIDATORS,\n    useExisting: forwardRef((/**\n     * @return {?}\n     */\n    () => MatCheckboxRequiredValidator)),\n    multi: true\n};\n/**\n * Validator for Material checkbox's required attribute in template-driven checkbox.\n * Current CheckboxRequiredValidator only work with `input type=checkbox` and does not\n * work with `mat-checkbox`.\n */\nclass MatCheckboxRequiredValidator extends CheckboxRequiredValidator {\n}\nMatCheckboxRequiredValidator.ɵfac = function MatCheckboxRequiredValidator_Factory(t) { return ɵMatCheckboxRequiredValidator_BaseFactory(t || MatCheckboxRequiredValidator); };\nMatCheckboxRequiredValidator.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: MatCheckboxRequiredValidator, selectors: [[\"mat-checkbox\", \"required\", \"\", \"formControlName\", \"\"], [\"mat-checkbox\", \"required\", \"\", \"formControl\", \"\"], [\"mat-checkbox\", \"required\", \"\", \"ngModel\", \"\"]], features: [ɵngcc0.ɵɵProvidersFeature([MAT_CHECKBOX_REQUIRED_VALIDATOR]), ɵngcc0.ɵɵInheritDefinitionFeature] });\nconst ɵMatCheckboxRequiredValidator_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(MatCheckboxRequiredValidator);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatCheckboxRequiredValidator, [{\n        type: Directive,\n        args: [{\n                selector: `mat-checkbox[required][formControlName],\n             mat-checkbox[required][formControl], mat-checkbox[required][ngModel]`,\n                providers: [MAT_CHECKBOX_REQUIRED_VALIDATOR]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/checkbox/checkbox-module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * This module is used by both original and MDC-based checkbox implementations.\n */\n// tslint:disable-next-line:class-name\nclass _MatCheckboxRequiredValidatorModule {\n}\n_MatCheckboxRequiredValidatorModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: _MatCheckboxRequiredValidatorModule });\n_MatCheckboxRequiredValidatorModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function _MatCheckboxRequiredValidatorModule_Factory(t) { return new (t || _MatCheckboxRequiredValidatorModule)(); } });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(_MatCheckboxRequiredValidatorModule, { declarations: [MatCheckboxRequiredValidator], exports: [MatCheckboxRequiredValidator] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(_MatCheckboxRequiredValidatorModule, [{\n        type: NgModule,\n        args: [{\n                exports: [MatCheckboxRequiredValidator],\n                declarations: [MatCheckboxRequiredValidator]\n            }]\n    }], null, null); })();\nclass MatCheckboxModule {\n}\nMatCheckboxModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: MatCheckboxModule });\nMatCheckboxModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function MatCheckboxModule_Factory(t) { return new (t || MatCheckboxModule)(); }, imports: [[\n            MatRippleModule, MatCommonModule, ObserversModule,\n            _MatCheckboxRequiredValidatorModule\n        ],\n        MatCommonModule,\n        _MatCheckboxRequiredValidatorModule] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(MatCheckboxModule, { declarations: function () { return [MatCheckbox]; }, imports: function () { return [MatRippleModule, MatCommonModule, ObserversModule,\n        _MatCheckboxRequiredValidatorModule]; }, exports: function () { return [MatCheckbox,\n        MatCommonModule,\n        _MatCheckboxRequiredValidatorModule]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatCheckboxModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    MatRippleModule, MatCommonModule, ObserversModule,\n                    _MatCheckboxRequiredValidatorModule\n                ],\n                exports: [MatCheckbox, MatCommonModule, _MatCheckboxRequiredValidatorModule],\n                declarations: [MatCheckbox]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/checkbox/public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MAT_CHECKBOX_CLICK_ACTION, MAT_CHECKBOX_CONTROL_VALUE_ACCESSOR, MAT_CHECKBOX_DEFAULT_OPTIONS, MAT_CHECKBOX_DEFAULT_OPTIONS_FACTORY, MAT_CHECKBOX_REQUIRED_VALIDATOR, MatCheckbox, MatCheckboxChange, MatCheckboxModule, MatCheckboxRequiredValidator, _MatCheckboxRequiredValidatorModule };\n\n//# sourceMappingURL=checkbox.js.map","import { CdkAccordionItem, CdkAccordion, CdkAccordionModule } from '@angular/cdk/accordion';\nimport { TemplatePortal, PortalModule } from '@angular/cdk/portal';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { InjectionToken, Directive, TemplateRef, EventEmitter, Component, ViewEncapsulation, ChangeDetectionStrategy, Optional, SkipSelf, Inject, ChangeDetectorRef, ViewContainerRef, Input, Output, ContentChild, ViewChild, Host, ElementRef, QueryList, ContentChildren, NgModule } from '@angular/core';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport { FocusMonitor, FocusKeyManager } from '@angular/cdk/a11y';\nimport { ENTER, hasModifierKey, SPACE, HOME, END } from '@angular/cdk/keycodes';\nimport { distinctUntilChanged, startWith, filter, take } from 'rxjs/operators';\nimport { Subject, Subscription, EMPTY, merge } from 'rxjs';\nimport { trigger, state, style, transition, animate, group, query, animateChild } from '@angular/animations';\nimport { UniqueSelectionDispatcher } from '@angular/cdk/collections';\nimport { ANIMATION_MODULE_TYPE } from '@angular/platform-browser/animations';\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/expansion/accordion-base.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Base interface for a `MatAccordion`.\n * \\@docs-private\n * @record\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/cdk/collections';\nimport * as ɵngcc2 from '@angular/cdk/portal';\nimport * as ɵngcc3 from '@angular/cdk/a11y';\nimport * as ɵngcc4 from '@angular/common';\n\nconst _c0 = [\"body\"];\nfunction MatExpansionPanel_ng_template_5_Template(rf, ctx) { }\nconst _c1 = [[[\"mat-expansion-panel-header\"]], \"*\", [[\"mat-action-row\"]]];\nconst _c2 = [\"mat-expansion-panel-header\", \"*\", \"mat-action-row\"];\nconst _c3 = function (a0, a1) { return { collapsedHeight: a0, expandedHeight: a1 }; };\nconst _c4 = function (a0, a1) { return { value: a0, params: a1 }; };\nfunction MatExpansionPanelHeader_span_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"span\", 2);\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"@indicatorRotate\", ctx_r0._getExpandedState());\n} }\nconst _c5 = [[[\"mat-panel-title\"]], [[\"mat-panel-description\"]], \"*\"];\nconst _c6 = [\"mat-panel-title\", \"mat-panel-description\", \"*\"];\nfunction MatAccordionBase() { }\nif (false) {\n    /**\n     * Whether the expansion indicator should be hidden.\n     * @type {?}\n     */\n    MatAccordionBase.prototype.hideToggle;\n    /**\n     * Display mode used for all expansion panels in the accordion.\n     * @type {?}\n     */\n    MatAccordionBase.prototype.displayMode;\n    /**\n     * The position of the expansion indicator.\n     * @type {?}\n     */\n    MatAccordionBase.prototype.togglePosition;\n    /**\n     * Handles keyboard events coming in from the panel headers.\n     * @type {?}\n     */\n    MatAccordionBase.prototype._handleHeaderKeydown;\n    /**\n     * Handles focus events on the panel headers.\n     * @type {?}\n     */\n    MatAccordionBase.prototype._handleHeaderFocus;\n}\n/**\n * Token used to provide a `MatAccordion` to `MatExpansionPanel`.\n * Used primarily to avoid circular imports between `MatAccordion` and `MatExpansionPanel`.\n * @type {?}\n */\nconst MAT_ACCORDION = new InjectionToken('MAT_ACCORDION');\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/expansion/expansion-animations.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Time and timing curve for expansion panel animations.\n * @type {?}\n */\nconst EXPANSION_PANEL_ANIMATION_TIMING = '225ms cubic-bezier(0.4,0.0,0.2,1)';\n/**\n * Animations used by the Material expansion panel.\n *\n * A bug in angular animation's `state` when ViewContainers are moved using ViewContainerRef.move()\n * causes the animation state of moved components to become `void` upon exit, and not update again\n * upon reentry into the DOM.  This can lead a to situation for the expansion panel where the state\n * of the panel is `expanded` or `collapsed` but the animation state is `void`.\n *\n * To correctly handle animating to the next state, we animate between `void` and `collapsed` which\n * are defined to have the same styles. Since angular animates from the current styles to the\n * destination state's style definition, in situations where we are moving from `void`'s styles to\n * `collapsed` this acts a noop since no style values change.\n *\n * In the case where angular's animation state is out of sync with the expansion panel's state, the\n * expansion panel being `expanded` and angular animations being `void`, the animation from the\n * `expanded`'s effective styles (though in a `void` animation state) to the collapsed state will\n * occur as expected.\n *\n * Angular Bug: https://github.com/angular/angular/issues/18847\n *\n * \\@docs-private\n * @type {?}\n */\nconst matExpansionAnimations = {\n    /**\n     * Animation that rotates the indicator arrow.\n     */\n    indicatorRotate: trigger('indicatorRotate', [\n        state('collapsed, void', style({ transform: 'rotate(0deg)' })),\n        state('expanded', style({ transform: 'rotate(180deg)' })),\n        transition('expanded <=> collapsed, void => collapsed', animate(EXPANSION_PANEL_ANIMATION_TIMING)),\n    ]),\n    /**\n     * Animation that expands and collapses the panel header height.\n     */\n    expansionHeaderHeight: trigger('expansionHeight', [\n        state('collapsed, void', style({\n            height: '{{collapsedHeight}}',\n        }), {\n            params: { collapsedHeight: '48px' },\n        }),\n        state('expanded', style({\n            height: '{{expandedHeight}}'\n        }), {\n            params: { expandedHeight: '64px' }\n        }),\n        transition('expanded <=> collapsed, void => collapsed', group([\n            query('@indicatorRotate', animateChild(), { optional: true }),\n            animate(EXPANSION_PANEL_ANIMATION_TIMING),\n        ])),\n    ]),\n    /**\n     * Animation that expands and collapses the panel content.\n     */\n    bodyExpansion: trigger('bodyExpansion', [\n        state('collapsed, void', style({ height: '0px', visibility: 'hidden' })),\n        state('expanded', style({ height: '*', visibility: 'visible' })),\n        transition('expanded <=> collapsed, void => collapsed', animate(EXPANSION_PANEL_ANIMATION_TIMING)),\n    ])\n};\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/expansion/expansion-panel-content.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Expansion panel content that will be rendered lazily\n * after the panel is opened for the first time.\n */\nclass MatExpansionPanelContent {\n    /**\n     * @param {?} _template\n     */\n    constructor(_template) {\n        this._template = _template;\n    }\n}\nMatExpansionPanelContent.ɵfac = function MatExpansionPanelContent_Factory(t) { return new (t || MatExpansionPanelContent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.TemplateRef)); };\nMatExpansionPanelContent.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: MatExpansionPanelContent, selectors: [[\"ng-template\", \"matExpansionPanelContent\", \"\"]] });\n/** @nocollapse */\nMatExpansionPanelContent.ctorParameters = () => [\n    { type: TemplateRef }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatExpansionPanelContent, [{\n        type: Directive,\n        args: [{\n                selector: 'ng-template[matExpansionPanelContent]'\n            }]\n    }], function () { return [{ type: ɵngcc0.TemplateRef }]; }, null); })();\nif (false) {\n    /** @type {?} */\n    MatExpansionPanelContent.prototype._template;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/expansion/expansion-panel.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Counter for generating unique element ids.\n * @type {?}\n */\nlet uniqueId = 0;\n/**\n * Object that can be used to override the default options\n * for all of the expansion panels in a module.\n * @record\n */\nfunction MatExpansionPanelDefaultOptions() { }\nif (false) {\n    /**\n     * Height of the header while the panel is expanded.\n     * @type {?}\n     */\n    MatExpansionPanelDefaultOptions.prototype.expandedHeight;\n    /**\n     * Height of the header while the panel is collapsed.\n     * @type {?}\n     */\n    MatExpansionPanelDefaultOptions.prototype.collapsedHeight;\n    /**\n     * Whether the toggle indicator should be hidden.\n     * @type {?}\n     */\n    MatExpansionPanelDefaultOptions.prototype.hideToggle;\n}\n/**\n * Injection token that can be used to configure the defalt\n * options for the expansion panel component.\n * @type {?}\n */\nconst MAT_EXPANSION_PANEL_DEFAULT_OPTIONS = new InjectionToken('MAT_EXPANSION_PANEL_DEFAULT_OPTIONS');\nconst ɵ0 = undefined;\n/**\n * `<mat-expansion-panel>`\n *\n * This component can be used as a single element to show expandable content, or as one of\n * multiple children of an element with the MatAccordion directive attached.\n */\nclass MatExpansionPanel extends CdkAccordionItem {\n    /**\n     * @param {?} accordion\n     * @param {?} _changeDetectorRef\n     * @param {?} _uniqueSelectionDispatcher\n     * @param {?} _viewContainerRef\n     * @param {?} _document\n     * @param {?} _animationMode\n     * @param {?=} defaultOptions\n     */\n    constructor(accordion, _changeDetectorRef, _uniqueSelectionDispatcher, _viewContainerRef, _document, _animationMode, defaultOptions) {\n        super(accordion, _changeDetectorRef, _uniqueSelectionDispatcher);\n        this._viewContainerRef = _viewContainerRef;\n        this._animationMode = _animationMode;\n        this._hideToggle = false;\n        /**\n         * An event emitted after the body's expansion animation happens.\n         */\n        this.afterExpand = new EventEmitter();\n        /**\n         * An event emitted after the body's collapse animation happens.\n         */\n        this.afterCollapse = new EventEmitter();\n        /**\n         * Stream that emits for changes in `\\@Input` properties.\n         */\n        this._inputChanges = new Subject();\n        /**\n         * ID for the associated header element. Used for a11y labelling.\n         */\n        this._headerId = `mat-expansion-panel-header-${uniqueId++}`;\n        /**\n         * Stream of body animation done events.\n         */\n        this._bodyAnimationDone = new Subject();\n        this.accordion = accordion;\n        this._document = _document;\n        // We need a Subject with distinctUntilChanged, because the `done` event\n        // fires twice on some browsers. See https://github.com/angular/angular/issues/24084\n        this._bodyAnimationDone.pipe(distinctUntilChanged((/**\n         * @param {?} x\n         * @param {?} y\n         * @return {?}\n         */\n        (x, y) => {\n            return x.fromState === y.fromState && x.toState === y.toState;\n        }))).subscribe((/**\n         * @param {?} event\n         * @return {?}\n         */\n        event => {\n            if (event.fromState !== 'void') {\n                if (event.toState === 'expanded') {\n                    this.afterExpand.emit();\n                }\n                else if (event.toState === 'collapsed') {\n                    this.afterCollapse.emit();\n                }\n            }\n        }));\n        if (defaultOptions) {\n            this.hideToggle = defaultOptions.hideToggle;\n        }\n    }\n    /**\n     * Whether the toggle indicator should be hidden.\n     * @return {?}\n     */\n    get hideToggle() {\n        return this._hideToggle || (this.accordion && this.accordion.hideToggle);\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set hideToggle(value) {\n        this._hideToggle = coerceBooleanProperty(value);\n    }\n    /**\n     * The position of the expansion indicator.\n     * @return {?}\n     */\n    get togglePosition() {\n        return this._togglePosition || (this.accordion && this.accordion.togglePosition);\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    set togglePosition(value) {\n        this._togglePosition = value;\n    }\n    /**\n     * Determines whether the expansion panel should have spacing between it and its siblings.\n     * @return {?}\n     */\n    _hasSpacing() {\n        if (this.accordion) {\n            return this.expanded && this.accordion.displayMode === 'default';\n        }\n        return false;\n    }\n    /**\n     * Gets the expanded state string.\n     * @return {?}\n     */\n    _getExpandedState() {\n        return this.expanded ? 'expanded' : 'collapsed';\n    }\n    /**\n     * Toggles the expanded state of the expansion panel.\n     * @return {?}\n     */\n    toggle() {\n        this.expanded = !this.expanded;\n    }\n    /**\n     * Sets the expanded state of the expansion panel to false.\n     * @return {?}\n     */\n    close() {\n        this.expanded = false;\n    }\n    /**\n     * Sets the expanded state of the expansion panel to true.\n     * @return {?}\n     */\n    open() {\n        this.expanded = true;\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterContentInit() {\n        if (this._lazyContent) {\n            // Render the content as soon as the panel becomes open.\n            this.opened.pipe(startWith((/** @type {?} */ (null))), filter((/**\n             * @return {?}\n             */\n            () => this.expanded && !this._portal)), take(1)).subscribe((/**\n             * @return {?}\n             */\n            () => {\n                this._portal = new TemplatePortal(this._lazyContent._template, this._viewContainerRef);\n            }));\n        }\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        this._inputChanges.next(changes);\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        this._bodyAnimationDone.complete();\n        this._inputChanges.complete();\n    }\n    /**\n     * Checks whether the expansion panel's content contains the currently-focused element.\n     * @return {?}\n     */\n    _containsFocus() {\n        if (this._body) {\n            /** @type {?} */\n            const focusedElement = this._document.activeElement;\n            /** @type {?} */\n            const bodyElement = this._body.nativeElement;\n            return focusedElement === bodyElement || bodyElement.contains(focusedElement);\n        }\n        return false;\n    }\n}\nMatExpansionPanel.ɵfac = function MatExpansionPanel_Factory(t) { return new (t || MatExpansionPanel)(ɵngcc0.ɵɵdirectiveInject(MAT_ACCORDION, 12), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.UniqueSelectionDispatcher), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(DOCUMENT), ɵngcc0.ɵɵdirectiveInject(ANIMATION_MODULE_TYPE, 8), ɵngcc0.ɵɵdirectiveInject(MAT_EXPANSION_PANEL_DEFAULT_OPTIONS, 8)); };\nMatExpansionPanel.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: MatExpansionPanel, selectors: [[\"mat-expansion-panel\"]], contentQueries: function MatExpansionPanel_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, MatExpansionPanelContent, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._lazyContent = _t.first);\n    } }, viewQuery: function MatExpansionPanel_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._body = _t.first);\n    } }, hostAttrs: [1, \"mat-expansion-panel\"], hostVars: 6, hostBindings: function MatExpansionPanel_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"mat-expanded\", ctx.expanded)(\"_mat-animation-noopable\", ctx._animationMode === \"NoopAnimations\")(\"mat-expansion-panel-spacing\", ctx._hasSpacing());\n    } }, inputs: { disabled: \"disabled\", expanded: \"expanded\", hideToggle: \"hideToggle\", togglePosition: \"togglePosition\" }, outputs: { opened: \"opened\", closed: \"closed\", expandedChange: \"expandedChange\", afterExpand: \"afterExpand\", afterCollapse: \"afterCollapse\" }, exportAs: [\"matExpansionPanel\"], features: [ɵngcc0.ɵɵProvidersFeature([\n            // Provide MatAccordion as undefined to prevent nested expansion panels from registering\n            // to the same accordion.\n            { provide: MAT_ACCORDION, useValue: ɵ0 },\n        ]), ɵngcc0.ɵɵInheritDefinitionFeature, ɵngcc0.ɵɵNgOnChangesFeature], ngContentSelectors: _c2, decls: 7, vars: 4, consts: [[\"role\", \"region\", 1, \"mat-expansion-panel-content\", 3, \"id\"], [\"body\", \"\"], [1, \"mat-expansion-panel-body\"], [3, \"cdkPortalOutlet\"]], template: function MatExpansionPanel_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef(_c1);\n        ɵngcc0.ɵɵprojection(0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 0, 1);\n        ɵngcc0.ɵɵlistener(\"@bodyExpansion.done\", function MatExpansionPanel_Template_div_animation_bodyExpansion_done_1_listener($event) { return ctx._bodyAnimationDone.next($event); });\n        ɵngcc0.ɵɵelementStart(3, \"div\", 2);\n        ɵngcc0.ɵɵprojection(4, 1);\n        ɵngcc0.ɵɵtemplate(5, MatExpansionPanel_ng_template_5_Template, 0, 0, \"ng-template\", 3);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵprojection(6, 2);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"@bodyExpansion\", ctx._getExpandedState())(\"id\", ctx.id);\n        ɵngcc0.ɵɵattribute(\"aria-labelledby\", ctx._headerId);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"cdkPortalOutlet\", ctx._portal);\n    } }, directives: [ɵngcc2.CdkPortalOutlet], styles: [\".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\\n\"], encapsulation: 2, data: { animation: [matExpansionAnimations.bodyExpansion] }, changeDetection: 0 });\n/** @nocollapse */\nMatExpansionPanel.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Optional }, { type: SkipSelf }, { type: Inject, args: [MAT_ACCORDION,] }] },\n    { type: ChangeDetectorRef },\n    { type: UniqueSelectionDispatcher },\n    { type: ViewContainerRef },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },\n    { type: String, decorators: [{ type: Optional }, { type: Inject, args: [ANIMATION_MODULE_TYPE,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [MAT_EXPANSION_PANEL_DEFAULT_OPTIONS,] }, { type: Optional }] }\n];\nMatExpansionPanel.propDecorators = {\n    hideToggle: [{ type: Input }],\n    togglePosition: [{ type: Input }],\n    afterExpand: [{ type: Output }],\n    afterCollapse: [{ type: Output }],\n    _lazyContent: [{ type: ContentChild, args: [MatExpansionPanelContent,] }],\n    _body: [{ type: ViewChild, args: ['body',] }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatExpansionPanel, [{\n        type: Component,\n        args: [{\n                selector: 'mat-expansion-panel',\n                exportAs: 'matExpansionPanel',\n                template: \"<ng-content select=\\\"mat-expansion-panel-header\\\"></ng-content>\\n<div class=\\\"mat-expansion-panel-content\\\"\\n     role=\\\"region\\\"\\n     [@bodyExpansion]=\\\"_getExpandedState()\\\"\\n     (@bodyExpansion.done)=\\\"_bodyAnimationDone.next($event)\\\"\\n     [attr.aria-labelledby]=\\\"_headerId\\\"\\n     [id]=\\\"id\\\"\\n     #body>\\n  <div class=\\\"mat-expansion-panel-body\\\">\\n    <ng-content></ng-content>\\n    <ng-template [cdkPortalOutlet]=\\\"_portal\\\"></ng-template>\\n  </div>\\n  <ng-content select=\\\"mat-action-row\\\"></ng-content>\\n</div>\\n\",\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                inputs: ['disabled', 'expanded'],\n                outputs: ['opened', 'closed', 'expandedChange'],\n                animations: [matExpansionAnimations.bodyExpansion],\n                providers: [\n                    // Provide MatAccordion as undefined to prevent nested expansion panels from registering\n                    // to the same accordion.\n                    { provide: MAT_ACCORDION, useValue: ɵ0 },\n                ],\n                host: {\n                    'class': 'mat-expansion-panel',\n                    '[class.mat-expanded]': 'expanded',\n                    '[class._mat-animation-noopable]': '_animationMode === \"NoopAnimations\"',\n                    '[class.mat-expansion-panel-spacing]': '_hasSpacing()'\n                },\n                styles: [\".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\\n\"]\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Optional\n            }, {\n                type: SkipSelf\n            }, {\n                type: Inject,\n                args: [MAT_ACCORDION]\n            }] }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc1.UniqueSelectionDispatcher }, { type: ɵngcc0.ViewContainerRef }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: String, decorators: [{\n                type: Optional\n            }, {\n                type: Inject,\n                args: [ANIMATION_MODULE_TYPE]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [MAT_EXPANSION_PANEL_DEFAULT_OPTIONS]\n            }, {\n                type: Optional\n            }] }]; }, { afterExpand: [{\n            type: Output\n        }], afterCollapse: [{\n            type: Output\n        }], hideToggle: [{\n            type: Input\n        }], togglePosition: [{\n            type: Input\n        }], _lazyContent: [{\n            type: ContentChild,\n            args: [MatExpansionPanelContent]\n        }], _body: [{\n            type: ViewChild,\n            args: ['body']\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    MatExpansionPanel.ngAcceptInputType_hideToggle;\n    /** @type {?} */\n    MatExpansionPanel.ngAcceptInputType_expanded;\n    /** @type {?} */\n    MatExpansionPanel.ngAcceptInputType_disabled;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatExpansionPanel.prototype._document;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatExpansionPanel.prototype._hideToggle;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatExpansionPanel.prototype._togglePosition;\n    /**\n     * An event emitted after the body's expansion animation happens.\n     * @type {?}\n     */\n    MatExpansionPanel.prototype.afterExpand;\n    /**\n     * An event emitted after the body's collapse animation happens.\n     * @type {?}\n     */\n    MatExpansionPanel.prototype.afterCollapse;\n    /**\n     * Stream that emits for changes in `\\@Input` properties.\n     * @type {?}\n     */\n    MatExpansionPanel.prototype._inputChanges;\n    /**\n     * Optionally defined accordion the expansion panel belongs to.\n     * @type {?}\n     */\n    MatExpansionPanel.prototype.accordion;\n    /**\n     * Content that will be rendered lazily.\n     * @type {?}\n     */\n    MatExpansionPanel.prototype._lazyContent;\n    /**\n     * Element containing the panel's user-provided content.\n     * @type {?}\n     */\n    MatExpansionPanel.prototype._body;\n    /**\n     * Portal holding the user's content.\n     * @type {?}\n     */\n    MatExpansionPanel.prototype._portal;\n    /**\n     * ID for the associated header element. Used for a11y labelling.\n     * @type {?}\n     */\n    MatExpansionPanel.prototype._headerId;\n    /**\n     * Stream of body animation done events.\n     * @type {?}\n     */\n    MatExpansionPanel.prototype._bodyAnimationDone;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatExpansionPanel.prototype._viewContainerRef;\n    /** @type {?} */\n    MatExpansionPanel.prototype._animationMode;\n}\nclass MatExpansionPanelActionRow {\n}\nMatExpansionPanelActionRow.ɵfac = function MatExpansionPanelActionRow_Factory(t) { return new (t || MatExpansionPanelActionRow)(); };\nMatExpansionPanelActionRow.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: MatExpansionPanelActionRow, selectors: [[\"mat-action-row\"]], hostAttrs: [1, \"mat-action-row\"] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatExpansionPanelActionRow, [{\n        type: Directive,\n        args: [{\n                selector: 'mat-action-row',\n                host: {\n                    class: 'mat-action-row'\n                }\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/expansion/expansion-panel-header.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * `<mat-expansion-panel-header>`\n *\n * This component corresponds to the header element of an `<mat-expansion-panel>`.\n */\nclass MatExpansionPanelHeader {\n    /**\n     * @param {?} panel\n     * @param {?} _element\n     * @param {?} _focusMonitor\n     * @param {?} _changeDetectorRef\n     * @param {?=} defaultOptions\n     */\n    constructor(panel, _element, _focusMonitor, _changeDetectorRef, defaultOptions) {\n        this.panel = panel;\n        this._element = _element;\n        this._focusMonitor = _focusMonitor;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._parentChangeSubscription = Subscription.EMPTY;\n        /**\n         * Whether Angular animations in the panel header should be disabled.\n         */\n        this._animationsDisabled = true;\n        /** @type {?} */\n        const accordionHideToggleChange = panel.accordion ?\n            panel.accordion._stateChanges.pipe(filter((/**\n             * @param {?} changes\n             * @return {?}\n             */\n            changes => !!(changes['hideToggle'] || changes['togglePosition'])))) :\n            EMPTY;\n        // Since the toggle state depends on an @Input on the panel, we\n        // need to subscribe and trigger change detection manually.\n        this._parentChangeSubscription =\n            merge(panel.opened, panel.closed, accordionHideToggleChange, panel._inputChanges.pipe(filter((/**\n             * @param {?} changes\n             * @return {?}\n             */\n            changes => {\n                return !!(changes['hideToggle'] ||\n                    changes['disabled'] ||\n                    changes['togglePosition']);\n            }))))\n                .subscribe((/**\n             * @return {?}\n             */\n            () => this._changeDetectorRef.markForCheck()));\n        // Avoids focus being lost if the panel contained the focused element and was closed.\n        panel.closed\n            .pipe(filter((/**\n         * @return {?}\n         */\n        () => panel._containsFocus())))\n            .subscribe((/**\n         * @return {?}\n         */\n        () => _focusMonitor.focusVia(_element, 'program')));\n        _focusMonitor.monitor(_element).subscribe((/**\n         * @param {?} origin\n         * @return {?}\n         */\n        origin => {\n            if (origin && panel.accordion) {\n                panel.accordion._handleHeaderFocus(this);\n            }\n        }));\n        if (defaultOptions) {\n            this.expandedHeight = defaultOptions.expandedHeight;\n            this.collapsedHeight = defaultOptions.collapsedHeight;\n        }\n    }\n    /**\n     * @return {?}\n     */\n    _animationStarted() {\n        // Currently the `expansionHeight` animation has a `void => collapsed` transition which is\n        // there to work around a bug in Angular (see #13088), however this introduces a different\n        // issue. The new transition will cause the header to animate in on init (see #16067), if the\n        // consumer has set a header height that is different from the default one. We work around it\n        // by disabling animations on the header and re-enabling them after the first animation has run.\n        // Note that Angular dispatches animation events even if animations are disabled. Ideally this\n        // wouldn't be necessary if we remove the `void => collapsed` transition, but we have to wait\n        // for https://github.com/angular/angular/issues/18847 to be resolved.\n        this._animationsDisabled = false;\n    }\n    /**\n     * Whether the associated panel is disabled. Implemented as a part of `FocusableOption`.\n     * \\@docs-private\n     * @return {?}\n     */\n    get disabled() {\n        return this.panel.disabled;\n    }\n    /**\n     * Toggles the expanded state of the panel.\n     * @return {?}\n     */\n    _toggle() {\n        if (!this.disabled) {\n            this.panel.toggle();\n        }\n    }\n    /**\n     * Gets whether the panel is expanded.\n     * @return {?}\n     */\n    _isExpanded() {\n        return this.panel.expanded;\n    }\n    /**\n     * Gets the expanded state string of the panel.\n     * @return {?}\n     */\n    _getExpandedState() {\n        return this.panel._getExpandedState();\n    }\n    /**\n     * Gets the panel id.\n     * @return {?}\n     */\n    _getPanelId() {\n        return this.panel.id;\n    }\n    /**\n     * Gets the toggle position for the header.\n     * @return {?}\n     */\n    _getTogglePosition() {\n        return this.panel.togglePosition;\n    }\n    /**\n     * Gets whether the expand indicator should be shown.\n     * @return {?}\n     */\n    _showToggle() {\n        return !this.panel.hideToggle && !this.panel.disabled;\n    }\n    /**\n     * Handle keydown event calling to toggle() if appropriate.\n     * @param {?} event\n     * @return {?}\n     */\n    _keydown(event) {\n        switch (event.keyCode) {\n            // Toggle for space and enter keys.\n            case SPACE:\n            case ENTER:\n                if (!hasModifierKey(event)) {\n                    event.preventDefault();\n                    this._toggle();\n                }\n                break;\n            default:\n                if (this.panel.accordion) {\n                    this.panel.accordion._handleHeaderKeydown(event);\n                }\n                return;\n        }\n    }\n    /**\n     * Focuses the panel header. Implemented as a part of `FocusableOption`.\n     * \\@docs-private\n     * @param {?=} origin Origin of the action that triggered the focus.\n     * @param {?=} options\n     * @return {?}\n     */\n    focus(origin = 'program', options) {\n        this._focusMonitor.focusVia(this._element, origin, options);\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this._parentChangeSubscription.unsubscribe();\n        this._focusMonitor.stopMonitoring(this._element);\n    }\n}\nMatExpansionPanelHeader.ɵfac = function MatExpansionPanelHeader_Factory(t) { return new (t || MatExpansionPanelHeader)(ɵngcc0.ɵɵdirectiveInject(MatExpansionPanel, 1), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc3.FocusMonitor), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(MAT_EXPANSION_PANEL_DEFAULT_OPTIONS, 8)); };\nMatExpansionPanelHeader.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: MatExpansionPanelHeader, selectors: [[\"mat-expansion-panel-header\"]], hostAttrs: [\"role\", \"button\", 1, \"mat-expansion-panel-header\", \"mat-focus-indicator\"], hostVars: 19, hostBindings: function MatExpansionPanelHeader_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵcomponentHostSyntheticListener(\"@expansionHeight.start\", function MatExpansionPanelHeader_animation_expansionHeight_start_HostBindingHandler() { return ctx._animationStarted(); });\n        ɵngcc0.ɵɵlistener(\"click\", function MatExpansionPanelHeader_click_HostBindingHandler() { return ctx._toggle(); })(\"keydown\", function MatExpansionPanelHeader_keydown_HostBindingHandler($event) { return ctx._keydown($event); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵattribute(\"id\", ctx.panel._headerId)(\"tabindex\", ctx.disabled ? 0 - 1 : 0)(\"aria-controls\", ctx._getPanelId())(\"aria-expanded\", ctx._isExpanded())(\"aria-disabled\", ctx.panel.disabled);\n        ɵngcc0.ɵɵupdateSyntheticHostBinding(\"@.disabled\", ctx._animationsDisabled)(\"@expansionHeight\", ɵngcc0.ɵɵpureFunction2(16, _c4, ctx._getExpandedState(), ɵngcc0.ɵɵpureFunction2(13, _c3, ctx.collapsedHeight, ctx.expandedHeight)));\n        ɵngcc0.ɵɵclassProp(\"mat-expanded\", ctx._isExpanded())(\"mat-expansion-toggle-indicator-after\", ctx._getTogglePosition() === \"after\")(\"mat-expansion-toggle-indicator-before\", ctx._getTogglePosition() === \"before\");\n    } }, inputs: { expandedHeight: \"expandedHeight\", collapsedHeight: \"collapsedHeight\" }, ngContentSelectors: _c6, decls: 5, vars: 1, consts: [[1, \"mat-content\"], [\"class\", \"mat-expansion-indicator\", 4, \"ngIf\"], [1, \"mat-expansion-indicator\"]], template: function MatExpansionPanelHeader_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef(_c5);\n        ɵngcc0.ɵɵelementStart(0, \"span\", 0);\n        ɵngcc0.ɵɵprojection(1);\n        ɵngcc0.ɵɵprojection(2, 1);\n        ɵngcc0.ɵɵprojection(3, 2);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(4, MatExpansionPanelHeader_span_4_Template, 1, 1, \"span\", 1);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx._showToggle());\n    } }, directives: [ɵngcc4.NgIf], styles: [\".mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;position:relative}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:\\\"\\\";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\\n\"], encapsulation: 2, data: { animation: [\n            matExpansionAnimations.indicatorRotate,\n            matExpansionAnimations.expansionHeaderHeight\n        ] }, changeDetection: 0 });\n/** @nocollapse */\nMatExpansionPanelHeader.ctorParameters = () => [\n    { type: MatExpansionPanel, decorators: [{ type: Host }] },\n    { type: ElementRef },\n    { type: FocusMonitor },\n    { type: ChangeDetectorRef },\n    { type: undefined, decorators: [{ type: Inject, args: [MAT_EXPANSION_PANEL_DEFAULT_OPTIONS,] }, { type: Optional }] }\n];\nMatExpansionPanelHeader.propDecorators = {\n    expandedHeight: [{ type: Input }],\n    collapsedHeight: [{ type: Input }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatExpansionPanelHeader, [{\n        type: Component,\n        args: [{\n                selector: 'mat-expansion-panel-header',\n                template: \"<span class=\\\"mat-content\\\">\\n  <ng-content select=\\\"mat-panel-title\\\"></ng-content>\\n  <ng-content select=\\\"mat-panel-description\\\"></ng-content>\\n  <ng-content></ng-content>\\n</span>\\n<span [@indicatorRotate]=\\\"_getExpandedState()\\\" *ngIf=\\\"_showToggle()\\\"\\n      class=\\\"mat-expansion-indicator\\\"></span>\\n\",\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                animations: [\n                    matExpansionAnimations.indicatorRotate,\n                    matExpansionAnimations.expansionHeaderHeight\n                ],\n                host: {\n                    'class': 'mat-expansion-panel-header mat-focus-indicator',\n                    'role': 'button',\n                    '[attr.id]': 'panel._headerId',\n                    '[attr.tabindex]': 'disabled ? -1 : 0',\n                    '[attr.aria-controls]': '_getPanelId()',\n                    '[attr.aria-expanded]': '_isExpanded()',\n                    '[attr.aria-disabled]': 'panel.disabled',\n                    '[class.mat-expanded]': '_isExpanded()',\n                    '[class.mat-expansion-toggle-indicator-after]': `_getTogglePosition() === 'after'`,\n                    '[class.mat-expansion-toggle-indicator-before]': `_getTogglePosition() === 'before'`,\n                    '(click)': '_toggle()',\n                    '(keydown)': '_keydown($event)',\n                    '[@.disabled]': '_animationsDisabled',\n                    '(@expansionHeight.start)': '_animationStarted()',\n                    '[@expansionHeight]': `{\n        value: _getExpandedState(),\n        params: {\n          collapsedHeight: collapsedHeight,\n          expandedHeight: expandedHeight\n        }\n    }`\n                },\n                styles: [\".mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;position:relative}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:\\\"\\\";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\\n\"]\n            }]\n    }], function () { return [{ type: MatExpansionPanel, decorators: [{\n                type: Host\n            }] }, { type: ɵngcc0.ElementRef }, { type: ɵngcc3.FocusMonitor }, { type: ɵngcc0.ChangeDetectorRef }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [MAT_EXPANSION_PANEL_DEFAULT_OPTIONS]\n            }, {\n                type: Optional\n            }] }]; }, { expandedHeight: [{\n            type: Input\n        }], collapsedHeight: [{\n            type: Input\n        }] }); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    MatExpansionPanelHeader.prototype._parentChangeSubscription;\n    /**\n     * Whether Angular animations in the panel header should be disabled.\n     * @type {?}\n     */\n    MatExpansionPanelHeader.prototype._animationsDisabled;\n    /**\n     * Height of the header while the panel is expanded.\n     * @type {?}\n     */\n    MatExpansionPanelHeader.prototype.expandedHeight;\n    /**\n     * Height of the header while the panel is collapsed.\n     * @type {?}\n     */\n    MatExpansionPanelHeader.prototype.collapsedHeight;\n    /** @type {?} */\n    MatExpansionPanelHeader.prototype.panel;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatExpansionPanelHeader.prototype._element;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatExpansionPanelHeader.prototype._focusMonitor;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatExpansionPanelHeader.prototype._changeDetectorRef;\n}\n/**\n * `<mat-panel-description>`\n *\n * This directive is to be used inside of the MatExpansionPanelHeader component.\n */\nclass MatExpansionPanelDescription {\n}\nMatExpansionPanelDescription.ɵfac = function MatExpansionPanelDescription_Factory(t) { return new (t || MatExpansionPanelDescription)(); };\nMatExpansionPanelDescription.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: MatExpansionPanelDescription, selectors: [[\"mat-panel-description\"]], hostAttrs: [1, \"mat-expansion-panel-header-description\"] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatExpansionPanelDescription, [{\n        type: Directive,\n        args: [{\n                selector: 'mat-panel-description',\n                host: {\n                    class: 'mat-expansion-panel-header-description'\n                }\n            }]\n    }], null, null); })();\n/**\n * `<mat-panel-title>`\n *\n * This directive is to be used inside of the MatExpansionPanelHeader component.\n */\nclass MatExpansionPanelTitle {\n}\nMatExpansionPanelTitle.ɵfac = function MatExpansionPanelTitle_Factory(t) { return new (t || MatExpansionPanelTitle)(); };\nMatExpansionPanelTitle.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: MatExpansionPanelTitle, selectors: [[\"mat-panel-title\"]], hostAttrs: [1, \"mat-expansion-panel-header-title\"] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatExpansionPanelTitle, [{\n        type: Directive,\n        args: [{\n                selector: 'mat-panel-title',\n                host: {\n                    class: 'mat-expansion-panel-header-title'\n                }\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/expansion/accordion.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Directive for a Material Design Accordion.\n */\nclass MatAccordion extends CdkAccordion {\n    constructor() {\n        super(...arguments);\n        /**\n         * Headers belonging to this accordion.\n         */\n        this._ownHeaders = new QueryList();\n        this._hideToggle = false;\n        /**\n         * Display mode used for all expansion panels in the accordion. Currently two display\n         * modes exist:\n         *  default - a gutter-like spacing is placed around any expanded panel, placing the expanded\n         *     panel at a different elevation from the rest of the accordion.\n         *  flat - no spacing is placed around expanded panels, showing all panels at the same\n         *     elevation.\n         */\n        this.displayMode = 'default';\n        /**\n         * The position of the expansion indicator.\n         */\n        this.togglePosition = 'after';\n    }\n    /**\n     * Whether the expansion indicator should be hidden.\n     * @return {?}\n     */\n    get hideToggle() { return this._hideToggle; }\n    /**\n     * @param {?} show\n     * @return {?}\n     */\n    set hideToggle(show) { this._hideToggle = coerceBooleanProperty(show); }\n    /**\n     * @return {?}\n     */\n    ngAfterContentInit() {\n        this._headers.changes\n            .pipe(startWith(this._headers))\n            .subscribe((/**\n         * @param {?} headers\n         * @return {?}\n         */\n        (headers) => {\n            this._ownHeaders.reset(headers.filter((/**\n             * @param {?} header\n             * @return {?}\n             */\n            header => header.panel.accordion === this)));\n            this._ownHeaders.notifyOnChanges();\n        }));\n        this._keyManager = new FocusKeyManager(this._ownHeaders).withWrap();\n    }\n    /**\n     * Handles keyboard events coming in from the panel headers.\n     * @param {?} event\n     * @return {?}\n     */\n    _handleHeaderKeydown(event) {\n        const { keyCode } = event;\n        /** @type {?} */\n        const manager = this._keyManager;\n        if (keyCode === HOME) {\n            if (!hasModifierKey(event)) {\n                manager.setFirstItemActive();\n                event.preventDefault();\n            }\n        }\n        else if (keyCode === END) {\n            if (!hasModifierKey(event)) {\n                manager.setLastItemActive();\n                event.preventDefault();\n            }\n        }\n        else {\n            this._keyManager.onKeydown(event);\n        }\n    }\n    /**\n     * @param {?} header\n     * @return {?}\n     */\n    _handleHeaderFocus(header) {\n        this._keyManager.updateActiveItem(header);\n    }\n}\nMatAccordion.ɵfac = function MatAccordion_Factory(t) { return ɵMatAccordion_BaseFactory(t || MatAccordion); };\nMatAccordion.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: MatAccordion, selectors: [[\"mat-accordion\"]], contentQueries: function MatAccordion_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, MatExpansionPanelHeader, true);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx._headers = _t);\n    } }, hostAttrs: [1, \"mat-accordion\"], hostVars: 2, hostBindings: function MatAccordion_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"mat-accordion-multi\", ctx.multi);\n    } }, inputs: { multi: \"multi\", displayMode: \"displayMode\", togglePosition: \"togglePosition\", hideToggle: \"hideToggle\" }, exportAs: [\"matAccordion\"], features: [ɵngcc0.ɵɵProvidersFeature([{\n                provide: MAT_ACCORDION,\n                useExisting: MatAccordion\n            }]), ɵngcc0.ɵɵInheritDefinitionFeature] });\nMatAccordion.propDecorators = {\n    _headers: [{ type: ContentChildren, args: [MatExpansionPanelHeader, { descendants: true },] }],\n    hideToggle: [{ type: Input }],\n    displayMode: [{ type: Input }],\n    togglePosition: [{ type: Input }]\n};\nconst ɵMatAccordion_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(MatAccordion);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatAccordion, [{\n        type: Directive,\n        args: [{\n                selector: 'mat-accordion',\n                exportAs: 'matAccordion',\n                inputs: ['multi'],\n                providers: [{\n                        provide: MAT_ACCORDION,\n                        useExisting: MatAccordion\n                    }],\n                host: {\n                    class: 'mat-accordion',\n                    // Class binding which is only used by the test harness as there is no other\n                    // way for the harness to detect if multiple panel support is enabled.\n                    '[class.mat-accordion-multi]': 'this.multi'\n                }\n            }]\n    }], null, { displayMode: [{\n            type: Input\n        }], togglePosition: [{\n            type: Input\n        }], hideToggle: [{\n            type: Input\n        }], _headers: [{\n            type: ContentChildren,\n            args: [MatExpansionPanelHeader, { descendants: true }]\n        }] }); })();\nif (false) {\n    /** @type {?} */\n    MatAccordion.ngAcceptInputType_hideToggle;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatAccordion.prototype._keyManager;\n    /**\n     * Headers belonging to this accordion.\n     * @type {?}\n     * @private\n     */\n    MatAccordion.prototype._ownHeaders;\n    /**\n     * All headers inside the accordion. Includes headers inside nested accordions.\n     * @type {?}\n     */\n    MatAccordion.prototype._headers;\n    /**\n     * @type {?}\n     * @private\n     */\n    MatAccordion.prototype._hideToggle;\n    /**\n     * Display mode used for all expansion panels in the accordion. Currently two display\n     * modes exist:\n     *  default - a gutter-like spacing is placed around any expanded panel, placing the expanded\n     *     panel at a different elevation from the rest of the accordion.\n     *  flat - no spacing is placed around expanded panels, showing all panels at the same\n     *     elevation.\n     * @type {?}\n     */\n    MatAccordion.prototype.displayMode;\n    /**\n     * The position of the expansion indicator.\n     * @type {?}\n     */\n    MatAccordion.prototype.togglePosition;\n}\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/expansion/expansion-module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass MatExpansionModule {\n}\nMatExpansionModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: MatExpansionModule });\nMatExpansionModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function MatExpansionModule_Factory(t) { return new (t || MatExpansionModule)(); }, imports: [[CommonModule, CdkAccordionModule, PortalModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(MatExpansionModule, { declarations: function () { return [MatAccordion,\n        MatExpansionPanel,\n        MatExpansionPanelActionRow,\n        MatExpansionPanelHeader,\n        MatExpansionPanelTitle,\n        MatExpansionPanelDescription,\n        MatExpansionPanelContent]; }, imports: function () { return [CommonModule, CdkAccordionModule, PortalModule]; }, exports: function () { return [MatAccordion,\n        MatExpansionPanel,\n        MatExpansionPanelActionRow,\n        MatExpansionPanelHeader,\n        MatExpansionPanelTitle,\n        MatExpansionPanelDescription,\n        MatExpansionPanelContent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(MatExpansionModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule, CdkAccordionModule, PortalModule],\n                exports: [\n                    MatAccordion,\n                    MatExpansionPanel,\n                    MatExpansionPanelActionRow,\n                    MatExpansionPanelHeader,\n                    MatExpansionPanelTitle,\n                    MatExpansionPanelDescription,\n                    MatExpansionPanelContent,\n                ],\n                declarations: [\n                    MatAccordion,\n                    MatExpansionPanel,\n                    MatExpansionPanelActionRow,\n                    MatExpansionPanelHeader,\n                    MatExpansionPanelTitle,\n                    MatExpansionPanelDescription,\n                    MatExpansionPanelContent,\n                ]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material/expansion/public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { EXPANSION_PANEL_ANIMATION_TIMING, MAT_ACCORDION, MAT_EXPANSION_PANEL_DEFAULT_OPTIONS, MatAccordion, MatExpansionModule, MatExpansionPanel, MatExpansionPanelActionRow, MatExpansionPanelContent, MatExpansionPanelDescription, MatExpansionPanelHeader, MatExpansionPanelTitle, matExpansionAnimations };\n\n//# sourceMappingURL=expansion.js.map","/*\nCopyright (c) 2018 Daybrush\n@name: @daybrush/utils\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/utils\n@version 1.4.0\n*/\n/**\n* @namespace\n* @name Consts\n*/\n\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nvar RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\n\nvar RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\n\nvar HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\n\nvar HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\n\nvar COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\n\nvar FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\n\nvar PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\n\nvar ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\n\nvar OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\n\nvar STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\n\nvar NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\n\nvar UNDEFINED = \"undefined\";\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\n\nvar IS_WINDOW = typeof window !== UNDEFINED;\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\n\nvar doc = typeof document !== UNDEFINED && document; // FIXME: this type maybe false\nvar prefixes = [\"webkit\", \"ms\", \"moz\", \"o\"];\n/**\n * @namespace CrossBrowser\n */\n\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\n\nvar getCrossBrowserProperty = /*#__PURE__*/function (property) {\n  if (!doc) {\n    return \"\";\n  }\n\n  var styles = (doc.body || doc.documentElement).style;\n  var length = prefixes.length;\n\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n\n  for (var i = 0; i < length; ++i) {\n    var name = \"-\" + prefixes[i] + \"-\" + property;\n\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n\n  return \"\";\n};\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\n\nvar TRANSFORM = /*#__PURE__*/getCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\n\nvar FILTER = /*#__PURE__*/getCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\n\nvar ANIMATION = /*#__PURE__*/getCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\n\nvar KEYFRAMES = /*#__PURE__*/ANIMATION.replace(\"animation\", \"keyframes\");\nvar OPEN_CLOSED_CHARACTER = [\"\\\"\", \"'\", \"\\\\\\\"\", \"\\\\'\"];\nvar TINY_NUM = 0.0000001;\nvar DEFAULT_UNIT_PRESETS = {\n  \"cm\": function (pos) {\n    return pos * 96 / 2.54;\n  },\n  \"mm\": function (pos) {\n    return pos * 96 / 254;\n  },\n  \"in\": function (pos) {\n    return pos * 96;\n  },\n  \"pt\": function (pos) {\n    return pos * 96 / 72;\n  },\n  \"pc\": function (pos) {\n    return pos * 96 / 6;\n  },\n  \"%\": function (pos, size) {\n    return pos * size / 100;\n  },\n  \"vw\": function (pos, size) {\n    if (size === void 0) {\n      size = window.innerWidth;\n    }\n\n    return pos / 100 * size;\n  },\n  \"vh\": function (pos, size) {\n    if (size === void 0) {\n      size = window.innerHeight;\n    }\n\n    return pos / 100 * size;\n  },\n  \"vmax\": function (pos, size) {\n    if (size === void 0) {\n      size = Math.max(window.innerWidth, window.innerHeight);\n    }\n\n    return pos / 100 * size;\n  },\n  \"vmin\": function (pos, size) {\n    if (size === void 0) {\n      size = Math.min(window.innerWidth, window.innerHeight);\n    }\n\n    return pos / 100 * size;\n  }\n};\n\n/**\n* @namespace\n* @name Utils\n*/\n\n/**\n * Returns the inner product of two numbers(`a1`, `a2`) by two criteria(`b1`, `b2`).\n * @memberof Utils\n * @param - The first number\n * @param - The second number\n * @param - The first number to base on the inner product\n * @param - The second number to base on the inner product\n * @return - Returns the inner product\nimport { dot } from \"@daybrush/utils\";\n\nconsole.log(dot(0, 15, 2, 3)); // 6\nconsole.log(dot(5, 15, 2, 3)); // 9\nconsole.log(dot(5, 15, 1, 1)); // 10\n */\n\nfunction dot(a1, a2, b1, b2) {\n  return (a1 * b2 + a2 * b1) / (b1 + b2);\n}\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\n\nfunction isUndefined(value) {\n  return typeof value === UNDEFINED;\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\n\nfunction isObject(value) {\n  return value && typeof value === OBJECT;\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\n\nfunction isArray(value) {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\n\nfunction isString(value) {\n  return typeof value === STRING;\n}\nfunction isNumber(value) {\n  return typeof value === NUMBER;\n}\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\n\nfunction isFunction(value) {\n  return typeof value === FUNCTION;\n}\n\nfunction findClosed(closedCharacter, texts, index, length) {\n  for (var i = index; i < length; ++i) {\n    var character = texts[i].trim();\n\n    if (character === closedCharacter) {\n      return i;\n    }\n\n    var nextIndex = i;\n\n    if (character === \"(\") {\n      nextIndex = findClosed(\")\", texts, i + 1, length);\n    } else if (OPEN_CLOSED_CHARACTER.indexOf(character) > -1) {\n      nextIndex = findClosed(character, texts, i + 1, length);\n    }\n\n    if (nextIndex === -1) {\n      break;\n    }\n\n    i = nextIndex;\n  }\n\n  return -1;\n}\n\nfunction splitText(text, separator) {\n  var regexText = \"(\\\\s*\" + (separator || \",\") + \"\\\\s*|\\\\(|\\\\)|\\\"|'|\\\\\\\\\\\"|\\\\\\\\'|\\\\s+)\";\n  var regex = new RegExp(regexText, \"g\");\n  var texts = text.split(regex).filter(Boolean);\n  var length = texts.length;\n  var values = [];\n  var tempValues = [];\n\n  for (var i = 0; i < length; ++i) {\n    var character = texts[i].trim();\n    var nextIndex = i;\n\n    if (character === \"(\") {\n      nextIndex = findClosed(\")\", texts, i + 1, length);\n    } else if (character === \")\") {\n      throw new Error(\"invalid format\");\n    } else if (OPEN_CLOSED_CHARACTER.indexOf(character) > -1) {\n      nextIndex = findClosed(character, texts, i + 1, length);\n    } else if (character === separator) {\n      if (tempValues.length) {\n        values.push(tempValues.join(\"\"));\n        tempValues = [];\n      }\n\n      continue;\n    }\n\n    if (nextIndex === -1) {\n      nextIndex = length - 1;\n    }\n\n    tempValues.push(texts.slice(i, nextIndex + 1).join(\"\"));\n    i = nextIndex;\n  }\n\n  if (tempValues.length) {\n    values.push(tempValues.join(\"\"));\n  }\n\n  return values;\n}\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\n\nfunction splitSpace(text) {\n  // divide comma(,)\n  return splitText(text, \"\");\n}\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\n\nfunction splitComma(text) {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  return splitText(text, \",\");\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\n\nfunction splitBracket(text) {\n  var matches = /([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g.exec(text);\n\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return {\n      prefix: matches[1],\n      value: matches[2],\n      suffix: matches[3]\n    };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\n\nfunction splitUnit(text) {\n  var matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n\n  if (!matches) {\n    return {\n      prefix: \"\",\n      unit: \"\",\n      value: NaN\n    };\n  }\n\n  var prefix = matches[1];\n  var value = matches[2];\n  var unit = matches[3];\n  return {\n    prefix: prefix,\n    unit: unit,\n    value: parseFloat(value)\n  };\n}\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\n\nfunction camelize(str) {\n  return str.replace(/[\\s-_]([a-z])/g, function (all, letter) {\n    return letter.toUpperCase();\n  });\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\n\nfunction decamelize(str, separator) {\n  if (separator === void 0) {\n    separator = \"-\";\n  }\n\n  return str.replace(/([a-z])([A-Z])/g, function (all, letter, letter2) {\n    return \"\" + letter + separator + letter2.toLowerCase();\n  });\n}\n/**\n* transforms something in an array into an array.\n* @memberof Utils\n* @param - Array form\n* @return an array\n* @example\nimport {toArray} from \"@daybrush/utils\";\n\nconst arr1 = toArray(document.querySelectorAll(\".a\")); // Element[]\nconst arr2 = toArray(document.querySelectorAll<HTMLElement>(\".a\")); // HTMLElement[]\n*/\n\nfunction toArray(value) {\n  return [].slice.call(value);\n}\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\n\nfunction now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n/**\n* Returns the index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findIndex } from \"@daybrush/utils\";\n\nfindIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\n\nfunction findIndex(arr, callback, defaultIndex) {\n  if (defaultIndex === void 0) {\n    defaultIndex = -1;\n  }\n\n  var length = arr.length;\n\n  for (var i = 0; i < length; ++i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n\n  return defaultIndex;\n}\n/**\n* Returns the value of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `find` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\n\nfunction find(arr, callback, defalutValue) {\n  var index = findIndex(arr, callback);\n  return index > -1 ? arr[index] : defalutValue;\n}\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\n\nvar requestAnimationFrame = /*#__PURE__*/function () {\n  var firstTime = now();\n  var raf = IS_WINDOW && (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame);\n  return raf ? raf.bind(window) : function (callback) {\n    var currTime = now();\n    var id = window.setTimeout(function () {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n    return id;\n  };\n}();\n/**\n* window.cancelAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {number} handle - the id obtained through requestAnimationFrame method\n* @return {void}\n* @example\nimport { requestAnimationFrame, cancelAnimationFrame } from \"@daybrush/utils\";\n\nconst id = requestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n\ncancelAnimationFrame(id);\n*/\n\nvar cancelAnimationFrame = /*#__PURE__*/function () {\n  var caf = IS_WINDOW && (window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.msCancelAnimationFrame);\n  return caf ? caf.bind(window) : function (handle) {\n    clearTimeout(handle);\n  };\n}();\n/**\n* @function\n* @memberof Utils\n*/\n\nfunction getKeys(obj) {\n  if (Object.keys) {\n    return Object.keys(obj);\n  }\n\n  var keys = [];\n\n  for (var name in keys) {\n    keys.push(name);\n  }\n\n  return keys;\n}\n/**\n* @function\n* @memberof Utils\n*/\n\nfunction sortOrders(keys, orders) {\n  if (orders === void 0) {\n    orders = [];\n  }\n\n  keys.sort(function (a, b) {\n    var index1 = orders.indexOf(a);\n    var index2 = orders.indexOf(b);\n\n    if (index2 === -1 && index1 === -1) {\n      return 0;\n    }\n\n    if (index1 === -1) {\n      return 1;\n    }\n\n    if (index2 === -1) {\n      return -1;\n    }\n\n    return index1 - index2;\n  });\n}\n/**\n* convert unit size to px size\n* @function\n* @memberof Utils\n*/\n\nfunction convertUnitSize(pos, size) {\n  var _a = splitUnit(pos),\n      value = _a.value,\n      unit = _a.unit;\n\n  if (isObject(size)) {\n    var sizeFunction = size[unit];\n\n    if (sizeFunction) {\n      if (isFunction(sizeFunction)) {\n        return sizeFunction(value);\n      } else if (DEFAULT_UNIT_PRESETS[unit]) {\n        return DEFAULT_UNIT_PRESETS[unit](value, sizeFunction);\n      }\n    }\n  } else if (unit === \"%\") {\n    return value * size / 100;\n  }\n\n  if (DEFAULT_UNIT_PRESETS[unit]) {\n    return DEFAULT_UNIT_PRESETS[unit](value);\n  }\n\n  return value;\n}\n/**\n* calculate between min, max\n* @function\n* @memberof Utils\n*/\n\nfunction between(value, min, max) {\n  return Math.max(min, Math.min(value, max));\n}\n/**\n* throttle number\n* @function\n* @memberof Utils\n*/\n\nfunction throttle(num, unit) {\n  if (!unit) {\n    return num;\n  }\n\n  return Math.round(num / unit) * unit;\n}\nfunction checkBoundSize(targetSize, compareSize, isMax) {\n  return [[throttle(compareSize[0], TINY_NUM), throttle(compareSize[0] * targetSize[1] / targetSize[0], TINY_NUM)], [throttle(compareSize[1] * targetSize[0] / targetSize[1], TINY_NUM), throttle(compareSize[1], TINY_NUM)]].filter(function (size) {\n    return size.every(function (value, i) {\n      return isMax ? value <= compareSize[i] : value >= compareSize[i];\n    });\n  })[0] || targetSize;\n}\n/**\n* calculate bound size\n* @function\n* @memberof Utils\n*/\n\nfunction calculateBoundSize(size, minSize, maxSize, keepRatio) {\n  if (!keepRatio) {\n    return size.map(function (value, i) {\n      return between(value, minSize[i], maxSize[i]);\n    });\n  }\n\n  var width = size[0],\n      height = size[1]; // width : height = minWidth : minHeight;\n\n  var _a = checkBoundSize(size, minSize, false),\n      minWidth = _a[0],\n      minHeight = _a[1];\n\n  var _b = checkBoundSize(size, maxSize, true),\n      maxWidth = _b[0],\n      maxHeight = _b[1];\n\n  if (width < minWidth || height < minHeight) {\n    width = minWidth;\n    height = minHeight;\n  } else if (width > maxWidth || height > maxHeight) {\n    width = maxWidth;\n    height = maxHeight;\n  }\n\n  return [width, height];\n}\n/**\n* Add all the numbers.\n* @function\n* @memberof Utils\n*/\n\nfunction sum(nums) {\n  var length = nums.length;\n  var total = 0;\n\n  for (var i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n\n  return total;\n}\n/**\n* Average all numbers.\n* @function\n* @memberof Utils\n*/\n\nfunction average(nums) {\n  var length = nums.length;\n  var total = 0;\n\n  for (var i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n\n  return length ? total / length : 0;\n}\n/**\n* Get the angle of two points. (0 <= rad < 359)\n* @function\n* @memberof Utils\n*/\n\nfunction getRad(pos1, pos2) {\n  var distX = pos2[0] - pos1[0];\n  var distY = pos2[1] - pos1[1];\n  var rad = Math.atan2(distY, distX);\n  return rad >= 0 ? rad : rad + Math.PI * 2;\n}\n/**\n* Get the average point of all points.\n* @function\n* @memberof Utils\n*/\n\nfunction getCenterPoint(points) {\n  return [0, 1].map(function (i) {\n    return average(points.map(function (pos) {\n      return pos[i];\n    }));\n  });\n}\n/**\n* Gets the direction of the shape.\n* @function\n* @memberof Utils\n*/\n\nfunction getShapeDirection(points) {\n  var center = getCenterPoint(points);\n  var pos1Rad = getRad(center, points[0]);\n  var pos2Rad = getRad(center, points[1]);\n  return pos1Rad < pos2Rad && pos2Rad - pos1Rad < Math.PI || pos1Rad > pos2Rad && pos2Rad - pos1Rad < -Math.PI ? 1 : -1;\n}\n/**\n* Get the distance between two points.\n* @function\n* @memberof Utils\n*/\n\nfunction getDist(a, b) {\n  return Math.sqrt(Math.pow((b ? b[0] : 0) - a[0], 2) + Math.pow((b ? b[1] : 0) - a[1], 2));\n}\n\n/**\n* @namespace\n* @name Color\n*/\n\n/**\n* Remove the # from the hex color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} hex color\n* @example\nimport {cutHex} from \"@daybrush/utils\";\n\nconsole.log(cutHex(\"#000000\")) // \"000000\"\n*/\n\nfunction cutHex(hex) {\n  return hex.replace(\"#\", \"\");\n}\n/**\n* convert hex color to rgb color.\n* @memberof Color\n* @param {} hex - hex color\n* @return {} rgb color\n* @example\nimport {hexToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hexToRGBA(\"#00000005\"));\n// [0, 0, 0, 1]\nconsole.log(hexToRGBA(\"#201045\"));\n// [32, 16, 69, 1]\n*/\n\nfunction hexToRGBA(hex) {\n  var h = cutHex(hex);\n  var r = parseInt(h.substring(0, 2), 16);\n  var g = parseInt(h.substring(2, 4), 16);\n  var b = parseInt(h.substring(4, 6), 16);\n  var a = parseInt(h.substring(6, 8), 16) / 255;\n\n  if (isNaN(a)) {\n    a = 1;\n  }\n\n  return [r, g, b, a];\n}\n/**\n* convert 3(or 4)-digit hex color to 6(or 8)-digit hex color.\n* @memberof Color\n* @param {} hex - 3(or 4)-digit hex color\n* @return {} 6(or 8)-digit hex color\n* @example\nimport {toFullHex} from \"@daybrush/utils\";\n\nconsole.log(toFullHex(\"#123\")); // \"#112233\"\nconsole.log(toFullHex(\"#123a\")); // \"#112233aa\"\n*/\n\nfunction toFullHex(h) {\n  var r = h.charAt(1);\n  var g = h.charAt(2);\n  var b = h.charAt(3);\n  var a = h.charAt(4);\n  var arr = [\"#\", r, r, g, g, b, b, a, a];\n  return arr.join(\"\");\n}\n/**\n* convert hsl color to rgba color.\n* @memberof Color\n* @param {} hsl - hsl color(hue: 0 ~ 360, saturation: 0 ~ 1, lightness: 0 ~ 1, alpha: 0 ~ 1)\n* @return {} rgba color\n* @example\nimport {hslToRGBA} from \"@daybrush/utils\";\n\nconsole.log(hslToRGBA([150, 0.5, 0.4]));\n// [51, 153, 102, 1]\n*/\n\nfunction hslToRGBA(hsl) {\n  var _a;\n\n  var h = hsl[0];\n  var s = hsl[1];\n  var l = hsl[2];\n\n  if (h < 0) {\n    h += Math.floor((Math.abs(h) + 360) / 360) * 360;\n  }\n\n  h %= 360;\n  var c = (1 - Math.abs(2 * l - 1)) * s;\n  var x = c * (1 - Math.abs(h / 60 % 2 - 1));\n  var m = l - c / 2;\n  var rgb;\n\n  if (h < 60) {\n    rgb = [c, x, 0];\n  } else if (h < 120) {\n    rgb = [x, c, 0];\n  } else if (h < 180) {\n    rgb = [0, c, x];\n  } else if (h < 240) {\n    rgb = [0, x, c];\n  } else if (h < 300) {\n    rgb = [x, 0, c];\n  } else if (h < 360) {\n    rgb = [c, 0, x];\n  } else {\n    rgb = [0, 0, 0];\n  }\n\n  return [Math.round((rgb[0] + m) * 255), Math.round((rgb[1] + m) * 255), Math.round((rgb[2] + m) * 255), (_a = hsl[3]) !== null && _a !== void 0 ? _a : 1];\n}\n/**\n* convert string to rgba color.\n* @memberof Color\n* @param {} - 3-hex(#000), 4-hex(#0000) 6-hex(#000000), 8-hex(#00000000) or RGB(A), or HSL(A)\n* @return {} rgba color\n* @example\nimport {stringToRGBA} from \"@daybrush/utils\";\n\nconsole.log(stringToRGBA(\"#000000\")); // [0, 0, 0, 1]\nconsole.log(stringToRGBA(\"rgb(100, 100, 100)\")); // [100, 100, 100, 1]\nconsole.log(stringToRGBA(\"hsl(150, 0.5, 0.4)\")); // [51, 153, 102, 1]\n*/\n\nfunction stringToRGBA(color) {\n  if (color.charAt(0) === \"#\") {\n    if (color.length === 4 || color.length === 5) {\n      return hexToRGBA(toFullHex(color));\n    } else {\n      return hexToRGBA(color);\n    }\n  } else if (color.indexOf(\"(\") !== -1) {\n    // in bracket.\n    var _a = splitBracket(color),\n        prefix = _a.prefix,\n        value = _a.value;\n\n    if (!prefix || !value) {\n      return undefined;\n    }\n\n    var arr = splitComma(value);\n    var colorArr = [0, 0, 0, 1];\n    var length = arr.length;\n\n    switch (prefix) {\n      case RGB:\n      case RGBA:\n        for (var i = 0; i < length; ++i) {\n          colorArr[i] = parseFloat(arr[i]);\n        }\n\n        return colorArr;\n\n      case HSL:\n      case HSLA:\n        for (var i = 0; i < length; ++i) {\n          if (arr[i].indexOf(\"%\") !== -1) {\n            colorArr[i] = parseFloat(arr[i]) / 100;\n          } else {\n            colorArr[i] = parseFloat(arr[i]);\n          }\n        } // hsl, hsla to rgba\n\n\n        return hslToRGBA(colorArr);\n    }\n  }\n\n  return undefined;\n}\n\n/**\n * Returns all element descendants of node that\n * match selectors.\n */\n\n/**\n * Checks if the specified class value exists in the element's class attribute.\n * @memberof DOM\n * @param - A DOMString containing one or more selectors to match\n * @param - If multi is true, a DOMString containing one or more selectors to match against.\n * @example\nimport {$} from \"@daybrush/utils\";\n\nconsole.log($(\"div\")); // div element\nconsole.log($(\"div\", true)); // [div, div] elements\n*/\n\nfunction $(selectors, multi) {\n  return multi ? doc.querySelectorAll(selectors) : doc.querySelector(selectors);\n}\n/**\n* Checks if the specified class value exists in the element's class attribute.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to search\n* @return {boolean} return false if the class is not found.\n* @example\nimport {hasClass} from \"@daybrush/utils\";\n\nconsole.log(hasClass(element, \"start\")); // true or false\n*/\n\nfunction hasClass(element, className) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  }\n\n  return !!element.className.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n}\n/**\n* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to add\n* @example\nimport {addClass} from \"@daybrush/utils\";\n\naddClass(element, \"start\");\n*/\n\nfunction addClass(element, className) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    element.className += \" \" + className;\n  }\n}\n/**\n* Removes the specified class value.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to remove\n* @example\nimport {removeClass} from \"@daybrush/utils\";\n\nremoveClass(element, \"start\");\n*/\n\nfunction removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    var reg = new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\");\n    element.className = element.className.replace(reg, \" \");\n  }\n}\n/**\n* Gets the CSS properties from the element.\n* @memberof DOM\n* @param elements - elements\n* @param properites - the CSS properties\n* @return returns CSS properties and values.\n* @example\nimport {fromCSS} from \"@daybrush/utils\";\n\nconsole.log(fromCSS(element, [\"left\", \"opacity\", \"top\"])); // {\"left\": \"10px\", \"opacity\": 1, \"top\": \"10px\"}\n*/\n\nfunction fromCSS(elements, properties) {\n  if (!elements || !properties || !properties.length) {\n    return {};\n  }\n\n  var element;\n\n  if (elements instanceof Element) {\n    element = elements;\n  } else if (elements.length) {\n    element = elements[0];\n  } else {\n    return {};\n  }\n\n  var cssObject = {};\n  var styles = window.getComputedStyle(element);\n  var length = properties.length;\n\n  for (var i = 0; i < length; ++i) {\n    cssObject[properties[i]] = styles[properties[i]];\n  }\n\n  return cssObject;\n}\n/**\n* Sets up a function that will be called whenever the specified event is delivered to the target\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The object which receives a notification (an object that implements the Event interface) when an event of the specified type occurs\n* @param - An options object that specifies characteristics about the event listener. The available options are:\n* @example\nimport {addEvent} from \"@daybrush/utils\";\n\naddEvent(el, \"click\", e => {\n  console.log(e);\n});\n*/\n\nfunction addEvent(el, type, listener, options) {\n  el.addEventListener(type, listener, options);\n}\n/**\n* removes from the EventTarget an event listener previously registered with EventTarget.addEventListener()\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The EventListener function of the event handler to remove from the event target.\n* @example\nimport {addEvent, removeEvent} from \"@daybrush/utils\";\nconst listener = e => {\n  console.log(e);\n};\naddEvent(el, \"click\", listener);\nremoveEvent(el, \"click\", listener);\n*/\n\nfunction removeEvent(el, type, listener) {\n  el.removeEventListener(type, listener);\n}\n\nexport { RGB, RGBA, HSL, HSLA, COLOR_MODELS, FUNCTION, PROPERTY, ARRAY, OBJECT, STRING, NUMBER, UNDEFINED, IS_WINDOW, doc as document, getCrossBrowserProperty, TRANSFORM, FILTER, ANIMATION, KEYFRAMES, OPEN_CLOSED_CHARACTER, TINY_NUM, DEFAULT_UNIT_PRESETS, cutHex, hexToRGBA, toFullHex, hslToRGBA, stringToRGBA, dot, isUndefined, isObject, isArray, isString, isNumber, isFunction, splitText, splitSpace, splitComma, splitBracket, splitUnit, camelize, decamelize, toArray, now, findIndex, find, requestAnimationFrame, cancelAnimationFrame, getKeys, sortOrders, convertUnitSize, between, throttle, checkBoundSize, calculateBoundSize, sum, average, getRad, getCenterPoint, getShapeDirection, getDist, $, hasClass, addClass, removeClass, fromCSS, addEvent, removeEvent };\n//# sourceMappingURL=utils.esm.js.map\n","/*\nCopyright (c) 2015 NAVER Corp.\nname: @egjs/agent\nlicense: MIT\nauthor: NAVER Corp.\nrepository: git+https://github.com/naver/agent.git\nversion: 2.2.1\n*/\nfunction some(arr, callback) {\n  var length = arr.length;\n\n  for (var i = 0; i < length; ++i) {\n    if (callback(arr[i], i)) {\n      return true;\n    }\n  }\n\n  return false;\n}\nfunction find(arr, callback) {\n  var length = arr.length;\n\n  for (var i = 0; i < length; ++i) {\n    if (callback(arr[i], i)) {\n      return arr[i];\n    }\n  }\n\n  return null;\n}\nfunction getUserAgent(agent) {\n  var userAgent = agent;\n\n  if (typeof userAgent === \"undefined\") {\n    if (typeof navigator === \"undefined\" || !navigator) {\n      return \"\";\n    }\n\n    userAgent = navigator.userAgent || \"\";\n  }\n\n  return userAgent.toLowerCase();\n}\nfunction execRegExp(pattern, text) {\n  try {\n    return new RegExp(pattern, \"g\").exec(text);\n  } catch (e) {\n    return null;\n  }\n}\nfunction hasUserAgentData() {\n  if (typeof navigator === \"undefined\" || !navigator || !navigator.userAgentData) {\n    return false;\n  }\n\n  var userAgentData = navigator.userAgentData;\n  var brands = userAgentData.brands || userAgentData.uaList;\n  return !!(brands && brands.length);\n}\nfunction findVersion(versionTest, userAgent) {\n  var result = execRegExp(\"(\" + versionTest + \")((?:\\\\/|\\\\s|:)([0-9|\\\\.|_]+))?\", userAgent);\n  return result ? result[3] : \"\";\n}\nfunction convertVersion(text) {\n  return text.replace(/_/g, \".\");\n}\nfunction findPreset(presets, userAgent) {\n  var userPreset = null;\n  var version = \"-1\";\n  some(presets, function (preset) {\n    var result = execRegExp(\"(\" + preset.test + \")((?:\\\\/|\\\\s|:)([0-9|\\\\.|_]+))?\", userAgent);\n\n    if (!result || preset.brand) {\n      return false;\n    }\n\n    userPreset = preset;\n    version = result[3] || \"-1\";\n\n    if (preset.versionAlias) {\n      version = preset.versionAlias;\n    } else if (preset.versionTest) {\n      version = findVersion(preset.versionTest.toLowerCase(), userAgent) || version;\n    }\n\n    version = convertVersion(version);\n    return true;\n  });\n  return {\n    preset: userPreset,\n    version: version\n  };\n}\nfunction findBrand(brands, preset) {\n  return find(brands, function (_a) {\n    var brand = _a.brand;\n    return execRegExp(\"\" + preset.test, brand.toLowerCase());\n  });\n}\n\nvar BROWSER_PRESETS = [{\n  test: \"phantomjs\",\n  id: \"phantomjs\"\n}, {\n  test: \"whale\",\n  id: \"whale\"\n}, {\n  test: \"edgios|edge|edg\",\n  id: \"edge\"\n}, {\n  test: \"msie|trident|windows phone\",\n  id: \"ie\",\n  versionTest: \"iemobile|msie|rv\"\n}, {\n  test: \"miuibrowser\",\n  id: \"miui browser\"\n}, {\n  test: \"samsungbrowser\",\n  id: \"samsung internet\"\n}, {\n  test: \"samsung\",\n  id: \"samsung internet\",\n  versionTest: \"version\"\n}, {\n  test: \"chrome|crios\",\n  id: \"chrome\"\n}, {\n  test: \"firefox|fxios\",\n  id: \"firefox\"\n}, {\n  test: \"android\",\n  id: \"android browser\",\n  versionTest: \"version\"\n}, {\n  test: \"safari|iphone|ipad|ipod\",\n  id: \"safari\",\n  versionTest: \"version\"\n}]; // chromium's engine(blink) is based on applewebkit 537.36.\n\nvar CHROMIUM_PRESETS = [{\n  test: \"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\\\schrome)\",\n  id: \"chrome\"\n}, {\n  test: \"chromium\",\n  id: \"chrome\"\n}, {\n  test: \"whale\",\n  id: \"chrome\",\n  brand: true\n}];\nvar WEBKIT_PRESETS = [{\n  test: \"applewebkit\",\n  id: \"webkit\"\n}];\nvar WEBVIEW_PRESETS = [{\n  test: \"(?=(iphone|ipad))(?!(.*version))\",\n  id: \"webview\"\n}, {\n  test: \"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))\",\n  id: \"webview\"\n}, {\n  // test webview\n  test: \"webview\",\n  id: \"webview\"\n}];\nvar OS_PRESETS = [{\n  test: \"windows phone\",\n  id: \"windows phone\"\n}, {\n  test: \"windows 2000\",\n  id: \"window\",\n  versionAlias: \"5.0\"\n}, {\n  test: \"windows nt\",\n  id: \"window\"\n}, {\n  test: \"iphone|ipad|ipod\",\n  id: \"ios\",\n  versionTest: \"iphone os|cpu os\"\n}, {\n  test: \"mac os x\",\n  id: \"mac\"\n}, {\n  test: \"android\",\n  id: \"android\"\n}, {\n  test: \"tizen\",\n  id: \"tizen\"\n}, {\n  test: \"webos|web0s\",\n  id: \"webos\"\n}];\n\nfunction parseUserAgentData(osData) {\n  var userAgentData = navigator.userAgentData;\n  var brands = (userAgentData.uaList || userAgentData.brands).slice();\n  var isMobile = userAgentData.mobile || false;\n  var firstBrand = brands[0];\n  var browser = {\n    name: firstBrand.brand,\n    version: firstBrand.version,\n    majorVersion: -1,\n    webkit: false,\n    webview: some(WEBVIEW_PRESETS, function (preset) {\n      return findBrand(brands, preset);\n    }),\n    chromium: some(CHROMIUM_PRESETS, function (preset) {\n      return findBrand(brands, preset);\n    })\n  };\n  var os = {\n    name: \"unknown\",\n    version: \"-1\",\n    majorVersion: -1\n  };\n  browser.webkit = !browser.chromium && some(WEBKIT_PRESETS, function (preset) {\n    return findBrand(brands, preset);\n  });\n\n  if (osData) {\n    var platform_1 = osData.platform.toLowerCase();\n    var result = find(OS_PRESETS, function (preset) {\n      return new RegExp(\"\" + preset.test, \"g\").exec(platform_1);\n    });\n    os.name = result ? result.id : platform_1;\n    os.version = osData.platformVersion;\n  }\n\n  some(BROWSER_PRESETS, function (preset) {\n    var result = findBrand(brands, preset);\n\n    if (!result) {\n      return false;\n    }\n\n    browser.name = preset.id;\n    browser.version = osData ? osData.uaFullVersion : result.version;\n    return true;\n  });\n\n  if (navigator.platform === \"Linux armv8l\") {\n    os.name = \"android\";\n  } else if (browser.webkit) {\n    os.name = isMobile ? \"ios\" : \"mac\";\n  }\n\n  if (os.name === \"ios\" && browser.webview) {\n    browser.version = \"-1\";\n  }\n\n  os.version = convertVersion(os.version);\n  browser.version = convertVersion(browser.version);\n  os.majorVersion = parseInt(os.version, 10);\n  browser.majorVersion = parseInt(browser.version, 10);\n  return {\n    browser: browser,\n    os: os,\n    isMobile: isMobile,\n    isHints: true\n  };\n}\n\nfunction parseUserAgent(userAgent) {\n  var nextAgent = getUserAgent(userAgent);\n  var isMobile = !!/mobi/g.exec(nextAgent);\n  var browser = {\n    name: \"unknown\",\n    version: \"-1\",\n    majorVersion: -1,\n    webview: !!findPreset(WEBVIEW_PRESETS, nextAgent).preset,\n    chromium: !!findPreset(CHROMIUM_PRESETS, nextAgent).preset,\n    webkit: false\n  };\n  var os = {\n    name: \"unknown\",\n    version: \"-1\",\n    majorVersion: -1\n  };\n\n  var _a = findPreset(BROWSER_PRESETS, nextAgent),\n      browserPreset = _a.preset,\n      browserVersion = _a.version;\n\n  var _b = findPreset(OS_PRESETS, nextAgent),\n      osPreset = _b.preset,\n      osVersion = _b.version;\n\n  browser.webkit = !browser.chromium && !!findPreset(WEBKIT_PRESETS, nextAgent).preset;\n\n  if (osPreset) {\n    os.name = osPreset.id;\n    os.version = osVersion;\n    os.majorVersion = parseInt(osVersion, 10);\n  }\n\n  if (browserPreset) {\n    browser.name = browserPreset.id;\n    browser.version = browserVersion;\n\n    if (browser.webview && os.name === \"ios\" && browser.name !== \"safari\") {\n      browser.webview = false;\n    }\n  }\n\n  browser.majorVersion = parseInt(browser.version, 10);\n  return {\n    browser: browser,\n    os: os,\n    isMobile: isMobile,\n    isHints: false\n  };\n}\n\n/**\n * @namespace eg.agent\n */\n\n/**\n* Extracts accuate browser and operating system information from the user agent string or client hints.\n* @ko 유저 에이전트 문자열 또는 client hints에서 정확한 브라우저와 운영체제 정보를 추출한다.\n* @function eg.agent#getAccurateAgent\n* @param - Callback function to get the accuate agent <ko>정확한 에이전트를 가져오기 위한 callback 함수</ko>\n* @return - get the accuate agent promise. If Promise are not supported, null is returned. <ko> 정확한 에이전트 promise를 가져온다. Promise를 지원 하지 않는 경우, null을 반환한다. </ko>\n* @example\nimport { getAccurateAgent } from \"@egjs/agent\";\n// eg.agent.getAccurateAgent()\ngetAccurateAgent().then(agent => {\n   const { os, browser, isMobile } = agent;\n});\ngetAccurateAgent(agent => {\n    const { os, browser, isMobile } = agent;\n});\n*/\n\nfunction getAccurateAgent(callback) {\n  if (hasUserAgentData()) {\n    return navigator.userAgentData.getHighEntropyValues([\"architecture\", \"model\", \"platform\", \"platformVersion\", \"uaFullVersion\"]).then(function (info) {\n      var agentInfo = parseUserAgentData(info);\n      callback && callback(agentInfo);\n      return agentInfo;\n    });\n  }\n\n  callback && callback(agent());\n\n  if (typeof Promise === \"undefined\" || !Promise) {\n    return null;\n  }\n\n  return Promise.resolve(agent());\n}\n/**\n * Extracts browser and operating system information from the user agent string.\n * @ko 유저 에이전트 문자열에서 브라우저와 운영체제 정보를 추출한다.\n * @function eg.agent#agent\n * @param - user agent string to parse <ko>파싱할 유저에이전트 문자열</ko>\n * @return - agent Info <ko> 에이전트 정보 </ko>\n * @example\nimport agent from \"@egjs/agent\";\n// eg.agent();\nconst { os, browser, isMobile } = agent();\n */\n\nfunction agent(userAgent) {\n  if (typeof userAgent === \"undefined\" && hasUserAgentData()) {\n    return parseUserAgentData();\n  } else {\n    return parseUserAgent(userAgent);\n  }\n}\n\nexport default agent;\nexport { getAccurateAgent };\n//# sourceMappingURL=agent.esm.js.map\n","/*\nCopyright (c) 2019-present NAVER Corp.\nname: @egjs/children-differ\nlicense: MIT\nauthor: NAVER Corp.\nrepository: https://github.com/naver/egjs-children-differ\nversion: 1.0.1\n*/\nimport ListDiffer, { diff as diff$1 } from '@egjs/list-differ';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\n/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar findKeyCallback = typeof Map === \"function\" ? undefined : function () {\n  var childrenCount = 0;\n  return function (el) {\n    return el.__DIFF_KEY__ || (el.__DIFF_KEY__ = ++childrenCount);\n  };\n}();\n\n/**\n * A module that checks diff when child are added, removed, or changed .\n * @ko 자식 노드들에서 자식 노드가 추가되거나 삭제되거나 순서가 변경된 사항을 체크하는 모듈입니다.\n * @memberof eg\n * @extends eg.ListDiffer\n */\n\nvar ChildrenDiffer =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ChildrenDiffer, _super);\n  /**\n   * @param - Initializing Children <ko> 초기 설정할 자식 노드들</ko>\n   */\n\n\n  function ChildrenDiffer(list) {\n    if (list === void 0) {\n      list = [];\n    }\n\n    return _super.call(this, list, findKeyCallback) || this;\n  }\n\n  return ChildrenDiffer;\n}(ListDiffer);\n\n/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\n/**\n *\n * @memberof eg.ChildrenDiffer\n * @static\n * @function\n * @param - Previous List <ko> 이전 목록 </ko>\n * @param - List to Update <ko> 업데이트 할 목록 </ko>\n * @return - Returns the diff between `prevList` and `list` <ko> `prevList`와 `list`의 다른 점을 반환한다.</ko>\n * @example\n * import { diff } from \"@egjs/children-differ\";\n * // script => eg.ChildrenDiffer.diff\n * const result = diff([0, 1, 2, 3, 4, 5], [7, 8, 0, 4, 3, 6, 2, 1]);\n * // List before update\n * // [1, 2, 3, 4, 5]\n * console.log(result.prevList);\n * // Updated list\n * // [4, 3, 6, 2, 1]\n * console.log(result.list);\n * // Index array of values added to `list`\n * // [0, 1, 5]\n * console.log(result.added);\n * // Index array of values removed in `prevList`\n * // [5]\n * console.log(result.removed);\n * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.changed);\n * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n * // [[4, 3], [3, 4], [2, 6]]\n * console.log(result.pureChanged);\n * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n * // [[4, 1], [4, 2], [4, 3]]\n * console.log(result.ordered);\n * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.maintained);\n */\n\nfunction diff(prevList, list) {\n  return diff$1(prevList, list, findKeyCallback);\n}\n\n/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\n\nexport default ChildrenDiffer;\nexport { diff };\n//# sourceMappingURL=children-differ.esm.js.map\n","/*\nCopyright (c) 2019-present NAVER Corp.\nname: @egjs/list-differ\nlicense: MIT\nauthor: NAVER Corp.\nrepository: https://github.com/naver/egjs-list-differ\nversion: 1.0.0\n*/\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar PolyMap =\n/*#__PURE__*/\nfunction () {\n  function PolyMap() {\n    this.keys = [];\n    this.values = [];\n  }\n\n  var __proto = PolyMap.prototype;\n\n  __proto.get = function (key) {\n    return this.values[this.keys.indexOf(key)];\n  };\n\n  __proto.set = function (key, value) {\n    var keys = this.keys;\n    var values = this.values;\n    var prevIndex = keys.indexOf(key);\n    var index = prevIndex === -1 ? keys.length : prevIndex;\n    keys[index] = key;\n    values[index] = value;\n  };\n\n  return PolyMap;\n}();\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar HashMap =\n/*#__PURE__*/\nfunction () {\n  function HashMap() {\n    this.object = {};\n  }\n\n  var __proto = HashMap.prototype;\n\n  __proto.get = function (key) {\n    return this.object[key];\n  };\n\n  __proto.set = function (key, value) {\n    this.object[key] = value;\n  };\n\n  return HashMap;\n}();\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar SUPPORT_MAP = typeof Map === \"function\";\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nvar Link =\n/*#__PURE__*/\nfunction () {\n  function Link() {}\n\n  var __proto = Link.prototype;\n\n  __proto.connect = function (prevLink, nextLink) {\n    this.prev = prevLink;\n    this.next = nextLink;\n    prevLink && (prevLink.next = this);\n    nextLink && (nextLink.prev = this);\n  };\n\n  __proto.disconnect = function () {\n    // In double linked list, diconnect the interconnected relationship.\n    var prevLink = this.prev;\n    var nextLink = this.next;\n    prevLink && (prevLink.next = nextLink);\n    nextLink && (nextLink.prev = prevLink);\n  };\n\n  __proto.getIndex = function () {\n    var link = this;\n    var index = -1;\n\n    while (link) {\n      link = link.prev;\n      ++index;\n    }\n\n    return index;\n  };\n\n  return Link;\n}();\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\n\nfunction orderChanged(changed, fixed) {\n  // It is roughly in the order of these examples.\n  // 4, 6, 0, 2, 1, 3, 5, 7\n  var fromLinks = []; // 0, 1, 2, 3, 4, 5, 6, 7\n\n  var toLinks = [];\n  changed.forEach(function (_a) {\n    var from = _a[0],\n        to = _a[1];\n    var link = new Link();\n    fromLinks[from] = link;\n    toLinks[to] = link;\n  }); // `fromLinks` are connected to each other by double linked list.\n\n  fromLinks.forEach(function (link, i) {\n    link.connect(fromLinks[i - 1]);\n  });\n  return changed.filter(function (_, i) {\n    return !fixed[i];\n  }).map(function (_a, i) {\n    var from = _a[0],\n        to = _a[1];\n\n    if (from === to) {\n      return [0, 0];\n    }\n\n    var fromLink = fromLinks[from];\n    var toLink = toLinks[to - 1];\n    var fromIndex = fromLink.getIndex(); // Disconnect the link connected to `fromLink`.\n\n    fromLink.disconnect(); // Connect `fromLink` to the right of `toLink`.\n\n    if (!toLink) {\n      fromLink.connect(undefined, fromLinks[0]);\n    } else {\n      fromLink.connect(toLink, toLink.next);\n    }\n\n    var toIndex = fromLink.getIndex();\n    return [fromIndex, toIndex];\n  });\n}\n\nvar Result =\n/*#__PURE__*/\nfunction () {\n  function Result(prevList, list, added, removed, changed, maintained, changedBeforeAdded, fixed) {\n    this.prevList = prevList;\n    this.list = list;\n    this.added = added;\n    this.removed = removed;\n    this.changed = changed;\n    this.maintained = maintained;\n    this.changedBeforeAdded = changedBeforeAdded;\n    this.fixed = fixed;\n  }\n\n  var __proto = Result.prototype;\n  Object.defineProperty(__proto, \"ordered\", {\n    get: function () {\n      if (!this.cacheOrdered) {\n        this.caculateOrdered();\n      }\n\n      return this.cacheOrdered;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(__proto, \"pureChanged\", {\n    get: function () {\n      if (!this.cachePureChanged) {\n        this.caculateOrdered();\n      }\n\n      return this.cachePureChanged;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  __proto.caculateOrdered = function () {\n    var ordered = orderChanged(this.changedBeforeAdded, this.fixed);\n    var changed = this.changed;\n    var pureChanged = [];\n    this.cacheOrdered = ordered.filter(function (_a, i) {\n      var from = _a[0],\n          to = _a[1];\n      var _b = changed[i],\n          fromBefore = _b[0],\n          toBefore = _b[1];\n\n      if (from !== to) {\n        pureChanged.push([fromBefore, toBefore]);\n        return true;\n      }\n    });\n    this.cachePureChanged = pureChanged;\n  };\n\n  return Result;\n}();\n\n/**\n *\n * @memberof eg.ListDiffer\n * @static\n * @function\n * @param - Previous List <ko> 이전 목록 </ko>\n * @param - List to Update <ko> 업데이트 할 목록 </ko>\n * @param - This callback function returns the key of the item. <ko> 아이템의 키를 반환하는 콜백 함수입니다.</ko>\n * @return - Returns the diff between `prevList` and `list` <ko> `prevList`와 `list`의 다른 점을 반환한다.</ko>\n * @example\n * import { diff } from \"@egjs/list-differ\";\n * // script => eg.ListDiffer.diff\n * const result = diff([0, 1, 2, 3, 4, 5], [7, 8, 0, 4, 3, 6, 2, 1], e => e);\n * // List before update\n * // [1, 2, 3, 4, 5]\n * console.log(result.prevList);\n * // Updated list\n * // [4, 3, 6, 2, 1]\n * console.log(result.list);\n * // Index array of values added to `list`\n * // [0, 1, 5]\n * console.log(result.added);\n * // Index array of values removed in `prevList`\n * // [5]\n * console.log(result.removed);\n * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.changed);\n * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n * // [[4, 3], [3, 4], [2, 6]]\n * console.log(result.pureChanged);\n * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n * // [[4, 1], [4, 2], [4, 3]]\n * console.log(result.ordered);\n * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved\n * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n * console.log(result.maintained);\n */\n\nfunction diff(prevList, list, findKeyCallback) {\n  var mapClass = SUPPORT_MAP ? Map : findKeyCallback ? HashMap : PolyMap;\n\n  var callback = findKeyCallback || function (e) {\n    return e;\n  };\n\n  var added = [];\n  var removed = [];\n  var maintained = [];\n  var prevKeys = prevList.map(callback);\n  var keys = list.map(callback);\n  var prevKeyMap = new mapClass();\n  var keyMap = new mapClass();\n  var changedBeforeAdded = [];\n  var fixed = [];\n  var removedMap = {};\n  var changed = [];\n  var addedCount = 0;\n  var removedCount = 0; // Add prevKeys and keys to the hashmap.\n\n  prevKeys.forEach(function (key, prevListIndex) {\n    prevKeyMap.set(key, prevListIndex);\n  });\n  keys.forEach(function (key, listIndex) {\n    keyMap.set(key, listIndex);\n  }); // Compare `prevKeys` and `keys` and add them to `removed` if they are not in `keys`.\n\n  prevKeys.forEach(function (key, prevListIndex) {\n    var listIndex = keyMap.get(key); // In prevList, but not in list, it is removed.\n\n    if (typeof listIndex === \"undefined\") {\n      ++removedCount;\n      removed.push(prevListIndex);\n    } else {\n      removedMap[listIndex] = removedCount;\n    }\n  }); // Compare `prevKeys` and `keys` and add them to `added` if they are not in `prevKeys`.\n\n  keys.forEach(function (key, listIndex) {\n    var prevListIndex = prevKeyMap.get(key); // In list, but not in prevList, it is added.\n\n    if (typeof prevListIndex === \"undefined\") {\n      added.push(listIndex);\n      ++addedCount;\n    } else {\n      maintained.push([prevListIndex, listIndex]);\n      removedCount = removedMap[listIndex] || 0;\n      changedBeforeAdded.push([prevListIndex - removedCount, listIndex - addedCount]);\n      fixed.push(listIndex === prevListIndex);\n\n      if (prevListIndex !== listIndex) {\n        changed.push([prevListIndex, listIndex]);\n      }\n    }\n  }); // Sort by ascending order of 'to(list's index).\n\n  removed.reverse();\n  return new Result(prevList, list, added, removed, changed, maintained, changedBeforeAdded, fixed);\n}\n\n/**\n * A module that checks diff when values are added, removed, or changed in an array.\n * @ko 배열 또는 오브젝트에서 값이 추가되거나 삭제되거나 순서가 변경사항을 체크하는 모듈입니다.\n * @memberof eg\n */\n\nvar ListDiffer =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param - Initializing Data Array. <ko> 초기 설정할 데이터 배열.</ko>\n   * @param - This callback function returns the key of the item. <ko> 아이템의 키를 반환하는 콜백 함수입니다.</ko>\n   * @example\n   * import ListDiffer from \"@egjs/list-differ\";\n   * // script => eg.ListDiffer\n   * const differ = new ListDiffer([0, 1, 2, 3, 4, 5], e => e);\n   * const result = differ.update([7, 8, 0, 4, 3, 6, 2, 1]);\n   * // List before update\n   * // [1, 2, 3, 4, 5]\n   * console.log(result.prevList);\n   * // Updated list\n   * // [4, 3, 6, 2, 1]\n   * console.log(result.list);\n   * // Index array of values added to `list`.\n   * // [0, 1, 5]\n   * console.log(result.added);\n   * // Index array of values removed in `prevList`.\n   * // [5]\n   * console.log(result.removed);\n   * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`.\n   * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n   * console.log(result.changed);\n   * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n   * // [[4, 3], [3, 4], [2, 6]]\n   * console.log(result.pureChanged);\n   * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n   * // [[4, 1], [4, 2], [4, 3]]\n   * console.log(result.ordered);\n   * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved.\n   * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n   * console.log(result.maintained);\n   */\n  function ListDiffer(list, findKeyCallback) {\n    if (list === void 0) {\n      list = [];\n    }\n\n    this.findKeyCallback = findKeyCallback;\n    this.list = [].slice.call(list);\n  }\n  /**\n   * Update list.\n   * @ko 리스트를 업데이트를 합니다.\n   * @param - List to update <ko> 업데이트할 리스트 </ko>\n   * @return - Returns the results of an update from `prevList` to `list`.<ko> `prevList`에서 `list`로 업데이트한 결과를 반환한다. </ko>\n   */\n\n\n  var __proto = ListDiffer.prototype;\n\n  __proto.update = function (list) {\n    var newData = [].slice.call(list);\n    var result = diff(this.list, newData, this.findKeyCallback);\n    this.list = newData;\n    return result;\n  };\n\n  return ListDiffer;\n}();\n\n/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\n\nexport default ListDiffer;\nexport { diff };\n//# sourceMappingURL=list-differ.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: @scena/dragscroll\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/dragscroll.git\nversion: 0.3.1\n*/\nimport EventEmitter from '@scena/event-emitter';\nimport { now } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nfunction getDefaultScrollPosition(e) {\n  var container = e.container;\n  return [container.scrollLeft, container.scrollTop];\n}\n\nvar DragScroll =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(DragScroll, _super);\n\n  function DragScroll() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.startRect = null;\n    _this.startPos = [];\n    _this.prevTime = 0;\n    _this.timer = 0;\n    return _this;\n  }\n\n  var __proto = DragScroll.prototype;\n\n  __proto.dragStart = function (e, options) {\n    var _a = options.container.getBoundingClientRect(),\n        top = _a.top,\n        left = _a.left,\n        width = _a.width,\n        height = _a.height;\n\n    this.startPos = [e.clientX, e.clientY];\n    this.startRect = {\n      top: top,\n      left: left,\n      width: width,\n      height: height\n    };\n  };\n\n  __proto.drag = function (e, options) {\n    var _this = this;\n\n    var clientX = e.clientX,\n        clientY = e.clientY;\n    var container = options.container,\n        _a = options.threshold,\n        threshold = _a === void 0 ? 0 : _a,\n        _b = options.throttleTime,\n        throttleTime = _b === void 0 ? 0 : _b,\n        _c = options.getScrollPosition,\n        getScrollPosition = _c === void 0 ? getDefaultScrollPosition : _c;\n\n    var _d = this,\n        startRect = _d.startRect,\n        startPos = _d.startPos;\n\n    var nowTime = now();\n    var distTime = Math.max(throttleTime + this.prevTime - nowTime, 0);\n    var direction = [0, 0];\n\n    if (startRect.top > clientY - threshold) {\n      if (startPos[1] > startRect.top || clientY < startPos[1]) {\n        direction[1] = -1;\n      }\n    } else if (startRect.top + startRect.height < clientY + threshold) {\n      if (startPos[1] < startRect.top + startRect.height || clientY > startPos[1]) {\n        direction[1] = 1;\n      }\n    }\n\n    if (startRect.left > clientX - threshold) {\n      if (startPos[0] > startRect.left || clientX < startPos[0]) {\n        direction[0] = -1;\n      }\n    } else if (startRect.left + startRect.width < clientX + threshold) {\n      if (startPos[0] < startRect.left + startRect.width || clientX > startPos[0]) {\n        direction[0] = 1;\n      }\n    }\n\n    clearTimeout(this.timer);\n\n    if (!direction[0] && !direction[1]) {\n      return false;\n    }\n\n    if (distTime > 0) {\n      this.timer = window.setTimeout(function () {\n        _this.drag(e, options);\n      }, distTime);\n      return false;\n    }\n\n    this.prevTime = nowTime;\n    var prevPos = getScrollPosition({\n      container: container,\n      direction: direction\n    });\n    this.trigger(\"scroll\", {\n      container: container,\n      direction: direction,\n      inputEvent: e\n    });\n    var nextPos = getScrollPosition({\n      container: container,\n      direction: direction\n    });\n    var offsetX = nextPos[0] - prevPos[0];\n    var offsetY = nextPos[1] - prevPos[1];\n\n    if (!offsetX && !offsetY) {\n      return false;\n    }\n\n    this.trigger(\"move\", {\n      offsetX: direction[0] ? offsetX : 0,\n      offsetY: direction[1] ? offsetY : 0,\n      inputEvent: e\n    });\n\n    if (throttleTime) {\n      this.timer = window.setTimeout(function () {\n        _this.drag(e, options);\n      }, throttleTime);\n    }\n\n    return true;\n  };\n\n  __proto.dragEnd = function () {\n    clearTimeout(this.timer);\n  };\n\n  return DragScroll;\n}(EventEmitter);\n\nexport default DragScroll;\n//# sourceMappingURL=dragscroll.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: @scena/event-emitter\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/gesture.git\nversion: 1.0.5\n*/\nimport { isObject, findIndex } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\n/**\n * Implement EventEmitter on object or component.\n */\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    this._events = {};\n  }\n  /**\n   * Add a listener to the registered event.\n   * @param - Name of the event to be added\n   * @param - listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add listener in \"a\" event\n   * emitter.on(\"a\", () => {\n   * });\n   * // Add listeners\n   * emitter.on({\n   *  a: () => {},\n   *  b: () => {},\n   * });\n   */\n\n\n  var __proto = EventEmitter.prototype;\n\n  __proto.on = function (eventName, listener) {\n    if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.on(name, eventName[name]);\n      }\n    } else {\n      this._addEvent(eventName, listener, {});\n    }\n\n    return this;\n  };\n  /**\n   * Remove listeners registered in the event target.\n   * @param - Name of the event to be removed\n   * @param - listener function of the event to be removed\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Remove all listeners.\n   * emitter.off();\n   *\n   * // Remove all listeners in \"A\" event.\n   * emitter.off(\"a\");\n   *\n   *\n   * // Remove \"listener\" listener in \"a\" event.\n   * emitter.off(\"a\", listener);\n   */\n\n\n  __proto.off = function (eventName, listener) {\n    if (!eventName) {\n      this._events = {};\n    } else if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.off(name);\n      }\n    } else if (!listener) {\n      this._events[eventName] = [];\n    } else {\n      var events = this._events[eventName];\n\n      if (events) {\n        var index = findIndex(events, function (e) {\n          return e.listener === listener;\n        });\n\n        if (index > -1) {\n          events.splice(index, 1);\n        }\n      }\n    }\n\n    return this;\n  };\n  /**\n   * Add a disposable listener and Use promise to the registered event.\n   * @param - Name of the event to be added\n   * @param - disposable listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add a disposable listener in \"a\" event\n   * emitter.once(\"a\", () => {\n   * });\n   *\n   * // Use Promise\n   * emitter.once(\"a\").then(e => {\n   * });\n   */\n\n\n  __proto.once = function (eventName, listener) {\n    var _this = this;\n\n    if (listener) {\n      this._addEvent(eventName, listener, {\n        once: true\n      });\n    }\n\n    return new Promise(function (resolve) {\n      _this._addEvent(eventName, resolve, {\n        once: true\n      });\n    });\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n\n  __proto.emit = function (eventName, param) {\n    var _this = this;\n\n    if (param === void 0) {\n      param = {};\n    }\n\n    var events = this._events[eventName];\n\n    if (!eventName || !events) {\n      return true;\n    }\n\n    var isStop = false;\n    param.eventType = eventName;\n\n    param.stop = function () {\n      isStop = true;\n    };\n\n    param.currentTarget = this;\n\n    __spreadArrays(events).forEach(function (info) {\n      info.listener(param);\n\n      if (info.once) {\n        _this.off(eventName, info.listener);\n      }\n    });\n\n    return !isStop;\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n  /**\n  * Fires an event to call listeners.\n  * @param - Event name\n  * @param - Event parameter\n  * @return If false, stop the event.\n  * @example\n  *\n  * import EventEmitter from \"@scena/event-emitter\";\n  *\n  *\n  * const emitter = new EventEmitter();\n  *\n  * emitter.on(\"a\", e => {\n  * });\n  *\n  * // emit\n  * emitter.trigger(\"a\", {\n  *   a: 1,\n  * });\n  */\n\n\n  __proto.trigger = function (eventName, param) {\n    if (param === void 0) {\n      param = {};\n    }\n\n    return this.emit(eventName, param);\n  };\n\n  __proto._addEvent = function (eventName, listener, options) {\n    var events = this._events;\n    events[eventName] = events[eventName] || [];\n    var listeners = events[eventName];\n    listeners.push(__assign({\n      listener: listener\n    }, options));\n  };\n\n  return EventEmitter;\n}();\n\nexport default EventEmitter;\n//# sourceMappingURL=event-emitter.esm.js.map\n","/*\nCopyright (c) 2020 Daybrush\nname: @scena/matrix\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/matrix\nversion: 1.1.0\n*/\nimport { average } from '@daybrush/utils';\n\nfunction add(matrix, inverseMatrix, startIndex, fromIndex, n, k) {\n  for (var i = 0; i < n; ++i) {\n    var x = startIndex + i * n;\n    var fromX = fromIndex + i * n;\n    matrix[x] += matrix[fromX] * k;\n    inverseMatrix[x] += inverseMatrix[fromX] * k;\n  }\n}\n\nfunction swap(matrix, inverseMatrix, startIndex, fromIndex, n) {\n  for (var i = 0; i < n; ++i) {\n    var x = startIndex + i * n;\n    var fromX = fromIndex + i * n;\n    var v = matrix[x];\n    var iv = inverseMatrix[x];\n    matrix[x] = matrix[fromX];\n    matrix[fromX] = v;\n    inverseMatrix[x] = inverseMatrix[fromX];\n    inverseMatrix[fromX] = iv;\n  }\n}\n\nfunction divide(matrix, inverseMatrix, startIndex, n, k) {\n  for (var i = 0; i < n; ++i) {\n    var x = startIndex + i * n;\n    matrix[x] /= k;\n    inverseMatrix[x] /= k;\n  }\n}\n\nfunction ignoreDimension(matrix, m, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = matrix.slice();\n\n  for (var i = 0; i < n; ++i) {\n    newMatrix[i * n + m - 1] = 0;\n    newMatrix[(m - 1) * n + i] = 0;\n  }\n\n  newMatrix[(m - 1) * (n + 1)] = 1;\n  return newMatrix;\n}\nfunction invert(matrix, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = matrix.slice();\n  var inverseMatrix = createIdentityMatrix(n);\n\n  for (var i = 0; i < n; ++i) {\n    // diagonal\n    var identityIndex = n * i + i;\n\n    if (newMatrix[identityIndex] === 0) {\n      for (var j = i + 1; j < n; ++j) {\n        if (newMatrix[n * i + j]) {\n          swap(newMatrix, inverseMatrix, i, j, n);\n          break;\n        }\n      }\n    }\n\n    if (newMatrix[identityIndex]) {\n      divide(newMatrix, inverseMatrix, i, n, newMatrix[identityIndex]);\n    } else {\n      // no inverse matrix\n      return [];\n    }\n\n    for (var j = 0; j < n; ++j) {\n      var targetStartIndex = j;\n      var targetIndex = j + i * n;\n      var target = newMatrix[targetIndex];\n\n      if (target === 0 || i === j) {\n        continue;\n      }\n\n      add(newMatrix, inverseMatrix, targetStartIndex, i, n, -target);\n    }\n  }\n\n  return inverseMatrix;\n}\nfunction transpose(matrix, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = [];\n\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0; j < n; ++j) {\n      newMatrix[j * n + i] = matrix[n * i + j];\n    }\n  }\n\n  return newMatrix;\n}\nfunction getOrigin(matrix, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var originMatrix = [];\n  var w = matrix[n * n - 1];\n\n  for (var i = 0; i < n - 1; ++i) {\n    originMatrix[i] = matrix[n * (n - 1) + i] / w;\n  }\n\n  originMatrix[n - 1] = 0;\n  return originMatrix;\n}\nfunction fromTranslation(pos, n) {\n  var newMatrix = createIdentityMatrix(n);\n\n  for (var i = 0; i < n - 1; ++i) {\n    newMatrix[n * (n - 1) + i] = pos[i] || 0;\n  }\n\n  return newMatrix;\n}\nfunction convertPositionMatrix(matrix, n) {\n  var newMatrix = matrix.slice();\n\n  for (var i = matrix.length; i < n - 1; ++i) {\n    newMatrix[i] = 0;\n  }\n\n  newMatrix[n - 1] = 1;\n  return newMatrix;\n}\nfunction convertDimension(matrix, n, m) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  } // n < m\n\n\n  if (n === m) {\n    return matrix;\n  }\n\n  var newMatrix = createIdentityMatrix(m);\n  var length = Math.min(n, m);\n\n  for (var i = 0; i < length - 1; ++i) {\n    for (var j = 0; j < length - 1; ++j) {\n      newMatrix[i * m + j] = matrix[i * n + j];\n    }\n\n    newMatrix[(i + 1) * m - 1] = matrix[(i + 1) * n - 1];\n    newMatrix[(m - 1) * m + i] = matrix[(n - 1) * n + i];\n  }\n\n  newMatrix[m * m - 1] = matrix[n * n - 1];\n  return newMatrix;\n}\nfunction multiplies(n) {\n  var matrixes = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    matrixes[_i - 1] = arguments[_i];\n  }\n\n  var m = createIdentityMatrix(n);\n  matrixes.forEach(function (matrix) {\n    m = multiply(m, matrix, n);\n  });\n  return m;\n}\nfunction multiply(matrix, matrix2, n) {\n  if (n === void 0) {\n    n = Math.sqrt(matrix.length);\n  }\n\n  var newMatrix = []; // 1 y: n\n  // 1 x: m\n  // 2 x: m\n  // 2 y: k\n  // n * m X m * k\n\n  var m = matrix.length / n;\n  var k = matrix2.length / m;\n\n  if (!m) {\n    return matrix2;\n  } else if (!k) {\n    return matrix;\n  }\n\n  for (var i = 0; i < n; ++i) {\n    for (var j = 0; j < k; ++j) {\n      newMatrix[j * n + i] = 0;\n\n      for (var l = 0; l < m; ++l) {\n        // m1 x: m(l), y: n(i)\n        // m2 x: k(j):  y: m(l)\n        // nw x: n(i), y: k(j)\n        newMatrix[j * n + i] += matrix[l * n + i] * matrix2[j * m + l];\n      }\n    }\n  } // n * k\n\n\n  return newMatrix;\n}\nfunction plus(pos1, pos2) {\n  var length = Math.min(pos1.length, pos2.length);\n  var nextPos = pos1.slice();\n\n  for (var i = 0; i < length; ++i) {\n    nextPos[i] = nextPos[i] + pos2[i];\n  }\n\n  return nextPos;\n}\nfunction minus(pos1, pos2) {\n  var length = Math.min(pos1.length, pos2.length);\n  var nextPos = pos1.slice();\n\n  for (var i = 0; i < length; ++i) {\n    nextPos[i] = nextPos[i] - pos2[i];\n  }\n\n  return nextPos;\n}\nfunction convertCSStoMatrix(a, is2d) {\n  if (is2d === void 0) {\n    is2d = a.length === 6;\n  }\n\n  if (is2d) {\n    return [a[0], a[1], 0, a[2], a[3], 0, a[4], a[5], 1];\n  }\n\n  return a;\n}\nfunction convertMatrixtoCSS(a, is2d) {\n  if (is2d === void 0) {\n    is2d = a.length === 9;\n  }\n\n  if (is2d) {\n    return [a[0], a[1], a[3], a[4], a[6], a[7]];\n  }\n\n  return a;\n}\nfunction calculate(matrix, matrix2, n) {\n  if (n === void 0) {\n    n = matrix2.length;\n  }\n\n  var result = multiply(matrix, matrix2, n);\n  var k = result[n - 1];\n  return result.map(function (v) {\n    return v / k;\n  });\n}\nfunction rotateX3d(matrix, rad) {\n  return multiply(matrix, [1, 0, 0, 0, 0, Math.cos(rad), Math.sin(rad), 0, 0, -Math.sin(rad), Math.cos(rad), 0, 0, 0, 0, 1], 4);\n}\nfunction rotateY3d(matrix, rad) {\n  return multiply(matrix, [Math.cos(rad), 0, -Math.sin(rad), 0, 0, 1, 0, 0, Math.sin(rad), 0, Math.cos(rad), 0, 0, 0, 0, 1], 4);\n}\nfunction rotateZ3d(matrix, rad) {\n  return multiply(matrix, createRotateMatrix(rad, 4));\n}\nfunction scale3d(matrix, _a) {\n  var _b = _a[0],\n      sx = _b === void 0 ? 1 : _b,\n      _c = _a[1],\n      sy = _c === void 0 ? 1 : _c,\n      _d = _a[2],\n      sz = _d === void 0 ? 1 : _d;\n  return multiply(matrix, [sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1], 4);\n}\nfunction rotate(pos, rad) {\n  return calculate(createRotateMatrix(rad, 3), convertPositionMatrix(pos, 3));\n}\nfunction translate3d(matrix, _a) {\n  var _b = _a[0],\n      tx = _b === void 0 ? 0 : _b,\n      _c = _a[1],\n      ty = _c === void 0 ? 0 : _c,\n      _d = _a[2],\n      tz = _d === void 0 ? 0 : _d;\n  return multiply(matrix, [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1], 4);\n}\nfunction matrix3d(matrix1, matrix2) {\n  return multiply(matrix1, matrix2, 4);\n}\nfunction createRotateMatrix(rad, n) {\n  var cos = Math.cos(rad);\n  var sin = Math.sin(rad);\n  var m = createIdentityMatrix(n); // cos -sin\n  // sin cos\n\n  m[0] = cos;\n  m[1] = sin;\n  m[n] = -sin;\n  m[n + 1] = cos;\n  return m;\n}\nfunction createIdentityMatrix(n) {\n  var length = n * n;\n  var matrix = [];\n\n  for (var i = 0; i < length; ++i) {\n    matrix[i] = i % (n + 1) ? 0 : 1;\n  }\n\n  return matrix;\n}\nfunction createScaleMatrix(scale, n) {\n  var m = createIdentityMatrix(n);\n  var length = Math.min(scale.length, n - 1);\n\n  for (var i = 0; i < length; ++i) {\n    m[(n + 1) * i] = scale[i];\n  }\n\n  return m;\n}\nfunction createOriginMatrix(origin, n) {\n  var m = createIdentityMatrix(n);\n  var length = Math.min(origin.length, n - 1);\n\n  for (var i = 0; i < length; ++i) {\n    m[n * (n - 1) + i] = origin[i];\n  }\n\n  return m;\n}\nfunction createWarpMatrix(pos0, pos1, pos2, pos3, nextPos0, nextPos1, nextPos2, nextPos3) {\n  var x0 = pos0[0],\n      y0 = pos0[1];\n  var x1 = pos1[0],\n      y1 = pos1[1];\n  var x2 = pos2[0],\n      y2 = pos2[1];\n  var x3 = pos3[0],\n      y3 = pos3[1];\n  var u0 = nextPos0[0],\n      v0 = nextPos0[1];\n  var u1 = nextPos1[0],\n      v1 = nextPos1[1];\n  var u2 = nextPos2[0],\n      v2 = nextPos2[1];\n  var u3 = nextPos3[0],\n      v3 = nextPos3[1];\n  var matrix = [x0, 0, x1, 0, x2, 0, x3, 0, y0, 0, y1, 0, y2, 0, y3, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, x0, 0, x1, 0, x2, 0, x3, 0, y0, 0, y1, 0, y2, 0, y3, 0, 1, 0, 1, 0, 1, 0, 1, -u0 * x0, -v0 * x0, -u1 * x1, -v1 * x1, -u2 * x2, -v2 * x2, -u3 * x3, -v3 * x3, -u0 * y0, -v0 * y0, -u1 * y1, -v1 * y1, -u2 * y2, -v2 * y2, -u3 * y3, -v3 * y3];\n  var inverseMatrix = invert(matrix, 8);\n\n  if (!inverseMatrix.length) {\n    return [];\n  }\n\n  var h = multiply(inverseMatrix, [u0, v0, u1, v1, u2, v2, u3, v3], 8);\n  h[8] = 1;\n  return convertDimension(transpose(h), 3, 4);\n}\nfunction getCenter(points) {\n  return [0, 1].map(function (i) {\n    return average(points.map(function (pos) {\n      return pos[i];\n    }));\n  });\n}\n\nexport { calculate, convertCSStoMatrix, convertDimension, convertMatrixtoCSS, convertPositionMatrix, createIdentityMatrix, createOriginMatrix, createRotateMatrix, createScaleMatrix, createWarpMatrix, fromTranslation, getCenter, getOrigin, ignoreDimension, invert, matrix3d, minus, multiplies, multiply, plus, rotate, rotateX3d, rotateY3d, rotateZ3d, scale3d, translate3d, transpose };\n//# sourceMappingURL=matrix.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: css-styled\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/css-styled.git\nversion: 1.0.0\n*/\nimport { splitComma } from '@daybrush/utils';\n\nfunction hash(str) {\n  var hash = 5381,\n      i    = str.length;\n\n  while(i) {\n    hash = (hash * 33) ^ str.charCodeAt(--i);\n  }\n\n  /* JavaScript does bitwise operations (like XOR, above) on 32-bit signed\n   * integers. Since we want the results to be always positive, convert the\n   * signed int to an unsigned by doing an unsigned bitshift. */\n  return hash >>> 0;\n}\n\nvar stringHash = hash;\n\nfunction getHash(str) {\n  return stringHash(str).toString(36);\n}\nfunction getShadowRoot(parentElement) {\n  if (parentElement && parentElement.getRootNode) {\n    var rootNode = parentElement.getRootNode();\n\n    if (rootNode.nodeType === 11) {\n      return rootNode;\n    }\n  }\n\n  return;\n}\nfunction replaceStyle(className, css, options) {\n  if (options.original) {\n    return css;\n  }\n\n  return css.replace(/([^};{\\s}][^};{]*|^\\s*){/mg, function (_, selector) {\n    var trimmedSelector = selector.trim();\n    return (trimmedSelector ? splitComma(trimmedSelector) : [\"\"]).map(function (subSelector) {\n      var trimmedSubSelector = subSelector.trim();\n\n      if (trimmedSubSelector.indexOf(\"@\") === 0) {\n        return trimmedSubSelector;\n      } else if (trimmedSubSelector.indexOf(\":global\") > -1) {\n        return trimmedSubSelector.replace(/\\:global/g, \"\");\n      } else if (trimmedSubSelector.indexOf(\":host\") > -1) {\n        return \"\" + trimmedSubSelector.replace(/\\:host/g, \".\" + className);\n      } else if (trimmedSubSelector) {\n        return \".\" + className + \" \" + trimmedSubSelector;\n      } else {\n        return \".\" + className;\n      }\n    }).join(\", \") + \" {\";\n  });\n}\nfunction injectStyle(className, css, options, shadowRoot) {\n  var style = document.createElement(\"style\");\n  style.setAttribute(\"type\", \"text/css\");\n  style.setAttribute(\"data-styled-id\", className);\n\n  if (options.nonce) {\n    style.setAttribute(\"nonce\", options.nonce);\n  }\n\n  style.innerHTML = replaceStyle(className, css, options);\n  (shadowRoot || document.head || document.body).appendChild(style);\n  return style;\n}\n\n/**\n * Create an styled object that can be defined and inserted into the css.\n * @param - css styles\n */\n\nfunction styled(css) {\n  var injectClassName = \"rCS\" + getHash(css);\n  var injectCount = 0;\n  var injectElement;\n  return {\n    className: injectClassName,\n    inject: function (el, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var shadowRoot = getShadowRoot(el);\n      var firstMount = injectCount === 0;\n      var styleElement;\n\n      if (shadowRoot || firstMount) {\n        styleElement = injectStyle(injectClassName, css, options, shadowRoot);\n      }\n\n      if (firstMount) {\n        injectElement = styleElement;\n      }\n\n      if (!shadowRoot) {\n        ++injectCount;\n      }\n\n      return {\n        destroy: function () {\n          if (shadowRoot) {\n            el.removeChild(styleElement);\n            styleElement = null;\n          } else {\n            if (injectCount > 0) {\n              --injectCount;\n            }\n\n            if (injectCount === 0 && injectElement) {\n              injectElement.parentNode.removeChild(injectElement);\n              injectElement = null;\n            }\n          }\n        }\n      };\n    }\n  };\n}\n\nexport default styled;\n//# sourceMappingURL=styled.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: css-to-mat\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/css-to-mat.git\nversion: 1.0.3\n*/\nimport { splitBracket, splitComma, splitUnit, isArray, splitSpace } from '@daybrush/utils';\nimport { calculate, matrix3d, invert, translate3d, scale3d, rotateZ3d, rotateX3d, rotateY3d } from '@scena/matrix';\n\nfunction createMatrix() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nfunction parseMat(transform) {\n  return toMat(parse(transform));\n}\nfunction getElementMatrix(el) {\n  return parseMat(getComputedStyle(el).transform);\n}\nfunction calculateMatrixDist(matrix, pos) {\n  var res = calculate(matrix, [pos[0], pos[1] || 0, pos[2] || 0, 1], 4);\n  var w = res[3] || 1;\n  return [res[0] / w, res[1] / w, res[2] / w];\n}\nfunction getDistElementMatrix(el, container) {\n  if (container === void 0) {\n    container = document.body;\n  }\n\n  var target = el;\n  var matrix = createMatrix();\n\n  while (target) {\n    var transform = getComputedStyle(target).transform;\n    matrix = matrix3d(parseMat(transform), matrix);\n\n    if (target === container) {\n      break;\n    }\n\n    target = target.parentElement;\n  }\n\n  matrix = invert(matrix, 4);\n  matrix[12] = 0;\n  matrix[13] = 0;\n  matrix[14] = 0;\n  return matrix;\n}\nfunction toMat(matrixInfos) {\n  var target = createMatrix();\n  matrixInfos.forEach(function (info) {\n    var matrixFunction = info.matrixFunction,\n        functionValue = info.functionValue;\n\n    if (!matrixFunction) {\n      return;\n    }\n\n    target = matrixFunction(target, functionValue);\n  });\n  return target;\n}\nfunction parse(transform) {\n  var transforms = isArray(transform) ? transform : splitSpace(transform);\n  return transforms.map(function (t) {\n    var _a = splitBracket(t),\n        name = _a.prefix,\n        value = _a.value;\n\n    var matrixFunction = null;\n    var functionName = name;\n    var functionValue = \"\";\n\n    if (name === \"translate\" || name === \"translateX\" || name === \"translate3d\") {\n      var _b = splitComma(value).map(function (v) {\n        return parseFloat(v);\n      }),\n          posX = _b[0],\n          _c = _b[1],\n          posY = _c === void 0 ? 0 : _c,\n          _d = _b[2],\n          posZ = _d === void 0 ? 0 : _d;\n\n      matrixFunction = translate3d;\n      functionValue = [posX, posY, posZ];\n    } else if (name === \"translateY\") {\n      var posY = parseFloat(value);\n      matrixFunction = translate3d;\n      functionValue = [0, posY, 0];\n    } else if (name === \"translateZ\") {\n      var posZ = parseFloat(value);\n      matrixFunction = translate3d;\n      functionValue = [0, 0, posZ];\n    } else if (name === \"scale\" || name === \"scale3d\") {\n      var _e = splitComma(value).map(function (v) {\n        return parseFloat(v);\n      }),\n          sx = _e[0],\n          _f = _e[1],\n          sy = _f === void 0 ? sx : _f,\n          _g = _e[2],\n          sz = _g === void 0 ? 1 : _g;\n\n      matrixFunction = scale3d;\n      functionValue = [sx, sy, sz];\n    } else if (name === \"scaleX\") {\n      var sx = parseFloat(value);\n      matrixFunction = scale3d;\n      functionValue = [sx, 1, 1];\n    } else if (name === \"scaleY\") {\n      var sy = parseFloat(value);\n      matrixFunction = scale3d;\n      functionValue = [1, sy, 1];\n    } else if (name === \"scaleZ\") {\n      var sz = parseFloat(value);\n      matrixFunction = scale3d;\n      functionValue = [1, 1, sz];\n    } else if (name === \"rotate\" || name === \"rotateZ\" || name === \"rotateX\" || name === \"rotateY\") {\n      var _h = splitUnit(value),\n          unit = _h.unit,\n          unitValue = _h.value;\n\n      var rad = unit === \"rad\" ? unitValue : unitValue * Math.PI / 180;\n\n      if (name === \"rotate\" || name === \"rotateZ\") {\n        functionName = \"rotateZ\";\n        matrixFunction = rotateZ3d;\n      } else if (name === \"rotateX\") {\n        matrixFunction = rotateX3d;\n      } else if (name === \"rotateY\") {\n        matrixFunction = rotateY3d;\n      }\n\n      functionValue = rad;\n    } else if (name === \"matrix3d\") {\n      matrixFunction = matrix3d;\n      functionValue = splitComma(value).map(function (v) {\n        return parseFloat(v);\n      });\n    } else if (name === \"matrix\") {\n      var m = splitComma(value).map(function (v) {\n        return parseFloat(v);\n      });\n      matrixFunction = matrix3d;\n      functionValue = [m[0], m[1], 0, 0, m[2], m[3], 0, 0, 0, 0, 1, 0, m[4], m[5], 0, 1];\n    } else {\n      functionName = \"\";\n    }\n\n    return {\n      name: name,\n      functionName: functionName,\n      value: value,\n      matrixFunction: matrixFunction,\n      functionValue: functionValue\n    };\n  });\n}\n\nexport { calculateMatrixDist, createMatrix, getDistElementMatrix, getElementMatrix, parse, parseMat, toMat };\n//# sourceMappingURL=css-to-mat.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: framework-utils\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/framework-utils.git\nversion: 0.3.4\n*/\nfunction prefixNames(prefix) {\n  var classNames = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    classNames[_i - 1] = arguments[_i];\n  }\n\n  return classNames.map(function (className) {\n    return className.split(\" \").map(function (name) {\n      return name ? \"\" + prefix + name : \"\";\n    }).join(\" \");\n  }).join(\" \");\n}\nfunction prefixCSS(prefix, css) {\n  return css.replace(/([^}{]*){/mg, function (_, selector) {\n    return selector.replace(/\\.([^{,\\s\\d.]+)/g, \".\" + prefix + \"$1\") + \"{\";\n  });\n}\n/* react */\n\nfunction ref(target, name) {\n  return function (e) {\n    e && (target[name] = e);\n  };\n}\nfunction refs(target, name, i) {\n  return function (e) {\n    e && (target[name][i] = e);\n  };\n}\n/* Class Decorator */\n\nfunction Properties(properties, action) {\n  return function (component) {\n    var prototype = component.prototype;\n    properties.forEach(function (property) {\n      action(prototype, property);\n    });\n  };\n}\n/* Property Decorator */\n\nfunction withMethods(methods, duplicate) {\n  if (duplicate === void 0) {\n    duplicate = {};\n  }\n\n  return function (prototype, propertyName) {\n    methods.forEach(function (name) {\n      var methodName = duplicate[name] || name;\n\n      if (prototype[methodName]) {\n        return;\n      }\n\n      prototype[methodName] = function () {\n        var _a;\n\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        var result = (_a = this[propertyName])[name].apply(_a, args);\n\n        if (result === this[propertyName]) {\n          return this;\n        } else {\n          return result;\n        }\n      };\n    });\n  };\n}\n\nexport { Properties, prefixCSS, prefixNames, ref, refs, withMethods };\n//# sourceMappingURL=utils.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: gesto\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/gesture.git\nversion: 1.3.0\n*/\nimport EventEmitter from '@scena/event-emitter';\nimport { removeEvent, now, addEvent } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction getRad(pos1, pos2) {\n  var distX = pos2[0] - pos1[0];\n  var distY = pos2[1] - pos1[1];\n  var rad = Math.atan2(distY, distX);\n  return rad >= 0 ? rad : rad + Math.PI * 2;\n}\nfunction getRotatiion(touches) {\n  return getRad([touches[0].clientX, touches[0].clientY], [touches[1].clientX, touches[1].clientY]) / Math.PI * 180;\n}\nfunction isMultiTouch(e) {\n  return e.touches && e.touches.length >= 2;\n}\nfunction getEventClients(e) {\n  if (e.touches) {\n    return getClients(e.touches);\n  } else {\n    return [getClient(e)];\n  }\n}\nfunction getPosition(clients, prevClients, startClients) {\n  var length = startClients.length;\n\n  var _a = getAverageClient(clients, length),\n      clientX = _a.clientX,\n      clientY = _a.clientY,\n      originalClientX = _a.originalClientX,\n      originalClientY = _a.originalClientY;\n\n  var _b = getAverageClient(prevClients, length),\n      prevX = _b.clientX,\n      prevY = _b.clientY;\n\n  var _c = getAverageClient(startClients, length),\n      startX = _c.clientX,\n      startY = _c.clientY;\n\n  var deltaX = clientX - prevX;\n  var deltaY = clientY - prevY;\n  var distX = clientX - startX;\n  var distY = clientY - startY;\n  return {\n    clientX: originalClientX,\n    clientY: originalClientY,\n    deltaX: deltaX,\n    deltaY: deltaY,\n    distX: distX,\n    distY: distY\n  };\n}\nfunction getDist(clients) {\n  return Math.sqrt(Math.pow(clients[0].clientX - clients[1].clientX, 2) + Math.pow(clients[0].clientY - clients[1].clientY, 2));\n}\nfunction getClients(touches) {\n  var length = Math.min(touches.length, 2);\n  var clients = [];\n\n  for (var i = 0; i < length; ++i) {\n    clients.push(getClient(touches[i]));\n  }\n\n  return clients;\n}\nfunction getClient(e) {\n  return {\n    clientX: e.clientX,\n    clientY: e.clientY\n  };\n}\nfunction getAverageClient(clients, length) {\n  if (length === void 0) {\n    length = clients.length;\n  }\n\n  var sumClient = {\n    clientX: 0,\n    clientY: 0,\n    originalClientX: 0,\n    originalClientY: 0\n  };\n\n  for (var i = 0; i < length; ++i) {\n    var client = clients[i];\n    sumClient.originalClientX += \"originalClientX\" in client ? client.originalClientX : client.clientX;\n    sumClient.originalClientY += \"originalClientY\" in client ? client.originalClientY : client.clientY;\n    sumClient.clientX += client.clientX;\n    sumClient.clientY += client.clientY;\n  }\n\n  if (!length) {\n    return sumClient;\n  }\n\n  return {\n    clientX: sumClient.clientX / length,\n    clientY: sumClient.clientY / length,\n    originalClientX: sumClient.originalClientX / length,\n    originalClientY: sumClient.originalClientY / length\n  };\n}\n\nvar ClientStore =\n/*#__PURE__*/\nfunction () {\n  function ClientStore(clients) {\n    this.prevClients = [];\n    this.startClients = [];\n    this.movement = 0;\n    this.length = 0;\n    this.startClients = clients;\n    this.prevClients = clients;\n    this.length = clients.length;\n  }\n\n  var __proto = ClientStore.prototype;\n\n  __proto.addClients = function (clients) {\n    if (clients === void 0) {\n      clients = this.prevClients;\n    }\n\n    var position = this.getPosition(clients);\n    var deltaX = position.deltaX,\n        deltaY = position.deltaY;\n    this.movement += Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    this.prevClients = clients;\n    return position;\n  };\n\n  __proto.getAngle = function (clients) {\n    if (clients === void 0) {\n      clients = this.prevClients;\n    }\n\n    return getRotatiion(clients);\n  };\n\n  __proto.getRotation = function (clients) {\n    if (clients === void 0) {\n      clients = this.prevClients;\n    }\n\n    return getRotatiion(clients) - getRotatiion(this.startClients);\n  };\n\n  __proto.getPosition = function (clients) {\n    return getPosition(clients || this.prevClients, this.prevClients, this.startClients);\n  };\n\n  __proto.getPositions = function (clients) {\n    if (clients === void 0) {\n      clients = this.prevClients;\n    }\n\n    var prevClients = this.prevClients;\n    return this.startClients.map(function (startClient, i) {\n      return getPosition([clients[i]], [prevClients[i]], [startClient]);\n    });\n  };\n\n  __proto.getMovement = function (clients) {\n    var movement = this.movement;\n\n    if (!clients) {\n      return movement;\n    }\n\n    var currentClient = getAverageClient(clients, this.length);\n    var prevClient = getAverageClient(this.prevClients, this.length);\n    var deltaX = currentClient.clientX - prevClient.clientX;\n    var deltaY = currentClient.clientY - prevClient.clientY;\n    return Math.sqrt(deltaX * deltaX + deltaY * deltaY) + movement;\n  };\n\n  __proto.getDistance = function (clients) {\n    if (clients === void 0) {\n      clients = this.prevClients;\n    }\n\n    return getDist(clients);\n  };\n\n  __proto.getScale = function (clients) {\n    if (clients === void 0) {\n      clients = this.prevClients;\n    }\n\n    return getDist(clients) / getDist(this.startClients);\n  };\n\n  __proto.move = function (deltaX, deltaY) {\n    this.startClients.forEach(function (client) {\n      client.clientX -= deltaX;\n      client.clientY -= deltaY;\n    });\n    this.prevClients.forEach(function (client) {\n      client.clientX -= deltaX;\n      client.clientY -= deltaY;\n    });\n  };\n\n  return ClientStore;\n}();\n\nvar INPUT_TAGNAMES = [\"textarea\", \"input\"];\n/**\n * You can set up drag, pinch events in any browser.\n */\n\nvar Gesto =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Gesto, _super);\n  /**\n   *\n   */\n\n\n  function Gesto(targets, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.options = {};\n    _this.flag = false;\n    _this.pinchFlag = false;\n    _this.datas = {};\n    _this.isDrag = false;\n    _this.isPinch = false;\n    _this.isMouse = false;\n    _this.isTouch = false;\n    _this.clientStores = [];\n    _this.targets = [];\n    _this.prevTime = 0;\n    _this.doubleFlag = false;\n\n    _this.onDragStart = function (e, isTrusted) {\n      if (isTrusted === void 0) {\n        isTrusted = true;\n      }\n\n      if (!_this.flag && e.cancelable === false) {\n        return;\n      }\n\n      var _a = _this.options,\n          container = _a.container,\n          pinchOutside = _a.pinchOutside,\n          preventRightClick = _a.preventRightClick,\n          preventDefault = _a.preventDefault,\n          checkInput = _a.checkInput;\n      var isTouch = _this.isTouch;\n      var isDragStart = !_this.flag;\n\n      if (isDragStart) {\n        var activeElement = document.activeElement;\n        var target = e.target;\n        var tagName = target.tagName.toLowerCase();\n        var hasInput = INPUT_TAGNAMES.indexOf(tagName) > -1;\n        var hasContentEditable = target.isContentEditable;\n\n        if (hasInput || hasContentEditable) {\n          if (checkInput || activeElement === target) {\n            // force false or already focused.\n            return false;\n          }\n\n          if (activeElement && hasContentEditable && activeElement.isContentEditable && activeElement.contains(target)) {\n            return false;\n          }\n        } else if ((preventDefault || e.type === \"touchstart\") && activeElement) {\n          var activeTagName = activeElement.tagName;\n\n          if (activeElement.isContentEditable || INPUT_TAGNAMES.indexOf(activeTagName) > -1) {\n            activeElement.blur();\n          }\n        }\n\n        _this.clientStores = [new ClientStore(getEventClients(e))];\n        _this.flag = true;\n        _this.isDrag = false;\n        _this.datas = {};\n\n        if (preventRightClick && (e.which === 3 || e.button === 2)) {\n          _this.initDrag();\n\n          return false;\n        }\n\n        _this.doubleFlag = now() - _this.prevTime < 200;\n\n        var result = _this.emit(\"dragStart\", __assign({\n          datas: _this.datas,\n          inputEvent: e,\n          isTrusted: isTrusted,\n          isDouble: _this.doubleFlag\n        }, _this.getCurrentStore().getPosition()));\n\n        if (result === false) {\n          _this.initDrag();\n        }\n\n        _this.flag && preventDefault && e.preventDefault();\n      }\n\n      if (!_this.flag) {\n        return false;\n      }\n\n      var timer = 0;\n\n      if (isDragStart && isTouch && pinchOutside) {\n        timer = setTimeout(function () {\n          addEvent(container, \"touchstart\", _this.onDragStart, {\n            passive: false\n          });\n        });\n      }\n\n      if (!isDragStart && isTouch && pinchOutside) {\n        removeEvent(container, \"touchstart\", _this.onDragStart);\n      }\n\n      if (_this.flag && isMultiTouch(e)) {\n        clearTimeout(timer);\n\n        if (isDragStart && e.touches.length !== e.changedTouches.length) {\n          return;\n        }\n\n        if (!_this.pinchFlag) {\n          _this.onPinchStart(e);\n        }\n      }\n    };\n\n    _this.onDrag = function (e, isScroll) {\n      if (!_this.flag) {\n        return;\n      }\n\n      var clients = getEventClients(e);\n\n      var result = _this.moveClients(clients, e, false);\n\n      if (_this.pinchFlag || result.deltaX || result.deltaY) {\n        _this.emit(\"drag\", __assign({}, result, {\n          isScroll: !!isScroll,\n          inputEvent: e\n        }));\n      }\n\n      if (_this.pinchFlag) {\n        _this.onPinch(e, clients);\n      }\n\n      _this.getCurrentStore().addClients(clients);\n    };\n\n    _this.onDragEnd = function (e) {\n      if (!_this.flag) {\n        return;\n      }\n\n      var _a = _this.options,\n          pinchOutside = _a.pinchOutside,\n          container = _a.container;\n\n      if (_this.isTouch && pinchOutside) {\n        removeEvent(container, \"touchstart\", _this.onDragStart);\n      }\n\n      _this.flag = false;\n\n      var position = _this.getCurrentStore().getPosition();\n\n      var currentTime = now();\n      var isDouble = !_this.isDrag && _this.doubleFlag;\n      _this.prevTime = _this.isDrag || isDouble ? 0 : currentTime;\n\n      _this.emit(\"dragEnd\", __assign({\n        datas: _this.datas,\n        isDouble: isDouble,\n        isDrag: _this.isDrag,\n        inputEvent: e\n      }, position));\n\n      if (_this.pinchFlag) {\n        _this.onPinchEnd(e);\n      }\n\n      _this.clientStores = [];\n    };\n\n    _this.onBlur = function () {\n      _this.onDragEnd();\n    };\n\n    var elements = [].concat(targets);\n    _this.options = __assign({\n      checkInput: false,\n      container: elements.length > 1 ? window : elements[0],\n      preventRightClick: true,\n      preventDefault: true,\n      checkWindowBlur: false,\n      pinchThreshold: 0,\n      events: [\"touch\", \"mouse\"]\n    }, options);\n    var _a = _this.options,\n        container = _a.container,\n        events = _a.events,\n        checkWindowBlur = _a.checkWindowBlur;\n    _this.isTouch = events.indexOf(\"touch\") > -1;\n    _this.isMouse = events.indexOf(\"mouse\") > -1;\n    _this.targets = elements;\n\n    if (_this.isMouse) {\n      elements.forEach(function (el) {\n        addEvent(el, \"mousedown\", _this.onDragStart);\n      });\n      addEvent(container, \"mousemove\", _this.onDrag);\n      addEvent(container, \"mouseup\", _this.onDragEnd);\n      addEvent(container, \"contextmenu\", _this.onDragEnd);\n    }\n\n    if (checkWindowBlur) {\n      addEvent(window, \"blur\", _this.onBlur);\n    }\n\n    if (_this.isTouch) {\n      var passive_1 = {\n        passive: false\n      };\n      elements.forEach(function (el) {\n        addEvent(el, \"touchstart\", _this.onDragStart, passive_1);\n      });\n      addEvent(container, \"touchmove\", _this.onDrag, passive_1);\n      addEvent(container, \"touchend\", _this.onDragEnd, passive_1);\n      addEvent(container, \"touchcancel\", _this.onDragEnd, passive_1);\n    }\n\n    return _this;\n  }\n  /**\n   * The total moved distance\n   */\n\n\n  var __proto = Gesto.prototype;\n\n  __proto.getMovement = function (clients) {\n    return this.getCurrentStore().getMovement(clients) + this.clientStores.slice(1).reduce(function (prev, cur) {\n      return prev + cur.movement;\n    }, 0);\n  };\n  /**\n   * Whether to drag\n   */\n\n\n  __proto.isDragging = function () {\n    return this.isDrag;\n  };\n  /**\n   * Whether to start drag\n   */\n\n\n  __proto.isFlag = function () {\n    return this.flag;\n  };\n  /**\n   * Whether to start pinch\n   */\n\n\n  __proto.isPinchFlag = function () {\n    return this.pinchFlag;\n  };\n  /**\n  * Whether to start double click\n  */\n\n\n  __proto.isDoubleFlag = function () {\n    return this.doubleFlag;\n  };\n  /**\n   * Whether to pinch\n   */\n\n\n  __proto.isPinching = function () {\n    return this.isPinch;\n  };\n  /**\n   * If a scroll event occurs, it is corrected by the scroll distance.\n   */\n\n\n  __proto.scrollBy = function (deltaX, deltaY, e, isCallDrag) {\n    if (isCallDrag === void 0) {\n      isCallDrag = true;\n    }\n\n    if (!this.flag) {\n      return;\n    }\n\n    this.clientStores[0].move(deltaX, deltaY);\n    isCallDrag && this.onDrag(e, true);\n  };\n  /**\n   * Create a virtual drag event.\n   */\n\n\n  __proto.move = function (_a, inputEvent) {\n    var deltaX = _a[0],\n        deltaY = _a[1];\n    var store = this.getCurrentStore();\n    var nextClients = store.prevClients;\n    return this.moveClients(nextClients.map(function (_a) {\n      var clientX = _a.clientX,\n          clientY = _a.clientY;\n      return {\n        clientX: clientX + deltaX,\n        clientY: clientY + deltaY,\n        originalClientX: clientX,\n        originalClientY: clientY\n      };\n    }), inputEvent, true);\n  };\n  /**\n   * The dragStart event is triggered by an external event.\n   */\n\n\n  __proto.triggerDragStart = function (e) {\n    this.onDragStart(e, false);\n  };\n  /**\n   * Set the event data while dragging.\n   */\n\n\n  __proto.setEventDatas = function (datas) {\n    var currentDatas = this.datas;\n\n    for (var name in datas) {\n      currentDatas[name] = datas[name];\n    }\n\n    return this;\n  };\n  /**\n   * Set the event data while dragging.\n   */\n\n\n  __proto.getEventDatas = function () {\n    return this.datas;\n  };\n  /**\n   * Unset Gesto\n   */\n\n\n  __proto.unset = function () {\n    var _this = this;\n\n    var targets = this.targets;\n    var container = this.options.container;\n    this.off();\n    removeEvent(window, \"blur\", this.onBlur);\n\n    if (this.isMouse) {\n      targets.forEach(function (target) {\n        removeEvent(target, \"mousedown\", _this.onDragStart);\n      });\n      removeEvent(container, \"mousemove\", this.onDrag);\n      removeEvent(container, \"mouseup\", this.onDragEnd);\n      removeEvent(container, \"contextmenu\", this.onDragEnd);\n    }\n\n    if (this.isTouch) {\n      targets.forEach(function (target) {\n        removeEvent(target, \"touchstart\", _this.onDragStart);\n      });\n      removeEvent(container, \"touchstart\", this.onDragStart);\n      removeEvent(container, \"touchmove\", this.onDrag);\n      removeEvent(container, \"touchend\", this.onDragEnd);\n      removeEvent(container, \"touchcancel\", this.onDragEnd);\n    }\n  };\n\n  __proto.onPinchStart = function (e) {\n    var pinchThreshold = this.options.pinchThreshold;\n\n    if (this.isDrag && this.getMovement() > pinchThreshold) {\n      return;\n    }\n\n    var store = new ClientStore(getEventClients(e));\n    this.pinchFlag = true;\n    this.clientStores.splice(0, 0, store);\n    var result = this.emit(\"pinchStart\", __assign({\n      datas: this.datas,\n      angle: store.getAngle(),\n      touches: this.getCurrentStore().getPositions()\n    }, store.getPosition(), {\n      inputEvent: e\n    }));\n\n    if (result === false) {\n      this.pinchFlag = false;\n    }\n  };\n\n  __proto.onPinch = function (e, clients) {\n    if (!this.flag || !this.pinchFlag || clients.length < 2) {\n      return;\n    }\n\n    var store = this.getCurrentStore();\n    this.isPinch = true;\n    this.emit(\"pinch\", __assign({\n      datas: this.datas,\n      movement: this.getMovement(clients),\n      angle: store.getAngle(clients),\n      rotation: store.getRotation(clients),\n      touches: store.getPositions(clients),\n      scale: store.getScale(clients),\n      distance: store.getDistance(clients)\n    }, store.getPosition(clients), {\n      inputEvent: e\n    }));\n  };\n\n  __proto.onPinchEnd = function (e) {\n    if (!this.pinchFlag) {\n      return;\n    }\n\n    var isPinch = this.isPinch;\n    this.isPinch = false;\n    this.pinchFlag = false;\n    var store = this.getCurrentStore();\n    this.emit(\"pinchEnd\", __assign({\n      datas: this.datas,\n      isPinch: isPinch,\n      touches: store.getPositions()\n    }, store.getPosition(), {\n      inputEvent: e\n    }));\n    this.isPinch = false;\n    this.pinchFlag = false;\n  };\n\n  __proto.initDrag = function () {\n    this.clientStores = [];\n    this.pinchFlag = false;\n    this.doubleFlag = false;\n    this.prevTime = 0;\n    this.flag = false;\n  };\n\n  __proto.getCurrentStore = function () {\n    return this.clientStores[0];\n  };\n\n  __proto.moveClients = function (clients, inputEvent, isAdd) {\n    var store = this.getCurrentStore();\n    var position = store[isAdd ? \"addClients\" : \"getPosition\"](clients);\n    this.isDrag = true;\n    return __assign({\n      datas: this.datas\n    }, position, {\n      movement: this.getMovement(clients),\n      isDrag: this.isDrag,\n      isPinch: this.isPinch,\n      isScroll: false,\n      inputEvent: inputEvent\n    });\n  };\n\n  return Gesto;\n}(EventEmitter);\n\nexport default Gesto;\n//# sourceMappingURL=gesto.esm.js.map\n","/*\nCopyright (c) 2019 Daybrush\nname: moveable\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/moveable.git\nversion: 0.21.1\n*/\nimport { ref, Properties } from 'framework-utils';\nimport { createPortal, createElement, Component, render } from 'react-simple-compat';\nimport Moveable$1, { MOVEABLE_PROPS, MOVEABLE_METHODS, MOVEABLE_EVENTS, getElementInfo as getElementInfo$1 } from 'react-compat-moveable';\nimport { isObject, findIndex, camelize, isArray } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\n\nvar InnerMoveable =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(InnerMoveable, _super);\n\n  function InnerMoveable(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {};\n    _this.state = _this.props;\n    return _this;\n  }\n\n  var __proto = InnerMoveable.prototype;\n\n  __proto.render = function () {\n    return createPortal(createElement(Moveable$1, __assign({\n      ref: ref(this, \"moveable\")\n    }, this.state)), this.state.parentElement);\n  };\n\n  return InnerMoveable;\n}(Component);\n\nvar PROPERTIES = MOVEABLE_PROPS;\nvar METHODS = MOVEABLE_METHODS;\nvar EVENTS = MOVEABLE_EVENTS;\n\n/*\nCopyright (c) 2019 Daybrush\nname: @scena/event-emitter\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/gesture.git\nversion: 1.0.3\n*/\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign$1 = function () {\n  __assign$1 = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign$1.apply(this, arguments);\n};\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\n/**\n * Implement EventEmitter on object or component.\n */\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    this._events = {};\n  }\n  /**\n   * Add a listener to the registered event.\n   * @param - Name of the event to be added\n   * @param - listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add listener in \"a\" event\n   * emitter.on(\"a\", () => {\n   * });\n   * // Add listeners\n   * emitter.on({\n   *  a: () => {},\n   *  b: () => {},\n   * });\n   */\n\n\n  var __proto = EventEmitter.prototype;\n\n  __proto.on = function (eventName, listener) {\n    if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.on(name, eventName[name]);\n      }\n    } else {\n      this._addEvent(eventName, listener, {});\n    }\n\n    return this;\n  };\n  /**\n   * Remove listeners registered in the event target.\n   * @param - Name of the event to be removed\n   * @param - listener function of the event to be removed\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Remove all listeners.\n   * emitter.off();\n   *\n   * // Remove all listeners in \"A\" event.\n   * emitter.off(\"a\");\n   *\n   *\n   * // Remove \"listener\" listener in \"a\" event.\n   * emitter.off(\"a\", listener);\n   */\n\n\n  __proto.off = function (eventName, listener) {\n    if (!eventName) {\n      this._events = {};\n    } else if (isObject(eventName)) {\n      for (var name in eventName) {\n        this.off(name);\n      }\n    } else if (!listener) {\n      this._events[eventName] = [];\n    } else {\n      var events = this._events[eventName];\n\n      if (events) {\n        var index = findIndex(events, function (e) {\n          return e.listener === listener;\n        });\n\n        if (index > -1) {\n          events.splice(index, 1);\n        }\n      }\n    }\n\n    return this;\n  };\n  /**\n   * Add a disposable listener and Use promise to the registered event.\n   * @param - Name of the event to be added\n   * @param - disposable listener function of the event to be added\n   * @example\n   * import EventEmitter from \"@scena/event-emitter\";\n   * cosnt emitter = new EventEmitter();\n   *\n   * // Add a disposable listener in \"a\" event\n   * emitter.once(\"a\", () => {\n   * });\n   *\n   * // Use Promise\n   * emitter.once(\"a\").then(e => {\n   * });\n   */\n\n\n  __proto.once = function (eventName, listener) {\n    var _this = this;\n\n    if (listener) {\n      this._addEvent(eventName, listener, {\n        once: true\n      });\n    }\n\n    return new Promise(function (resolve) {\n      _this._addEvent(eventName, resolve, {\n        once: true\n      });\n    });\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n\n  __proto.emit = function (eventName, param) {\n    var _this = this;\n\n    if (param === void 0) {\n      param = {};\n    }\n\n    var events = this._events[eventName];\n\n    if (!eventName || !events) {\n      return true;\n    }\n\n    var isStop = false;\n    param.eventType = eventName;\n\n    param.stop = function () {\n      isStop = true;\n    };\n\n    param.currentTarget = this;\n\n    __spreadArrays(events).forEach(function (info) {\n      info.listener(param);\n\n      if (info.once) {\n        _this.off(eventName, info.listener);\n      }\n    });\n\n    return !isStop;\n  };\n  /**\n   * Fires an event to call listeners.\n   * @param - Event name\n   * @param - Event parameter\n   * @return If false, stop the event.\n   * @example\n   *\n   * import EventEmitter from \"@scena/event-emitter\";\n   *\n   *\n   * const emitter = new EventEmitter();\n   *\n   * emitter.on(\"a\", e => {\n   * });\n   *\n   *\n   * emitter.emit(\"a\", {\n   *   a: 1,\n   * });\n   */\n\n  /**\n  * Fires an event to call listeners.\n  * @param - Event name\n  * @param - Event parameter\n  * @return If false, stop the event.\n  * @example\n  *\n  * import EventEmitter from \"@scena/event-emitter\";\n  *\n  *\n  * const emitter = new EventEmitter();\n  *\n  * emitter.on(\"a\", e => {\n  * });\n  *\n  * // emit\n  * emitter.trigger(\"a\", {\n  *   a: 1,\n  * });\n  */\n\n\n  __proto.trigger = function (eventName, param) {\n    if (param === void 0) {\n      param = {};\n    }\n\n    return this.emit(eventName, param);\n  };\n\n  __proto._addEvent = function (eventName, listener, options) {\n    var events = this._events;\n    events[eventName] = events[eventName] || [];\n    var listeners = events[eventName];\n    listeners.push(__assign$1({\n      listener: listener\n    }, options));\n  };\n\n  return EventEmitter;\n}();\n\n/**\n * Moveable is Draggable! Resizable! Scalable! Rotatable!\n * @sort 1\n * @extends EventEmitter\n */\n\nvar MoveableManager =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableManager, _super);\n  /**\n   *\n   */\n\n\n  function MoveableManager(parentElement, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.tempElement = document.createElement(\"div\");\n\n    var nextOptions = __assign({\n      container: parentElement || document.body\n    }, options);\n\n    var events = {};\n    EVENTS.forEach(function (name) {\n      events[camelize(\"on \" + name)] = function (e) {\n        return _this.trigger(name, e);\n      };\n    });\n    render(createElement(InnerMoveable, __assign({\n      ref: ref(_this, \"innerMoveable\"),\n      parentElement: parentElement\n    }, nextOptions, events)), _this.tempElement);\n    var target = nextOptions.target;\n\n    if (isArray(target) && target.length > 1) {\n      _this.updateRect();\n    }\n\n    return _this;\n  }\n\n  var __proto = MoveableManager.prototype;\n\n  __proto.setState = function (state, callback) {\n    this.innerMoveable.setState(state, callback);\n  };\n\n  __proto.destroy = function () {\n    render(null, this.tempElement);\n    this.off();\n    this.tempElement = null;\n    this.innerMoveable = null;\n  };\n\n  __proto.getMoveable = function () {\n    return this.innerMoveable.moveable;\n  };\n\n  MoveableManager = __decorate([Properties(METHODS, function (prototype, property) {\n    if (prototype[property]) {\n      return;\n    }\n\n    prototype[property] = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      var self = this.getMoveable();\n\n      if (!self || !self[property]) {\n        return;\n      }\n\n      return self[property].apply(self, args);\n    };\n  }), Properties(PROPERTIES, function (prototype, property) {\n    Object.defineProperty(prototype, property, {\n      get: function () {\n        return this.getMoveable().props[property];\n      },\n      set: function (value) {\n        var _a;\n\n        this.setState((_a = {}, _a[property] = value, _a));\n      },\n      enumerable: true,\n      configurable: true\n    });\n  })], MoveableManager);\n  return MoveableManager;\n}(EventEmitter);\n\nvar Moveable =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Moveable, _super);\n\n  function Moveable() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  return Moveable;\n}(MoveableManager);\n\nfunction getElementInfo(target, container, rootContainer) {\n  return getElementInfo$1(target, container, rootContainer);\n}\n\nexport default Moveable;\nexport { EVENTS, METHODS, PROPERTIES, getElementInfo };\n//# sourceMappingURL=moveable.esm.js.map\n","import { ɵɵdefineInjectable, Injectable, EventEmitter, Component, Input, Output, NgModule } from '@angular/core';\nimport Moveable, { METHODS, EVENTS, PROPERTIES } from 'moveable';\nimport { __decorate, __metadata } from 'tslib';\nimport { withMethods } from 'framework-utils';\n\nimport * as ɵngcc0 from '@angular/core';\nclass NgxMoveableService {\n    constructor() { }\n}\nNgxMoveableService.ɵfac = function NgxMoveableService_Factory(t) { return new (t || NgxMoveableService)(); };\nNgxMoveableService.ɵprov = ɵɵdefineInjectable({ factory: function NgxMoveableService_Factory() { return new NgxMoveableService(); }, token: NgxMoveableService, providedIn: \"root\" });\nNgxMoveableService.ctorParameters = () => [];\n\nclass NgxMoveableInterface {\n}\n__decorate([\n    withMethods(METHODS, { dragStart: 'ngDragStart' }),\n    __metadata(\"design:type\", Moveable)\n], NgxMoveableInterface.prototype, \"moveable\", void 0);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxMoveableService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return []; }, null); })();\n\n// @dynamic\nclass NgxMoveableComponent extends NgxMoveableInterface {\n    constructor() {\n        super();\n        EVENTS.forEach(name => {\n            // @ts-expect-error\n            this[name] = new EventEmitter();\n        });\n    }\n    ngOnInit() {\n        const options = {};\n        const events = {};\n        PROPERTIES.forEach(name => {\n            // @ts-expect-error\n            options[name] = this[name];\n        });\n        EVENTS.forEach(name => {\n            events[name] = (e) => {\n                // @ts-expect-error\n                this[name].emit(e);\n            };\n        });\n        this.moveable = new Moveable(this.container || document.body, options);\n        this.moveable.on(events);\n    }\n    ngOnChanges(changes) {\n        const moveable = this.moveable;\n        if (!moveable) {\n            return;\n        }\n        for (const name in changes) {\n            const { previousValue, currentValue } = changes[name];\n            if (previousValue === currentValue) {\n                continue;\n            }\n            // @ts-expect-error\n            moveable[name] = currentValue;\n        }\n    }\n    ngOnDestroy() {\n        this.moveable.destroy();\n    }\n}\nNgxMoveableComponent.ɵfac = function NgxMoveableComponent_Factory(t) { return new (t || NgxMoveableComponent)(); };\nNgxMoveableComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: NgxMoveableComponent, selectors: [[\"ngx-moveable\"]], inputs: { draggable: \"draggable\", resizable: \"resizable\", scalable: \"scalable\", rotatable: \"rotatable\", warpable: \"warpable\", pinchable: \"pinchable\", snappable: \"snappable\", origin: \"origin\", target: \"target\", container: \"container\", throttleDrag: \"throttleDrag\", throttleDragRotate: \"throttleDragRotate\", throttleResize: \"throttleResize\", throttleScale: \"throttleScale\", throttleRotate: \"throttleRotate\", keepRatio: \"keepRatio\", edge: \"edge\", pinchThreshold: \"pinchThreshold\", snapCenter: \"snapCenter\", snapVertical: \"snapVertical\", snapElement: \"snapElement\", snapHorizontal: \"snapHorizontal\", snapThreshold: \"snapThreshold\", horizontalGuidelines: \"horizontalGuidelines\", verticalGuidelines: \"verticalGuidelines\", elementGuidelines: \"elementGuidelines\", bounds: \"bounds\", dragArea: \"dragArea\", rotationPosition: \"rotationPosition\", baseDirection: \"baseDirection\", defaultGroupRotate: \"defaultGroupRotate\", ables: \"ables\", edgeDraggable: \"edgeDraggable\", translateZ: \"translateZ\", passDragArea: \"passDragArea\", clipTargetBounds: \"clipTargetBounds\", clipVerticalGuidelines: \"clipVerticalGuidelines\", clipHorizontalGuidelines: \"clipHorizontalGuidelines\", clipSnapThreshold: \"clipSnapThreshold\", className: \"className\", renderDirections: \"renderDirections\", scrollable: \"scrollable\", scrollContainer: \"scrollContainer\", scrollThreshold: \"scrollThreshold\", getScrollPosition: \"getScrollPosition\", rootContainer: \"rootContainer\", zoom: \"zoom\", transformOrigin: \"transformOrigin\", snapDigit: \"snapDigit\", isDisplaySnapDigit: \"isDisplaySnapDigit\", innerBounds: \"innerBounds\", triggerAblesSimultaneously: \"triggerAblesSimultaneously\", snapGap: \"snapGap\", pinchOutside: \"pinchOutside\", padding: \"padding\", snapDistFormat: \"snapDistFormat\", dragTarget: \"dragTarget\", checkInput: \"checkInput\", cspNonce: \"cspNonce\", startDragRotate: \"startDragRotate\", originDraggable: \"originDraggable\", originRelative: \"originRelative\", defaultGroupOrigin: \"defaultGroupOrigin\", groupable: \"groupable\", clippable: \"clippable\", customClipPath: \"customClipPath\", defaultClipPath: \"defaultClipPath\", clipRelative: \"clipRelative\", dragWithClip: \"dragWithClip\", clipArea: \"clipArea\", roundable: \"roundable\", roundRelative: \"roundRelative\", roundClickable: \"roundClickable\", minRoundControls: \"minRoundControls\", maxRoundControls: \"maxRoundControls\", props: \"props\", individualGroupable: \"individualGroupable\" }, outputs: { dragStart: \"dragStart\", drag: \"drag\", dragEnd: \"dragEnd\", dragGroupStart: \"dragGroupStart\", dragGroup: \"dragGroup\", dragGroupEnd: \"dragGroupEnd\", resizeStart: \"resizeStart\", resize: \"resize\", resizeEnd: \"resizeEnd\", resizeGroupStart: \"resizeGroupStart\", resizeGroup: \"resizeGroup\", resizeGroupEnd: \"resizeGroupEnd\", scaleStart: \"scaleStart\", scale: \"scale\", scaleEnd: \"scaleEnd\", scaleGroupStart: \"scaleGroupStart\", scaleGroup: \"scaleGroup\", scaleGroupEnd: \"scaleGroupEnd\", rotateStart: \"rotateStart\", rotate: \"rotate\", rotateEnd: \"rotateEnd\", rotateGroupStart: \"rotateGroupStart\", rotateGroup: \"rotateGroup\", rotateGroupEnd: \"rotateGroupEnd\", warpStart: \"warpStart\", warp: \"warp\", warpEnd: \"warpEnd\", pinchStart: \"pinchStart\", pinch: \"pinch\", pinchEnd: \"pinchEnd\", pinchGroupStart: \"pinchGroupStart\", pinchGroup: \"pinchGroup\", pinchGroupEnd: \"pinchGroupEnd\", click: \"click\", clickGroup: \"clickGroup\", renderStart: \"renderStart\", render: \"render\", renderEnd: \"renderEnd\", renderGroupStart: \"renderGroupStart\", renderGroup: \"renderGroup\", renderGroupEnd: \"renderGroupEnd\", scroll: \"scroll\", scrollGroup: \"scrollGroup\", snap: \"snap\", clipStart: \"clipStart\", clip: \"clip\", clipEnd: \"clipEnd\", roundStart: \"roundStart\", round: \"round\", roundEnd: \"roundEnd\", dragOriginStart: \"dragOriginStart\", dragOrigin: \"dragOrigin\", dragOriginEnd: \"dragOriginEnd\", beforeRenderStart: \"beforeRenderStart\", beforeRender: \"beforeRender\", beforeRenderEnd: \"beforeRenderEnd\", beforeRenderGroupStart: \"beforeRenderGroupStart\", beforeRenderGroup: \"beforeRenderGroup\", beforeRenderGroupEnd: \"beforeRenderGroupEnd\" }, features: [ɵngcc0.ɵɵInheritDefinitionFeature, ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function NgxMoveableComponent_Template(rf, ctx) { }, encapsulation: 2 });\nNgxMoveableComponent.ctorParameters = () => [];\nNgxMoveableComponent.propDecorators = {\n    draggable: [{ type: Input }],\n    resizable: [{ type: Input }],\n    scalable: [{ type: Input }],\n    rotatable: [{ type: Input }],\n    warpable: [{ type: Input }],\n    pinchable: [{ type: Input }],\n    snappable: [{ type: Input }],\n    origin: [{ type: Input }],\n    target: [{ type: Input }],\n    container: [{ type: Input }],\n    throttleDrag: [{ type: Input }],\n    throttleDragRotate: [{ type: Input }],\n    throttleResize: [{ type: Input }],\n    throttleScale: [{ type: Input }],\n    throttleRotate: [{ type: Input }],\n    keepRatio: [{ type: Input }],\n    edge: [{ type: Input }],\n    pinchThreshold: [{ type: Input }],\n    snapCenter: [{ type: Input }],\n    snapVertical: [{ type: Input }],\n    snapElement: [{ type: Input }],\n    snapHorizontal: [{ type: Input }],\n    snapThreshold: [{ type: Input }],\n    horizontalGuidelines: [{ type: Input }],\n    verticalGuidelines: [{ type: Input }],\n    elementGuidelines: [{ type: Input }],\n    bounds: [{ type: Input }],\n    dragArea: [{ type: Input }],\n    rotationPosition: [{ type: Input }],\n    baseDirection: [{ type: Input }],\n    defaultGroupRotate: [{ type: Input }],\n    ables: [{ type: Input }],\n    edgeDraggable: [{ type: Input }],\n    translateZ: [{ type: Input }],\n    passDragArea: [{ type: Input }],\n    clipTargetBounds: [{ type: Input }],\n    clipVerticalGuidelines: [{ type: Input }],\n    clipHorizontalGuidelines: [{ type: Input }],\n    clipSnapThreshold: [{ type: Input }],\n    className: [{ type: Input }],\n    renderDirections: [{ type: Input }],\n    scrollable: [{ type: Input }],\n    scrollContainer: [{ type: Input }],\n    scrollThreshold: [{ type: Input }],\n    getScrollPosition: [{ type: Input }],\n    rootContainer: [{ type: Input }],\n    zoom: [{ type: Input }],\n    transformOrigin: [{ type: Input }],\n    snapDigit: [{ type: Input }],\n    isDisplaySnapDigit: [{ type: Input }],\n    innerBounds: [{ type: Input }],\n    triggerAblesSimultaneously: [{ type: Input }],\n    snapGap: [{ type: Input }],\n    pinchOutside: [{ type: Input }],\n    padding: [{ type: Input }],\n    snapDistFormat: [{ type: Input }],\n    dragTarget: [{ type: Input }],\n    checkInput: [{ type: Input }],\n    cspNonce: [{ type: Input }],\n    startDragRotate: [{ type: Input }],\n    originDraggable: [{ type: Input }],\n    originRelative: [{ type: Input }],\n    defaultGroupOrigin: [{ type: Input }],\n    groupable: [{ type: Input }],\n    clippable: [{ type: Input }],\n    customClipPath: [{ type: Input }],\n    defaultClipPath: [{ type: Input }],\n    clipRelative: [{ type: Input }],\n    dragWithClip: [{ type: Input }],\n    clipArea: [{ type: Input }],\n    roundable: [{ type: Input }],\n    roundRelative: [{ type: Input }],\n    roundClickable: [{ type: Input }],\n    minRoundControls: [{ type: Input }],\n    maxRoundControls: [{ type: Input }],\n    props: [{ type: Input }],\n    individualGroupable: [{ type: Input }],\n    dragStart: [{ type: Output }],\n    drag: [{ type: Output }],\n    dragEnd: [{ type: Output }],\n    dragGroupStart: [{ type: Output }],\n    dragGroup: [{ type: Output }],\n    dragGroupEnd: [{ type: Output }],\n    resizeStart: [{ type: Output }],\n    resize: [{ type: Output }],\n    resizeEnd: [{ type: Output }],\n    resizeGroupStart: [{ type: Output }],\n    resizeGroup: [{ type: Output }],\n    resizeGroupEnd: [{ type: Output }],\n    scaleStart: [{ type: Output }],\n    scale: [{ type: Output }],\n    scaleEnd: [{ type: Output }],\n    scaleGroupStart: [{ type: Output }],\n    scaleGroup: [{ type: Output }],\n    scaleGroupEnd: [{ type: Output }],\n    rotateStart: [{ type: Output }],\n    rotate: [{ type: Output }],\n    rotateEnd: [{ type: Output }],\n    rotateGroupStart: [{ type: Output }],\n    rotateGroup: [{ type: Output }],\n    rotateGroupEnd: [{ type: Output }],\n    warpStart: [{ type: Output }],\n    warp: [{ type: Output }],\n    warpEnd: [{ type: Output }],\n    pinchStart: [{ type: Output }],\n    pinch: [{ type: Output }],\n    pinchEnd: [{ type: Output }],\n    pinchGroupStart: [{ type: Output }],\n    pinchGroup: [{ type: Output }],\n    pinchGroupEnd: [{ type: Output }],\n    click: [{ type: Output }],\n    clickGroup: [{ type: Output }],\n    renderStart: [{ type: Output }],\n    render: [{ type: Output }],\n    renderEnd: [{ type: Output }],\n    renderGroupStart: [{ type: Output }],\n    renderGroup: [{ type: Output }],\n    renderGroupEnd: [{ type: Output }],\n    scroll: [{ type: Output }],\n    scrollGroup: [{ type: Output }],\n    snap: [{ type: Output }],\n    clipStart: [{ type: Output }],\n    clip: [{ type: Output }],\n    clipEnd: [{ type: Output }],\n    roundStart: [{ type: Output }],\n    round: [{ type: Output }],\n    roundEnd: [{ type: Output }],\n    dragOriginStart: [{ type: Output }],\n    dragOrigin: [{ type: Output }],\n    dragOriginEnd: [{ type: Output }],\n    beforeRenderStart: [{ type: Output }],\n    beforeRender: [{ type: Output }],\n    beforeRenderEnd: [{ type: Output }],\n    beforeRenderGroupStart: [{ type: Output }],\n    beforeRenderGroup: [{ type: Output }],\n    beforeRenderGroupEnd: [{ type: Output }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxMoveableComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ngx-moveable',\n                template: ''\n            }]\n    }], function () { return []; }, { draggable: [{\n            type: Input\n        }], resizable: [{\n            type: Input\n        }], scalable: [{\n            type: Input\n        }], rotatable: [{\n            type: Input\n        }], warpable: [{\n            type: Input\n        }], pinchable: [{\n            type: Input\n        }], snappable: [{\n            type: Input\n        }], origin: [{\n            type: Input\n        }], target: [{\n            type: Input\n        }], container: [{\n            type: Input\n        }], throttleDrag: [{\n            type: Input\n        }], throttleDragRotate: [{\n            type: Input\n        }], throttleResize: [{\n            type: Input\n        }], throttleScale: [{\n            type: Input\n        }], throttleRotate: [{\n            type: Input\n        }], keepRatio: [{\n            type: Input\n        }], edge: [{\n            type: Input\n        }], pinchThreshold: [{\n            type: Input\n        }], snapCenter: [{\n            type: Input\n        }], snapVertical: [{\n            type: Input\n        }], snapElement: [{\n            type: Input\n        }], snapHorizontal: [{\n            type: Input\n        }], snapThreshold: [{\n            type: Input\n        }], horizontalGuidelines: [{\n            type: Input\n        }], verticalGuidelines: [{\n            type: Input\n        }], elementGuidelines: [{\n            type: Input\n        }], bounds: [{\n            type: Input\n        }], dragArea: [{\n            type: Input\n        }], rotationPosition: [{\n            type: Input\n        }], baseDirection: [{\n            type: Input\n        }], defaultGroupRotate: [{\n            type: Input\n        }], ables: [{\n            type: Input\n        }], edgeDraggable: [{\n            type: Input\n        }], translateZ: [{\n            type: Input\n        }], passDragArea: [{\n            type: Input\n        }], clipTargetBounds: [{\n            type: Input\n        }], clipVerticalGuidelines: [{\n            type: Input\n        }], clipHorizontalGuidelines: [{\n            type: Input\n        }], clipSnapThreshold: [{\n            type: Input\n        }], className: [{\n            type: Input\n        }], renderDirections: [{\n            type: Input\n        }], scrollable: [{\n            type: Input\n        }], scrollContainer: [{\n            type: Input\n        }], scrollThreshold: [{\n            type: Input\n        }], getScrollPosition: [{\n            type: Input\n        }], rootContainer: [{\n            type: Input\n        }], zoom: [{\n            type: Input\n        }], transformOrigin: [{\n            type: Input\n        }], snapDigit: [{\n            type: Input\n        }], isDisplaySnapDigit: [{\n            type: Input\n        }], innerBounds: [{\n            type: Input\n        }], triggerAblesSimultaneously: [{\n            type: Input\n        }], snapGap: [{\n            type: Input\n        }], pinchOutside: [{\n            type: Input\n        }], padding: [{\n            type: Input\n        }], snapDistFormat: [{\n            type: Input\n        }], dragTarget: [{\n            type: Input\n        }], checkInput: [{\n            type: Input\n        }], cspNonce: [{\n            type: Input\n        }], startDragRotate: [{\n            type: Input\n        }], originDraggable: [{\n            type: Input\n        }], originRelative: [{\n            type: Input\n        }], defaultGroupOrigin: [{\n            type: Input\n        }], groupable: [{\n            type: Input\n        }], clippable: [{\n            type: Input\n        }], customClipPath: [{\n            type: Input\n        }], defaultClipPath: [{\n            type: Input\n        }], clipRelative: [{\n            type: Input\n        }], dragWithClip: [{\n            type: Input\n        }], clipArea: [{\n            type: Input\n        }], roundable: [{\n            type: Input\n        }], roundRelative: [{\n            type: Input\n        }], roundClickable: [{\n            type: Input\n        }], minRoundControls: [{\n            type: Input\n        }], maxRoundControls: [{\n            type: Input\n        }], props: [{\n            type: Input\n        }], individualGroupable: [{\n            type: Input\n        }], dragStart: [{\n            type: Output\n        }], drag: [{\n            type: Output\n        }], dragEnd: [{\n            type: Output\n        }], dragGroupStart: [{\n            type: Output\n        }], dragGroup: [{\n            type: Output\n        }], dragGroupEnd: [{\n            type: Output\n        }], resizeStart: [{\n            type: Output\n        }], resize: [{\n            type: Output\n        }], resizeEnd: [{\n            type: Output\n        }], resizeGroupStart: [{\n            type: Output\n        }], resizeGroup: [{\n            type: Output\n        }], resizeGroupEnd: [{\n            type: Output\n        }], scaleStart: [{\n            type: Output\n        }], scale: [{\n            type: Output\n        }], scaleEnd: [{\n            type: Output\n        }], scaleGroupStart: [{\n            type: Output\n        }], scaleGroup: [{\n            type: Output\n        }], scaleGroupEnd: [{\n            type: Output\n        }], rotateStart: [{\n            type: Output\n        }], rotate: [{\n            type: Output\n        }], rotateEnd: [{\n            type: Output\n        }], rotateGroupStart: [{\n            type: Output\n        }], rotateGroup: [{\n            type: Output\n        }], rotateGroupEnd: [{\n            type: Output\n        }], warpStart: [{\n            type: Output\n        }], warp: [{\n            type: Output\n        }], warpEnd: [{\n            type: Output\n        }], pinchStart: [{\n            type: Output\n        }], pinch: [{\n            type: Output\n        }], pinchEnd: [{\n            type: Output\n        }], pinchGroupStart: [{\n            type: Output\n        }], pinchGroup: [{\n            type: Output\n        }], pinchGroupEnd: [{\n            type: Output\n        }], click: [{\n            type: Output\n        }], clickGroup: [{\n            type: Output\n        }], renderStart: [{\n            type: Output\n        }], render: [{\n            type: Output\n        }], renderEnd: [{\n            type: Output\n        }], renderGroupStart: [{\n            type: Output\n        }], renderGroup: [{\n            type: Output\n        }], renderGroupEnd: [{\n            type: Output\n        }], scroll: [{\n            type: Output\n        }], scrollGroup: [{\n            type: Output\n        }], snap: [{\n            type: Output\n        }], clipStart: [{\n            type: Output\n        }], clip: [{\n            type: Output\n        }], clipEnd: [{\n            type: Output\n        }], roundStart: [{\n            type: Output\n        }], round: [{\n            type: Output\n        }], roundEnd: [{\n            type: Output\n        }], dragOriginStart: [{\n            type: Output\n        }], dragOrigin: [{\n            type: Output\n        }], dragOriginEnd: [{\n            type: Output\n        }], beforeRenderStart: [{\n            type: Output\n        }], beforeRender: [{\n            type: Output\n        }], beforeRenderEnd: [{\n            type: Output\n        }], beforeRenderGroupStart: [{\n            type: Output\n        }], beforeRenderGroup: [{\n            type: Output\n        }], beforeRenderGroupEnd: [{\n            type: Output\n        }] }); })();\n\nclass NgxMoveableModule {\n}\nNgxMoveableModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: NgxMoveableModule });\nNgxMoveableModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function NgxMoveableModule_Factory(t) { return new (t || NgxMoveableModule)(); }, imports: [[]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NgxMoveableModule, { declarations: [NgxMoveableComponent], exports: [NgxMoveableComponent] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgxMoveableModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [NgxMoveableComponent],\n                imports: [],\n                exports: [NgxMoveableComponent]\n            }]\n    }], null, null); })();\n\n/*\n * Public API Surface of ngx-moveable\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NgxMoveableComponent, NgxMoveableModule, NgxMoveableService, NgxMoveableInterface as ɵa };\n\n//# sourceMappingURL=ngx-moveable.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/*\nCopyright (c) 2019 Daybrush\nname: order-map\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/order-map.git\nversion: 0.2.2\n*/\n/**\n *\n */\nvar OrderMap =\n/*#__PURE__*/\nfunction () {\n  /**\n   *\n   */\n  function OrderMap(separator) {\n    this.separator = separator;\n    this.orderMap = {};\n  }\n  /**\n   *\n   */\n\n\n  var __proto = OrderMap.prototype;\n\n  __proto.getFullName = function (names) {\n    return names.join(this.separator);\n  };\n  /**\n   *\n   */\n\n\n  __proto.get = function (names) {\n    return this.orderMap[this.getFullName(names)];\n  };\n  /**\n   *\n   */\n\n\n  __proto.gets = function (names, isFull) {\n    if (isFull === void 0) {\n      isFull = true;\n    }\n\n    var fullOrders = [];\n    var self = this;\n\n    function pushOrders(nextNames, stack) {\n      var orders = self.get(nextNames);\n\n      if (!orders) {\n        return;\n      }\n\n      orders.forEach(function (name) {\n        var nextStack = stack.concat([name]);\n        var nextOrders = pushOrders(nextNames.concat([name]), nextStack);\n\n        if (!nextOrders || !nextOrders.length) {\n          fullOrders.push(stack.concat([name]));\n        }\n      });\n      return orders;\n    }\n\n    pushOrders(names, isFull ? names : []);\n    return fullOrders;\n  };\n  /**\n   *\n   */\n\n\n  __proto.set = function (names, orders) {\n    var _this = this;\n\n    names.forEach(function (name, i) {\n      _this.addName(names.slice(0, i), name);\n    });\n    this.orderMap[this.getFullName(names)] = orders;\n    return orders;\n  };\n  /**\n   *\n   */\n\n\n  __proto.add = function (names) {\n    var length = names.length;\n\n    if (!length) {\n      return [];\n    }\n\n    return this.addName(names.slice(0, -1), names[length - 1]);\n  };\n  /**\n   *\n   */\n\n\n  __proto.addName = function (names, name) {\n    var orders = this.get(names) || this.set(names, []);\n\n    if (orders.indexOf(name) === -1) {\n      orders.push(name);\n    }\n\n    return orders;\n  };\n  /**\n   *\n   */\n\n\n  __proto.findIndex = function (names, orderName) {\n    var orders = this.orderMap[this.getFullName(names)];\n\n    if (!orders) {\n      return -1;\n    }\n\n    return orders.indexOf(orderName);\n  };\n  /**\n   *\n   */\n\n\n  __proto.remove = function (names) {\n    var fullName = this.getFullName(names);\n    var orderMap = this.orderMap;\n\n    for (var name in orderMap) {\n      if (name.indexOf(fullName) === 0) {\n        delete orderMap[name];\n      }\n    }\n\n    var length = names.length;\n\n    if (length) {\n      var prevNames = names.slice(0, -1);\n      var lastName = names[length - 1];\n      this.splice(prevNames, this.findIndex(prevNames, lastName), 1);\n    }\n\n    return this;\n  };\n  /**\n   *\n   */\n\n\n  __proto.filter = function (names, callback, isFull) {\n    if (isFull === void 0) {\n      isFull = true;\n    }\n\n    var result = this.gets(names, isFull).filter(callback);\n    var map = new OrderMap(this.separator);\n    var stack = isFull ? [] : names;\n    result.forEach(function (nextNames) {\n      map.add(stack.concat(nextNames));\n    });\n    return map;\n  };\n  /**\n   *\n   */\n\n\n  __proto.splice = function (names, index, deleteCount) {\n    var orders = [];\n\n    for (var _i = 3; _i < arguments.length; _i++) {\n      orders[_i - 3] = arguments[_i];\n    }\n\n    var currentOrders = this.get(names) || this.set(names, []);\n    currentOrders.splice.apply(currentOrders, [index, deleteCount].concat(orders));\n    return this;\n  };\n  /**\n   *\n   */\n\n\n  __proto.clear = function () {\n    this.orderMap = {};\n  };\n  /**\n   *\n   */\n\n\n  __proto.setObject = function (obj) {\n    var orderMap = this.orderMap;\n\n    for (var name in obj) {\n      orderMap[name] = obj[name].slice();\n    }\n  };\n  /**\n   *\n   */\n\n\n  __proto.getObject = function () {\n    var nextMap = {};\n    var orderMap = this.orderMap;\n\n    for (var name in orderMap) {\n      nextMap[name] = orderMap[name].slice();\n    }\n\n    return nextMap;\n  };\n  /**\n   *\n   */\n\n\n  __proto.clone = function () {\n    var map = new OrderMap(this.separator);\n    map.setObject(map.orderMap);\n    return map;\n  };\n\n  return OrderMap;\n}();\n\nexport default OrderMap;\n//# sourceMappingURL=order-map.esm.js.map\n","/*\nCopyright (c) 2020 Daybrush\nname: overlap-area\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/overlap-area.git\nversion: 1.0.0\n*/\nimport { sum, findIndex, getShapeDirection, getDist } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\n/**\n * @namespace OverlapArea\n */\n\n/**\n * Gets the size of a shape (polygon) made of points.\n * @memberof OverlapArea\n */\n\nfunction getAreaSize(points) {\n  if (points.length < 3) {\n    return 0;\n  }\n\n  return Math.abs(sum(points.map(function (point, i) {\n    var nextPoint = points[i + 1] || points[0];\n    return point[0] * nextPoint[1] - nextPoint[0] * point[1];\n  }))) / 2;\n}\n/**\n * Get points that fit the rect,\n * @memberof OverlapArea\n */\n\nfunction fitPoints(points, rect) {\n  var width = rect.width,\n      height = rect.height,\n      left = rect.left,\n      top = rect.top;\n\n  var _a = getMinMaxs(points),\n      minX = _a.minX,\n      minY = _a.minY,\n      maxX = _a.maxX,\n      maxY = _a.maxY;\n\n  var ratioX = width / (maxX - minX);\n  var ratioY = height / (maxY - minY);\n  return points.map(function (point) {\n    return [left + (point[0] - minX) * ratioX, top + (point[1] - minY) * ratioY];\n  });\n}\n/**\n * Get the minimum and maximum points of the points.\n * @memberof OverlapArea\n */\n\nfunction getMinMaxs(points) {\n  var xs = points.map(function (point) {\n    return point[0];\n  });\n  var ys = points.map(function (point) {\n    return point[1];\n  });\n  return {\n    minX: Math.min.apply(Math, xs),\n    minY: Math.min.apply(Math, ys),\n    maxX: Math.max.apply(Math, xs),\n    maxY: Math.max.apply(Math, ys)\n  };\n}\n/**\n * Whether the point is in shape\n * @param - point pos\n * @param - shape points\n * @param - whether to check except line\n * @memberof OverlapArea\n */\n\nfunction isInside(pos, points, excludeLine) {\n  var x = pos[0],\n      y = pos[1];\n\n  var _a = getMinMaxs(points),\n      minX = _a.minX,\n      minY = _a.minY,\n      maxX = _a.maxX,\n      maxY = _a.maxY;\n\n  var xLine = [[minX, y], [maxX, y]];\n  var yLine = [[x, minY], [x, maxY]];\n  var xLinearConstants = getLinearConstants(xLine[0], xLine[1]);\n  var yLinearConstants = getLinearConstants(yLine[0], yLine[1]);\n  var lines = convertLines(points);\n  var intersectionXPoints = [];\n  var intersectionYPoints = [];\n  lines.forEach(function (line) {\n    var linearConstants = getLinearConstants(line[0], line[1]);\n    var xPoints = getPointsOnLines(getIntersectionPointsByConstants(xLinearConstants, linearConstants), [xLine, line]);\n    var yPoints = getPointsOnLines(getIntersectionPointsByConstants(yLinearConstants, linearConstants), [yLine, line]);\n\n    if (xPoints.length === 1 ? line[0][1] !== y : true) {\n      intersectionXPoints.push.apply(intersectionXPoints, xPoints);\n    }\n\n    if (yPoints.length === 1 ? line[0][0] !== x : true) {\n      intersectionYPoints.push.apply(intersectionYPoints, yPoints);\n    }\n\n    if (!linearConstants[0]) {\n      intersectionXPoints.push.apply(intersectionXPoints, xPoints);\n    }\n\n    if (!linearConstants[1]) {\n      intersectionYPoints.push.apply(intersectionYPoints, yPoints);\n    }\n  });\n\n  if (!excludeLine) {\n    if (findIndex(intersectionXPoints, function (p) {\n      return p[0] === x;\n    }) > -1 || findIndex(intersectionYPoints, function (p) {\n      return p[1] === y;\n    }) > -1) {\n      return true;\n    }\n  }\n\n  if (intersectionXPoints.filter(function (p) {\n    return p[0] > x;\n  }).length % 2 && intersectionYPoints.filter(function (p) {\n    return p[1] > y;\n  }).length % 2) {\n    return true;\n  }\n\n  return false;\n}\n/**\n * Get the coefficient of the linear function. [a, b, c] (ax + by + c = 0)\n * @return [a, b, c]\n * @memberof OverlapArea\n */\n\nfunction getLinearConstants(point1, point2) {\n  var x1 = point1[0],\n      y1 = point1[1];\n  var x2 = point2[0],\n      y2 = point2[1]; // ax + by + c = 0\n\n  if (x1 === x2 && y1 === y2) {\n    return [0, 0, 0];\n  }\n\n  if (x1 === x2) {\n    // x = x1\n    return [1, 0, -x1];\n  } else if (y1 === y2) {\n    // y = y1\n    return [0, 1, -y1];\n  } else {\n    // x1 + a * y1 + b = 0\n    // x2 + a * y2 + b = 0\n    // (x1 -x2) + (y1 - y2) * a = 0\n    // a = (x2 - x1) / (y1 - y2)\n    // x1 + (x2 - x1) / (y1 - y2)\n    var a_1 = (x2 - x1) / (y1 - y2);\n    var b_1 = -x1 - a_1 * y1;\n    return [1, a_1, b_1];\n  }\n}\n/**\n * Get intersection points with linear functions.\n * @memberof OverlapArea\n */\n\nfunction getIntersectionPointsByConstants(linearConstants1, linearConstants2) {\n  var a1 = linearConstants1[0],\n      b1 = linearConstants1[1],\n      c1 = linearConstants1[2];\n  var a2 = linearConstants2[0],\n      b2 = linearConstants2[1],\n      c2 = linearConstants2[2];\n  var isZeroA = a1 === 0 && a2 === 0;\n  var isZeroB = b1 === 0 && b2 === 0;\n\n  if (isZeroA && isZeroB) {\n    return [];\n  } else if (isZeroA) {\n    // b1 * y + c1 = 0\n    // b2 * y + c2 = 0\n    var y1 = -c1 / b1;\n    var y2 = -c2 / b2;\n\n    if (y1 !== y2) {\n      return [];\n    } else {\n      return [[-Infinity, y1], [Infinity, y1]];\n    }\n  } else if (isZeroB) {\n    // a1 * x + c1 = 0\n    // a2 * x + c2 = 0\n    var x1 = -c1 / a1;\n    var x2 = -c2 / a2;\n\n    if (x1 !== x2) {\n      return [];\n    } else {\n      return [[x1, -Infinity], [x1, Infinity]];\n    }\n  } else if (a1 === 0) {\n    // b1 * y + c1 = 0\n    // y = - c1 / b1;\n    // a2 * x + b2 * y + c2 = 0\n    var y = -c1 / b1;\n    var x = -(b2 * y + c2) / a2;\n    return [[x, y]];\n  } else if (a2 === 0) {\n    // b2 * y + c2 = 0\n    // y = - c2 / b2;\n    // a1 * x + b1 * y + c1 = 0\n    var y = -c2 / b2;\n    var x = -(b1 * y + c1) / a1;\n    return [[x, y]];\n  } else if (b1 === 0) {\n    // a1 * x + c1 = 0\n    // x = - c1 / a1;\n    // a2 * x + b2 * y + c2 = 0\n    var x = -c1 / a1;\n    var y = -(a2 * x + c2) / b2;\n    return [[x, y]];\n  } else if (b2 === 0) {\n    // a2 * x + c2 = 0\n    // x = - c2 / a2;\n    // a1 * x + b1 * y + c1 = 0\n    var x = -c2 / a2;\n    var y = -(a1 * x + c1) / b1;\n    return [[x, y]];\n  } else {\n    // a1 * x + b1 * y + c1 = 0\n    // a2 * x + b2 * y + c2 = 0\n    // b2 * a1 * x + b2 * b1 * y + b2 * c1 = 0\n    // b1 * a2 * x + b1 * b2 * y + b1 * c2 = 0\n    // (b2 * a1 - b1 * a2)  * x = (b1 * c2 - b2 * c1)\n    var x = (b1 * c2 - b2 * c1) / (b2 * a1 - b1 * a2);\n    var y = -(a1 * x + c1) / b1;\n    return [[x, y]];\n  }\n}\n/**\n * Get intersection points to the two lines.\n * @memberof OverlapArea\n */\n\nfunction getIntersectionPoints(line1, line2, isLimit) {\n  var points = getIntersectionPointsByConstants(getLinearConstants(line1[0], line1[1]), getLinearConstants(line2[0], line2[1]));\n\n  if (isLimit) {\n    return getPointsOnLines(points, [line1, line2]);\n  }\n\n  return points;\n}\n/**\n * Get the points on the lines (between two points).\n * @memberof OverlapArea\n */\n\nfunction getPointsOnLines(points, lines) {\n  var minMaxs = lines.map(function (line) {\n    return [0, 1].map(function (order) {\n      return [Math.min(line[0][order], line[1][order]), Math.max(line[0][order], line[1][order])];\n    });\n  });\n\n  if (points.length === 2) {\n    var _a = points[0],\n        x = _a[0],\n        y = _a[1];\n\n    if (x === points[1][0]) {\n      /// Math.max(minY1, minY2)\n      var top = Math.max.apply(Math, minMaxs.map(function (minMax) {\n        return minMax[1][0];\n      })); /// Math.min(maxY1, miax2)\n\n      var bottom = Math.min.apply(Math, minMaxs.map(function (minMax) {\n        return minMax[1][1];\n      }));\n\n      if (top > bottom) {\n        return [];\n      }\n\n      return [[x, top], [x, bottom]];\n    } else if (y === points[1][1]) {\n      /// Math.max(minY1, minY2)\n      var left = Math.max.apply(Math, minMaxs.map(function (minMax) {\n        return minMax[0][0];\n      })); /// Math.min(maxY1, miax2)\n\n      var right = Math.min.apply(Math, minMaxs.map(function (minMax) {\n        return minMax[0][1];\n      }));\n\n      if (left > right) {\n        return [];\n      }\n\n      return [[left, y], [right, y]];\n    }\n  }\n\n  return points.filter(function (point) {\n    return minMaxs.every(function (minMax) {\n      return minMax[0][0] <= point[0] && point[0] <= minMax[0][1] && minMax[1][0] <= point[1] && point[1] <= minMax[1][1];\n    });\n  });\n}\n/**\n* Convert two points into lines.\n* @function\n* @memberof OverlapArea\n*/\n\nfunction convertLines(points) {\n  return __spreadArrays(points.slice(1), [points[0]]).map(function (point, i) {\n    return [points[i], point];\n  });\n}\n/**\n* Get the points of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\n\nfunction getOverlapPoints(points1, points2) {\n  var targetPoints1 = points1.slice();\n  var targetPoints2 = points2.slice();\n\n  if (getShapeDirection(targetPoints1) === -1) {\n    targetPoints1.reverse();\n  }\n\n  if (getShapeDirection(targetPoints2) === -1) {\n    targetPoints2.reverse();\n  }\n\n  var lines1 = convertLines(targetPoints1);\n  var lines2 = convertLines(targetPoints2);\n  var linearConstantss1 = lines1.map(function (line1) {\n    return getLinearConstants(line1[0], line1[1]);\n  });\n  var linearConstantss2 = lines2.map(function (line2) {\n    return getLinearConstants(line2[0], line2[1]);\n  });\n  var overlapInfos = [];\n  linearConstantss1.forEach(function (linearConstants1, i) {\n    var line1 = lines1[i];\n    var linePointInfos = [];\n    linearConstantss2.forEach(function (linearConstants2, j) {\n      var intersectionPoints = getIntersectionPointsByConstants(linearConstants1, linearConstants2);\n      var points = getPointsOnLines(intersectionPoints, [line1, lines2[j]]);\n      linePointInfos.push.apply(linePointInfos, points.map(function (pos) {\n        return {\n          index1: i,\n          index2: j,\n          pos: pos\n        };\n      }));\n    });\n    linePointInfos.sort(function (a, b) {\n      return getDist(line1[0], a.pos) - getDist(line1[0], b.pos);\n    });\n    overlapInfos.push.apply(overlapInfos, linePointInfos);\n\n    if (isInside(line1[1], targetPoints2)) {\n      overlapInfos.push({\n        index1: i,\n        index2: -1,\n        pos: line1[1]\n      });\n    }\n  });\n  lines2.forEach(function (line2, i) {\n    if (isInside(line2[1], targetPoints1)) {\n      var isNext_1 = false;\n      var index = findIndex(overlapInfos, function (_a) {\n        var index2 = _a.index2;\n\n        if (index2 === i) {\n          isNext_1 = true;\n          return false;\n        }\n\n        if (isNext_1) {\n          return true;\n        }\n\n        return false;\n      });\n\n      if (index === -1) {\n        isNext_1 = false;\n        index = findIndex(overlapInfos, function (_a) {\n          var index1 = _a.index1,\n              index2 = _a.index2;\n\n          if (index1 === -1 && index2 + 1 === i) {\n            isNext_1 = true;\n            return false;\n          }\n\n          if (isNext_1) {\n            return true;\n          }\n\n          return false;\n        });\n      }\n\n      if (index === -1) {\n        overlapInfos.push({\n          index1: -1,\n          index2: i,\n          pos: line2[1]\n        });\n      } else {\n        overlapInfos.splice(index, 0, {\n          index1: -1,\n          index2: i,\n          pos: line2[1]\n        });\n      }\n    }\n  }); // console.log(overlapInfos);\n\n  var overlapPoints = overlapInfos.map(function (_a) {\n    var pos = _a.pos;\n    return pos;\n  });\n  var pointMap = {};\n  return overlapPoints.filter(function (point) {\n    var key = point[0] + \"x\" + point[1];\n\n    if (pointMap[key]) {\n      return false;\n    }\n\n    pointMap[key] = true;\n    return true;\n  });\n}\n/**\n* Gets the size of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\n\nfunction getOverlapSize(points1, points2) {\n  var points = getOverlapPoints(points1, points2);\n  return getAreaSize(points);\n}\n\nexport { convertLines, fitPoints, getAreaSize, getIntersectionPoints, getIntersectionPointsByConstants, getLinearConstants, getMinMaxs, getOverlapPoints, getOverlapSize, getPointsOnLines, isInside };\n//# sourceMappingURL=overlap-area.esm.js.map\n","/*\nCopyright (c) Daybrush\nname: react-compat-css-styled\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/css-styled.git\nversion: 1.0.0\n*/\nimport cssStyled from 'css-styled';\nimport { createElement, Component } from 'react-simple-compat';\nimport { ref } from 'framework-utils';\n\n/*\nCopyright (c) 2019 Daybrush\nname: react-css-styled\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/css-styled/tree/master/packages/react-css-styled\nversion: 1.0.0\n*/\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nvar StyledElement =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(StyledElement, _super);\n\n  function StyledElement() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.injectResult = null;\n    _this.tag = \"div\";\n    return _this;\n  }\n\n  var __proto = StyledElement.prototype;\n\n  __proto.render = function () {\n    var _a = this.props,\n        _b = _a.className,\n        className = _b === void 0 ? \"\" : _b,\n        cspNonce = _a.cspNonce,\n        attributes = __rest(_a, [\"className\", \"cspNonce\"]);\n\n    var cssId = this.injector.className;\n    var Tag = this.tag;\n    return createElement(Tag, __assign({\n      \"ref\": ref(this, \"element\"),\n      \"data-styled-id\": cssId,\n      \"className\": className + \" \" + cssId\n    }, attributes));\n  };\n\n  __proto.componentDidMount = function () {\n    this.injectResult = this.injector.inject(this.element, {\n      nonce: this.props.cspNonce\n    });\n  };\n\n  __proto.componentWillUnmount = function () {\n    this.injectResult.destroy();\n    this.injectResult = null;\n  };\n\n  __proto.getElement = function () {\n    return this.element;\n  };\n\n  return StyledElement;\n}(Component);\n\nfunction styled(tag, css) {\n  var injector = cssStyled(css);\n  return (\n    /*#__PURE__*/\n    function (_super) {\n      __extends(Styled, _super);\n\n      function Styled() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n\n        _this.injector = injector;\n        _this.tag = tag;\n        return _this;\n      }\n\n      return Styled;\n    }(StyledElement)\n  );\n}\n\nexport default styled;\nexport { StyledElement };\n","/*\nCopyright (c) 2019 Daybrush\nname: react-compat-moveable\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/moveable/blob/master/packages/react-compat-moveable\nversion: 0.9.1\n*/\nimport getAgent from '@egjs/agent';\nimport { ref, withMethods, prefixNames, refs, prefixCSS } from 'framework-utils';\nimport { isString, isUndefined, getRad, isObject, getShapeDirection, hasClass, isArray, splitSpace, average, calculateBoundSize, dot, addClass, convertUnitSize, getKeys, findIndex, find, removeClass, splitBracket, splitComma, splitUnit } from '@daybrush/utils';\nimport { createIdentityMatrix, convertDimension, multiply, convertMatrixtoCSS, ignoreDimension, multiplies, calculate, convertPositionMatrix, minus, invert, createOriginMatrix, plus, createWarpMatrix, convertCSStoMatrix, createScaleMatrix, getOrigin, fromTranslation, rotate, createRotateMatrix } from '@scena/matrix';\nimport { toMat, parse, parseMat } from 'css-to-mat';\nimport { fitPoints, getOverlapSize, getAreaSize, isInside, getMinMaxs } from 'overlap-area';\nimport DragScroll from '@scena/dragscroll';\nimport { createElement, PureComponent } from 'react-simple-compat';\nimport Gesto from 'gesto';\nimport ChildrenDiffer from '@egjs/children-differ';\nimport styled from 'react-compat-css-styled';\n\n/*\nCopyright (c) 2019 Daybrush\nname: react-moveable\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/moveable/blob/master/packages/react-moveable\nversion: 0.24.1\n*/\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\nfunction getSVGCursor(scale, degree) {\n  return \"data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"\" + 32 * scale + \"px\\\" height=\\\"\" + 32 * scale + \"px\\\" viewBox=\\\"0 0 32 32\\\" ><path d=\\\"M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1.2\\\" fill=\\\"black\\\" stroke=\\\"white\\\" style=\\\"transform:rotate(\" + degree + \"deg);transform-origin: 16px 16px\\\"></path></svg>\";\n}\n\nfunction getCursorCSS(degree) {\n  var x1 = getSVGCursor(1, degree);\n  var x2 = getSVGCursor(2, degree);\n  var degree45 = Math.round(degree / 45) * 45 % 180;\n  var defaultCursor = degree45 === 135 ? \"nwse-resize\" : degree45 === 45 ? \"nesw-resize\" : degree45 === 90 ? \"ew-resize\" : \"ns-resize\"; // 135\n  // tslint:disable-next-line: max-line-length\n\n  return \"cursor:\" + defaultCursor + \";cursor: url('\" + x1 + \"') 16 16, \" + defaultCursor + \";cursor: -webkit-image-set(url('\" + x1 + \"') 1x, url('\" + x2 + \"') 2x) 16 16, \" + defaultCursor + \";\";\n}\n\nvar agent = getAgent();\nvar IS_WEBKIT = agent.browser.webkit;\nvar IS_WEBKIT605 = IS_WEBKIT && function () {\n  var res = /applewebkit\\/([^\\s]+)/g.exec(navigator.userAgent.toLowerCase());\n  return res ? parseFloat(res[1]) < 605 : false;\n}();\nvar PREFIX = \"moveable-\";\nvar MOVEABLE_CSS = \"\\n{\\n\\tposition: absolute;\\n\\twidth: 1px;\\n\\theight: 1px;\\n\\tleft: 0;\\n\\ttop: 0;\\n    z-index: 3000;\\n    --moveable-color: #4af;\\n    --zoom: 1;\\n    --zoompx: 1px;\\n    will-change: transform;\\n}\\n.control-box {\\n    z-index: 0;\\n}\\n.line, .control {\\n\\tleft: 0;\\n    top: 0;\\n    will-change: transform;\\n}\\n.control {\\n\\tposition: absolute;\\n\\twidth: 14px;\\n\\theight: 14px;\\n\\tborder-radius: 50%;\\n\\tborder: 2px solid #fff;\\n\\tbox-sizing: border-box;\\n    background: #4af;\\n    background: var(--moveable-color);\\n\\tmargin-top: -7px;\\n    margin-left: -7px;\\n    border: 2px solid #fff;\\n    z-index: 10;\\n}\\n.padding {\\n    position: absolute;\\n    top: 0px;\\n    left: 0px;\\n    width: 100px;\\n    height: 100px;\\n    transform-origin: 0 0;\\n}\\n.line {\\n\\tposition: absolute;\\n\\twidth: 1px;\\n    height: 1px;\\n    background: #4af;\\n    background: var(--moveable-color);\\n\\ttransform-origin: 0px 50%;\\n}\\n.line.dashed {\\n    box-sizing: border-box;\\n    background: transparent;\\n}\\n.line.dashed.horizontal {\\n    border-top: 1px dashed #4af;\\n    border-top-color: #4af;\\n    border-top-color: var(--moveable-color);\\n}\\n.line.dashed.vertical {\\n    border-left: 1px dashed #4af;\\n    border-left-color: #4af;\\n    border-left-color: var(--moveable-color);\\n}\\n.line.dashed:before {\\n    position: absolute;\\n    content: attr(data-size);\\n    font-size: 12px;\\n    font-weight: bold;\\n}\\n.line.dashed.horizontal:before, .line.gap.horizontal:before {\\n    left: 50%;\\n    transform: translateX(-50%);\\n    bottom: 5px;\\n}\\n.line.dashed.vertical:before, .line.gap.vertical:before {\\n    top: 50%;\\n    transform: translateY(-50%);\\n    left: 5px;\\n}\\n.line.vertical {\\n    transform: translateX(-50%);\\n}\\n.line.horizontal {\\n    transform: translateY(-50%);\\n}\\n.line.vertical.bold {\\n    width: 2px;\\n}\\n.line.horizontal.bold {\\n    height: 2px;\\n}\\n\\n.line.gap {\\n    background: #f55;\\n}\\n.line.gap:before {\\n    position: absolute;\\n    content: attr(data-size);\\n    color: #f55;\\n    font-size: 12px;\\n    font-weight: bold;\\n}\\n.control.origin {\\n\\tborder-color: #f55;\\n\\tbackground: #fff;\\n\\twidth: 12px;\\n\\theight: 12px;\\n\\tmargin-top: -6px;\\n    margin-left: -6px;\\n\\tpointer-events: none;\\n}\\n\" + [0, 15, 30, 45, 60, 75, 90, 105, 120, 135, 150, 165].map(function (degree) {\n  return \"\\n.direction[data-rotation=\\\"\" + degree + \"\\\"] {\\n\\t\" + getCursorCSS(degree) + \"\\n}\\n\";\n}).join(\"\\n\") + \"\\n.group {\\n    z-index: -1;\\n}\\n.area {\\n    position: absolute;\\n}\\n.area-pieces {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    display: none;\\n}\\n.area.avoid, .area.pass {\\n    pointer-events: none;\\n}\\n.area.avoid+.area-pieces {\\n    display: block;\\n}\\n.area-piece {\\n    position: absolute;\\n}\\n\\n\" + (IS_WEBKIT605 ? \":global svg *:before {\\n\\tcontent:\\\"\\\";\\n\\ttransform-origin: inherit;\\n}\" : \"\") + \"\\n\";\nvar NEARBY_POS = [[0, 1, 2], [1, 0, 3], [2, 0, 3], [3, 1, 2]];\nvar TINY_NUM = 0.0000001;\nvar MIN_SCALE = 0.000000001;\nvar MAX_NUM = Math.pow(10, 10);\nvar MIN_NUM = -MAX_NUM;\nvar DIRECTIONS = [\"n\", \"w\", \"s\", \"e\", \"nw\", \"ne\", \"sw\", \"se\"];\nvar DIRECTION_INDEXES = {\n  n: [0, 1],\n  s: [2, 3],\n  w: [2, 0],\n  e: [1, 3],\n  nw: [0],\n  ne: [1],\n  sw: [2],\n  se: [3]\n};\nvar DIRECTION_ROTATIONS = {\n  n: 0,\n  s: 180,\n  w: 270,\n  e: 90,\n  nw: 315,\n  ne: 45,\n  sw: 225,\n  se: 135\n};\nvar MOVEABLE_METHODS = [\"isMoveableElement\", \"updateRect\", \"updateTarget\", \"destroy\", \"dragStart\", \"isInside\", \"hitTest\", \"setState\", \"getRect\", \"request\", \"isDragging\", \"getManager\"];\n\nfunction multiply2(pos1, pos2) {\n  return [pos1[0] * pos2[0], pos1[1] * pos2[1]];\n}\nfunction prefix() {\n  var classNames = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    classNames[_i] = arguments[_i];\n  }\n\n  return prefixNames.apply(void 0, __spreadArrays([PREFIX], classNames));\n}\nfunction getTransformMatrix(transform) {\n  if (!transform || transform === \"none\") {\n    return [1, 0, 0, 1, 0, 0];\n  }\n\n  if (isObject(transform)) {\n    return transform;\n  }\n\n  var value = splitBracket(transform).value;\n  return value.split(/s*,\\s*/g).map(function (v) {\n    return parseFloat(v);\n  });\n}\nfunction getAbsoluteMatrix(matrix, n, origin) {\n  return multiplies(n, createOriginMatrix(origin, n), matrix, createOriginMatrix(origin.map(function (a) {\n    return -a;\n  }), n));\n}\nfunction measureSVGSize(el, unit, isHorizontal) {\n  if (unit === \"%\") {\n    var viewBox = getSVGViewBox(el.ownerSVGElement);\n    return viewBox[isHorizontal ? \"width\" : \"height\"] / 100;\n  }\n\n  return 1;\n}\nfunction getBeforeTransformOrigin(el) {\n  var relativeOrigin = getTransformOrigin(getComputedStyle$1(el, \":before\"));\n  return relativeOrigin.map(function (o, i) {\n    var _a = splitUnit(o),\n        value = _a.value,\n        unit = _a.unit;\n\n    return value * measureSVGSize(el, unit, i === 0);\n  });\n}\nfunction getTransformOrigin(style) {\n  var transformOrigin = style.transformOrigin;\n  return transformOrigin ? transformOrigin.split(\" \") : [\"0\", \"0\"];\n}\nfunction getOffsetInfo(el, lastParent, isParent) {\n  var body = document.body;\n  var target = !el || isParent ? el : el.parentElement;\n  var isEnd = false;\n  var position = \"relative\";\n\n  while (target && target !== body) {\n    if (lastParent === target) {\n      isEnd = true;\n    }\n\n    var style = getComputedStyle$1(target);\n    var transform = style.transform;\n    position = style.position;\n\n    if (position !== \"static\" || transform && transform !== \"none\") {\n      break;\n    }\n\n    target = target.parentElement;\n    position = \"relative\";\n  }\n\n  return {\n    isStatic: position === \"static\",\n    isEnd: isEnd || !target || target === body,\n    offsetParent: target || body\n  };\n}\nfunction getOffsetPosInfo(el, container, style, isFixed) {\n  var _a;\n\n  var tagName = el.tagName.toLowerCase();\n  var offsetLeft = el.offsetLeft;\n  var offsetTop = el.offsetTop;\n\n  if (isFixed) {\n    var containerClientRect = (container || document.documentElement).getBoundingClientRect();\n    offsetLeft -= containerClientRect.left;\n    offsetTop -= containerClientRect.top;\n  } // svg\n\n\n  var isSVG = isUndefined(offsetLeft);\n  var hasOffset = !isSVG;\n  var origin;\n  var targetOrigin; // inner svg element\n\n  if (!hasOffset && tagName !== \"svg\") {\n    origin = IS_WEBKIT605 ? getBeforeTransformOrigin(el) : getTransformOrigin(style).map(function (pos) {\n      return parseFloat(pos);\n    });\n    targetOrigin = origin.slice();\n    hasOffset = true;\n\n    if (tagName === \"g\") {\n      offsetLeft = 0;\n      offsetTop = 0;\n    } else {\n      _a = getSVGGraphicsOffset(el, origin), offsetLeft = _a[0], offsetTop = _a[1], origin[0] = _a[2], origin[1] = _a[3];\n    }\n  } else {\n    origin = getTransformOrigin(style).map(function (pos) {\n      return parseFloat(pos);\n    });\n    targetOrigin = origin.slice();\n  }\n\n  return {\n    isSVG: isSVG,\n    hasOffset: hasOffset,\n    offset: [offsetLeft || 0, offsetTop || 0],\n    origin: origin,\n    targetOrigin: targetOrigin\n  };\n}\nfunction getBodyOffset(el, isSVG, style) {\n  if (style === void 0) {\n    style = window.getComputedStyle(el);\n  }\n\n  var bodyStyle = window.getComputedStyle(document.body);\n  var bodyPosition = bodyStyle.position;\n\n  if (!isSVG && (!bodyPosition || bodyPosition === \"static\")) {\n    return [0, 0];\n  }\n\n  var marginLeft = parseInt(bodyStyle.marginLeft, 10);\n  var marginTop = parseInt(bodyStyle.marginTop, 10);\n\n  if (style.position === \"absolute\") {\n    if (style.top !== \"auto\" || style.bottom !== \"auto\") {\n      marginTop = 0;\n    }\n\n    if (style.left !== \"auto\" || style.right !== \"auto\") {\n      marginLeft = 0;\n    }\n  }\n\n  return [marginLeft, marginTop];\n}\nfunction getMatrixStackInfo(target, container) {\n  var el = target;\n  var matrixes = [];\n  var isEnd = false;\n  var is3d = false;\n  var n = 3;\n  var transformOrigin;\n  var targetTransformOrigin;\n  var targetMatrix;\n  var offsetContainer = getOffsetInfo(container, container, true).offsetParent; // if (prevMatrix) {\n  //     isEnd = target === container;\n  //     if (prevMatrix.length > 10) {\n  //         is3d = true;\n  //         n = 4;\n  //     }\n  //     container = target.parentElement;\n  // }\n\n  while (el && !isEnd) {\n    var style = getComputedStyle$1(el);\n    var tagName = el.tagName.toLowerCase();\n    var position = style.position;\n    var isFixed = position === \"fixed\";\n    var matrix = convertCSStoMatrix(getTransformMatrix(style.transform)); // convert 3 to 4\n\n    var length = matrix.length;\n\n    if (!is3d && length === 16) {\n      is3d = true;\n      n = 4;\n      var matrixesLength = matrixes.length;\n\n      for (var i = 0; i < matrixesLength; ++i) {\n        matrixes[i] = convertDimension(matrixes[i], 3, 4);\n      }\n    }\n\n    if (is3d && length === 9) {\n      matrix = convertDimension(matrix, 3, 4);\n    }\n\n    var _a = getOffsetPosInfo(el, container, style, isFixed),\n        hasOffset = _a.hasOffset,\n        isSVG = _a.isSVG,\n        origin = _a.origin,\n        targetOrigin = _a.targetOrigin,\n        offsetPos = _a.offset;\n\n    var offsetLeft = offsetPos[0],\n        offsetTop = offsetPos[1];\n\n    if (tagName === \"svg\" && targetMatrix) {\n      matrixes.push( // scale matrix for svg's SVGElements.\n      getSVGMatrix(el, n), createIdentityMatrix(n));\n    }\n\n    var _b = getOffsetInfo(el, container),\n        offsetParent = _b.offsetParent,\n        isOffsetEnd = _b.isEnd,\n        isStatic = _b.isStatic;\n\n    if (IS_WEBKIT && hasOffset && !isSVG && isStatic && (position === \"relative\" || position === \"static\")) {\n      offsetLeft -= offsetParent.offsetLeft;\n      offsetTop -= offsetParent.offsetTop;\n      isEnd = isEnd || isOffsetEnd;\n    }\n\n    var parentClientLeft = 0;\n    var parentClientTop = 0;\n\n    if (hasOffset && offsetContainer !== offsetParent) {\n      // border\n      parentClientLeft = offsetParent.clientLeft;\n      parentClientTop = offsetParent.clientTop;\n    }\n\n    if (hasOffset && offsetParent === document.body) {\n      var margin = getBodyOffset(el, false, style);\n      offsetLeft += margin[0];\n      offsetTop += margin[1];\n    }\n\n    matrixes.push( // absolute matrix\n    getAbsoluteMatrix(matrix, n, origin), // offset matrix (offsetPos + clientPos(border))\n    createOriginMatrix(hasOffset ? [offsetLeft - el.scrollLeft + parentClientLeft, offsetTop - el.scrollTop + parentClientTop] : [el, origin], n));\n\n    if (!targetMatrix) {\n      targetMatrix = matrix;\n    }\n\n    if (!transformOrigin) {\n      transformOrigin = origin;\n    }\n\n    if (!targetTransformOrigin) {\n      targetTransformOrigin = targetOrigin;\n    }\n\n    if (isEnd || isFixed) {\n      break;\n    } else {\n      el = offsetParent;\n      isEnd = isOffsetEnd;\n    }\n  }\n\n  if (!targetMatrix) {\n    targetMatrix = createIdentityMatrix(n);\n  }\n\n  if (!transformOrigin) {\n    transformOrigin = [0, 0];\n  }\n\n  if (!targetTransformOrigin) {\n    targetTransformOrigin = [0, 0];\n  }\n\n  return {\n    offsetContainer: offsetContainer,\n    matrixes: matrixes,\n    targetMatrix: targetMatrix,\n    transformOrigin: transformOrigin,\n    targetOrigin: targetTransformOrigin,\n    is3d: is3d\n  };\n}\nfunction calculateElementInfo(target, container, rootContainer, isAbsolute3d, state) {\n  var _a;\n\n  if (rootContainer === void 0) {\n    rootContainer = container;\n  } // const prevMatrix = state ? state.beforeMatrix : undefined;\n  // const prevRootMatrix = state ? state.rootMatrix : undefined;\n  // const prevN = state ? (state.is3d ? 4 : 3) : undefined;\n\n\n  var width = 0;\n  var height = 0;\n  var rotation = 0;\n  var allResult = {};\n\n  if (state) {\n    width = state.width;\n    height = state.height;\n  } else if (target) {\n    var style = getComputedStyle$1(target);\n    width = target.offsetWidth;\n    height = target.offsetHeight;\n\n    if (isUndefined(width)) {\n      _a = getSize(target, style, true), width = _a[0], height = _a[1];\n    }\n  }\n\n  if (target) {\n    var result = calculateMatrixStack(target, container, rootContainer, isAbsolute3d);\n    var position = calculateMoveablePosition(result.allMatrix, result.transformOrigin, width, height);\n    allResult = __assign(__assign({}, result), position);\n    var rotationPosition = calculateMoveablePosition(result.allMatrix, [50, 50], 100, 100);\n    rotation = getRotationRad([rotationPosition.pos1, rotationPosition.pos2], rotationPosition.direction);\n  }\n\n  var n = isAbsolute3d ? 4 : 3;\n  return __assign({\n    width: width,\n    height: height,\n    rotation: rotation,\n    // rootMatrix: number[];\n    // beforeMatrix: number[];\n    // offsetMatrix: number[];\n    // allMatrix: number[];\n    // targetMatrix: number[];\n    // targetTransform: string;\n    // transformOrigin: number[];\n    // targetOrigin: number[];\n    // is3d: boolean;\n    rootMatrix: createIdentityMatrix(n),\n    beforeMatrix: createIdentityMatrix(n),\n    offsetMatrix: createIdentityMatrix(n),\n    allMatrix: createIdentityMatrix(n),\n    targetMatrix: createIdentityMatrix(n),\n    targetTransform: \"\",\n    transformOrigin: [0, 0],\n    targetOrigin: [0, 0],\n    is3d: !!isAbsolute3d,\n    // left: number;\n    // top: number;\n    // right: number;\n    // bottom: number;\n    // origin: number[];\n    // pos1: number[];\n    // pos2: number[];\n    // pos3: number[];\n    // pos4: number[];\n    // direction: 1 | -1;\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    origin: [0, 0],\n    pos1: [0, 0],\n    pos2: [0, 0],\n    pos3: [0, 0],\n    pos4: [0, 0],\n    direction: 1\n  }, allResult);\n}\nfunction getElementInfo(target, container, rootContainer) {\n  if (rootContainer === void 0) {\n    rootContainer = container;\n  }\n\n  return calculateElementInfo(target, container, rootContainer, true);\n}\nfunction calculateMatrixStack(target, container, rootContainer, isAbsolute3d) {\n  if (rootContainer === void 0) {\n    rootContainer = container;\n  }\n\n  var _a = getMatrixStackInfo(target, container),\n      matrixes = _a.matrixes,\n      is3d = _a.is3d,\n      prevTargetMatrix = _a.targetMatrix,\n      transformOrigin = _a.transformOrigin,\n      targetOrigin = _a.targetOrigin,\n      offsetContainer = _a.offsetContainer; // prevMatrix\n\n\n  var _b = getMatrixStackInfo(offsetContainer, rootContainer),\n      rootMatrixes = _b.matrixes,\n      isRoot3d = _b.is3d; // prevRootMatrix\n  // if (rootContainer === document.body) {\n  //     console.log(offsetContainer, rootContainer, rootMatrixes);\n  // }\n\n\n  var isNext3d = isAbsolute3d || isRoot3d || is3d;\n  var n = isNext3d ? 4 : 3;\n  var isSVGGraphicElement = target.tagName.toLowerCase() !== \"svg\" && \"ownerSVGElement\" in target;\n  var originalContainer = container || document.body;\n  var targetMatrix = prevTargetMatrix; // let allMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\n  // let rootMatrix = prevRootMatrix ? convertDimension(prevRootMatrix, prevN!, n) : createIdentityMatrix(n);\n  // let beforeMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\n\n  var allMatrix = createIdentityMatrix(n);\n  var rootMatrix = createIdentityMatrix(n);\n  var beforeMatrix = createIdentityMatrix(n);\n  var offsetMatrix = createIdentityMatrix(n);\n  var length = matrixes.length;\n  var endContainer = getOffsetInfo(originalContainer, originalContainer, true).offsetParent;\n  rootMatrixes.reverse();\n  matrixes.reverse();\n\n  if (!is3d && isNext3d) {\n    targetMatrix = convertDimension(targetMatrix, 3, 4);\n    matrixes.forEach(function (matrix, i) {\n      matrixes[i] = convertDimension(matrix, 3, 4);\n    });\n  }\n\n  if (!isRoot3d && isNext3d) {\n    rootMatrixes.forEach(function (matrix, i) {\n      rootMatrixes[i] = convertDimension(matrix, 3, 4);\n    });\n  } // rootMatrix = (...) -> container -> offset -> absolute -> offset -> absolute(targetMatrix)\n  // beforeMatrix = (... -> container -> offset -> absolute) -> offset -> absolute(targetMatrix)\n  // offsetMatrix = (... -> container -> offset -> absolute -> offset) -> absolute(targetMatrix)\n  // if (!prevRootMatrix) {\n\n\n  rootMatrixes.forEach(function (matrix) {\n    rootMatrix = multiply(rootMatrix, matrix, n);\n  }); // }\n\n  matrixes.forEach(function (matrix, i) {\n    var _a;\n\n    if (length - 2 === i) {\n      // length - 3\n      beforeMatrix = allMatrix.slice();\n    }\n\n    if (length - 1 === i) {\n      // length - 2\n      offsetMatrix = allMatrix.slice();\n    } // calculate for SVGElement\n\n\n    if (isObject(matrix[n * (n - 1)])) {\n      _a = getSVGOffset(matrix[n * (n - 1)], endContainer, n, matrix[n * (n - 1) + 1], allMatrix, matrixes[i + 1]), matrix[n * (n - 1)] = _a[0], matrix[n * (n - 1) + 1] = _a[1];\n    }\n\n    allMatrix = multiply(allMatrix, matrix, n);\n  });\n  var isMatrix3d = !isSVGGraphicElement && is3d;\n\n  if (!targetMatrix) {\n    targetMatrix = createIdentityMatrix(isMatrix3d ? 4 : 3);\n  }\n\n  var targetTransform = makeMatrixCSS(isSVGGraphicElement && targetMatrix.length === 16 ? convertDimension(targetMatrix, 4, 3) : targetMatrix, isMatrix3d);\n  rootMatrix = ignoreDimension(rootMatrix, n, n);\n  return {\n    rootMatrix: rootMatrix,\n    beforeMatrix: beforeMatrix,\n    offsetMatrix: offsetMatrix,\n    allMatrix: allMatrix,\n    targetMatrix: targetMatrix,\n    targetTransform: targetTransform,\n    transformOrigin: transformOrigin,\n    targetOrigin: targetOrigin,\n    is3d: isNext3d\n  };\n}\nfunction makeMatrixCSS(matrix, is3d) {\n  if (is3d === void 0) {\n    is3d = matrix.length > 9;\n  }\n\n  return (is3d ? \"matrix3d\" : \"matrix\") + \"(\" + convertMatrixtoCSS(matrix, !is3d).join(\",\") + \")\";\n}\nfunction getSVGViewBox(el) {\n  var clientWidth = el.clientWidth;\n  var clientHeight = el.clientHeight;\n  var viewBox = el.viewBox;\n  var baseVal = viewBox && viewBox.baseVal || {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n  return {\n    x: baseVal.x,\n    y: baseVal.y,\n    width: baseVal.width || clientWidth,\n    height: baseVal.height || clientHeight\n  };\n}\nfunction getSVGMatrix(el, n) {\n  var clientWidth = el.clientWidth;\n  var clientHeight = el.clientHeight;\n\n  var _a = getSVGViewBox(el),\n      viewBoxWidth = _a.width,\n      viewBoxHeight = _a.height;\n\n  var scaleX = clientWidth / viewBoxWidth;\n  var scaleY = clientHeight / viewBoxHeight;\n  var preserveAspectRatio = el.preserveAspectRatio.baseVal; // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/preserveAspectRatio\n\n  var align = preserveAspectRatio.align; // 1 : meet 2: slice\n\n  var meetOrSlice = preserveAspectRatio.meetOrSlice;\n  var svgOrigin = [0, 0];\n  var scale = [scaleX, scaleY];\n  var translate = [0, 0];\n\n  if (align !== 1) {\n    var xAlign = (align - 2) % 3;\n    var yAlign = Math.floor((align - 2) / 3);\n    svgOrigin[0] = viewBoxWidth * xAlign / 2;\n    svgOrigin[1] = viewBoxHeight * yAlign / 2;\n    var scaleDimension = meetOrSlice === 2 ? Math.max(scaleY, scaleX) : Math.min(scaleX, scaleY);\n    scale[0] = scaleDimension;\n    scale[1] = scaleDimension;\n    translate[0] = (clientWidth - viewBoxWidth) / 2 * xAlign;\n    translate[1] = (clientHeight - viewBoxHeight) / 2 * yAlign;\n  }\n\n  var scaleMatrix = createScaleMatrix(scale, n);\n  scaleMatrix[n * (n - 1)] = translate[0], scaleMatrix[n * (n - 1) + 1] = translate[1];\n  return getAbsoluteMatrix(scaleMatrix, n, svgOrigin);\n}\nfunction getSVGGraphicsOffset(el, origin) {\n  if (!el.getBBox) {\n    return [0, 0];\n  }\n\n  var bbox = el.getBBox();\n  var viewBox = getSVGViewBox(el.ownerSVGElement);\n  var left = bbox.x - viewBox.x;\n  var top = bbox.y - viewBox.y;\n  return [left, top, origin[0] - left, origin[1] - top];\n}\nfunction calculatePosition(matrix, pos, n) {\n  return calculate(matrix, convertPositionMatrix(pos, n), n);\n}\nfunction calculatePoses(matrix, width, height, n) {\n  return [[0, 0], [width, 0], [0, height], [width, height]].map(function (pos) {\n    return calculatePosition(matrix, pos, n);\n  });\n}\nfunction getRect(poses) {\n  var posesX = poses.map(function (pos) {\n    return pos[0];\n  });\n  var posesY = poses.map(function (pos) {\n    return pos[1];\n  });\n  var left = Math.min.apply(Math, posesX);\n  var top = Math.min.apply(Math, posesY);\n  var right = Math.max.apply(Math, posesX);\n  var bottom = Math.max.apply(Math, posesY);\n  var rectWidth = right - left;\n  var rectHeight = bottom - top;\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom,\n    width: rectWidth,\n    height: rectHeight\n  };\n}\nfunction calculateRect(matrix, width, height, n) {\n  var poses = calculatePoses(matrix, width, height, n);\n  return getRect(poses);\n}\nfunction getSVGOffset(el, container, n, origin, beforeMatrix, absoluteMatrix) {\n  var _a;\n\n  var _b = getSize(el, undefined, true),\n      width = _b[0],\n      height = _b[1];\n\n  var containerClientRect = container.getBoundingClientRect();\n  var margin = [0, 0];\n\n  if (container === document.body) {\n    margin = getBodyOffset(el, true);\n  }\n\n  var rect = el.getBoundingClientRect();\n  var rectLeft = rect.left - containerClientRect.left + container.scrollLeft - (container.clientLeft || 0) + margin[0];\n  var rectTop = rect.top - containerClientRect.top + container.scrollTop - (container.clientTop || 0) + margin[1];\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n  var mat = multiplies(n, beforeMatrix, absoluteMatrix);\n\n  var _c = calculateRect(mat, width, height, n),\n      prevLeft = _c.left,\n      prevTop = _c.top,\n      prevWidth = _c.width,\n      prevHeight = _c.height;\n\n  var posOrigin = calculatePosition(mat, origin, n);\n  var prevOrigin = minus(posOrigin, [prevLeft, prevTop]);\n  var rectOrigin = [rectLeft + prevOrigin[0] * rectWidth / prevWidth, rectTop + prevOrigin[1] * rectHeight / prevHeight];\n  var offset = [0, 0];\n  var count = 0;\n\n  while (++count < 10) {\n    var inverseBeforeMatrix = invert(beforeMatrix, n);\n    _a = minus(calculatePosition(inverseBeforeMatrix, rectOrigin, n), calculatePosition(inverseBeforeMatrix, posOrigin, n)), offset[0] = _a[0], offset[1] = _a[1];\n    var mat2 = multiplies(n, beforeMatrix, createOriginMatrix(offset, n), absoluteMatrix);\n\n    var _d = calculateRect(mat2, width, height, n),\n        nextLeft = _d.left,\n        nextTop = _d.top;\n\n    var distLeft = nextLeft - rectLeft;\n    var distTop = nextTop - rectTop;\n\n    if (Math.abs(distLeft) < 2 && Math.abs(distTop) < 2) {\n      break;\n    }\n\n    rectOrigin[0] -= distLeft;\n    rectOrigin[1] -= distTop;\n  }\n\n  return offset.map(function (p) {\n    return Math.round(p);\n  });\n}\nfunction calculateMoveablePosition(matrix, origin, width, height) {\n  var is3d = matrix.length === 16;\n  var n = is3d ? 4 : 3;\n  var poses = calculatePoses(matrix, width, height, n);\n  var _a = poses[0],\n      x1 = _a[0],\n      y1 = _a[1],\n      _b = poses[1],\n      x2 = _b[0],\n      y2 = _b[1],\n      _c = poses[2],\n      x3 = _c[0],\n      y3 = _c[1],\n      _d = poses[3],\n      x4 = _d[0],\n      y4 = _d[1];\n\n  var _e = calculatePosition(matrix, origin, n),\n      originX = _e[0],\n      originY = _e[1];\n\n  var left = Math.min(x1, x2, x3, x4);\n  var top = Math.min(y1, y2, y3, y4);\n  var right = Math.max(x1, x2, x3, x4);\n  var bottom = Math.max(y1, y2, y3, y4);\n  x1 = x1 - left || 0;\n  x2 = x2 - left || 0;\n  x3 = x3 - left || 0;\n  x4 = x4 - left || 0;\n  y1 = y1 - top || 0;\n  y2 = y2 - top || 0;\n  y3 = y3 - top || 0;\n  y4 = y4 - top || 0;\n  originX = originX - left || 0;\n  originY = originY - top || 0;\n  var direction = getShapeDirection(poses);\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom,\n    origin: [originX, originY],\n    pos1: [x1, y1],\n    pos2: [x2, y2],\n    pos3: [x3, y3],\n    pos4: [x4, y4],\n    direction: direction\n  };\n}\nfunction getDistSize(vec) {\n  return Math.sqrt(vec[0] * vec[0] + vec[1] * vec[1]);\n}\nfunction getDiagonalSize(pos1, pos2) {\n  return getDistSize([pos2[0] - pos1[0], pos2[1] - pos1[1]]);\n}\nfunction getLineStyle(pos1, pos2, zoom, rad) {\n  if (zoom === void 0) {\n    zoom = 1;\n  }\n\n  if (rad === void 0) {\n    rad = getRad(pos1, pos2);\n  }\n\n  var width = getDiagonalSize(pos1, pos2);\n  return {\n    transform: \"translateY(-50%) translate(\" + pos1[0] + \"px, \" + pos1[1] + \"px) rotate(\" + rad + \"rad) scaleY(\" + zoom + \")\",\n    width: width + \"px\"\n  };\n}\nfunction getControlTransform(rotation, zoom) {\n  var poses = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    poses[_i - 2] = arguments[_i];\n  }\n\n  var length = poses.length;\n  var x = poses.reduce(function (prev, pos) {\n    return prev + pos[0];\n  }, 0) / length;\n  var y = poses.reduce(function (prev, pos) {\n    return prev + pos[1];\n  }, 0) / length;\n  return {\n    transform: \"translateZ(0px) translate(\" + x + \"px, \" + y + \"px) rotate(\" + rotation + \"rad) scale(\" + zoom + \")\"\n  };\n}\nfunction getCSSSize(target) {\n  var style = window.getComputedStyle(target);\n  return [parseFloat(style.width), parseFloat(style.height)];\n}\nfunction getSize(target, style, isOffset, isBoxSizing) {\n  if (style === void 0) {\n    style = window.getComputedStyle(target);\n  }\n\n  if (isBoxSizing === void 0) {\n    isBoxSizing = isOffset || style.boxSizing === \"border-box\";\n  }\n\n  var width = target.offsetWidth;\n  var height = target.offsetHeight;\n  var hasOffset = !isUndefined(width);\n\n  if ((isOffset || isBoxSizing) && hasOffset) {\n    return [width, height];\n  }\n\n  if (!hasOffset && target.tagName.toLowerCase() !== \"svg\") {\n    var bbox = target.getBBox();\n    return [bbox.width, bbox.height];\n  }\n\n  width = target.clientWidth;\n  height = target.clientHeight;\n\n  if (isOffset || isBoxSizing) {\n    var borderLeft = parseFloat(style.borderLeftWidth) || 0;\n    var borderRight = parseFloat(style.borderRightWidth) || 0;\n    var borderTop = parseFloat(style.borderTopWidth) || 0;\n    var borderBottom = parseFloat(style.borderBottomWidth) || 0;\n    return [width + borderLeft + borderRight, height + borderTop + borderBottom];\n  } else {\n    var paddingLeft = parseFloat(style.paddingLeft) || 0;\n    var paddingRight = parseFloat(style.paddingRight) || 0;\n    var paddingTop = parseFloat(style.paddingTop) || 0;\n    var paddingBottom = parseFloat(style.paddingBottom) || 0;\n    return [width - paddingLeft - paddingRight, height - paddingTop - paddingBottom];\n  }\n}\nfunction getRotationRad(poses, direction) {\n  return getRad(direction > 0 ? poses[0] : poses[1], direction > 0 ? poses[1] : poses[0]);\n}\nfunction getTargetInfo(moveableElement, target, container, parentContainer, rootContainer, state) {\n  var beforeDirection = 1;\n  var beforeOrigin = [0, 0];\n  var targetClientRect = resetClientRect();\n  var containerClientRect = resetClientRect();\n  var moveableClientRect = resetClientRect();\n  var result = calculateElementInfo(target, container, rootContainer, false, state);\n\n  if (target) {\n    var n = result.is3d ? 4 : 3;\n    var beforePosition = calculateMoveablePosition(result.offsetMatrix, plus(result.transformOrigin, getOrigin(result.targetMatrix, n)), result.width, result.height);\n    beforeDirection = beforePosition.direction;\n    beforeOrigin = plus(beforePosition.origin, [beforePosition.left - result.left, beforePosition.top - result.top]);\n    targetClientRect = getClientRect(target);\n    containerClientRect = getClientRect(getOffsetInfo(parentContainer, parentContainer, true).offsetParent || document.body, true);\n\n    if (moveableElement) {\n      moveableClientRect = getClientRect(moveableElement);\n    }\n  }\n\n  return __assign({\n    targetClientRect: targetClientRect,\n    containerClientRect: containerClientRect,\n    moveableClientRect: moveableClientRect,\n    beforeDirection: beforeDirection,\n    beforeOrigin: beforeOrigin,\n    target: target\n  }, result);\n}\nfunction resetClientRect() {\n  return {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    width: 0,\n    height: 0,\n    clientLeft: 0,\n    clientTop: 0,\n    clientWidth: 0,\n    clientHeight: 0,\n    scrollWidth: 0,\n    scrollHeight: 0\n  };\n}\nfunction getClientRect(el, isExtends) {\n  var _a = el.getBoundingClientRect(),\n      left = _a.left,\n      width = _a.width,\n      top = _a.top,\n      bottom = _a.bottom,\n      right = _a.right,\n      height = _a.height;\n\n  var rect = {\n    left: left,\n    right: right,\n    top: top,\n    bottom: bottom,\n    width: width,\n    height: height\n  };\n\n  if (isExtends) {\n    rect.clientLeft = el.clientLeft;\n    rect.clientTop = el.clientTop;\n    rect.clientWidth = el.clientWidth;\n    rect.clientHeight = el.clientHeight;\n    rect.scrollWidth = el.scrollWidth;\n    rect.scrollHeight = el.scrollHeight;\n  }\n\n  return rect;\n}\nfunction getDirection(target) {\n  if (!target) {\n    return;\n  }\n\n  var direciton = target.getAttribute(\"data-direction\");\n\n  if (!direciton) {\n    return;\n  }\n\n  var dir = [0, 0];\n  direciton.indexOf(\"w\") > -1 && (dir[0] = -1);\n  direciton.indexOf(\"e\") > -1 && (dir[0] = 1);\n  direciton.indexOf(\"n\") > -1 && (dir[1] = -1);\n  direciton.indexOf(\"s\") > -1 && (dir[1] = 1);\n  return dir;\n}\nfunction getAbsolutePoses(poses, dist) {\n  return [plus(dist, poses[0]), plus(dist, poses[1]), plus(dist, poses[2]), plus(dist, poses[3])];\n}\nfunction getAbsolutePosesByState(_a) {\n  var left = _a.left,\n      top = _a.top,\n      pos1 = _a.pos1,\n      pos2 = _a.pos2,\n      pos3 = _a.pos3,\n      pos4 = _a.pos4;\n  return getAbsolutePoses([pos1, pos2, pos3, pos4], [left, top]);\n}\nfunction roundSign(num) {\n  return Math.round(num % 1 === -0.5 ? num - 1 : num);\n}\nfunction throttle(num, unit) {\n  if (!unit) {\n    return num;\n  }\n\n  return Math.round(num / unit) * unit;\n}\nfunction throttleArray(nums, unit) {\n  nums.forEach(function (_, i) {\n    nums[i] = throttle(nums[i], unit);\n  });\n  return nums;\n}\nfunction unset(self, name) {\n  if (self[name]) {\n    self[name].unset();\n    self[name] = null;\n  }\n}\nfunction fillParams(moveable, e, params) {\n  var datas = e.datas;\n\n  if (!datas.datas) {\n    datas.datas = {};\n  }\n\n  var nextParams = __assign(__assign({}, params), {\n    target: moveable.state.target,\n    clientX: e.clientX,\n    clientY: e.clientY,\n    inputEvent: e.inputEvent,\n    currentTarget: moveable,\n    datas: datas.datas\n  });\n\n  if (datas.isStartEvent) {\n    datas.lastEvent = nextParams;\n  } else {\n    datas.isStartEvent = true;\n  }\n\n  return nextParams;\n}\nfunction fillEndParams(moveable, e, params) {\n  var datas = e.datas;\n  var isDrag = \"isDrag\" in params ? params.isDrag : e.isDrag;\n\n  if (!datas.datas) {\n    datas.datas = {};\n  }\n\n  return __assign(__assign({\n    isDrag: isDrag\n  }, params), {\n    target: moveable.state.target,\n    clientX: e.clientX,\n    clientY: e.clientY,\n    inputEvent: e.inputEvent,\n    currentTarget: moveable,\n    lastEvent: datas.lastEvent,\n    isDouble: e.isDouble,\n    datas: datas.datas\n  });\n}\nfunction triggerEvent(moveable, name, params, isManager) {\n  return moveable.triggerEvent(name, params, isManager);\n}\nfunction getComputedStyle$1(el, pseudoElt) {\n  return window.getComputedStyle(el, pseudoElt);\n}\nfunction filterAbles(ables, methods, triggerAblesSimultaneously) {\n  var enabledAbles = {};\n  var ableGroups = {};\n  return ables.filter(function (able) {\n    var name = able.name;\n\n    if (enabledAbles[name] || !methods.some(function (method) {\n      return able[method];\n    })) {\n      return false;\n    }\n\n    if (!triggerAblesSimultaneously && able.ableGroup) {\n      if (ableGroups[able.ableGroup]) {\n        return false;\n      }\n\n      ableGroups[able.ableGroup] = true;\n    }\n\n    enabledAbles[name] = true;\n    return true;\n  });\n}\nfunction getKeepRatioHeight(width, isWidth, ratio) {\n  return width * (isWidth ? ratio : 1 / ratio);\n}\nfunction getKeepRatioWidth(height, isWidth, ratio) {\n  return height * (isWidth ? 1 / ratio : ratio);\n}\nfunction equals(a1, a2) {\n  return a1 === a2 || a1 == null && a2 == null;\n}\nfunction selectValue() {\n  var values = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    values[_i] = arguments[_i];\n  }\n\n  var length = values.length - 1;\n\n  for (var i = 0; i < length; ++i) {\n    var value = values[i];\n\n    if (!isUndefined(value)) {\n      return value;\n    }\n  }\n\n  return values[length];\n}\nfunction groupBy(arr, func) {\n  var groups = [];\n  var groupKeys = [];\n  arr.forEach(function (el, index) {\n    var groupKey = func(el, index, arr);\n    var keyIndex = groupKeys.indexOf(groupKey);\n    var group = groups[keyIndex] || [];\n\n    if (keyIndex === -1) {\n      groupKeys.push(groupKey);\n      groups.push(group);\n    }\n\n    group.push(el);\n  });\n  return groups;\n}\nfunction groupByMap(arr, func) {\n  var groups = [];\n  var groupKeys = {};\n  arr.forEach(function (el, index) {\n    var groupKey = func(el, index, arr);\n    var group = groupKeys[groupKey];\n\n    if (!group) {\n      group = [];\n      groupKeys[groupKey] = group;\n      groups.push(group);\n    }\n\n    group.push(el);\n  });\n  return groups;\n}\nfunction flat(arr) {\n  return arr.reduce(function (prev, cur) {\n    return prev.concat(cur);\n  }, []);\n}\nfunction maxOffset() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  args.sort(function (a, b) {\n    return Math.abs(b) - Math.abs(a);\n  });\n  return args[0];\n}\nfunction minOffset() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  args.sort(function (a, b) {\n    return Math.abs(a) - Math.abs(b);\n  });\n  return args[0];\n}\nfunction calculateInversePosition(matrix, pos, n) {\n  return calculate(invert(matrix, n), convertPositionMatrix(pos, n), n);\n}\nfunction convertDragDist(state, e) {\n  var _a;\n\n  var is3d = state.is3d,\n      rootMatrix = state.rootMatrix;\n  var n = is3d ? 4 : 3;\n  _a = calculateInversePosition(rootMatrix, [e.distX, e.distY], n), e.distX = _a[0], e.distY = _a[1];\n  return e;\n}\nfunction calculatePadding(matrix, pos, transformOrigin, origin, n) {\n  return minus(calculatePosition(matrix, plus(transformOrigin, pos), n), origin);\n}\nfunction convertCSSSize(value, size, isRelative) {\n  return isRelative ? value / size * 100 + \"%\" : value + \"px\";\n}\nfunction moveControlPos(controlPoses, index, dist, isRect) {\n  var _a = controlPoses[index],\n      direction = _a.direction,\n      sub = _a.sub;\n  var dists = controlPoses.map(function () {\n    return [0, 0];\n  });\n  var directions = direction ? direction.split(\"\") : [];\n\n  if (isRect && index < 8) {\n    var verticalDirection_1 = directions.filter(function (dir) {\n      return dir === \"w\" || dir === \"e\";\n    })[0];\n    var horizontalDirection_1 = directions.filter(function (dir) {\n      return dir === \"n\" || dir === \"s\";\n    })[0];\n    dists[index] = dist;\n    controlPoses.forEach(function (controlPose, i) {\n      var controlDir = controlPose.direction;\n\n      if (!controlDir) {\n        return;\n      }\n\n      if (controlDir.indexOf(verticalDirection_1) > -1) {\n        dists[i][0] = dist[0];\n      }\n\n      if (controlDir.indexOf(horizontalDirection_1) > -1) {\n        dists[i][1] = dist[1];\n      }\n    });\n\n    if (verticalDirection_1) {\n      dists[1][0] = dist[0] / 2;\n      dists[5][0] = dist[0] / 2;\n    }\n\n    if (horizontalDirection_1) {\n      dists[3][1] = dist[1] / 2;\n      dists[7][1] = dist[1] / 2;\n    }\n  } else if (direction && !sub) {\n    directions.forEach(function (dir) {\n      var isVertical = dir === \"n\" || dir === \"s\";\n      controlPoses.forEach(function (controlPose, i) {\n        var dirDir = controlPose.direction,\n            dirHorizontal = controlPose.horizontal,\n            dirVertical = controlPose.vertical;\n\n        if (!dirDir || dirDir.indexOf(dir) === -1) {\n          return;\n        }\n\n        dists[i] = [isVertical || !dirHorizontal ? 0 : dist[0], !isVertical || !dirVertical ? 0 : dist[1]];\n      });\n    });\n  } else {\n    dists[index] = dist;\n  }\n\n  return dists;\n}\nfunction getTinyDist(v) {\n  return Math.abs(v) <= TINY_NUM ? 0 : v;\n}\nfunction directionCondition(e) {\n  if (e.isRequest) {\n    if (e.requestAble === \"resizable\" || e.requestAble === \"scalable\") {\n      return e.parentDirection;\n    } else {\n      return false;\n    }\n  }\n\n  return hasClass(e.inputEvent.target, prefix(\"direction\"));\n}\nfunction invertObject(obj) {\n  var nextObj = {};\n\n  for (var name in obj) {\n    nextObj[obj[name]] = name;\n  }\n\n  return nextObj;\n}\nfunction getTransform(transforms, index) {\n  var beforeFunctionTexts = transforms.slice(0, index < 0 ? undefined : index);\n  var targetFunctionText = transforms[index] || \"\";\n  var afterFunctionTexts = index < 0 ? [] : transforms.slice(index);\n  var beforeFunctions = parse(beforeFunctionTexts);\n  var targetFunctions = parse([targetFunctionText]);\n  var afterFunctions = parse(afterFunctionTexts);\n  var beforeFunctionMatrix = toMat(beforeFunctions);\n  var afterFunctionMatrix = toMat(afterFunctions);\n  var allFunctionMatrix = multiply(beforeFunctionMatrix, afterFunctionMatrix, 4);\n  return {\n    transforms: transforms,\n    beforeFunctionMatrix: beforeFunctionMatrix,\n    targetFunctionMatrix: toMat(targetFunctions),\n    afterFunctionMatrix: afterFunctionMatrix,\n    allFunctionMatrix: allFunctionMatrix,\n    beforeFunctions: beforeFunctions,\n    targetFunction: targetFunctions[0],\n    afterFunctions: afterFunctions,\n    beforeFunctionTexts: beforeFunctionTexts,\n    targetFunctionText: targetFunctionText,\n    afterFunctionTexts: afterFunctionTexts\n  };\n}\nfunction isArrayFormat(arr) {\n  if (!arr || !isObject(arr)) {\n    return false;\n  }\n\n  return isArray(arr) || \"length\" in arr;\n}\nfunction getRefTargets(targets) {\n  if (!targets) {\n    return [];\n  }\n\n  var userTargets = isArrayFormat(targets) ? [].slice.call(targets) : [targets];\n  return userTargets.map(function (target) {\n    if (!target) {\n      return null;\n    }\n\n    if (isString(target)) {\n      return target;\n    }\n\n    if (\"current\" in target) {\n      return target.current;\n    }\n\n    return target;\n  });\n}\nfunction getElementTargets(targets, selectorMap) {\n  var elementTargets = [];\n  targets.forEach(function (target) {\n    if (!target) {\n      return;\n    }\n\n    if (isString(target)) {\n      if (selectorMap[target]) {\n        elementTargets.push.apply(elementTargets, selectorMap[target]);\n      }\n\n      return;\n    }\n\n    elementTargets.push(target);\n  });\n  return elementTargets;\n}\n\n/**\n * @namespace Moveable.Pinchable\n * @description Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\n */\n\nvar Pinchable = {\n  name: \"pinchable\",\n  updateRect: true,\n  props: {\n    pinchable: Boolean\n  },\n  events: {\n    onPinchStart: \"pinchStart\",\n    onPinch: \"pinch\",\n    onPinchEnd: \"pinchEnd\",\n    onPinchGroupStart: \"pinchGroupStart\",\n    onPinchGroup: \"pinchGroup\",\n    onPinchGroupEnd: \"pinchGroupEnd\"\n  },\n  dragStart: function () {\n    return true;\n  },\n  pinchStart: function (moveable, e) {\n    var datas = e.datas,\n        targets = e.targets,\n        angle = e.angle,\n        originalDatas = e.originalDatas;\n    var _a = moveable.props,\n        pinchable = _a.pinchable,\n        ables = _a.ables;\n\n    if (!pinchable) {\n      return false;\n    }\n\n    var eventName = \"onPinch\" + (targets ? \"Group\" : \"\") + \"Start\";\n    var controlEventName = \"drag\" + (targets ? \"Group\" : \"\") + \"ControlStart\";\n    var pinchAbles = (pinchable === true ? moveable.controlAbles : ables.filter(function (able) {\n      return pinchable.indexOf(able.name) > -1;\n    })).filter(function (able) {\n      return able.canPinch && able[controlEventName];\n    });\n    var params = fillParams(moveable, e, {});\n\n    if (targets) {\n      params.targets = targets;\n    }\n\n    var result = triggerEvent(moveable, eventName, params);\n    datas.isPinch = result !== false;\n    datas.ables = pinchAbles;\n    var isPinch = datas.isPinch;\n\n    if (!isPinch) {\n      return false;\n    }\n\n    pinchAbles.forEach(function (able) {\n      originalDatas[able.name] = originalDatas[able.name] || {};\n\n      if (!able[controlEventName]) {\n        return;\n      }\n\n      var ableEvent = __assign(__assign({}, e), {\n        datas: originalDatas[able.name],\n        parentRotate: angle,\n        isPinch: true\n      });\n\n      able[controlEventName](moveable, ableEvent);\n    });\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest,\n      direction: [0, 0]\n    };\n    return isPinch;\n  },\n  pinch: function (moveable, e) {\n    var datas = e.datas,\n        pinchScale = e.scale,\n        distance = e.distance,\n        originalDatas = e.originalDatas,\n        inputEvent = e.inputEvent,\n        targets = e.targets,\n        angle = e.angle;\n\n    if (!datas.isPinch) {\n      return;\n    }\n\n    var parentDistance = distance * (1 - 1 / pinchScale);\n    var params = fillParams(moveable, e, {});\n\n    if (targets) {\n      params.targets = targets;\n    }\n\n    var eventName = \"onPinch\" + (targets ? \"Group\" : \"\");\n    triggerEvent(moveable, eventName, params);\n    var ables = datas.ables;\n    var controlEventName = \"drag\" + (targets ? \"Group\" : \"\") + \"Control\";\n    ables.forEach(function (able) {\n      if (!able[controlEventName]) {\n        return;\n      }\n\n      able[controlEventName](moveable, __assign(__assign({}, e), {\n        datas: originalDatas[able.name],\n        inputEvent: inputEvent,\n        parentDistance: parentDistance,\n        parentRotate: angle,\n        isPinch: true\n      }));\n    });\n    return params;\n  },\n  pinchEnd: function (moveable, e) {\n    var datas = e.datas,\n        isPinch = e.isPinch,\n        inputEvent = e.inputEvent,\n        targets = e.targets,\n        originalDatas = e.originalDatas;\n\n    if (!datas.isPinch) {\n      return;\n    }\n\n    var eventName = \"onPinch\" + (targets ? \"Group\" : \"\") + \"End\";\n    var params = fillEndParams(moveable, e, {\n      isDrag: isPinch\n    });\n\n    if (targets) {\n      params.targets = targets;\n    }\n\n    triggerEvent(moveable, eventName, params);\n    var ables = datas.ables;\n    var controlEventName = \"drag\" + (targets ? \"Group\" : \"\") + \"ControlEnd\";\n    ables.forEach(function (able) {\n      if (!able[controlEventName]) {\n        return;\n      }\n\n      able[controlEventName](moveable, __assign(__assign({}, e), {\n        isDrag: isPinch,\n        datas: originalDatas[able.name],\n        inputEvent: inputEvent,\n        isPinch: true\n      }));\n    });\n    return isPinch;\n  },\n  pinchGroupStart: function (moveable, e) {\n    return this.pinchStart(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  pinchGroup: function (moveable, e) {\n    return this.pinch(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  pinchGroupEnd: function (moveable, e) {\n    return this.pinchEnd(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  }\n};\n/**\n * Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\n * @name Moveable.Pinchable#pinchable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.pinchable = true;\n */\n\n/**\n * When the pinch starts, the pinchStart event is called with part of scaleStart, rotateStart, resizeStart\n * @memberof Moveable.Pinchable\n * @event pinchStart\n * @param {Moveable.Pinchable.OnPinchStart} - Parameters for the pinchStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinchStart\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotateStart\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scaleStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When pinching, the pinch event is called with part of scale, rotate, resize\n * @memberof Moveable.Pinchable\n * @event pinch\n * @param {Moveable.Pinchable.OnPinch} - Parameters for the pinch event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinch\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotate\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scale\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When the pinch finishes, the pinchEnd event is called.\n * @memberof Moveable.Pinchable\n * @event pinchEnd\n * @param {Moveable.Pinchable.OnPinchEnd} - Parameters for the pinchEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinchEnd\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotateEnd\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scaleEnd\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When the group pinch starts, the `pinchGroupStart` event is called.\n * @memberof Moveable.Pinchable\n * @event pinchGroupStart\n * @param {Moveable.Pinchable.OnPinchGroupStart} - Parameters for the `pinchGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroupStart\", ({ targets }) => {\n *     console.log(\"onPinchGroupStart\", targets);\n * });\n */\n\n/**\n * When the group pinch, the `pinchGroup` event is called.\n * @memberof Moveable.Pinchable\n * @event pinchGroup\n * @param {Moveable.Pinchable.OnPinchGroup} - Parameters for the `pinchGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroup\", ({ targets, events }) => {\n *     console.log(\"onPinchGroup\", targets);\n * });\n */\n\n/**\n * When the group pinch finishes, the `pinchGroupEnd` event is called.\n * @memberof Moveable.Pinchable\n * @event pinchGroupEnd\n * @param {Moveable.Pinchable.OnPinchGroupEnd} - Parameters for the `pinchGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onPinchGroupEnd\", targets, isDrag);\n * });\n */\n\nfunction setCustomDrag(e, state, delta, isPinch, isConvert) {\n  var result = state.gesto.move(delta, e.inputEvent);\n  var datas = result.originalDatas || result.datas;\n  var draggableDatas = datas.draggable || (datas.draggable = {});\n  return __assign(__assign({}, isConvert ? convertDragDist(state, result) : result), {\n    isDrag: true,\n    isPinch: !!isPinch,\n    parentEvent: true,\n    datas: draggableDatas,\n    originalDatas: e.originalDatas\n  });\n}\n\nvar CustomGesto =\n/*#__PURE__*/\nfunction () {\n  function CustomGesto() {\n    this.prevX = 0;\n    this.prevY = 0;\n    this.startX = 0;\n    this.startY = 0;\n    this.isDrag = false;\n    this.isFlag = false;\n    this.datas = {\n      draggable: {}\n    };\n  }\n\n  var __proto = CustomGesto.prototype;\n\n  __proto.dragStart = function (client, e) {\n    this.isDrag = false;\n    this.isFlag = false;\n    var originalDatas = e.originalDatas;\n    this.datas = originalDatas;\n\n    if (!originalDatas.draggable) {\n      originalDatas.draggable = {};\n    }\n\n    return __assign(__assign({}, this.move(client, e.inputEvent)), {\n      type: \"dragstart\"\n    });\n  };\n\n  __proto.drag = function (client, inputEvent) {\n    return this.move([client[0] - this.prevX, client[1] - this.prevY], inputEvent);\n  };\n\n  __proto.move = function (delta, inputEvent) {\n    var clientX;\n    var clientY;\n\n    if (!this.isFlag) {\n      this.prevX = delta[0];\n      this.prevY = delta[1];\n      this.startX = delta[0];\n      this.startY = delta[1];\n      clientX = delta[0];\n      clientY = delta[1];\n      this.isFlag = true;\n    } else {\n      clientX = this.prevX + delta[0];\n      clientY = this.prevY + delta[1];\n      this.isDrag = true;\n    }\n\n    this.prevX = clientX;\n    this.prevY = clientY;\n    return {\n      type: \"drag\",\n      clientX: clientX,\n      clientY: clientY,\n      inputEvent: inputEvent,\n      isDrag: this.isDrag,\n      distX: clientX - this.startX,\n      distY: clientY - this.startY,\n      deltaX: delta[0],\n      deltaY: delta[1],\n      datas: this.datas.draggable,\n      originalDatas: this.datas,\n      parentEvent: true,\n      parentGesto: this\n    };\n  };\n\n  return CustomGesto;\n}();\n\nfunction fillChildEvents(moveable, name, e) {\n  var datas = e.originalDatas;\n  datas.groupable = datas.groupable || {};\n  var groupableDatas = datas.groupable;\n  groupableDatas.childDatas = groupableDatas.childDatas || [];\n  var childDatas = groupableDatas.childDatas;\n  var inputEvent = e.inputEvent,\n      isPinch = e.isPinch,\n      clientX = e.clientX,\n      clientY = e.clientY,\n      distX = e.distX,\n      distY = e.distY;\n  return moveable.moveables.map(function (child, i) {\n    childDatas[i] = childDatas[i] || {};\n    childDatas[i][name] = childDatas[i][name] || {};\n    return {\n      inputEvent: inputEvent,\n      datas: childDatas[i][name],\n      originalDatas: childDatas[i],\n      isPinch: isPinch,\n      clientX: clientX,\n      clientY: clientY,\n      distX: distX,\n      distY: distY\n    };\n  });\n}\nfunction triggerChildGesto(moveable, able, type, delta, e, isConvert) {\n  var isStart = !!type.match(/Start$/g);\n  var isEnd = !!type.match(/End$/g);\n  var isPinch = e.isPinch;\n  var datas = e.datas;\n  var events = fillChildEvents(moveable, able.name, e);\n  var moveables = moveable.moveables;\n  var childs = events.map(function (ev, i) {\n    var childMoveable = moveables[i];\n    var childEvent = ev;\n\n    if (isStart) {\n      childEvent = new CustomGesto().dragStart(delta, ev);\n    } else {\n      if (!childMoveable.state.gesto) {\n        childMoveable.state.gesto = datas.childGestos[i];\n      }\n\n      childEvent = setCustomDrag(ev, childMoveable.state, delta, isPinch, isConvert);\n    }\n\n    var result = able[type](childMoveable, __assign(__assign({}, childEvent), {\n      parentFlag: true\n    }));\n\n    if (isEnd) {\n      childMoveable.state.gesto = null;\n    }\n\n    return result;\n  });\n\n  if (isStart) {\n    datas.childGestos = moveables.map(function (child) {\n      return child.state.gesto;\n    });\n  }\n\n  return childs;\n}\nfunction triggerChildAble(moveable, able, type, e, eachEvent, callback) {\n  if (eachEvent === void 0) {\n    eachEvent = function (_, ev) {\n      return ev;\n    };\n  }\n\n  var isEnd = !!type.match(/End$/g);\n  var events = fillChildEvents(moveable, able.name, e);\n  var moveables = moveable.moveables;\n  var childs = events.map(function (ev, i) {\n    var childMoveable = moveables[i];\n    var childEvent = ev;\n    childEvent = eachEvent(childMoveable, ev);\n    var result = able[type](childMoveable, __assign(__assign({}, childEvent), {\n      parentFlag: true\n    }));\n    result && callback && callback(childMoveable, ev, result, i);\n\n    if (isEnd) {\n      childMoveable.state.gesto = null;\n    }\n\n    return result;\n  });\n  return childs;\n}\n\nfunction calculatePointerDist(moveable, e) {\n  var clientX = e.clientX,\n      clientY = e.clientY,\n      datas = e.datas;\n  var _a = moveable.state,\n      moveableClientRect = _a.moveableClientRect,\n      rootMatrix = _a.rootMatrix,\n      is3d = _a.is3d,\n      pos1 = _a.pos1;\n  var left = moveableClientRect.left,\n      top = moveableClientRect.top;\n  var n = is3d ? 4 : 3;\n\n  var _b = minus(calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n), pos1),\n      posX = _b[0],\n      posY = _b[1];\n\n  var _c = getDragDist({\n    datas: datas,\n    distX: posX,\n    distY: posY\n  }),\n      distX = _c[0],\n      distY = _c[1];\n\n  return [distX, distY];\n}\nfunction setDragStart(moveable, _a) {\n  var datas = _a.datas;\n  var _b = moveable.state,\n      allMatrix = _b.allMatrix,\n      beforeMatrix = _b.beforeMatrix,\n      is3d = _b.is3d,\n      left = _b.left,\n      top = _b.top,\n      origin = _b.origin,\n      offsetMatrix = _b.offsetMatrix,\n      targetMatrix = _b.targetMatrix,\n      transformOrigin = _b.transformOrigin;\n  var n = is3d ? 4 : 3;\n  datas.is3d = is3d;\n  datas.matrix = allMatrix;\n  datas.targetMatrix = targetMatrix;\n  datas.beforeMatrix = beforeMatrix;\n  datas.offsetMatrix = offsetMatrix;\n  datas.transformOrigin = transformOrigin;\n  datas.inverseMatrix = invert(allMatrix, n);\n  datas.inverseBeforeMatrix = invert(beforeMatrix, n);\n  datas.absoluteOrigin = convertPositionMatrix(plus([left, top], origin), n);\n  datas.startDragBeforeDist = calculate(datas.inverseBeforeMatrix, datas.absoluteOrigin, n);\n  datas.startDragDist = calculate(datas.inverseMatrix, datas.absoluteOrigin, n);\n}\nfunction getTransformDirection(e) {\n  return calculateMoveablePosition(e.datas.beforeTransform, [50, 50], 100, 100).direction;\n}\nfunction resolveTransformEvent(event, functionName) {\n  var datas = event.datas,\n      originalDatas = event.originalDatas.beforeRenderable;\n  var index = datas.transformIndex;\n  var nextTransforms = originalDatas.nextTransforms;\n  var nextTransformAppendedIndexes = originalDatas.nextTransformAppendedIndexes;\n  var nextIndex = index === -1 ? nextTransforms.length : index + nextTransformAppendedIndexes.filter(function (i) {\n    return i < index;\n  }).length;\n  var result = getTransform(nextTransforms, nextIndex);\n  var targetFunction = result.targetFunction;\n  var matFunctionName = functionName === \"rotate\" ? \"rotateZ\" : functionName;\n  datas.beforeFunctionTexts = result.beforeFunctionTexts;\n  datas.afterFunctionTexts = result.afterFunctionTexts;\n  datas.beforeTransform = result.beforeFunctionMatrix;\n  datas.targetTansform = result.targetFunctionMatrix;\n  datas.afterTransform = result.afterFunctionMatrix;\n  datas.targetAllTransform = result.allFunctionMatrix;\n\n  if (targetFunction.functionName === matFunctionName) {\n    datas.afterFunctionTexts.splice(0, 1);\n    datas.isAppendTransform = false;\n  } else {\n    datas.isAppendTransform = true;\n    originalDatas.nextTransformAppendedIndexes = __spreadArrays(nextTransformAppendedIndexes, [nextIndex]);\n  }\n}\nfunction convertTransformFormat(datas, value, dist) {\n  return datas.beforeFunctionTexts.join(\" \") + \" \" + (datas.isAppendTransform ? dist : value) + \" \" + datas.afterFunctionTexts.join(\" \");\n}\nfunction getTransformDist(_a) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY;\n\n  var _b = getBeforeDragDist({\n    datas: datas,\n    distX: distX,\n    distY: distY\n  }),\n      bx = _b[0],\n      by = _b[1]; // B * [tx, ty] * A = [bx, by] * targetMatrix;\n  // [tx, ty] = B-1 * [bx, by] * targetMatrix * A-1 * [0, 0];\n\n\n  var res = getTransfromMatrix(datas, fromTranslation([bx, by], 4));\n  return calculate(res, convertPositionMatrix([0, 0, 0], 4), 4);\n}\nfunction getTransfromMatrix(datas, targetMatrix, isAfter) {\n  var beforeTransform = datas.beforeTransform,\n      afterTransform = datas.afterTransform,\n      targetAllTransform = datas.targetAllTransform; // B * afterTargetMatrix * A = (targetMatrix * targetAllTransform)\n  // afterTargetMatrix = B-1 * targetMatrix * targetAllTransform * A-1\n  // nextTargetMatrix = (targetMatrix * targetAllTransform)\n\n  var nextTargetMatrix = isAfter ? multiply(targetAllTransform, targetMatrix, 4) : multiply(targetMatrix, targetAllTransform, 4); // res1 = B-1 * nextTargetMatrix\n\n  var res1 = multiply(invert(beforeTransform, 4), nextTargetMatrix, 4); // res3 = res2 * A-1\n\n  var afterTargetMatrix = multiply(res1, invert(afterTransform, 4), 4);\n  return afterTargetMatrix;\n}\nfunction getBeforeDragDist(_a) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY; // TT = BT\n\n  var inverseBeforeMatrix = datas.inverseBeforeMatrix,\n      is3d = datas.is3d,\n      startDragBeforeDist = datas.startDragBeforeDist,\n      absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3; // ABS_ORIGIN * [distX, distY] = BM * (ORIGIN + [tx, ty])\n  // BM -1 * ABS_ORIGIN * [distX, distY] - ORIGIN = [tx, ty]\n\n  return minus(calculate(inverseBeforeMatrix, plus(absoluteOrigin, [distX, distY]), n), startDragBeforeDist);\n}\nfunction getDragDist(_a, isBefore) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY;\n  var inverseBeforeMatrix = datas.inverseBeforeMatrix,\n      inverseMatrix = datas.inverseMatrix,\n      is3d = datas.is3d,\n      startDragBeforeDist = datas.startDragBeforeDist,\n      startDragDist = datas.startDragDist,\n      absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3;\n  return minus(calculate(isBefore ? inverseBeforeMatrix : inverseMatrix, plus(absoluteOrigin, [distX, distY]), n), isBefore ? startDragBeforeDist : startDragDist);\n}\nfunction getInverseDragDist(_a, isBefore) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY;\n  var beforeMatrix = datas.beforeMatrix,\n      matrix = datas.matrix,\n      is3d = datas.is3d,\n      startDragBeforeDist = datas.startDragBeforeDist,\n      startDragDist = datas.startDragDist,\n      absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3;\n  return minus(calculate(isBefore ? beforeMatrix : matrix, plus(isBefore ? startDragBeforeDist : startDragDist, [distX, distY]), n), absoluteOrigin);\n}\nfunction calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin) {\n  if (prevWidth === void 0) {\n    prevWidth = width;\n  }\n\n  if (prevHeight === void 0) {\n    prevHeight = height;\n  }\n\n  if (prevOrigin === void 0) {\n    prevOrigin = [0, 0];\n  }\n\n  if (!transformOrigin) {\n    return prevOrigin;\n  }\n\n  return transformOrigin.map(function (pos, i) {\n    var _a = splitUnit(pos),\n        value = _a.value,\n        unit = _a.unit;\n\n    var prevSize = i ? prevHeight : prevWidth;\n    var size = i ? height : width;\n\n    if (pos === \"%\" || isNaN(value)) {\n      // no value but %\n      var measureRatio = prevSize ? prevOrigin[i] / prevSize : 0;\n      return size * measureRatio;\n    } else if (unit !== \"%\") {\n      return value;\n    }\n\n    return size * value / 100;\n  });\n}\nfunction getPosIndexesByDirection(direction) {\n  var indexes = [];\n\n  if (direction[1] >= 0) {\n    if (direction[0] >= 0) {\n      indexes.push(3);\n    }\n\n    if (direction[0] <= 0) {\n      indexes.push(2);\n    }\n  }\n\n  if (direction[1] <= 0) {\n    if (direction[0] >= 0) {\n      indexes.push(1);\n    }\n\n    if (direction[0] <= 0) {\n      indexes.push(0);\n    }\n  }\n\n  return indexes;\n}\nfunction getPosesByDirection(poses, direction) {\n  /*\n  [-1, -1](pos1)       [0, -1](pos1,pos2)       [1, -1](pos2)\n  [-1, 0](pos1, pos3)                           [1, 0](pos2, pos4)\n  [-1, 1](pos3)        [0, 1](pos3, pos4)       [1, 1](pos4)\n  */\n  return getPosIndexesByDirection(direction).map(function (index) {\n    return poses[index];\n  });\n}\nfunction getPosByDirection(poses, direction) {\n  /*\n  [-1, -1](pos1)       [0, -1](pos1,pos2)       [1, -1](pos2)\n  [-1, 0](pos1, pos3)                           [1, 0](pos2, pos4)\n  [-1, 1](pos3)        [0, 1](pos3, pos4)       [1, 1](pos4)\n  */\n  var nextPoses = getPosesByDirection(poses, direction);\n  return [average(nextPoses.map(function (pos) {\n    return pos[0];\n  })), average(nextPoses.map(function (pos) {\n    return pos[1];\n  }))];\n}\nfunction getPosByReverseDirection(poses, direction) {\n  /*\n  [-1, -1](pos4)       [0, -1](pos3,pos4)       [1, -1](pos3)\n  [-1, 0](pos2, pos4)                           [1, 0](pos3, pos1)\n  [-1, 1](pos2)        [0, 1](pos1, pos2)       [1, 1](pos1)\n  */\n  return getPosByDirection(poses, direction.map(function (dir) {\n    return -dir;\n  }));\n}\n\nfunction getDist(startPos, matrix, width, height, n, direction) {\n  var poses = calculatePoses(matrix, width, height, n);\n  var pos = getPosByReverseDirection(poses, direction);\n  var distX = startPos[0] - pos[0];\n  var distY = startPos[1] - pos[1];\n  return [distX, distY];\n}\n\nfunction getNextMatrix(offsetMatrix, targetMatrix, origin, n) {\n  return multiply(offsetMatrix, getAbsoluteMatrix(targetMatrix, n, origin), n);\n}\nfunction getNextTransformMatrix(state, datas, transform) {\n  var transformOrigin = state.transformOrigin,\n      offsetMatrix = state.offsetMatrix,\n      is3d = state.is3d;\n  var beforeTransform = datas.beforeTransform,\n      afterTransform = datas.afterTransform;\n  var n = is3d ? 4 : 3;\n  var targetTransform = parseMat([transform]);\n  return getNextMatrix(offsetMatrix, convertDimension(multiply(multiply(beforeTransform, targetTransform, 4), afterTransform, 4), 4, n), transformOrigin, n);\n}\nfunction scaleMatrix(state, scale) {\n  var transformOrigin = state.transformOrigin,\n      offsetMatrix = state.offsetMatrix,\n      is3d = state.is3d,\n      targetMatrix = state.targetMatrix;\n  var n = is3d ? 4 : 3;\n  return getNextMatrix(offsetMatrix, multiply(targetMatrix, createScaleMatrix(scale, n), n), transformOrigin, n);\n}\nfunction fillTransformStartEvent(e) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  return {\n    setTransform: function (transform, index) {\n      if (index === void 0) {\n        index = -1;\n      }\n\n      originalDatas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\n      setTransformIndex(e, index);\n    },\n    setTransformIndex: function (index) {\n      setTransformIndex(e, index);\n    }\n  };\n}\nfunction setDefaultTransformIndex(e) {\n  setTransformIndex(e, -1);\n}\nfunction setTransformIndex(e, index) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  var datas = e.datas;\n  datas.transformIndex = index;\n\n  if (index === -1) {\n    return;\n  }\n\n  var transform = originalDatas.startTransforms[index];\n\n  if (!transform) {\n    return;\n  }\n\n  var info = parse([transform]);\n  datas.startValue = info[0].functionValue;\n}\nfunction fillOriginalTransform(e, transform) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  originalDatas.nextTransforms = splitSpace(transform);\n}\nfunction fillTransformEvent(moveable, nextTransform, delta, isPinch, e) {\n  fillOriginalTransform(e, nextTransform);\n  return {\n    transform: nextTransform,\n    drag: Draggable.drag(moveable, setCustomDrag(e, moveable.state, delta, isPinch, false))\n  };\n}\nfunction getTranslateDist(moveable, transform, fixedPosition, fixedDirection, datas) {\n  var state = moveable.state;\n  var left = state.left,\n      top = state.top;\n  var groupable = moveable.props.groupable;\n  var nextMatrix = getNextTransformMatrix(moveable.state, datas, transform);\n  var groupLeft = groupable ? left : 0;\n  var groupTop = groupable ? top : 0; // const dist = getDist(fixedPosition, nextMatrix, width, height, n, direction);\n\n  var nextFixedPosition = getDirectionOffset(moveable, fixedDirection, nextMatrix);\n  var dist = minus(fixedPosition, nextFixedPosition);\n  return minus(dist, [groupLeft, groupTop]);\n}\nfunction getScaleDist(moveable, scaleDist, direction, fixedPosition, datas) {\n  return getTranslateDist(moveable, \"scale(\" + scaleDist.join(\", \") + \")\", fixedPosition, direction.map(function (dir) {\n    return -dir;\n  }), datas);\n}\nfunction getOriginDirection(moveable) {\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height,\n      transformOrigin = _a.transformOrigin;\n  return [-1 + transformOrigin[0] / (width / 2), -1 + transformOrigin[1] / (height / 2)];\n}\nfunction getDirectionOffset(moveable, direction, nextMatrix) {\n  if (nextMatrix === void 0) {\n    nextMatrix = moveable.state.allMatrix;\n  }\n\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height,\n      is3d = _a.is3d;\n  var n = is3d ? 4 : 3;\n  var nextFixedOffset = [width / 2 * (1 + direction[0]), height / 2 * (1 + direction[1])];\n  return calculatePosition(nextMatrix, nextFixedOffset, n);\n}\nfunction getRotateDist(moveable, rotateDist, fixedPosition, datas) {\n  var fixedDirection = getOriginDirection(moveable);\n  return getTranslateDist(moveable, \"rotate(\" + rotateDist + \"deg)\", fixedPosition, fixedDirection, datas);\n}\nfunction getResizeDist(moveable, width, height, direction, fixedPosition, transformOrigin) {\n  var groupable = moveable.props.groupable;\n  var _a = moveable.state,\n      prevOrigin = _a.transformOrigin,\n      targetMatrix = _a.targetMatrix,\n      offsetMatrix = _a.offsetMatrix,\n      is3d = _a.is3d,\n      prevWidth = _a.width,\n      prevHeight = _a.height,\n      left = _a.left,\n      top = _a.top;\n  var n = is3d ? 4 : 3;\n  var nextOrigin = calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin);\n  var groupLeft = groupable ? left : 0;\n  var groupTop = groupable ? top : 0;\n  var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, nextOrigin, n);\n  var dist = getDist(fixedPosition, nextMatrix, width, height, n, direction);\n  return minus(dist, [groupLeft, groupTop]);\n}\nfunction getStartDirection(moveable, direction) {\n  if (!direction[0] && !direction[1]) {\n    return [0, 0];\n  }\n\n  var baseDirection = [-1, -1];\n  return [direction[0] ? direction[0] : baseDirection[0] * -1, direction[1] ? direction[1] : baseDirection[1] * -1];\n}\nfunction getAbsoluteFixedPosition(moveable, direction) {\n  return getPosByReverseDirection(getAbsolutePosesByState(moveable.state), direction);\n}\n\nfunction getGapGuidelines(guidelines, type, snapThreshold, index, _a, _b) {\n  var start = _a[0],\n      end = _a[1];\n  var otherStart = _b[0],\n      otherEnd = _b[1];\n  var totalGuidelines = [];\n  var otherIndex = index ? 0 : 1;\n  var otherType = type === \"vertical\" ? \"horizontal\" : \"vertical\";\n  var elementGuidelines = groupBy(guidelines.filter(function (_a) {\n    var guidelineType = _a.type;\n    return guidelineType === type;\n  }), function (_a) {\n    var element = _a.element;\n    return element;\n  }).map(function (group) {\n    return group[0];\n  }).filter(function (_a) {\n    var pos = _a.pos,\n        sizes = _a.sizes;\n    return pos[otherIndex] <= otherEnd && otherStart <= pos[otherIndex] + sizes[otherIndex];\n  });\n  elementGuidelines.forEach(function (guideline1) {\n    var elementStart = guideline1.pos[index];\n    var elementEnd = elementStart + guideline1.sizes[index];\n    elementGuidelines.forEach(function (_a) {\n      var guideline2Pos = _a.pos,\n          guideline2Sizes = _a.sizes,\n          guideline2Element = _a.element;\n      var targetStart = guideline2Pos[index];\n      var targetEnd = targetStart + guideline2Sizes[index];\n      var pos = 0;\n      var gap = 0;\n      var canSnap = true;\n\n      if (elementEnd <= targetStart) {\n        // gap -\n        gap = elementEnd - targetStart;\n        pos = targetEnd - gap;\n\n        if (start < pos - snapThreshold) {\n          canSnap = false;\n        } // element target moveable\n\n      } else if (targetEnd <= elementStart) {\n        // gap +\n        gap = elementStart - targetEnd;\n        pos = targetStart - gap;\n\n        if (end > pos + snapThreshold) {\n          canSnap = false;\n        } // moveable target element\n\n      } else {\n        return;\n      }\n\n      if (canSnap) {\n        totalGuidelines.push({\n          pos: otherType === \"vertical\" ? [pos, guideline2Pos[1]] : [guideline2Pos[0], pos],\n          element: guideline2Element,\n          sizes: guideline2Sizes,\n          size: 0,\n          type: otherType,\n          gap: gap,\n          gapGuidelines: elementGuidelines\n        });\n      }\n\n      if (elementEnd <= start && end <= targetStart) {\n        // elementEnd   moveable   target\n        var centerPos = (targetStart + elementEnd - (end - start)) / 2;\n\n        if (throttle(start - (centerPos - snapThreshold), 0.1) >= 0) {\n          totalGuidelines.push({\n            pos: otherType === \"vertical\" ? [centerPos, guideline2Pos[1]] : [guideline2Pos[0], centerPos],\n            element: guideline2Element,\n            sizes: guideline2Sizes,\n            size: 0,\n            type: otherType,\n            gap: elementEnd - start,\n            gapGuidelines: elementGuidelines\n          });\n        }\n      }\n    });\n  });\n  return totalGuidelines;\n}\nfunction addGuidelines(totalGuidelines, width, height, horizontalGuidelines, verticalGuidelines) {\n  horizontalGuidelines && horizontalGuidelines.forEach(function (pos) {\n    totalGuidelines.push({\n      type: \"horizontal\",\n      pos: [0, throttle(pos, 0.1)],\n      size: width\n    });\n  });\n  verticalGuidelines && verticalGuidelines.forEach(function (pos) {\n    totalGuidelines.push({\n      type: \"vertical\",\n      pos: [throttle(pos, 0.1), 0],\n      size: height\n    });\n  });\n  return totalGuidelines;\n}\nfunction getTotalGuidelines(moveable) {\n  var _a = moveable.state,\n      guidelines = _a.guidelines,\n      _b = _a.containerClientRect,\n      containerHeight = _b.scrollHeight,\n      containerWidth = _b.scrollWidth;\n  var props = moveable.props;\n  var _c = props.snapHorizontal,\n      snapHorizontal = _c === void 0 ? true : _c,\n      _d = props.snapVertical,\n      snapVertical = _d === void 0 ? true : _d,\n      _e = props.snapGap,\n      snapGap = _e === void 0 ? true : _e,\n      verticalGuidelines = props.verticalGuidelines,\n      horizontalGuidelines = props.horizontalGuidelines,\n      _f = props.snapThreshold,\n      snapThreshold = _f === void 0 ? 5 : _f;\n\n  var totalGuidelines = __spreadArrays(guidelines);\n\n  if (snapGap) {\n    var _g = getRect(getAbsolutePosesByState(moveable.state)),\n        top = _g.top,\n        left = _g.left,\n        bottom = _g.bottom,\n        right = _g.right;\n\n    var elementGuidelines = guidelines.filter(function (_a) {\n      var element = _a.element;\n      return element;\n    });\n    totalGuidelines.push.apply(totalGuidelines, __spreadArrays(getGapGuidelines(elementGuidelines, \"horizontal\", snapThreshold, 0, [left, right], [top, bottom]), getGapGuidelines(elementGuidelines, \"vertical\", snapThreshold, 1, [top, bottom], [left, right])));\n  }\n\n  addGuidelines(totalGuidelines, containerWidth, containerHeight, snapHorizontal && horizontalGuidelines, snapVertical && verticalGuidelines);\n  return totalGuidelines;\n}\nfunction checkMoveableSnapPoses(moveable, posesX, posesY, snapCenter, customSnapThreshold) {\n  var totalGuidelines = getTotalGuidelines(moveable);\n  var props = moveable.props;\n  var _a = props.snapElement,\n      snapElement = _a === void 0 ? true : _a;\n  var snapThreshold = selectValue(customSnapThreshold, props.snapThreshold, 5);\n  return checkSnapPoses(totalGuidelines, posesX, posesY, {\n    snapThreshold: snapThreshold,\n    snapCenter: snapCenter,\n    snapElement: snapElement\n  });\n}\nfunction checkSnapPoses(guidelines, posesX, posesY, options) {\n  return {\n    vertical: checkSnap(guidelines, \"vertical\", posesX, options),\n    horizontal: checkSnap(guidelines, \"horizontal\", posesY, options)\n  };\n}\nfunction checkSnapKeepRatio(moveable, startPos, endPos) {\n  var endX = endPos[0],\n      endY = endPos[1];\n  var startX = startPos[0],\n      startY = startPos[1];\n\n  var _a = minus(endPos, startPos),\n      dx = _a[0],\n      dy = _a[1];\n\n  var isBottom = dy > 0;\n  var isRight = dx > 0;\n  dx = getTinyDist(dx);\n  dy = getTinyDist(dy);\n  var verticalInfo = {\n    isSnap: false,\n    offset: 0,\n    pos: 0\n  };\n  var horizontalInfo = {\n    isSnap: false,\n    offset: 0,\n    pos: 0\n  };\n\n  if (dx === 0 && dy === 0) {\n    return {\n      vertical: verticalInfo,\n      horizontal: horizontalInfo\n    };\n  }\n\n  var _b = checkMoveableSnapPoses(moveable, dx ? [endX] : [], dy ? [endY] : []),\n      verticalSnapInfo = _b.vertical,\n      horizontalSnapInfo = _b.horizontal;\n\n  verticalSnapInfo.posInfos.filter(function (_a) {\n    var pos = _a.pos;\n    return isRight ? pos >= startX : pos <= startX;\n  });\n  horizontalSnapInfo.posInfos.filter(function (_a) {\n    var pos = _a.pos;\n    return isBottom ? pos >= startY : pos <= startY;\n  });\n  verticalSnapInfo.isSnap = verticalSnapInfo.posInfos.length > 0;\n  horizontalSnapInfo.isSnap = horizontalSnapInfo.posInfos.length > 0;\n\n  var _c = getNearestSnapGuidelineInfo(verticalSnapInfo),\n      isVerticalSnap = _c.isSnap,\n      verticalGuideline = _c.guideline;\n\n  var _d = getNearestSnapGuidelineInfo(horizontalSnapInfo),\n      isHorizontalSnap = _d.isSnap,\n      horizontalGuideline = _d.guideline;\n\n  var horizontalPos = isHorizontalSnap ? horizontalGuideline.pos[1] : 0;\n  var verticalPos = isVerticalSnap ? verticalGuideline.pos[0] : 0;\n\n  if (dx === 0) {\n    if (isHorizontalSnap) {\n      horizontalInfo.isSnap = true;\n      horizontalInfo.pos = horizontalGuideline.pos[1];\n      horizontalInfo.offset = endY - horizontalInfo.pos;\n    }\n  } else if (dy === 0) {\n    if (isVerticalSnap) {\n      verticalInfo.isSnap = true;\n      verticalInfo.pos = verticalPos;\n      verticalInfo.offset = endX - verticalPos;\n    }\n  } else {\n    // y - y1 = a * (x - x1)\n    var a = dy / dx;\n    var b = endPos[1] - a * endX;\n    var y = 0;\n    var x = 0;\n    var isSnap = false;\n\n    if (isVerticalSnap) {\n      x = verticalPos;\n      y = a * x + b;\n      isSnap = true;\n    } else if (isHorizontalSnap) {\n      y = horizontalPos;\n      x = (y - b) / a;\n      isSnap = true;\n    }\n\n    if (isSnap) {\n      verticalInfo.isSnap = true;\n      verticalInfo.pos = x;\n      verticalInfo.offset = endX - x;\n      horizontalInfo.isSnap = true;\n      horizontalInfo.pos = y;\n      horizontalInfo.offset = endY - y;\n    }\n  }\n\n  return {\n    vertical: verticalInfo,\n    horizontal: horizontalInfo\n  };\n}\nfunction checkSnaps(moveable, rect, isCenter, customSnapThreshold) {\n  var snapCenter = moveable.props.snapCenter;\n  var isSnapCenter = snapCenter && isCenter;\n  var verticalNames = [\"left\", \"right\"];\n  var horizontalNames = [\"top\", \"bottom\"];\n\n  if (isSnapCenter) {\n    verticalNames.push(\"center\");\n    horizontalNames.push(\"middle\");\n  }\n\n  verticalNames = verticalNames.filter(function (name) {\n    return name in rect;\n  });\n  horizontalNames = horizontalNames.filter(function (name) {\n    return name in rect;\n  });\n  return checkMoveableSnapPoses(moveable, verticalNames.map(function (name) {\n    return rect[name];\n  }), horizontalNames.map(function (name) {\n    return rect[name];\n  }), isSnapCenter, customSnapThreshold);\n}\nfunction getNearestSnapGuidelineInfo(snapInfo) {\n  var isSnap = snapInfo.isSnap;\n\n  if (!isSnap) {\n    return {\n      isSnap: false,\n      offset: 0,\n      dist: -1,\n      pos: 0,\n      guideline: null\n    };\n  }\n\n  var posInfo = snapInfo.posInfos[0];\n  var guidelineInfo = posInfo.guidelineInfos[0];\n  var offset = guidelineInfo.offset;\n  var dist = guidelineInfo.dist;\n  var guideline = guidelineInfo.guideline;\n  return {\n    isSnap: isSnap,\n    offset: offset,\n    dist: dist,\n    pos: posInfo.pos,\n    guideline: guideline\n  };\n}\n\nfunction checkSnap(guidelines, targetType, targetPoses, _a) {\n  var _b = _a === void 0 ? {} : _a,\n      _c = _b.snapThreshold,\n      snapThreshold = _c === void 0 ? 5 : _c,\n      snapElement = _b.snapElement,\n      snapCenter = _b.snapCenter;\n\n  if (!guidelines || !guidelines.length) {\n    return {\n      isSnap: false,\n      index: -1,\n      posInfos: []\n    };\n  }\n\n  var isVertical = targetType === \"vertical\";\n  var posType = isVertical ? 0 : 1;\n  var snapPosInfos = targetPoses.map(function (targetPos, index) {\n    var guidelineInfos = guidelines.map(function (guideline) {\n      var pos = guideline.pos;\n      var offset = targetPos - pos[posType];\n      return {\n        offset: offset,\n        dist: Math.abs(offset),\n        guideline: guideline\n      };\n    }).filter(function (_a) {\n      var guideline = _a.guideline,\n          dist = _a.dist;\n      var type = guideline.type,\n          center = guideline.center,\n          element = guideline.element;\n\n      if (!snapElement && element || !snapCenter && center || type !== targetType || dist > snapThreshold) {\n        return false;\n      }\n\n      return true;\n    }).sort(function (a, b) {\n      return a.dist - b.dist;\n    });\n    return {\n      pos: targetPos,\n      index: index,\n      guidelineInfos: guidelineInfos\n    };\n  }).filter(function (snapPosInfo) {\n    return snapPosInfo.guidelineInfos.length > 0;\n  }).sort(function (a, b) {\n    return a.guidelineInfos[0].dist - b.guidelineInfos[0].dist;\n  });\n  var isSnap = snapPosInfos.length > 0;\n  return {\n    isSnap: isSnap,\n    index: isSnap ? snapPosInfos[0].index : -1,\n    posInfos: snapPosInfos\n  };\n}\n\nfunction getSnapInfosByDirection(moveable, poses, snapDirection) {\n  var nextPoses = [];\n\n  if (snapDirection[0] && snapDirection[1]) {\n    nextPoses = [snapDirection, [-snapDirection[0], snapDirection[1]], [snapDirection[0], -snapDirection[1]]].map(function (direction) {\n      return getPosByDirection(poses, direction);\n    });\n  } else if (!snapDirection[0] && !snapDirection[1]) {\n    var alignPoses = [poses[0], poses[1], poses[3], poses[2], poses[0]];\n\n    for (var i = 0; i < 4; ++i) {\n      nextPoses.push(alignPoses[i]);\n      nextPoses.push([(alignPoses[i][0] + alignPoses[i + 1][0]) / 2, (alignPoses[i][1] + alignPoses[i + 1][1]) / 2]);\n    }\n  } else {\n    if (moveable.props.keepRatio) {\n      nextPoses = [[-1, -1], [-1, 1], [1, -1], [1, 1], snapDirection].map(function (dir) {\n        return getPosByDirection(poses, dir);\n      });\n    } else {\n      nextPoses = getPosesByDirection(poses, snapDirection);\n\n      if (nextPoses.length > 1) {\n        nextPoses.push([(nextPoses[0][0] + nextPoses[1][0]) / 2, (nextPoses[0][1] + nextPoses[1][1]) / 2]);\n      }\n    }\n  }\n\n  return checkMoveableSnapPoses(moveable, nextPoses.map(function (pos) {\n    return pos[0];\n  }), nextPoses.map(function (pos) {\n    return pos[1];\n  }), true, 1);\n}\nfunction checkSnapBoundPriority(a, b) {\n  var aDist = Math.abs(a.offset);\n  var bDist = Math.abs(b.offset);\n\n  if (a.isBound && b.isBound) {\n    return bDist - aDist;\n  } else if (a.isBound) {\n    return -1;\n  } else if (b.isBound) {\n    return 1;\n  } else if (a.isSnap && b.isSnap) {\n    return bDist - aDist;\n  } else if (a.isSnap) {\n    return -1;\n  } else if (b.isSnap) {\n    return 1;\n  } else if (aDist < TINY_NUM) {\n    return 1;\n  } else if (bDist < TINY_NUM) {\n    return -1;\n  }\n\n  return aDist - bDist;\n}\nfunction getNearOffsetInfo(offsets, index) {\n  return offsets.slice().sort(function (a, b) {\n    var aSign = a.sign[index];\n    var bSign = b.sign[index];\n    var aOffset = a.offset[index];\n    var bOffset = b.offset[index]; // -1 The positions of a and b do not change.\n    // 1 The positions of a and b are reversed.\n\n    if (!aSign) {\n      return 1;\n    } else if (!bSign) {\n      return -1;\n    }\n\n    return checkSnapBoundPriority({\n      isBound: a.isBound,\n      isSnap: a.isSnap,\n      offset: aOffset\n    }, {\n      isBound: b.isBound,\n      isSnap: b.isSnap,\n      offset: bOffset\n    });\n  })[0];\n}\n\nfunction isStartLine(dot, line) {\n  // l    o     => true\n  // o    l    => false\n  var cx = average([line[0][0], line[1][0]]);\n  var cy = average([line[0][1], line[1][1]]);\n  return {\n    vertical: cx <= dot[0],\n    horizontal: cy <= dot[1]\n  };\n}\n\nfunction hitTestLine(dot, _a) {\n  var pos1 = _a[0],\n      pos2 = _a[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (Math.abs(dx) < TINY_NUM) {\n    dx = 0;\n  }\n\n  if (Math.abs(dy) < TINY_NUM) {\n    dy = 0;\n  }\n\n  var test1;\n  var test2;\n\n  if (!dx) {\n    test1 = pos1[0];\n    test2 = dot[0];\n  } else if (!dy) {\n    test1 = pos1[1];\n    test2 = dot[1];\n  } else {\n    var a = dy / dx; // y = a * (x - pos1) + pos1\n\n    test1 = a * (dot[0] - pos1[0]) + pos1[1];\n    test2 = dot[1];\n  }\n\n  return test1 - test2;\n}\n\nfunction isSameStartLine(dots, line, error) {\n  if (error === void 0) {\n    error = TINY_NUM;\n  }\n\n  var centerSign = hitTestLine(dots[0], line) <= 0;\n  return dots.slice(1).every(function (dot) {\n    var value = hitTestLine(dot, line);\n    var sign = value <= 0;\n    return sign === centerSign || Math.abs(value) <= error;\n  });\n}\n\nfunction checkInnerBoundDot(pos, start, end, isStart, threshold) {\n  if (threshold === void 0) {\n    threshold = 0;\n  }\n\n  if (isStart && start - threshold <= pos || !isStart && pos <= end + threshold) {\n    // false 402 565 602 => 37 ([0, 37])\n    // true 400 524.9712603540036 600 => 124 ([124, 0])\n    // true 400 410 600 => 10 ([10, 0])\n    return {\n      isBound: true,\n      offset: isStart ? start - pos : end - pos\n    };\n  }\n\n  return {\n    isBound: false,\n    offset: 0\n  };\n}\n\nfunction checkInnerBound(moveable, line, center) {\n  var bounds = moveable.props.innerBounds;\n\n  if (!bounds) {\n    return {\n      isAllBound: false,\n      isBound: false,\n      isVerticalBound: false,\n      isHorizontalBound: false,\n      offset: [0, 0]\n    };\n  }\n\n  var left = bounds.left,\n      top = bounds.top,\n      width = bounds.width,\n      height = bounds.height;\n  var leftLine = [[left, top], [left, top + height]];\n  var topLine = [[left, top], [left + width, top]];\n  var rightLine = [[left + width, top], [left + width, top + height]];\n  var bottomLine = [[left, top + height], [left + width, top + height]];\n\n  var _a = isStartLine(center, line),\n      isHorizontalStart = _a.horizontal,\n      isVerticalStart = _a.vertical;\n\n  if (isSameStartLine([center, [left, top], [left + width, top], [left, top + height], [left + width, top + height]], line)) {\n    return {\n      isAllBound: false,\n      isBound: false,\n      isVerticalBound: false,\n      isHorizontalBound: false,\n      offset: [0, 0]\n    };\n  } // test vertical\n\n\n  var topBoundInfo = checkLineBoundCollision(line, topLine, isVerticalStart);\n  var bottomBoundInfo = checkLineBoundCollision(line, bottomLine, isVerticalStart); // test horizontal\n\n  var leftBoundInfo = checkLineBoundCollision(line, leftLine, isHorizontalStart);\n  var rightBoundInfo = checkLineBoundCollision(line, rightLine, isHorizontalStart);\n  var isAllVerticalBound = topBoundInfo.isBound && bottomBoundInfo.isBound;\n  var isVerticalBound = topBoundInfo.isBound || bottomBoundInfo.isBound;\n  var isAllHorizontalBound = leftBoundInfo.isBound && rightBoundInfo.isBound;\n  var isHorizontalBound = leftBoundInfo.isBound || rightBoundInfo.isBound;\n  var verticalOffset = maxOffset(topBoundInfo.offset, bottomBoundInfo.offset);\n  var horizontalOffset = maxOffset(leftBoundInfo.offset, rightBoundInfo.offset);\n  var offset = [0, 0];\n  var isBound = false;\n  var isAllBound = false;\n\n  if (Math.abs(horizontalOffset) < Math.abs(verticalOffset)) {\n    offset = [verticalOffset, 0];\n    isBound = isVerticalBound;\n    isAllBound = isAllVerticalBound;\n  } else {\n    offset = [0, horizontalOffset];\n    isBound = isHorizontalBound;\n    isAllBound = isAllHorizontalBound;\n  }\n\n  return {\n    isAllBound: isAllBound,\n    isVerticalBound: isVerticalBound,\n    isHorizontalBound: isHorizontalBound,\n    isBound: isBound,\n    offset: offset\n  };\n}\n\nfunction checkLineBoundCollision(line, boundLine, isStart, threshold, isRender) {\n  var dot1 = line[0];\n  var dot2 = line[1];\n  var boundDot1 = boundLine[0];\n  var boundDot2 = boundLine[1];\n  var dy1 = getTinyDist(dot2[1] - dot1[1]);\n  var dx1 = getTinyDist(dot2[0] - dot1[0]);\n  var dy2 = getTinyDist(boundDot2[1] - boundDot1[1]);\n  var dx2 = getTinyDist(boundDot2[0] - boundDot1[0]); // dx2 or dy2 is zero\n\n  if (!dx2) {\n    // vertical\n    if (isRender && !dy1) {\n      // 90deg\n      return {\n        isBound: false,\n        offset: 0\n      };\n    } else if (dx1) {\n      // const y = dy1 ? dy1 / dx1 * (boundDot1[0] - dot1[0]) + dot1[1] : dot1[1];\n      var y = dy1 / dx1 * (boundDot1[0] - dot1[0]) + dot1[1]; // boundDot1[1] <= y  <= boundDot2[1]\n\n      return checkInnerBoundDot(y, boundDot1[1], boundDot2[1], isStart, threshold);\n    } else {\n      var offset = boundDot1[0] - dot1[0];\n      var isBound = Math.abs(offset) <= (threshold || 0);\n      return {\n        isBound: isBound,\n        offset: isBound ? offset : 0\n      };\n    }\n  } else if (!dy2) {\n    // horizontal\n    if (isRender && !dx1) {\n      // 90deg\n      return {\n        isBound: false,\n        offset: 0\n      };\n    } else if (dy1) {\n      // y = a * (x - x1) + y1\n      // x = (y - y1) / a + x1\n      // const a = dy1 / dx1;\n      // const x = dx1 ? (boundDot1[1] - dot1[1]) / a + dot1[0] : dot1[0];\n      var x = (boundDot1[1] - dot1[1]) / (dy1 / dx1) + dot1[0]; // boundDot1[0] <= x && x <= boundDot2[0]\n\n      return checkInnerBoundDot(x, boundDot1[0], boundDot2[0], isStart, threshold);\n    } else {\n      var offset = boundDot1[1] - dot1[1];\n      var isBound = Math.abs(offset) <= (threshold || 0);\n      return {\n        isBound: isBound,\n        offset: isBound ? offset : 0\n      };\n    }\n  }\n\n  return {\n    isBound: false,\n    offset: 0\n  };\n}\n\nfunction getInnerBoundInfo(moveable, lines, center, datas) {\n  return lines.map(function (_a) {\n    var multiple = _a[0],\n        pos1 = _a[1],\n        pos2 = _a[2];\n\n    var _b = checkInnerBound(moveable, [pos1, pos2], center),\n        isBound = _b.isBound,\n        offset = _b.offset,\n        isVerticalBound = _b.isVerticalBound,\n        isHorizontalBound = _b.isHorizontalBound;\n\n    var sizeOffset = getDragDist({\n      datas: datas,\n      distX: offset[0],\n      distY: offset[1]\n    }).map(function (size, i) {\n      return size * (multiple[i] ? 2 / multiple[i] : 0);\n    });\n    return {\n      sign: multiple,\n      isBound: isBound,\n      isVerticalBound: isVerticalBound,\n      isHorizontalBound: isHorizontalBound,\n      isSnap: false,\n      offset: sizeOffset\n    };\n  });\n}\nfunction getInnerBoundDragInfo(moveable, poses, datas) {\n  var _a;\n\n  var lines = getCheckSnapLines(poses, [0, 0], false).map(function (_a) {\n    var sign = _a[0],\n        pos1 = _a[1],\n        pos2 = _a[2];\n    return [sign.map(function (dir) {\n      return Math.abs(dir) * 2;\n    }), pos1, pos2];\n  });\n  var innerBoundInfo = getInnerBoundInfo(moveable, lines, getPosByDirection(poses, [0, 0]), datas);\n  var widthOffsetInfo = getNearOffsetInfo(innerBoundInfo, 0);\n  var heightOffsetInfo = getNearOffsetInfo(innerBoundInfo, 1);\n  var verticalOffset = 0;\n  var horizontalOffset = 0;\n  var isVerticalBound = widthOffsetInfo.isVerticalBound || heightOffsetInfo.isVerticalBound;\n  var isHorizontalBound = widthOffsetInfo.isHorizontalBound || heightOffsetInfo.isHorizontalBound;\n\n  if (isVerticalBound || isHorizontalBound) {\n    _a = getInverseDragDist({\n      datas: datas,\n      distX: -widthOffsetInfo.offset[0],\n      distY: -heightOffsetInfo.offset[1]\n    }), verticalOffset = _a[0], horizontalOffset = _a[1];\n  }\n\n  return {\n    vertical: {\n      isBound: isVerticalBound,\n      offset: verticalOffset\n    },\n    horizontal: {\n      isBound: isHorizontalBound,\n      offset: horizontalOffset\n    }\n  };\n}\nfunction getCheckSnapLineDirections(direction, keepRatio) {\n  var lineDirections = [];\n  var x = direction[0];\n  var y = direction[1];\n\n  if (x && y) {\n    lineDirections.push([[0, y * 2], direction, [-x, y]], [[x * 2, 0], direction, [x, -y]]);\n  } else if (x) {\n    // vertcal\n    lineDirections.push([[x * 2, 0], [x, 1], [x, -1]]);\n\n    if (keepRatio) {\n      lineDirections.push([[0, -1], [x, -1], [-x, -1]], [[0, 1], [x, 1], [-x, 1]]);\n    }\n  } else if (y) {\n    // horizontal\n    lineDirections.push([[0, y * 2], [1, y], [-1, y]]);\n\n    if (keepRatio) {\n      lineDirections.push([[-1, 0], [-1, y], [-1, -y]], [[1, 0], [1, y], [1, -y]]);\n    }\n  } else {\n    // [0, 0] to all direction\n    lineDirections.push([[-1, 0], [-1, -1], [-1, 1]], [[1, 0], [1, -1], [1, 1]], [[0, -1], [-1, -1], [1, -1]], [[0, 1], [-1, 1], [1, 1]]);\n  }\n\n  return lineDirections;\n}\nfunction getCheckSnapLines(poses, direction, keepRatio) {\n  return getCheckSnapLineDirections(direction, keepRatio).map(function (_a) {\n    var sign = _a[0],\n        dir1 = _a[1],\n        dir2 = _a[2];\n    return [sign, getPosByDirection(poses, dir1), getPosByDirection(poses, dir2)];\n  });\n}\n\nfunction isBoundRotate(relativePoses, boundDots, center, rad) {\n  var nextPoses = rad ? relativePoses.map(function (pos) {\n    return rotate(pos, rad);\n  }) : relativePoses;\n\n  var dots = __spreadArrays([center], boundDots);\n\n  return [[nextPoses[0], nextPoses[1]], [nextPoses[1], nextPoses[3]], [nextPoses[3], nextPoses[2]], [nextPoses[2], nextPoses[0]]].some(function (line, i) {\n    return !isSameStartLine(dots, line);\n  });\n}\n\nfunction getDistPointLine(_a) {\n  // x = 0, y = 0\n  // d = (ax + by + c) / root(a2 + b2)\n  var pos1 = _a[0],\n      pos2 = _a[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (!dx) {\n    return Math.abs(pos1[0]);\n  }\n\n  if (!dy) {\n    return Math.abs(pos1[1]);\n  } // y - y1 = a(x - x1)\n  // 0 = ax -y + -a * x1 + y1\n\n\n  var a = dy / dx;\n  return Math.abs((-a * pos1[0] + pos1[1]) / Math.sqrt(Math.pow(a, 2) + 1));\n}\n\nfunction solveReverseLine(_a) {\n  var pos1 = _a[0],\n      pos2 = _a[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (!dx) {\n    return [pos1[0], 0];\n  }\n\n  if (!dy) {\n    return [0, pos1[1]];\n  }\n\n  var a = dy / dx; // y - y1 = a (x  - x1)\n  // y = ax - a * x1 + y1\n\n  var b = -a * pos1[0] + pos1[1]; // y = ax + b = -1/a x\n  // x = -b / (a + 1 / a)\n  // y = b / (1 + 1 / a^2)\n\n  return [-b / (a + 1 / a), b / (a * a + 1)];\n}\n\nfunction checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin, rotation) {\n  var bounds = moveable.props.innerBounds;\n  var rad = rotation * Math.PI / 180;\n\n  if (!bounds) {\n    return [];\n  }\n\n  var left = bounds.left,\n      top = bounds.top,\n      width = bounds.width,\n      height = bounds.height;\n  var relativeLeft = left - origin[0];\n  var relativeRight = left + width - origin[0];\n  var relativeTop = top - origin[1];\n  var relativeBottom = top + height - origin[1];\n  var dots = [[relativeLeft, relativeTop], [relativeRight, relativeTop], [relativeLeft, relativeBottom], [relativeRight, relativeBottom]];\n  var center = getPosByDirection(nextPoses, [0, 0]);\n\n  if (!isBoundRotate(nextPoses, dots, center, 0)) {\n    return [];\n  }\n\n  var result = [];\n  var dotInfos = dots.map(function (dot) {\n    return [getDistSize(dot), getRad([0, 0], dot)];\n  });\n  [[nextPoses[0], nextPoses[1]], [nextPoses[1], nextPoses[3]], [nextPoses[3], nextPoses[2]], [nextPoses[2], nextPoses[0]]].forEach(function (line) {\n    var lineRad = getRad([0, 0], solveReverseLine(line));\n    var lineDist = getDistPointLine(line);\n    result.push.apply(result, dotInfos.filter(function (_a) {\n      var dotDist = _a[0];\n      return dotDist && lineDist <= dotDist;\n    }).map(function (_a) {\n      var dotDist = _a[0],\n          dotRad = _a[1];\n      var distRad = Math.acos(dotDist ? lineDist / dotDist : 0);\n      var nextRad1 = dotRad + distRad;\n      var nextRad2 = dotRad - distRad;\n      return [rad + nextRad1 - lineRad, rad + nextRad2 - lineRad];\n    }).reduce(function (prev, cur) {\n      prev.push.apply(prev, cur);\n      return prev;\n    }, []).filter(function (nextRad) {\n      return !isBoundRotate(prevPoses, dots, center, nextRad);\n    }).map(function (nextRad) {\n      return throttle(nextRad * 180 / Math.PI, TINY_NUM);\n    }));\n  });\n  return result;\n}\nfunction checkInnerBoundPoses(moveable) {\n  var innerBounds = moveable.props.innerBounds;\n\n  if (!innerBounds) {\n    return {\n      vertical: [],\n      horizontal: []\n    };\n  }\n\n  var _a = moveable.getRect(),\n      pos1 = _a.pos1,\n      pos2 = _a.pos2,\n      pos3 = _a.pos3,\n      pos4 = _a.pos4;\n\n  var poses = [pos1, pos2, pos3, pos4];\n  var center = getPosByDirection(poses, [0, 0]);\n  var left = innerBounds.left,\n      top = innerBounds.top,\n      width = innerBounds.width,\n      height = innerBounds.height;\n  var leftLine = [[left, top], [left, top + height]];\n  var topLine = [[left, top], [left + width, top]];\n  var rightLine = [[left + width, top], [left + width, top + height]];\n  var bottomLine = [[left, top + height], [left + width, top + height]];\n  var lines = [[pos1, pos2], [pos2, pos4], [pos4, pos3], [pos3, pos1]];\n  var horizontalPoses = [];\n  var verticalPoses = [];\n  var boundMap = {\n    top: false,\n    bottom: false,\n    left: false,\n    right: false\n  };\n  lines.forEach(function (line) {\n    var _a = isStartLine(center, line),\n        isHorizontalStart = _a.horizontal,\n        isVerticalStart = _a.vertical; // test vertical\n\n\n    var topBoundInfo = checkLineBoundCollision(line, topLine, isVerticalStart, 1, true);\n    var bottomBoundInfo = checkLineBoundCollision(line, bottomLine, isVerticalStart, 1, true); // test horizontal\n\n    var leftBoundInfo = checkLineBoundCollision(line, leftLine, isHorizontalStart, 1, true);\n    var rightBoundInfo = checkLineBoundCollision(line, rightLine, isHorizontalStart, 1, true);\n\n    if (topBoundInfo.isBound && !boundMap.top) {\n      horizontalPoses.push(top);\n      boundMap.top = true;\n    }\n\n    if (bottomBoundInfo.isBound && !boundMap.bottom) {\n      horizontalPoses.push(top + height);\n      boundMap.bottom = true;\n    }\n\n    if (leftBoundInfo.isBound && !boundMap.left) {\n      verticalPoses.push(left);\n      boundMap.left = true;\n    }\n\n    if (rightBoundInfo.isBound && !boundMap.right) {\n      verticalPoses.push(left + width);\n      boundMap.right = true;\n    }\n  });\n  return {\n    horizontal: horizontalPoses,\n    vertical: verticalPoses\n  };\n}\n\nfunction checkBoundPoses(bounds, verticalPoses, horizontalPoses) {\n  var _a = bounds || {},\n      _b = _a.left,\n      left = _b === void 0 ? -Infinity : _b,\n      _c = _a.top,\n      top = _c === void 0 ? -Infinity : _c,\n      _d = _a.right,\n      right = _d === void 0 ? Infinity : _d,\n      _e = _a.bottom,\n      bottom = _e === void 0 ? Infinity : _e;\n\n  var nextBounds = {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom\n  };\n  return {\n    vertical: checkBounds(nextBounds, verticalPoses, true),\n    horizontal: checkBounds(nextBounds, horizontalPoses, false)\n  };\n}\nfunction checkBoundKeepRatio(moveable, startPos, endPos) {\n  var _a = moveable.props.bounds || {},\n      _b = _a.left,\n      left = _b === void 0 ? -Infinity : _b,\n      _c = _a.top,\n      top = _c === void 0 ? -Infinity : _c,\n      _d = _a.right,\n      right = _d === void 0 ? Infinity : _d,\n      _e = _a.bottom,\n      bottom = _e === void 0 ? Infinity : _e;\n\n  var endX = endPos[0],\n      endY = endPos[1];\n\n  var _f = minus(endPos, startPos),\n      dx = _f[0],\n      dy = _f[1];\n\n  if (Math.abs(dx) < TINY_NUM) {\n    dx = 0;\n  }\n\n  if (Math.abs(dy) < TINY_NUM) {\n    dy = 0;\n  }\n\n  var isBottom = dy > 0;\n  var isRight = dx > 0;\n  var verticalInfo = {\n    isBound: false,\n    offset: 0,\n    pos: 0\n  };\n  var horizontalInfo = {\n    isBound: false,\n    offset: 0,\n    pos: 0\n  };\n\n  if (dx === 0 && dy === 0) {\n    return {\n      vertical: verticalInfo,\n      horizontal: horizontalInfo\n    };\n  } else if (dx === 0) {\n    if (isBottom) {\n      if (bottom < endY) {\n        horizontalInfo.pos = bottom;\n        horizontalInfo.offset = endY - bottom;\n      }\n    } else {\n      if (top > endY) {\n        horizontalInfo.pos = top;\n        horizontalInfo.offset = endY - top;\n      }\n    }\n  } else if (dy === 0) {\n    if (isRight) {\n      if (right < endX) {\n        verticalInfo.pos = right;\n        verticalInfo.offset = endX - right;\n      }\n    } else {\n      if (left > endX) {\n        verticalInfo.pos = left;\n        verticalInfo.offset = endX - left;\n      }\n    }\n  } else {\n    // y - y1 = a * (x - x1)\n    var a = dy / dx;\n    var b = endPos[1] - a * endX;\n    var y = 0;\n    var x = 0;\n    var isBound = false;\n\n    if (isRight && right <= endX) {\n      y = a * right + b;\n      x = right;\n      isBound = true;\n    } else if (!isRight && endX <= left) {\n      y = a * left + b;\n      x = left;\n      isBound = true;\n    }\n\n    if (isBound) {\n      if (y < top || y > bottom) {\n        isBound = false;\n      }\n    }\n\n    if (!isBound) {\n      if (isBottom && bottom <= endY) {\n        y = bottom;\n        x = (y - b) / a;\n        isBound = true;\n      } else if (!isBottom && endY <= top) {\n        y = top;\n        x = (y - b) / a;\n        isBound = true;\n      }\n    }\n\n    if (isBound) {\n      verticalInfo.isBound = true;\n      verticalInfo.pos = x;\n      verticalInfo.offset = endX - x;\n      horizontalInfo.isBound = true;\n      horizontalInfo.pos = y;\n      horizontalInfo.offset = endY - y;\n    }\n  }\n\n  return {\n    vertical: verticalInfo,\n    horizontal: horizontalInfo\n  };\n}\n\nfunction checkBounds(bounds, poses, isVertical) {\n  // 0   [100 - 200]  300\n  var startBoundPos = bounds[isVertical ? \"left\" : \"top\"];\n  var endBoundPos = bounds[isVertical ? \"right\" : \"bottom\"]; // 450\n\n  var minPos = Math.min.apply(Math, poses);\n  var maxPos = Math.max.apply(Math, poses);\n  var boundInfos = [];\n\n  if (startBoundPos + 1 > minPos) {\n    boundInfos.push({\n      isBound: true,\n      offset: minPos - startBoundPos,\n      pos: startBoundPos\n    });\n  }\n\n  if (endBoundPos - 1 < maxPos) {\n    boundInfos.push({\n      isBound: true,\n      offset: maxPos - endBoundPos,\n      pos: endBoundPos\n    });\n  }\n\n  if (!boundInfos.length) {\n    boundInfos.push({\n      isBound: false,\n      offset: 0,\n      pos: 0\n    });\n  }\n\n  return boundInfos.sort(function (a, b) {\n    return Math.abs(b.offset) - Math.abs(a.offset);\n  });\n}\n\nfunction isBoundRotate$1(relativePoses, boundRect, rad) {\n  var nextPoses = rad ? relativePoses.map(function (pos) {\n    return rotate(pos, rad);\n  }) : relativePoses;\n  return nextPoses.some(function (pos) {\n    return pos[0] < boundRect.left && Math.abs(pos[0] - boundRect.left) > 0.1 || pos[0] > boundRect.right && Math.abs(pos[0] - boundRect.right) > 0.1 || pos[1] < boundRect.top && Math.abs(pos[1] - boundRect.top) > 0.1 || pos[1] > boundRect.bottom && Math.abs(pos[1] - boundRect.bottom) > 0.1;\n  });\n}\nfunction boundRotate(vec, boundPos, index) {\n  var r = getDistSize(vec);\n  var nextPos = Math.sqrt(r * r - boundPos * boundPos) || 0;\n  return [nextPos, -nextPos].sort(function (a, b) {\n    return Math.abs(a - vec[index ? 0 : 1]) - Math.abs(b - vec[index ? 0 : 1]);\n  }).map(function (pos) {\n    return getRad([0, 0], index ? [pos, boundPos] : [boundPos, pos]);\n  });\n}\nfunction checkRotateBounds(moveable, prevPoses, nextPoses, origin, rotation) {\n  var bounds = moveable.props.bounds;\n  var rad = rotation * Math.PI / 180;\n\n  if (!bounds) {\n    return [];\n  }\n\n  var _a = bounds.left,\n      left = _a === void 0 ? -Infinity : _a,\n      _b = bounds.top,\n      top = _b === void 0 ? -Infinity : _b,\n      _c = bounds.right,\n      right = _c === void 0 ? Infinity : _c,\n      _d = bounds.bottom,\n      bottom = _d === void 0 ? Infinity : _d;\n  var relativeLeft = left - origin[0];\n  var relativeRight = right - origin[0];\n  var relativeTop = top - origin[1];\n  var relativeBottom = bottom - origin[1];\n  var boundRect = {\n    left: relativeLeft,\n    top: relativeTop,\n    right: relativeRight,\n    bottom: relativeBottom\n  };\n\n  if (!isBoundRotate$1(nextPoses, boundRect, 0)) {\n    return [];\n  }\n\n  var result = [];\n  [[relativeLeft, 0], [relativeRight, 0], [relativeTop, 1], [relativeBottom, 1]].forEach(function (_a, i) {\n    var boundPos = _a[0],\n        index = _a[1];\n    nextPoses.forEach(function (nextPos) {\n      var relativeRad1 = getRad([0, 0], nextPos);\n      result.push.apply(result, boundRotate(nextPos, boundPos, index).map(function (relativeRad2) {\n        return rad + relativeRad2 - relativeRad1;\n      }).filter(function (nextRad) {\n        return !isBoundRotate$1(prevPoses, boundRect, nextRad);\n      }).map(function (nextRad) {\n        return throttle(nextRad * 180 / Math.PI, TINY_NUM);\n      }));\n    });\n  });\n  return result;\n}\n\nvar HORIZONTAL_NAMES = [\"horizontal\", \"left\", \"top\", \"width\", \"Y\"];\nvar VERTICAL_NAMES = [\"vertical\", \"top\", \"left\", \"height\", \"X\"];\nfunction calculateContainerPos(rootMatrix, containerRect, n) {\n  var clientPos = calculatePosition(rootMatrix, [containerRect.clientLeft, containerRect.clientTop], n);\n  return [containerRect.left + clientPos[0], containerRect.top + clientPos[1]];\n}\nfunction snapStart(moveable) {\n  var state = moveable.state;\n\n  if (state.guidelines && state.guidelines.length) {\n    return;\n  }\n\n  var _a = moveable.props,\n      _b = _a.horizontalGuidelines,\n      horizontalGuidelines = _b === void 0 ? [] : _b,\n      _c = _a.verticalGuidelines,\n      verticalGuidelines = _c === void 0 ? [] : _c,\n      _d = _a.elementGuidelines,\n      elementGuidelines = _d === void 0 ? [] : _d,\n      bounds = _a.bounds,\n      innerBounds = _a.innerBounds,\n      snapCenter = _a.snapCenter;\n\n  if (!innerBounds && !bounds && !horizontalGuidelines.length && !verticalGuidelines.length && !elementGuidelines.length) {\n    return;\n  }\n\n  var containerClientRect = state.containerClientRect,\n      _e = state.targetClientRect,\n      clientTop = _e.top,\n      clientLeft = _e.left,\n      rootMatrix = state.rootMatrix,\n      is3d = state.is3d;\n  var n = is3d ? 4 : 3;\n\n  var _f = calculateContainerPos(rootMatrix, containerClientRect, n),\n      containerLeft = _f[0],\n      containerTop = _f[1];\n\n  var poses = getAbsolutePosesByState(state);\n\n  var _g = getMinMaxs(poses),\n      targetLeft = _g.minX,\n      targetTop = _g.minY;\n\n  var _h = minus([targetLeft, targetTop], calculateInversePosition(rootMatrix, [clientLeft - containerLeft, clientTop - containerTop], n)).map(function (pos) {\n    return roundSign(pos);\n  }),\n      distLeft = _h[0],\n      distTop = _h[1];\n\n  var guidelines = [];\n  elementGuidelines.forEach(function (el) {\n    var rect = el.getBoundingClientRect();\n    var left = rect.left - containerLeft;\n    var top = rect.top - containerTop;\n    var bottom = top + rect.height;\n    var right = left + rect.width;\n\n    var _a = calculateInversePosition(rootMatrix, [left, top], n),\n        elementLeft = _a[0],\n        elementTop = _a[1];\n\n    var _b = calculateInversePosition(rootMatrix, [right, bottom], n),\n        elementRight = _b[0],\n        elementBottom = _b[1];\n\n    var width = elementRight - elementLeft;\n    var height = elementBottom - elementTop;\n    var sizes = [width, height];\n    guidelines.push({\n      type: \"vertical\",\n      element: el,\n      pos: [throttle(elementLeft + distLeft, 0.1), elementTop],\n      size: height,\n      sizes: sizes\n    });\n    guidelines.push({\n      type: \"vertical\",\n      element: el,\n      pos: [throttle(elementRight + distLeft, 0.1), elementTop],\n      size: height,\n      sizes: sizes\n    });\n    guidelines.push({\n      type: \"horizontal\",\n      element: el,\n      pos: [elementLeft, throttle(elementTop + distTop, 0.1)],\n      size: width,\n      sizes: sizes\n    });\n    guidelines.push({\n      type: \"horizontal\",\n      element: el,\n      pos: [elementLeft, throttle(elementBottom + distTop, 0.1)],\n      size: width,\n      sizes: sizes\n    });\n\n    if (snapCenter) {\n      guidelines.push({\n        type: \"vertical\",\n        element: el,\n        pos: [throttle((elementLeft + elementRight) / 2 + distLeft, 0.1), elementTop],\n        size: height,\n        sizes: sizes,\n        center: true\n      });\n      guidelines.push({\n        type: \"horizontal\",\n        element: el,\n        pos: [elementLeft, throttle((elementTop + elementBottom) / 2 + distTop, 0.1)],\n        size: width,\n        sizes: sizes,\n        center: true\n      });\n    }\n  });\n  state.guidelines = guidelines;\n  state.enableSnap = true;\n}\nfunction hasGuidelines(moveable, ableName) {\n  var _a = moveable.props,\n      snappable = _a.snappable,\n      bounds = _a.bounds,\n      innerBounds = _a.innerBounds,\n      verticalGuidelines = _a.verticalGuidelines,\n      horizontalGuidelines = _a.horizontalGuidelines,\n      _b = moveable.state,\n      guidelines = _b.guidelines,\n      enableSnap = _b.enableSnap;\n\n  if (!snappable || !enableSnap || ableName && snappable !== true && snappable.indexOf(ableName) < 0) {\n    return false;\n  }\n\n  if (bounds || innerBounds || guidelines && guidelines.length || verticalGuidelines && verticalGuidelines.length || horizontalGuidelines && horizontalGuidelines.length) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction solveNextOffset(pos1, pos2, offset, isVertical, datas) {\n  var sizeOffset = solveEquation(pos1, pos2, offset, isVertical);\n\n  if (!sizeOffset) {\n    return [0, 0];\n  }\n\n  var _a = getDragDist({\n    datas: datas,\n    distX: sizeOffset[0],\n    distY: sizeOffset[1]\n  }),\n      widthOffset = _a[0],\n      heightOffset = _a[1];\n\n  return [widthOffset, heightOffset];\n}\n\nfunction getNextFixedPoses(matrix, width, height, fixedPos, direction, is3d) {\n  var nextPoses = calculatePoses(matrix, width, height, is3d ? 4 : 3);\n  var nextPos = getPosByReverseDirection(nextPoses, direction);\n  return getAbsolutePoses(nextPoses, minus(fixedPos, nextPos));\n}\n\nfunction getSnapBoundOffset(boundInfo, snapInfo) {\n  if (boundInfo.isBound) {\n    return boundInfo.offset;\n  } else if (snapInfo.isSnap) {\n    return snapInfo.offset;\n  }\n\n  return 0;\n}\n\nfunction getSnapBound(boundInfo, snapInfo) {\n  if (boundInfo.isBound) {\n    return boundInfo.offset;\n  } else if (snapInfo.isSnap) {\n    return getNearestSnapGuidelineInfo(snapInfo).offset;\n  }\n\n  return 0;\n}\n\nfunction checkSnapBoundsKeepRatio(moveable, startPos, endPos, isRequest) {\n  var _a = checkBoundKeepRatio(moveable, startPos, endPos),\n      horizontalBoundInfo = _a.horizontal,\n      verticalBoundInfo = _a.vertical;\n\n  var _b = isRequest ? {\n    horizontal: {\n      isSnap: false\n    },\n    vertical: {\n      isSnap: false\n    }\n  } : checkSnapKeepRatio(moveable, startPos, endPos),\n      horizontalSnapInfo = _b.horizontal,\n      verticalSnapInfo = _b.vertical;\n\n  var horizontalOffset = getSnapBoundOffset(horizontalBoundInfo, horizontalSnapInfo);\n  var verticalOffset = getSnapBoundOffset(verticalBoundInfo, verticalSnapInfo);\n  var horizontalDist = Math.abs(horizontalOffset);\n  var verticalDist = Math.abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfo.isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      offset: horizontalOffset,\n      dist: horizontalDist\n    },\n    vertical: {\n      isBound: verticalBoundInfo.isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      offset: verticalOffset,\n      dist: verticalDist\n    }\n  };\n}\nfunction checkMoveableSnapBounds(moveable, isRequest, poses, boundPoses) {\n  if (boundPoses === void 0) {\n    boundPoses = poses;\n  }\n\n  var _a = checkBoundPoses(moveable.props.bounds, boundPoses.map(function (pos) {\n    return pos[0];\n  }), boundPoses.map(function (pos) {\n    return pos[1];\n  })),\n      horizontalBoundInfos = _a.horizontal,\n      verticalBoundInfos = _a.vertical;\n\n  var _b = isRequest ? {\n    horizontal: {\n      isSnap: false,\n      index: -1\n    },\n    vertical: {\n      isSnap: false,\n      index: -1\n    }\n  } : checkMoveableSnapPoses(moveable, poses.map(function (pos) {\n    return pos[0];\n  }), poses.map(function (pos) {\n    return pos[1];\n  })),\n      horizontalSnapInfo = _b.horizontal,\n      verticalSnapInfo = _b.vertical;\n\n  var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\n  var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\n  var horizontalDist = Math.abs(horizontalOffset);\n  var verticalDist = Math.abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfos[0].isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      snapIndex: horizontalSnapInfo.index,\n      offset: horizontalOffset,\n      dist: horizontalDist,\n      bounds: horizontalBoundInfos,\n      snap: horizontalSnapInfo\n    },\n    vertical: {\n      isBound: verticalBoundInfos[0].isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      snapIndex: verticalSnapInfo.index,\n      offset: verticalOffset,\n      dist: verticalDist,\n      bounds: verticalBoundInfos,\n      snap: verticalSnapInfo\n    }\n  };\n}\nfunction checkSnapBounds(guideines, bounds, posesX, posesY, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _a = checkBoundPoses(bounds, posesX, posesY),\n      horizontalBoundInfos = _a.horizontal,\n      verticalBoundInfos = _a.vertical;\n\n  var _b = options.isRequest ? {\n    horizontal: {\n      isSnap: false,\n      index: -1\n    },\n    vertical: {\n      isSnap: false,\n      index: -1\n    }\n  } : checkSnapPoses(guideines, posesX, posesY, options),\n      horizontalSnapInfo = _b.horizontal,\n      verticalSnapInfo = _b.vertical;\n\n  var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\n  var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\n  var horizontalDist = Math.abs(horizontalOffset);\n  var verticalDist = Math.abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfos[0].isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      snapIndex: horizontalSnapInfo.index,\n      offset: horizontalOffset,\n      dist: horizontalDist,\n      bounds: horizontalBoundInfos,\n      snap: horizontalSnapInfo\n    },\n    vertical: {\n      isBound: verticalBoundInfos[0].isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      snapIndex: verticalSnapInfo.index,\n      offset: verticalOffset,\n      dist: verticalDist,\n      bounds: verticalBoundInfos,\n      snap: verticalSnapInfo\n    }\n  };\n}\nfunction normalized(value) {\n  return value ? value / Math.abs(value) : 0;\n}\nfunction checkMaxBounds(moveable, poses, direction, fixedPos, datas) {\n  var fixedDirection = [-direction[0], -direction[1]];\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height;\n  var bounds = moveable.props.bounds;\n  var maxWidth = Infinity;\n  var maxHeight = Infinity;\n\n  if (bounds) {\n    var directions = [[direction[0], -direction[1]], [-direction[0], direction[1]]];\n    var _b = bounds.left,\n        left_1 = _b === void 0 ? -Infinity : _b,\n        _c = bounds.top,\n        top_1 = _c === void 0 ? -Infinity : _c,\n        _d = bounds.right,\n        right_1 = _d === void 0 ? Infinity : _d,\n        _e = bounds.bottom,\n        bottom_1 = _e === void 0 ? Infinity : _e;\n    directions.forEach(function (otherDirection) {\n      var isCheckVertical = otherDirection[0] !== fixedDirection[0];\n      var isCheckHorizontal = otherDirection[1] !== fixedDirection[1];\n      var otherPos = getPosByDirection(poses, otherDirection);\n      var verticalDirection = normalized(otherDirection[1] - fixedDirection[1]);\n      var horizontalDirection = normalized(otherDirection[0] - fixedDirection[0]);\n      var deg = getRad(fixedPos, otherPos) * 360 / Math.PI;\n\n      if (isCheckHorizontal) {\n        var nextOtherPos = otherPos.slice();\n\n        if (Math.abs(deg - 360) < 2 || Math.abs(deg - 180) < 2) {\n          nextOtherPos[1] = fixedPos[1];\n        }\n\n        var _a = solveNextOffset(fixedPos, nextOtherPos, (fixedPos[1] < otherPos[1] ? bottom_1 : top_1) - otherPos[1], false, datas),\n            heightOffset = _a[1];\n\n        if (!isNaN(heightOffset)) {\n          maxHeight = height + verticalDirection * heightOffset;\n        }\n      }\n\n      if (isCheckVertical) {\n        var nextOtherPos = otherPos.slice();\n\n        if (Math.abs(deg - 90) < 2 || Math.abs(deg - 270) < 2) {\n          nextOtherPos[0] = fixedPos[0];\n        }\n\n        var widthOffset = solveNextOffset(fixedPos, nextOtherPos, (fixedPos[0] < otherPos[0] ? right_1 : left_1) - otherPos[0], true, datas)[0];\n\n        if (!isNaN(widthOffset)) {\n          maxWidth = width + horizontalDirection * widthOffset;\n        }\n      }\n    });\n  }\n\n  return {\n    maxWidth: maxWidth,\n    maxHeight: maxHeight\n  };\n}\n\nfunction checkSnapRightLine(startPos, endPos, snapBoundInfo, keepRatio) {\n  var rad = getRad(startPos, endPos) / Math.PI * 180;\n  var _a = snapBoundInfo.vertical,\n      isVerticalBound = _a.isBound,\n      isVerticalSnap = _a.isSnap,\n      verticalDist = _a.dist,\n      _b = snapBoundInfo.horizontal,\n      isHorizontalBound = _b.isBound,\n      isHorizontalSnap = _b.isSnap,\n      horizontalDist = _b.dist;\n  var rad180 = rad % 180;\n  var isHorizontalLine = rad180 < 3 || rad180 > 177;\n  var isVerticalLine = rad180 > 87 && rad180 < 93;\n\n  if (horizontalDist < verticalDist) {\n    if (isVerticalBound || isVerticalSnap && !isVerticalLine && (!keepRatio || !isHorizontalLine)) {\n      return \"vertical\";\n    }\n  }\n\n  if (isHorizontalBound || isHorizontalSnap && !isHorizontalLine && (!keepRatio || !isVerticalLine)) {\n    return \"horizontal\";\n  }\n\n  return \"\";\n}\n\nfunction getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas) {\n  return directions.map(function (_a) {\n    var startDirection = _a[0],\n        endDirection = _a[1];\n    var otherStartPos = getPosByDirection(poses, startDirection);\n    var otherEndPos = getPosByDirection(poses, endDirection);\n    var snapBoundInfo = keepRatio ? checkSnapBoundsKeepRatio(moveable, otherStartPos, otherEndPos, isRequest) : checkMoveableSnapBounds(moveable, isRequest, [otherEndPos]);\n    var _b = snapBoundInfo.horizontal,\n        // dist: otherHorizontalDist,\n    otherHorizontalOffset = _b.offset,\n        isOtherHorizontalBound = _b.isBound,\n        isOtherHorizontalSnap = _b.isSnap,\n        _c = snapBoundInfo.vertical,\n        // dist: otherVerticalDist,\n    otherVerticalOffset = _c.offset,\n        isOtherVerticalBound = _c.isBound,\n        isOtherVerticalSnap = _c.isSnap;\n    var multiple = minus(endDirection, startDirection);\n\n    if (!otherVerticalOffset && !otherHorizontalOffset) {\n      return {\n        isBound: isOtherVerticalBound || isOtherHorizontalBound,\n        isSnap: isOtherVerticalSnap || isOtherHorizontalSnap,\n        sign: multiple,\n        offset: [0, 0]\n      };\n    }\n\n    var snapLine = checkSnapRightLine(otherStartPos, otherEndPos, snapBoundInfo, keepRatio);\n\n    if (!snapLine) {\n      return {\n        sign: multiple,\n        isBound: false,\n        isSnap: false,\n        offset: [0, 0]\n      };\n    }\n\n    var isVertical = snapLine === \"vertical\";\n    var sizeOffset = solveNextOffset(otherStartPos, otherEndPos, -(isVertical ? otherVerticalOffset : otherHorizontalOffset), isVertical, datas).map(function (size, i) {\n      return size * (multiple[i] ? 2 / multiple[i] : 0);\n    });\n    return {\n      sign: multiple,\n      isBound: isVertical ? isOtherVerticalBound : isOtherHorizontalBound,\n      isSnap: isVertical ? isOtherVerticalSnap : isOtherHorizontalSnap,\n      offset: sizeOffset\n    };\n  });\n}\n\nfunction getCheckSnapDirections(direction, keepRatio) {\n  var directions = [];\n  var fixedDirection = [-direction[0], -direction[1]];\n\n  if (direction[0] && direction[1]) {\n    directions.push([fixedDirection, [direction[0], -direction[1]]], [fixedDirection, [-direction[0], direction[1]]]);\n\n    if (keepRatio) {\n      // pass two direction condition\n      directions.push([fixedDirection, direction]);\n    }\n  } else if (direction[0]) {\n    // vertcal\n    if (keepRatio) {\n      directions.push([fixedDirection, [fixedDirection[0], -1]], [fixedDirection, [fixedDirection[0], 1]], [fixedDirection, [direction[0], -1]], [fixedDirection, direction], [fixedDirection, [direction[0], 1]]);\n    } else {\n      directions.push([[fixedDirection[0], -1], [direction[0], -1]], [[fixedDirection[0], 0], [direction[0], 0]], [[fixedDirection[0], 1], [direction[0], 1]]);\n    }\n  } else if (direction[1]) {\n    // horizontal\n    if (keepRatio) {\n      directions.push([fixedDirection, [-1, fixedDirection[1]]], [fixedDirection, [1, fixedDirection[1]]], [fixedDirection, [-1, direction[1]]], [fixedDirection, [1, direction[1]]], [fixedDirection, direction]);\n    } else {\n      directions.push([[-1, fixedDirection[1]], [-1, direction[1]]], [[0, fixedDirection[1]], [0, direction[1]]], [[1, fixedDirection[1]], [1, direction[1]]]);\n    }\n  } else {\n    // [0, 0] to all direction\n    directions.push([fixedDirection, [1, 0]], [fixedDirection, [-1, 0]], [fixedDirection, [0, -1]], [fixedDirection, [0, 1]], [[1, 0], [1, -1]], [[1, 0], [1, 1]], [[0, 1], [1, 1]], [[0, 1], [-1, 1]], [[-1, 0], [-1, -1]], [[-1, 0], [-1, 1]], [[0, -1], [1, -1]], [[0, -1], [-1, -1]]);\n  }\n\n  return directions;\n}\nfunction getSizeOffsetInfo(moveable, poses, direction, keepRatio, isRequest, datas) {\n  var directions = getCheckSnapDirections(direction, keepRatio);\n  var lines = getCheckSnapLines(poses, direction, keepRatio);\n\n  var offsets = __spreadArrays(getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas), getInnerBoundInfo(moveable, lines, getPosByDirection(poses, [0, 0]), datas));\n\n  var widthOffsetInfo = getNearOffsetInfo(offsets, 0);\n  var heightOffsetInfo = getNearOffsetInfo(offsets, 1);\n  return {\n    width: {\n      isBound: widthOffsetInfo.isBound,\n      offset: widthOffsetInfo.offset[0]\n    },\n    height: {\n      isBound: heightOffsetInfo.isBound,\n      offset: heightOffsetInfo.offset[1]\n    }\n  };\n}\nfunction recheckSizeByTwoDirection(moveable, poses, width, height, maxWidth, maxHeight, direction, isRequest, datas) {\n  var snapPos = getPosByDirection(poses, direction);\n\n  var _a = checkMoveableSnapBounds(moveable, isRequest, [snapPos]),\n      horizontalOffset = _a.horizontal.offset,\n      verticalOffset = _a.vertical.offset;\n\n  if (verticalOffset || horizontalOffset) {\n    var _b = getDragDist({\n      datas: datas,\n      distX: -verticalOffset,\n      distY: -horizontalOffset\n    }),\n        nextWidthOffset = _b[0],\n        nextHeightOffset = _b[1];\n\n    var nextWidth = Math.min(maxWidth || Infinity, width + direction[0] * nextWidthOffset);\n    var nextHeight = Math.min(maxHeight || Infinity, height + direction[1] * nextHeightOffset);\n    return [nextWidth - width, nextHeight - height];\n  }\n\n  return [0, 0];\n}\nfunction checkSizeDist(moveable, getNextPoses, width, height, direction, fixedPos, isRequest, datas) {\n  var poses = getAbsolutePosesByState(moveable.state);\n  var keepRatio = moveable.props.keepRatio;\n  var widthOffset = 0;\n  var heightOffset = 0;\n\n  for (var i = 0; i < 2; ++i) {\n    var nextPoses = getNextPoses(widthOffset, heightOffset);\n\n    var _a = getSizeOffsetInfo(moveable, nextPoses, direction, keepRatio, isRequest, datas),\n        widthOffsetInfo = _a.width,\n        heightOffsetInfo = _a.height;\n\n    var isWidthBound = widthOffsetInfo.isBound;\n    var isHeightBound = heightOffsetInfo.isBound;\n    var nextWidthOffset = widthOffsetInfo.offset;\n    var nextHeightOffset = heightOffsetInfo.offset;\n\n    if (i === 1) {\n      if (!isWidthBound) {\n        nextWidthOffset = 0;\n      }\n\n      if (!isHeightBound) {\n        nextHeightOffset = 0;\n      }\n    }\n\n    if (i === 0 && isRequest && !isWidthBound && !isHeightBound) {\n      return [0, 0];\n    }\n\n    if (keepRatio) {\n      var widthDist = Math.abs(nextWidthOffset) * (width ? 1 / width : 1);\n      var heightDist = Math.abs(nextHeightOffset) * (height ? 1 / height : 1);\n      var isGetWidthOffset = isWidthBound && isHeightBound ? widthDist < heightDist : isHeightBound || !isWidthBound && widthDist < heightDist; // height * widthOffset = width * heighOffset\n\n      if (isGetWidthOffset) {\n        // width : height = ? : heightOffset\n        nextWidthOffset = width * nextHeightOffset / height;\n      } else {\n        // width : height = widthOffset : ?\n        nextHeightOffset = height * nextWidthOffset / width;\n      }\n    }\n\n    widthOffset += nextWidthOffset;\n    heightOffset += nextHeightOffset;\n  }\n\n  if (direction[0] && direction[1]) {\n    var _b = checkMaxBounds(moveable, poses, direction, fixedPos, datas),\n        maxWidth = _b.maxWidth,\n        maxHeight = _b.maxHeight;\n\n    var _c = recheckSizeByTwoDirection(moveable, getNextPoses(widthOffset, heightOffset), width + widthOffset, height + heightOffset, maxWidth, maxHeight, direction, isRequest, datas),\n        nextWidthOffset = _c[0],\n        nextHeightOffset = _c[1];\n\n    widthOffset += nextWidthOffset;\n    heightOffset += nextHeightOffset;\n  }\n\n  return [widthOffset, heightOffset];\n}\nfunction checkSnapRotate(moveable, rect, origin, rotation) {\n  if (!hasGuidelines(moveable, \"rotatable\")) {\n    return rotation;\n  }\n\n  var pos1 = rect.pos1,\n      pos2 = rect.pos2,\n      pos3 = rect.pos3,\n      pos4 = rect.pos4;\n  var rad = rotation * Math.PI / 180;\n  var prevPoses = [pos1, pos2, pos3, pos4].map(function (pos) {\n    return minus(pos, origin);\n  });\n  var nextPoses = prevPoses.map(function (pos) {\n    return rotate(pos, rad);\n  });\n\n  var result = __spreadArrays(checkRotateBounds(moveable, prevPoses, nextPoses, origin, rotation), checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin, rotation));\n\n  result.sort(function (a, b) {\n    return Math.abs(a - rotation) - Math.abs(b - rotation);\n  });\n\n  if (result.length) {\n    return result[0];\n  } else {\n    return rotation;\n  }\n}\nfunction checkSnapSize(moveable, width, height, direction, fixedPos, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"resizable\")) {\n    return [0, 0];\n  }\n\n  var _a = moveable.state,\n      allMatrix = _a.allMatrix,\n      is3d = _a.is3d;\n  return checkSizeDist(moveable, function (widthOffset, heightOffset) {\n    return getNextFixedPoses(allMatrix, width + widthOffset, height + heightOffset, fixedPos, direction, is3d);\n  }, width, height, direction, fixedPos, isRequest, datas);\n}\nfunction checkSnapScale(moveable, scale, direction, fixedPos, isRequest, datas) {\n  var width = datas.width,\n      height = datas.height;\n\n  if (!hasGuidelines(moveable, \"scalable\")) {\n    return [0, 0];\n  }\n\n  var is3d = datas.is3d;\n  var sizeDist = checkSizeDist(moveable, function (widthOffset, heightOffset) {\n    return getNextFixedPoses(scaleMatrix(datas, plus(scale, [widthOffset / width, heightOffset / height])), width, height, fixedPos, direction, is3d);\n  }, width, height, direction, fixedPos, isRequest, datas);\n  return [sizeDist[0] / width, sizeDist[1] / height];\n}\nfunction solveEquation(pos1, pos2, snapOffset, isVertical) {\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (Math.abs(dx) < TINY_NUM) {\n    dx = 0;\n  }\n\n  if (Math.abs(dy) < TINY_NUM) {\n    dy = 0;\n  }\n\n  if (!dx) {\n    // y = 0 * x + b\n    // only horizontal\n    if (!isVertical) {\n      return [0, snapOffset];\n    }\n\n    return [0, 0];\n  }\n\n  if (!dy) {\n    // only vertical\n    if (isVertical) {\n      return [snapOffset, 0];\n    }\n\n    return [0, 0];\n  } // y = ax + b\n\n\n  var a = dy / dx;\n  var b = pos1[1] - a * pos1[0];\n\n  if (isVertical) {\n    // y = a * x + b\n    var y = a * (pos2[0] + snapOffset) + b;\n    return [snapOffset, y - pos2[1]];\n  } else {\n    // x = (y - b) / a\n    var x = (pos2[1] + snapOffset - b) / a;\n    return [x - pos2[0], snapOffset];\n  }\n}\nfunction startCheckSnapDrag(moveable, datas) {\n  datas.absolutePoses = getAbsolutePosesByState(moveable.state);\n}\nfunction checkThrottleDragRotate(throttleDragRotate, _a, _b, _c, _d) {\n  var distX = _a[0],\n      distY = _a[1];\n  var isVerticalBound = _b[0],\n      isHorizontalBound = _b[1];\n  var isVerticalSnap = _c[0],\n      isHorizontalSnap = _c[1];\n  var verticalOffset = _d[0],\n      horizontalOffset = _d[1];\n  var offsetX = -verticalOffset;\n  var offsetY = -horizontalOffset;\n\n  if (throttleDragRotate && distX && distY) {\n    offsetX = 0;\n    offsetY = 0;\n    var adjustPoses = [];\n\n    if (isVerticalBound && isHorizontalBound) {\n      adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\n    } else if (isVerticalBound) {\n      adjustPoses.push([verticalOffset, 0]);\n    } else if (isHorizontalBound) {\n      adjustPoses.push([0, horizontalOffset]);\n    } else if (isVerticalSnap && isHorizontalSnap) {\n      adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\n    } else if (isVerticalSnap) {\n      adjustPoses.push([verticalOffset, 0]);\n    } else if (isHorizontalSnap) {\n      adjustPoses.push([0, horizontalOffset]);\n    }\n\n    if (adjustPoses.length) {\n      adjustPoses.sort(function (a, b) {\n        return getDistSize(minus([distX, distY], a)) - getDistSize(minus([distX, distY], b));\n      });\n      var adjustPos = adjustPoses[0];\n\n      if (adjustPos[0] && Math.abs(distX) > TINY_NUM) {\n        offsetX = -adjustPos[0];\n        offsetY = distY * Math.abs(distX + offsetX) / Math.abs(distX) - distY;\n      } else if (adjustPos[1] && Math.abs(distY) > TINY_NUM) {\n        var prevDistY = distY;\n        offsetY = -adjustPos[1];\n        offsetX = distX * Math.abs(distY + offsetY) / Math.abs(prevDistY) - distX;\n      }\n\n      if (throttleDragRotate && isHorizontalBound && isVerticalBound) {\n        if (Math.abs(offsetX) > TINY_NUM && Math.abs(offsetX) < Math.abs(verticalOffset)) {\n          var scale = Math.abs(verticalOffset) / Math.abs(offsetX);\n          offsetX *= scale;\n          offsetY *= scale;\n        } else if (Math.abs(offsetY) > TINY_NUM && Math.abs(offsetY) < Math.abs(horizontalOffset)) {\n          var scale = Math.abs(horizontalOffset) / Math.abs(offsetY);\n          offsetX *= scale;\n          offsetY *= scale;\n        } else {\n          offsetX = maxOffset(-verticalOffset, offsetX);\n          offsetY = maxOffset(-horizontalOffset, offsetY);\n        }\n      }\n    }\n  } else {\n    offsetX = distX || isVerticalBound ? -verticalOffset : 0;\n    offsetY = distY || isHorizontalBound ? -horizontalOffset : 0;\n  }\n\n  return [offsetX, offsetY];\n}\nfunction checkSnapDrag(moveable, distX, distY, throttleDragRotate, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"draggable\")) {\n    return [{\n      isSnap: false,\n      isBound: false,\n      offset: 0\n    }, {\n      isSnap: false,\n      isBound: false,\n      offset: 0\n    }];\n  }\n\n  var poses = getAbsolutePoses(datas.absolutePoses, [distX, distY]);\n\n  var _a = getRect(poses),\n      left = _a.left,\n      right = _a.right,\n      top = _a.top,\n      bottom = _a.bottom;\n\n  var snapCenter = moveable.props.snapCenter;\n  var snapPoses = [[left, top], [right, top], [left, bottom], [right, bottom]];\n\n  if (snapCenter) {\n    snapPoses.push([(left + right) / 2, (top + bottom) / 2]);\n  }\n\n  var _b = checkMoveableSnapBounds(moveable, isRequest, snapPoses, poses),\n      verticalSnapBoundInfo = _b.vertical,\n      horizontalSnapBoundInfo = _b.horizontal;\n\n  var _c = getInnerBoundDragInfo(moveable, poses, datas),\n      verticalInnerBoundInfo = _c.vertical,\n      horizontalInnerBoundInfo = _c.horizontal;\n\n  var isVerticalSnap = verticalSnapBoundInfo.isSnap;\n  var isHorizontalSnap = horizontalSnapBoundInfo.isSnap;\n  var isVerticalBound = verticalSnapBoundInfo.isBound || verticalInnerBoundInfo.isBound;\n  var isHorizontalBound = horizontalSnapBoundInfo.isBound || horizontalInnerBoundInfo.isBound;\n  var verticalOffset = maxOffset(verticalSnapBoundInfo.offset, verticalInnerBoundInfo.offset);\n  var horizontalOffset = maxOffset(horizontalSnapBoundInfo.offset, horizontalInnerBoundInfo.offset);\n\n  var _d = checkThrottleDragRotate(throttleDragRotate, [distX, distY], [isVerticalBound, isHorizontalBound], [isVerticalSnap, isHorizontalSnap], [verticalOffset, horizontalOffset]),\n      offsetX = _d[0],\n      offsetY = _d[1];\n\n  return [{\n    isBound: isVerticalBound,\n    isSnap: isVerticalSnap,\n    offset: offsetX\n  }, {\n    isBound: isHorizontalBound,\n    isSnap: isHorizontalSnap,\n    offset: offsetY\n  }];\n}\n\nfunction getSnapGuidelines(posInfos) {\n  var guidelines = [];\n  posInfos.forEach(function (posInfo) {\n    posInfo.guidelineInfos.forEach(function (_a) {\n      var guideline = _a.guideline;\n\n      if (guidelines.indexOf(guideline) > -1) {\n        return;\n      }\n\n      guidelines.push(guideline);\n    });\n  });\n  return guidelines;\n}\n\nfunction getElementGuidelineDist(elementPos, elementSize, targetPos, targetSize) {\n  // relativePos < 0  => element(l)  ---  (r)target\n  // relativePos > 0  => target(l)   ---  (r)element\n  var relativePos = elementPos - targetPos;\n  var startPos = relativePos < 0 ? relativePos + elementSize : targetSize;\n  var endPos = relativePos < 0 ? 0 : relativePos;\n  var size = endPos - startPos;\n  return {\n    size: size,\n    pos: startPos\n  };\n}\n\nfunction groupByElementGuidelines(guidelines, clientPos, size, index) {\n  var groupInfos = [];\n  var group = groupBy(guidelines.filter(function (_a) {\n    var element = _a.element,\n        gap = _a.gap;\n    return element && !gap;\n  }), function (_a) {\n    var element = _a.element,\n        pos = _a.pos;\n    var elementPos = pos[index];\n    var sign = Math.min(0, elementPos - clientPos) < 0 ? -1 : 1;\n    var groupKey = sign + \"_\" + pos[index ? 0 : 1];\n    var groupInfo = find(groupInfos, function (_a) {\n      var groupElement = _a[0],\n          groupPos = _a[1];\n      return element === groupElement && elementPos === groupPos;\n    });\n\n    if (groupInfo) {\n      return groupInfo[2];\n    }\n\n    groupInfos.push([element, elementPos, groupKey]);\n    return groupKey;\n  });\n  group.forEach(function (elementGuidelines) {\n    elementGuidelines.sort(function (a, b) {\n      var result = getElementGuidelineDist(a.pos[index], a.size, clientPos, size).size - getElementGuidelineDist(b.pos[index], a.size, clientPos, size).size;\n      return result || a.pos[index ? 0 : 1] - b.pos[index ? 0 : 1];\n    });\n  });\n  return group;\n}\n\nfunction renderElementGroup(moveable, group, _a, minPos, clientPos, clientSize, targetPos, snapThreshold, snapDigit, index, snapDistFormat, React) {\n  var directionName = _a[0],\n      posName1 = _a[1],\n      posName2 = _a[2],\n      sizeName = _a[3],\n      scaleDirection = _a[4];\n  var _b = moveable.props,\n      zoom = _b.zoom,\n      isDisplaySnapDigit = _b.isDisplaySnapDigit;\n  return flat(group.map(function (elementGuidelines, i) {\n    var isFirstRenderSize = true;\n    return elementGuidelines.map(function (_a, j) {\n      var _b;\n\n      var pos = _a.pos,\n          size = _a.size;\n\n      var _c = getElementGuidelineDist(pos[index], size, clientPos, clientSize),\n          linePos = _c.pos,\n          lineSize = _c.size;\n\n      if (lineSize < snapThreshold) {\n        return null;\n      }\n\n      var isRenderSize = isFirstRenderSize;\n      isFirstRenderSize = false;\n      var snapSize = isDisplaySnapDigit && isRenderSize ? parseFloat(lineSize.toFixed(snapDigit)) : 0;\n      return React.createElement(\"div\", {\n        className: prefix(\"line\", directionName, \"guideline\", \"dashed\"),\n        \"data-size\": snapSize > 0 ? snapDistFormat(snapSize) : \"\",\n        key: directionName + \"LinkGuideline\" + i + \"-\" + j,\n        style: (_b = {}, _b[posName1] = minPos + linePos + \"px\", _b[posName2] = -targetPos + pos[index ? 0 : 1] + \"px\", _b[sizeName] = lineSize + \"px\", _b[\"transform\"] = \"translate\" + scaleDirection + \"(-50%) scale\" + scaleDirection + \"(\" + zoom + \")\", _b)\n      });\n    });\n  }));\n}\n\nfunction renderSnapPoses(moveable, snapPoses, _a, minPos, targetPos, size, React) {\n  var directionName = _a[0],\n      posName1 = _a[1],\n      posName2 = _a[2],\n      sizeName = _a[3],\n      scaleDirection = _a[4];\n  var zoom = moveable.props.zoom;\n  return snapPoses.map(function (_a, i) {\n    var _b;\n\n    var type = _a.type,\n        pos = _a.pos;\n    return React.createElement(\"div\", {\n      className: prefix(\"line\", directionName, \"guideline\", \"target\", \"bold\", type),\n      key: directionName + \"TargetGuideline\" + i,\n      style: (_b = {}, _b[posName1] = minPos + \"px\", _b[posName2] = -targetPos + pos + \"px\", _b[sizeName] = size + \"px\", _b[\"transform\"] = \"translate\" + scaleDirection + \"(-50%) scale\" + scaleDirection + \"(\" + zoom + \")\", _b)\n    });\n  });\n}\n\nfunction renderGuidelines(moveable, guidelines, _a, targetPos1, targetPos2, index, React) {\n  var directionName = _a[0],\n      posName1 = _a[1],\n      posName2 = _a[2],\n      sizeName = _a[3],\n      scaleDirection = _a[4];\n  var zoom = moveable.props.zoom;\n  return guidelines.map(function (guideline, i) {\n    var _a;\n\n    var pos = guideline.pos,\n        size = guideline.size,\n        element = guideline.element;\n    return React.createElement(\"div\", {\n      className: prefix(\"line\", directionName, \"guideline\", element ? \"bold\" : \"\"),\n      key: directionName + \"Guideline\" + i,\n      style: (_a = {}, _a[posName1] = -targetPos1 + pos[index] + \"px\", _a[posName2] = -targetPos2 + pos[index ? 0 : 1] + \"px\", _a[sizeName] = size + \"px\", _a[\"transform\"] = \"translate\" + scaleDirection + \"(-50%) scale\" + scaleDirection + \"(\" + zoom + \")\", _a)\n    });\n  });\n}\n\nfunction getGapGuidelinesToStart(guidelines, index, targetPos, targetSizes, guidelinePos, gap, otherPos) {\n  var absGap = Math.abs(gap);\n  var start = guidelinePos[index] + (gap > 0 ? targetSizes[0] : 0);\n  return guidelines.filter(function (_a) {\n    var gapPos = _a.pos;\n    return gapPos[index] <= targetPos[index];\n  }).sort(function (_a, _b) {\n    var aPos = _a.pos;\n    var bPos = _b.pos;\n    return bPos[index] - aPos[index];\n  }).filter(function (_a) {\n    var gapPos = _a.pos,\n        gapSizes = _a.sizes;\n    var nextPos = gapPos[index];\n\n    if (throttle(nextPos + gapSizes[index], 0.0001) === throttle(start - absGap, 0.0001)) {\n      start = nextPos;\n      return true;\n    }\n\n    return false;\n  }).map(function (gapGuideline) {\n    var renderPos = -targetPos[index] + gapGuideline.pos[index] + gapGuideline.sizes[index];\n    return __assign(__assign({}, gapGuideline), {\n      gap: gap,\n      renderPos: index ? [otherPos, renderPos] : [renderPos, otherPos]\n    });\n  });\n}\n\nfunction getGapGuidelinesToEnd(guidelines, index, targetPos, targetSizes, guidelinePos, gap, otherPos) {\n  var absGap = Math.abs(gap);\n  var start = guidelinePos[index] + (gap < 0 ? targetSizes[index] : 0);\n  return guidelines.filter(function (_a) {\n    var gapPos = _a.pos;\n    return gapPos[index] > targetPos[index];\n  }).sort(function (_a, _b) {\n    var aPos = _a.pos;\n    var bPos = _b.pos;\n    return aPos[index] - bPos[index];\n  }).filter(function (_a) {\n    var gapPos = _a.pos,\n        gapSizes = _a.sizes;\n    var nextPos = gapPos[index];\n\n    if (throttle(nextPos, 0.0001) === throttle(start + absGap, 0.0001)) {\n      start = nextPos + gapSizes[index];\n      return true;\n    }\n\n    return false;\n  }).map(function (gapGuideline) {\n    var renderPos = -targetPos[index] + gapGuideline.pos[index] - absGap;\n    return __assign(__assign({}, gapGuideline), {\n      gap: gap,\n      renderPos: index ? [otherPos, renderPos] : [renderPos, otherPos]\n    });\n  });\n}\n\nfunction getGapGuidelines$1(guidelines, type, targetPos, targetSizes) {\n  var elementGuidelines = guidelines.filter(function (_a) {\n    var element = _a.element,\n        gap = _a.gap,\n        guidelineType = _a.type;\n    return element && gap && guidelineType === type;\n  });\n\n  var _a = type === \"vertical\" ? [0, 1] : [1, 0],\n      index = _a[0],\n      otherIndex = _a[1];\n\n  return flat(elementGuidelines.map(function (guideline, i) {\n    var pos = guideline.pos;\n    var gap = guideline.gap;\n    var gapGuidelines = guideline.gapGuidelines;\n    var sizes = guideline.sizes;\n    var offset = minOffset(pos[otherIndex] + sizes[otherIndex] - targetPos[otherIndex], pos[otherIndex] - targetPos[otherIndex] - targetSizes[otherIndex]);\n    var minSize = Math.min(sizes[otherIndex], targetSizes[otherIndex]);\n\n    if (offset > 0 && offset > minSize) {\n      offset = (offset - minSize / 2) * 2;\n    } else if (offset < 0 && offset < -minSize) {\n      offset = (offset + minSize / 2) * 2;\n    }\n\n    var otherPos = (offset > 0 ? 0 : targetSizes[otherIndex]) + offset / 2;\n    return __spreadArrays(getGapGuidelinesToStart(gapGuidelines, index, targetPos, targetSizes, pos, gap, otherPos), getGapGuidelinesToEnd(gapGuidelines, index, targetPos, targetSizes, pos, gap, otherPos));\n  }));\n}\n\nfunction renderGapGuidelines(moveable, gapGuidelines, type, _a, snapDistFormat, React) {\n  var directionName = _a[0],\n      posName1 = _a[1],\n      posName2 = _a[2],\n      sizeName = _a[3],\n      scaleDirection = _a[4];\n  var _b = moveable.props,\n      _c = _b.snapDigit,\n      snapDigit = _c === void 0 ? 0 : _c,\n      _d = _b.isDisplaySnapDigit,\n      isDisplaySnapDigit = _d === void 0 ? true : _d,\n      zoom = _b.zoom;\n  var otherType = type === \"vertical\" ? \"horizontal\" : \"vertical\";\n\n  var _e = type === \"vertical\" ? [0, 1] : [1, 0],\n      index = _e[0],\n      otherIndex = _e[1];\n\n  return gapGuidelines.map(function (_a, i) {\n    var _b;\n\n    var renderPos = _a.renderPos,\n        gap = _a.gap;\n    var absGap = Math.abs(gap);\n    var snapSize = isDisplaySnapDigit ? parseFloat(absGap.toFixed(snapDigit)) : 0;\n    return React.createElement(\"div\", {\n      className: prefix(\"line\", directionName, \"guideline\", \"gap\"),\n      \"data-size\": snapSize > 0 ? snapDistFormat(snapSize) : \"\",\n      key: otherType + \"GapGuideline\" + i,\n      style: (_b = {}, _b[posName1] = renderPos[index] + \"px\", _b[posName2] = renderPos[otherIndex] + \"px\", _b[sizeName] = absGap + \"px\", _b[\"transform\"] = \"translate\" + scaleDirection + \"(-50%) scale\" + scaleDirection + \"(\" + zoom + \")\", _b)\n    });\n  });\n}\n\nfunction addBoundGuidelines(moveable, verticalPoses, horizontalPoses, verticalSnapPoses, horizontalSnapPoses, externalBounds) {\n  var _a = checkBoundPoses(externalBounds || moveable.props.bounds, verticalPoses, horizontalPoses),\n      verticalBoundInfos = _a.vertical,\n      horizontalBoundInfos = _a.horizontal;\n\n  verticalBoundInfos.forEach(function (info) {\n    if (info.isBound) {\n      verticalSnapPoses.push({\n        type: \"bounds\",\n        pos: info.pos\n      });\n    }\n  });\n  horizontalBoundInfos.forEach(function (info) {\n    if (info.isBound) {\n      horizontalSnapPoses.push({\n        type: \"bounds\",\n        pos: info.pos\n      });\n    }\n  });\n\n  var _b = checkInnerBoundPoses(moveable),\n      verticalInnerBoundPoses = _b.vertical,\n      horizontalInnerBoundPoses = _b.horizontal;\n\n  verticalInnerBoundPoses.forEach(function (innerPos) {\n    if (findIndex(verticalSnapPoses, function (_a) {\n      var type = _a.type,\n          pos = _a.pos;\n      return type === \"bounds\" && pos === innerPos;\n    }) >= 0) {\n      return;\n    }\n\n    verticalSnapPoses.push({\n      type: \"bounds\",\n      pos: innerPos\n    });\n  });\n  horizontalInnerBoundPoses.forEach(function (innerPos) {\n    if (findIndex(horizontalSnapPoses, function (_a) {\n      var type = _a.type,\n          pos = _a.pos;\n      return type === \"bounds\" && pos === innerPos;\n    }) >= 0) {\n      return;\n    }\n\n    horizontalSnapPoses.push({\n      type: \"bounds\",\n      pos: innerPos\n    });\n  });\n}\n/**\n * @namespace Moveable.Snappable\n * @description Whether or not target can be snapped to the guideline. (default: false)\n * @sort 2\n */\n\n\nvar Snappable = {\n  name: \"snappable\",\n  props: {\n    snappable: [Boolean, Array],\n    snapCenter: Boolean,\n    snapHorizontal: Boolean,\n    snapVertical: Boolean,\n    snapElement: Boolean,\n    snapGap: Boolean,\n    isDisplaySnapDigit: Boolean,\n    snapDigit: Number,\n    snapThreshold: Number,\n    horizontalGuidelines: Array,\n    verticalGuidelines: Array,\n    elementGuidelines: Array,\n    bounds: Object,\n    innerBounds: Object,\n    snapDistFormat: Function\n  },\n  events: {\n    onSnap: \"snap\"\n  },\n  css: [\":host {\\n    --bounds-color: #d66;\\n}\", \".guideline {\\npointer-events: none;\\nz-index: 2;\\n}\", \".line.guideline.bounds {\\n    background: #d66;\\n    background: var(--bounds-color);\\n}\"],\n  render: function (moveable, React) {\n    var _a = moveable.state,\n        targetTop = _a.top,\n        targetLeft = _a.left,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        pos3 = _a.pos3,\n        pos4 = _a.pos4,\n        snapRenderInfo = _a.snapRenderInfo,\n        targetClientRect = _a.targetClientRect,\n        containerClientRect = _a.containerClientRect,\n        is3d = _a.is3d,\n        rootMatrix = _a.rootMatrix;\n\n    if (!snapRenderInfo || !hasGuidelines(moveable, \"\")) {\n      return [];\n    }\n\n    var n = is3d ? 4 : 3;\n    var minLeft = Math.min(pos1[0], pos2[0], pos3[0], pos4[0]);\n    var minTop = Math.min(pos1[1], pos2[1], pos3[1], pos4[1]);\n    var containerPos = calculateContainerPos(rootMatrix, containerClientRect, n);\n\n    var _b = calculateInversePosition(rootMatrix, [targetClientRect.left - containerPos[0], targetClientRect.top - containerPos[1]], n),\n        clientLeft = _b[0],\n        clientTop = _b[1];\n\n    var _c = moveable.props,\n        _d = _c.snapThreshold,\n        snapThreshold = _d === void 0 ? 5 : _d,\n        _e = _c.snapDigit,\n        snapDigit = _e === void 0 ? 0 : _e,\n        _f = _c.snapDistFormat,\n        snapDistFormat = _f === void 0 ? function (v) {\n      return v;\n    } : _f;\n    var externalPoses = snapRenderInfo.externalPoses || [];\n    var poses = getAbsolutePosesByState(moveable.state);\n    var verticalSnapPoses = [];\n    var horizontalSnapPoses = [];\n    var verticalGuidelines = [];\n    var horizontalGuidelines = [];\n    var snapInfos = [];\n\n    var _g = getRect(poses),\n        width = _g.width,\n        height = _g.height,\n        top = _g.top,\n        left = _g.left,\n        bottom = _g.bottom,\n        right = _g.right;\n\n    var hasExternalPoses = externalPoses.length > 0;\n    var externalRect = hasExternalPoses ? getRect(externalPoses) : {};\n\n    if (!snapRenderInfo.request) {\n      if (snapRenderInfo.direction) {\n        snapInfos.push(getSnapInfosByDirection(moveable, poses, snapRenderInfo.direction));\n      }\n\n      if (snapRenderInfo.snap) {\n        var rect = getRect(poses);\n\n        if (snapRenderInfo.center) {\n          rect.middle = (rect.top + rect.bottom) / 2;\n          rect.center = (rect.left + rect.right) / 2;\n        }\n\n        snapInfos.push(checkSnaps(moveable, rect, true, 1));\n      }\n\n      if (hasExternalPoses) {\n        if (snapRenderInfo.center) {\n          externalRect.middle = (externalRect.top + externalRect.bottom) / 2;\n          externalRect.center = (externalRect.left + externalRect.right) / 2;\n        }\n\n        snapInfos.push(checkSnaps(moveable, externalRect, true, 1));\n      }\n\n      snapInfos.forEach(function (snapInfo) {\n        var verticalPosInfos = snapInfo.vertical.posInfos,\n            horizontalPosInfos = snapInfo.horizontal.posInfos;\n        verticalSnapPoses.push.apply(verticalSnapPoses, verticalPosInfos.map(function (posInfo) {\n          return {\n            type: \"snap\",\n            pos: posInfo.pos\n          };\n        }));\n        horizontalSnapPoses.push.apply(horizontalSnapPoses, horizontalPosInfos.map(function (posInfo) {\n          return {\n            type: \"snap\",\n            pos: posInfo.pos\n          };\n        }));\n        verticalGuidelines.push.apply(verticalGuidelines, getSnapGuidelines(verticalPosInfos));\n        horizontalGuidelines.push.apply(horizontalGuidelines, getSnapGuidelines(horizontalPosInfos));\n      });\n    }\n\n    addBoundGuidelines(moveable, [left, right], [top, bottom], verticalSnapPoses, horizontalSnapPoses);\n\n    if (hasExternalPoses) {\n      addBoundGuidelines(moveable, [externalRect.left, externalRect.right], [externalRect.top, externalRect.bottom], verticalSnapPoses, horizontalSnapPoses, snapRenderInfo.externalBounds);\n    }\n\n    var elementHorizontalGroup = groupByElementGuidelines(horizontalGuidelines, clientLeft, width, 0);\n    var elementVerticalGroup = groupByElementGuidelines(verticalGuidelines, clientTop, height, 1);\n    var gapVerticalGuidelines = getGapGuidelines$1(verticalGuidelines, \"vertical\", [targetLeft, targetTop], [width, height]);\n    var gapHorizontalGuidelines = getGapGuidelines$1(horizontalGuidelines, \"horizontal\", [targetLeft, targetTop], [width, height]);\n\n    var allGuidelines = __spreadArrays(verticalGuidelines, horizontalGuidelines);\n\n    triggerEvent(moveable, \"onSnap\", {\n      guidelines: allGuidelines.filter(function (_a) {\n        var element = _a.element;\n        return !element;\n      }),\n      elements: groupBy(allGuidelines.filter(function (_a) {\n        var element = _a.element;\n        return element;\n      }), function (_a) {\n        var element = _a.element;\n        return element;\n      }),\n      gaps: __spreadArrays(gapVerticalGuidelines, gapHorizontalGuidelines)\n    }, true);\n    return __spreadArrays(renderGapGuidelines(moveable, gapVerticalGuidelines, \"vertical\", HORIZONTAL_NAMES, snapDistFormat, React), renderGapGuidelines(moveable, gapHorizontalGuidelines, \"horizontal\", VERTICAL_NAMES, snapDistFormat, React), renderElementGroup(moveable, elementHorizontalGroup, HORIZONTAL_NAMES, minLeft, clientLeft, width, targetTop, snapThreshold, snapDigit, 0, snapDistFormat, React), renderElementGroup(moveable, elementVerticalGroup, VERTICAL_NAMES, minTop, clientTop, height, targetLeft, snapThreshold, snapDigit, 1, snapDistFormat, React), renderSnapPoses(moveable, horizontalSnapPoses, HORIZONTAL_NAMES, minLeft, targetTop, width, React), renderSnapPoses(moveable, verticalSnapPoses, VERTICAL_NAMES, minTop, targetLeft, height, React), renderGuidelines(moveable, horizontalGuidelines, HORIZONTAL_NAMES, targetLeft, targetTop, 0, React), renderGuidelines(moveable, verticalGuidelines, VERTICAL_NAMES, targetTop, targetLeft, 1, React));\n  },\n  dragStart: function (moveable, e) {\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest,\n      snap: true,\n      center: true\n    };\n    snapStart(moveable);\n  },\n  pinchStart: function (moveable) {\n    this.unset(moveable);\n  },\n  dragEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragControlCondition: function (e) {\n    if (directionCondition(e) || dragControlCondition(e)) {\n      return true;\n    }\n\n    if (!e.isRequest && e.inputEvent) {\n      return hasClass(e.inputEvent.target, prefix(\"snap-control\"));\n    }\n  },\n  dragControlStart: function (moveable, e) {\n    moveable.state.snapRenderInfo = null;\n    snapStart(moveable);\n  },\n  dragControlEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragGroupStart: function (moveable, e) {\n    this.dragStart(moveable, e);\n  },\n  dragGroupEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    moveable.state.snapRenderInfo = null;\n    snapStart(moveable);\n  },\n  dragGroupControlEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  unset: function (moveable) {\n    var state = moveable.state;\n    state.enableSnap = false;\n    state.guidelines = [];\n    state.snapRenderInfo = null;\n  }\n};\n/**\n* Whether or not target can be snapped to the guideline. (default: false)\n* @name Moveable.Snappable#snappable\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body);\n*\n* moveable.snappable = true;\n*/\n\n/**\n * When you drag, make the snap in the center of the target. (default: false)\n * @name Moveable.Snappable#snapCenter\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n * });\n *\n * moveable.snapCenter = true;\n */\n\n/**\n * When you drag, make the snap in the vertical guidelines. (default: true)\n * @name Moveable.Snappable#snapVertical\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   snapVertical: true,\n *   snapHorizontal: true,\n *   snapElement: true,\n * });\n *\n * moveable.snapVertical = false;\n */\n\n/**\n * When you drag, make the snap in the horizontal guidelines. (default: true)\n * @name Moveable.Snappable#snapHorizontal\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   snapVertical: true,\n *   snapHorizontal: true,\n *   snapElement: true,\n * });\n *\n * moveable.snapHorizontal = false;\n */\n\n/**\n * When you drag, make the gap snap in the element guidelines. (default: true)\n * @name Moveable.Snappable#snapGap\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   snapVertical: true,\n *   snapHorizontal: true,\n *   snapElement: true,\n *   snapGap: true,\n * });\n *\n * moveable.snapGap = false;\n */\n\n/**\n * When you drag, make the snap in the element guidelines. (default: true)\n * @name Moveable.Snappable#snapElement\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   snapVertical: true,\n *   snapHorizontal: true,\n *   snapElement: true,\n * });\n *\n * moveable.snapElement = false;\n */\n\n/**\n * Distance value that can snap to guidelines. (default: 5)\n * @name Moveable.Snappable#snapThreshold\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapThreshold = 5;\n */\n\n/**\n * Add guidelines in the horizontal direction. (default: [])\n * @name Moveable.Snappable#horizontalGuidelines\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.horizontalGuidelines = [100, 200, 500];\n */\n\n/**\n * Add guidelines in the vertical direction. (default: [])\n * @name Moveable.Snappable#verticalGuidelines\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.verticalGuidelines = [100, 200, 500];\n */\n\n/**\n * Add guidelines for the element. (default: [])\n * @name Moveable.Snappable#elementGuidelines\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.elementGuidelines = [\n *   document.querySelector(\".element\"),\n * ];\n */\n\n/**\n * You can set up boundaries. (default: null)\n * @name Moveable.Snappable#bounds\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.bounds = { left: 0, right: 1000, top: 0, bottom: 1000};\n */\n\n/**\n * You can set up inner boundaries. (default: null)\n * @name Moveable.Snappable#innerBounds\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.innerBounds = { left: 500, top: 500, width: 100, height: 100};\n */\n\n/**\n * snap distance digits (default: 0)\n * @name Moveable.Snappable#snapDigit\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapDigit = 0\n */\n\n/**\n * Whether to show snap distance (default: true)\n * @name Moveable.Snappable#isDisplaySnapDigit\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.isDisplaySnapDigit = true;\n */\n\n/**\n * You can set the text format of the distance shown in the guidelines. (default: self)\n * @name Moveable.Snappable#snapDistFormat\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  snappable: true,\n *  snapDistFormat: v => v,\n * });\n * moveable.snapDistFormat = v => `${v}px`;\n */\n\n/**\n * When you drag or dragControl, the `snap` event is called.\n * @memberof Moveable.Snappable\n * @event snap\n * @param {Moveable.Snappable.OnSnap} - Parameters for the `snap` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     snappable: true\n * });\n * moveable.on(\"snap\", e => {\n *     console.log(\"onSnap\", e);\n * });\n */\n\n/**\n * @namespace Draggable\n * @memberof Moveable\n * @description Draggable refers to the ability to drag and move targets.\n */\n\nvar Draggable = {\n  name: \"draggable\",\n  props: {\n    draggable: Boolean,\n    throttleDrag: Number,\n    throttleDragRotate: Number,\n    startDragRotate: Number,\n    edgeDraggable: Boolean\n  },\n  events: {\n    onDragStart: \"dragStart\",\n    onDrag: \"drag\",\n    onDragEnd: \"dragEnd\",\n    onDragGroupStart: \"dragGroupStart\",\n    onDragGroup: \"dragGroup\",\n    onDragGroupEnd: \"dragGroupEnd\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        throttleDragRotate = _a.throttleDragRotate,\n        zoom = _a.zoom;\n    var _b = moveable.state,\n        dragInfo = _b.dragInfo,\n        beforeOrigin = _b.beforeOrigin;\n\n    if (!throttleDragRotate || !dragInfo) {\n      return [];\n    }\n\n    var dist = dragInfo.dist;\n\n    if (!dist[0] && !dist[1]) {\n      return [];\n    }\n\n    var width = getDistSize(dist);\n    var rad = getRad(dist, [0, 0]);\n    return [React.createElement(\"div\", {\n      className: prefix(\"line\", \"horizontal\", \"dragline\", \"dashed\"),\n      key: \"dragRotateGuideline\",\n      style: {\n        width: width + \"px\",\n        transform: \"translate(\" + beforeOrigin[0] + \"px, \" + beforeOrigin[1] + \"px) rotate(\" + rad + \"rad) scaleY(\" + zoom + \")\"\n      }\n    })];\n  },\n  dragStart: function (moveable, e) {\n    var datas = e.datas,\n        parentEvent = e.parentEvent,\n        parentGesto = e.parentGesto;\n    var state = moveable.state;\n    var target = state.target,\n        gesto = state.gesto;\n\n    if (gesto) {\n      return false;\n    }\n\n    state.gesto = parentGesto || moveable.targetGesto;\n    var style = window.getComputedStyle(target);\n    datas.datas = {};\n    datas.left = parseFloat(style.left || \"\") || 0;\n    datas.top = parseFloat(style.top || \"\") || 0;\n    datas.bottom = parseFloat(style.bottom || \"\") || 0;\n    datas.right = parseFloat(style.right || \"\") || 0;\n    datas.startValue = [0, 0];\n    setDragStart(moveable, e);\n    setDefaultTransformIndex(e);\n    startCheckSnapDrag(moveable, datas);\n    datas.prevDist = [0, 0];\n    datas.prevBeforeDist = [0, 0];\n    datas.isDrag = false;\n    var params = fillParams(moveable, e, __assign({\n      set: function (translate) {\n        datas.startValue = translate;\n      }\n    }, fillTransformStartEvent(e)));\n    var result = parentEvent || triggerEvent(moveable, \"onDragStart\", params);\n\n    if (result !== false) {\n      datas.isDrag = true;\n      moveable.state.dragInfo = {\n        startRect: moveable.getRect(),\n        dist: [0, 0]\n      };\n    } else {\n      state.gesto = null;\n      datas.isPinch = false;\n    }\n\n    return datas.isDrag ? params : false;\n  },\n  drag: function (moveable, e) {\n    resolveTransformEvent(e, \"translate\");\n    var datas = e.datas,\n        parentEvent = e.parentEvent,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        isRequest = e.isRequest;\n    var distX = e.distX,\n        distY = e.distY;\n    var isDrag = datas.isDrag,\n        prevDist = datas.prevDist,\n        prevBeforeDist = datas.prevBeforeDist,\n        startValue = datas.startValue;\n\n    if (!isDrag) {\n      return;\n    }\n\n    var props = moveable.props;\n    var parentMoveable = props.parentMoveable;\n    var throttleDrag = parentEvent ? 0 : props.throttleDrag || 0;\n    var throttleDragRotate = parentEvent ? 0 : props.throttleDragRotate || 0;\n    var isSnap = false;\n    var dragRotateRad = 0;\n\n    if (!parentEvent && throttleDragRotate > 0 && (distX || distY)) {\n      var startDragRotate = props.startDragRotate || 0;\n      var deg = throttle(startDragRotate + getRad([0, 0], [distX, distY]) * 180 / Math.PI, throttleDragRotate) - startDragRotate;\n      var ry = distY * Math.abs(Math.cos((deg - 90) / 180 * Math.PI));\n      var rx = distX * Math.abs(Math.cos(deg / 180 * Math.PI));\n      var r = getDistSize([rx, ry]);\n      dragRotateRad = deg * Math.PI / 180;\n      distX = r * Math.cos(dragRotateRad);\n      distY = r * Math.sin(dragRotateRad);\n    }\n\n    if (!isPinch && !parentEvent && !parentFlag && (!throttleDragRotate || distX || distY)) {\n      var _a = checkSnapDrag(moveable, distX, distY, throttleDragRotate, isRequest, datas),\n          verticalInfo = _a[0],\n          horizontalInfo = _a[1];\n\n      var isVerticalSnap = verticalInfo.isSnap,\n          isVerticalBound = verticalInfo.isBound,\n          verticalOffset = verticalInfo.offset;\n      var isHorizontalSnap = horizontalInfo.isSnap,\n          isHorizontalBound = horizontalInfo.isBound,\n          horizontalOffset = horizontalInfo.offset;\n      isSnap = isVerticalSnap || isHorizontalSnap || isVerticalBound || isHorizontalBound;\n      distX += verticalOffset;\n      distY += horizontalOffset;\n    }\n\n    datas.passDeltaX = distX - (datas.passDistX || 0);\n    datas.passDeltaY = distY - (datas.passDistY || 0);\n    datas.passDistX = distX;\n    datas.passDistY = distY;\n    var beforeTranslate = plus(getBeforeDragDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    }), startValue);\n    var translate = plus(getTransformDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    }), startValue);\n\n    if (!throttleDragRotate && !isSnap) {\n      throttleArray(translate, throttleDrag);\n      throttleArray(beforeTranslate, throttleDrag);\n    }\n\n    var beforeDist = minus(beforeTranslate, startValue);\n    var dist = minus(translate, startValue);\n    var delta = minus(dist, prevDist);\n    var beforeDelta = minus(beforeDist, prevBeforeDist);\n    datas.prevDist = dist;\n    datas.prevBeforeDist = beforeDist;\n    var left = datas.left + beforeDist[0];\n    var top = datas.top + beforeDist[1];\n    var right = datas.right - beforeDist[0];\n    var bottom = datas.bottom - beforeDist[1];\n    var nextTransform = convertTransformFormat(datas, \"translate(\" + translate[0] + \"px, \" + translate[1] + \"px)\", \"translate(\" + dist[0] + \"px, \" + dist[1] + \"px)\");\n    moveable.state.dragInfo.dist = parentEvent ? [0, 0] : dist;\n\n    if (!parentEvent && !parentMoveable && delta.every(function (num) {\n      return !num;\n    }) && beforeDelta.some(function (num) {\n      return !num;\n    })) {\n      return;\n    }\n\n    var _b = moveable.state,\n        width = _b.width,\n        height = _b.height;\n    var params = fillParams(moveable, e, {\n      transform: nextTransform,\n      dist: dist,\n      delta: delta,\n      translate: translate,\n      beforeDist: beforeDist,\n      beforeDelta: beforeDelta,\n      beforeTranslate: beforeTranslate,\n      left: left,\n      top: top,\n      right: right,\n      bottom: bottom,\n      width: width,\n      height: height,\n      isPinch: isPinch\n    });\n    !parentEvent && triggerEvent(moveable, \"onDrag\", params);\n    return params;\n  },\n  dragEnd: function (moveable, e) {\n    var parentEvent = e.parentEvent,\n        datas = e.datas,\n        isDrag = e.isDrag;\n    moveable.state.gesto = null;\n    moveable.state.dragInfo = null;\n\n    if (!datas.isDrag) {\n      return;\n    }\n\n    datas.isDrag = false;\n    !parentEvent && triggerEvent(moveable, \"onDragEnd\", fillEndParams(moveable, e, {}));\n    return isDrag;\n  },\n  dragGroupStart: function (moveable, e) {\n    var datas = e.datas,\n        clientX = e.clientX,\n        clientY = e.clientY;\n    var params = this.dragStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    var events = triggerChildGesto(moveable, this, \"dragStart\", [clientX || 0, clientY || 0], e, false);\n\n    var nextParams = __assign(__assign({}, params), {\n      targets: moveable.props.targets,\n      events: events\n    });\n\n    var result = triggerEvent(moveable, \"onDragGroupStart\", nextParams);\n    datas.isDrag = result !== false;\n    return datas.isDrag ? params : false;\n  },\n  dragGroup: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isDrag) {\n      return;\n    }\n\n    var params = this.drag(moveable, e);\n    var _a = e.datas,\n        passDeltaX = _a.passDeltaX,\n        passDeltaY = _a.passDeltaY;\n    var events = triggerChildGesto(moveable, this, \"drag\", [passDeltaX, passDeltaY], e, false);\n\n    if (!params) {\n      return;\n    }\n\n    var nextParams = __assign({\n      targets: moveable.props.targets,\n      events: events\n    }, params);\n\n    triggerEvent(moveable, \"onDragGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isDrag) {\n      return;\n    }\n\n    this.dragEnd(moveable, e);\n    triggerChildGesto(moveable, this, \"dragEnd\", [0, 0], e, false);\n    triggerEvent(moveable, \"onDragGroupEnd\", fillEndParams(moveable, e, {\n      targets: moveable.props.targets\n    }));\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Draggable#request\n   * @param {object} [e] - the draggable's request parameter\n   * @param {number} [e.x] - x position\n   * @param {number} [e.y] - y position\n   * @param {number} [e.deltaX] - X number to move\n   * @param {number} [e.deltaY] - Y number to move\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * // Use Relative Value\n   * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\n   * // Use Absolute Value\n   * moveable.request(\"draggable\", { x: 200, y: 100 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"draggable\");\n   *\n   * // request\n   * // Use Relative Value\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * // Use Absolute Value\n   * moveable.request(\"draggable\", { x: 200, y: 100 });\n   * moveable.request(\"draggable\", { x: 220, y: 100 });\n   * moveable.request(\"draggable\", { x: 240, y: 100 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function (moveable) {\n    var datas = {};\n    var rect = moveable.getRect();\n    var distX = 0;\n    var distY = 0;\n    return {\n      isControl: false,\n      requestStart: function () {\n        return {\n          datas: datas\n        };\n      },\n      request: function (e) {\n        if (\"x\" in e) {\n          distX = e.x - rect.left;\n        } else if (\"deltaX\" in e) {\n          distX += e.deltaX;\n        }\n\n        if (\"y\" in e) {\n          distY = e.y - rect.top;\n        } else if (\"deltaY\" in e) {\n          distY += e.deltaY;\n        }\n\n        return {\n          datas: datas,\n          distX: distX,\n          distY: distY\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  },\n  unset: function (moveable) {\n    moveable.state.dragInfo = null;\n  }\n};\n/**\n * Whether or not target can be dragged. (default: false)\n * @name Moveable.Draggable#draggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.draggable = true;\n */\n\n/**\n * throttle of x, y when drag.\n * @name Moveable.Draggable#throttleDrag\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleDrag = 1;\n */\n\n/**\n* throttle of angle of x, y when drag.\n* @name Moveable.Draggable#throttleDragRotate\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body);\n*\n* moveable.throttleDragRotate = 45;\n*/\n\n/**\n* start angle of throttleDragRotate of x, y when drag.\n* @name Moveable.Draggable#startDragRotate\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body);\n*\n* // 45, 135, 225, 315\n* moveable.throttleDragRotate = 90;\n* moveable.startDragRotate = 45;\n*/\n\n/**\n * When the drag starts, the dragStart event is called.\n * @memberof Moveable.Draggable\n * @event dragStart\n * @param {Moveable.Draggable.OnDragStart} - Parameters for the dragStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"dragStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When dragging, the drag event is called.\n * @memberof Moveable.Draggable\n * @event drag\n * @param {Moveable.Draggable.OnDrag} - Parameters for the drag event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"drag\", ({ target, transform }) => {\n *     target.style.transform = transform;\n * });\n */\n\n/**\n * When the drag finishes, the dragEnd event is called.\n * @memberof Moveable.Draggable\n * @event dragEnd\n * @param {Moveable.Draggable.OnDragEnd} - Parameters for the dragEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"dragEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the group drag starts, the `dragGroupStart` event is called.\n* @memberof Moveable.Draggable\n* @event dragGroupStart\n* @param {Moveable.Draggable.OnDragGroupStart} - Parameters for the `dragGroupStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     draggable: true\n* });\n* moveable.on(\"dragGroupStart\", ({ targets }) => {\n*     console.log(\"onDragGroupStart\", targets);\n* });\n*/\n\n/**\n* When the group drag, the `dragGroup` event is called.\n* @memberof Moveable.Draggable\n* @event dragGroup\n* @param {Moveable.Draggable.OnDragGroup} - Parameters for the `dragGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     draggable: true\n* });\n* moveable.on(\"dragGroup\", ({ targets, events }) => {\n*     console.log(\"onDragGroup\", targets);\n*     events.forEach(ev => {\n*          // drag event\n*          console.log(\"onDrag left, top\", ev.left, ev.top);\n*          // ev.target!.style.left = `${ev.left}px`;\n*          // ev.target!.style.top = `${ev.top}px`;\n*          console.log(\"onDrag translate\", ev.dist);\n*          ev.target!.style.transform = ev.transform;)\n*     });\n* });\n*/\n\n/**\n * When the group drag finishes, the `dragGroupEnd` event is called.\n * @memberof Moveable.Draggable\n * @event dragGroupEnd\n * @param {Moveable.Draggable.OnDragGroupEnd} - Parameters for the `dragGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     draggable: true\n * });\n * moveable.on(\"dragGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onDragGroupEnd\", targets, isDrag);\n * });\n */\n\n/**\n * @namespace Rotatable\n * @memberof Moveable\n * @description Rotatable indicates whether the target can be rotated.\n */\n\nfunction setRotateStartInfo(moveable, datas, clientX, clientY, origin, rect) {\n  var n = moveable.state.is3d ? 4 : 3;\n  var nextOrigin = calculatePosition(moveable.state.rootMatrix, origin, n);\n  var startAbsoluteOrigin = plus([rect.left, rect.top], nextOrigin);\n  datas.startAbsoluteOrigin = startAbsoluteOrigin;\n  datas.prevDeg = getRad(startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180;\n  datas.prevSnapDeg = datas.prevDeg;\n  datas.startDeg = datas.prevDeg;\n  datas.loop = 0;\n}\n\nfunction getParentDeg(moveable, moveableRect, datas, parentDist, direction, startValue) {\n  var prevDeg = datas.prevDeg; // const absoluteDeg = startValue + parentDist;\n\n  var dist = checkSnapRotate(moveable, moveableRect, datas.origin, parentDist);\n  datas.prevDeg = dist;\n  var delta = dist - prevDeg;\n  return [delta, dist, startValue + dist];\n}\n\nfunction getDeg(moveable, moveableRect, datas, deg, direction, startValue, throttleRotate, isSnap) {\n  var prevDeg = datas.prevDeg,\n      prevSnapDeg = datas.prevSnapDeg,\n      startDeg = datas.startDeg,\n      prevLoop = datas.loop;\n\n  if (prevDeg > deg && prevDeg > 270 && deg < 90) {\n    // 360 => 0\n    ++datas.loop;\n  } else if (prevDeg < deg && prevDeg < 90 && deg > 270) {\n    // 0 => 360\n    --datas.loop;\n  }\n\n  var loop = datas.loop;\n  var absolutePrevSnapDeg = prevLoop * 360 + prevSnapDeg - startDeg + startValue;\n  var absoluteDeg = loop * 360 + deg - startDeg + startValue;\n  datas.prevDeg = absoluteDeg - loop * 360 + startDeg - startValue;\n  absoluteDeg = throttle(absoluteDeg, throttleRotate);\n  var dist = direction * (absoluteDeg - startValue);\n\n  if (isSnap) {\n    dist = checkSnapRotate(moveable, moveableRect, datas.origin, dist);\n    absoluteDeg = dist / direction + startValue;\n  }\n\n  datas.prevSnapDeg = absoluteDeg - loop * 360 + startDeg - startValue;\n  var delta = direction * (absoluteDeg - absolutePrevSnapDeg);\n  return [delta, dist, startValue + dist];\n}\n\nfunction getRotateInfo(moveable, moveableRect, datas, direction, clientX, clientY, startValue, throttleRotate) {\n  return getDeg(moveable, moveableRect, datas, getRad(datas.startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180, direction, startValue, throttleRotate, true);\n}\nfunction getRotationPositions(rotationPosition, _a, direction) {\n  var pos1 = _a[0],\n      pos2 = _a[1],\n      pos3 = _a[2],\n      pos4 = _a[3];\n\n  var _b = (rotationPosition || \"top\").split(\"-\"),\n      dir1 = _b[0],\n      dir2 = _b[1];\n\n  var radPoses = [pos1, pos2]; // if (scale[0] < 0) {\n  //     dir1 = getReversePositionX(dir1);\n  //     dir2 = getReversePositionX(dir2);\n  // }\n  // if (scale[1] < 0) {\n  //     dir1 = getReversePositionY(dir1);\n  //     dir2 = getReversePositionY(dir2);\n  // }\n\n  if (dir1 === \"left\") {\n    radPoses = [pos3, pos1];\n  } else if (dir1 === \"right\") {\n    radPoses = [pos2, pos4];\n  } else if (dir1 === \"bottom\") {\n    radPoses = [pos4, pos3];\n  }\n\n  var pos = [(radPoses[0][0] + radPoses[1][0]) / 2, (radPoses[0][1] + radPoses[1][1]) / 2];\n  var rad = getRotationRad(radPoses, direction);\n\n  if (dir2) {\n    var isStart = dir2 === \"top\" || dir2 === \"left\";\n    var isReverse = dir1 === \"bottom\" || dir1 === \"left\";\n    pos = radPoses[isStart && !isReverse || !isStart && isReverse ? 0 : 1];\n  }\n\n  return [pos, rad];\n}\nfunction dragControlCondition(e) {\n  if (e.isRequest) {\n    return e.requestAble === \"rotatable\";\n  }\n\n  return hasClass(e.inputEvent.target, prefix(\"rotation-control\"));\n}\nvar Rotatable = {\n  name: \"rotatable\",\n  canPinch: true,\n  props: {\n    rotatable: Boolean,\n    rotationPosition: String,\n    throttleRotate: Number\n  },\n  events: {\n    onRotateStart: \"rotateStart\",\n    onRotate: \"rotate\",\n    onRotateEnd: \"rotateEnd\",\n    onRotateGroupStart: \"rotateGroupStart\",\n    onRotateGroup: \"rotateGroup\",\n    onRotateGroupEnd: \"rotateGroupEnd\"\n  },\n  css: [\".rotation {\\n            position: absolute;\\n            height: 40px;\\n            width: 1px;\\n            transform-origin: 50% 100%;\\n            height: calc(40px * var(--zoom));\\n            top: auto;\\n            left: 0;\\n            bottom: 100%;\\n            will-change: transform;\\n        }\\n        .rotation .rotation-line {\\n            display: block;\\n            width: 100%;\\n            height: 100%;\\n            transform-origin: 50% 50%;\\n        }\\n        .rotation .rotation-control {\\n            border-color: #4af;\\n            border-color: var(--moveable-color);\\n            background:#fff;\\n            cursor: alias;\\n        }\"],\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        rotatable = _a.rotatable,\n        rotationPosition = _a.rotationPosition,\n        zoom = _a.zoom;\n    var _b = moveable.state,\n        renderPoses = _b.renderPoses,\n        direction = _b.direction;\n\n    if (!rotatable) {\n      return null;\n    }\n\n    var _c = getRotationPositions(rotationPosition, renderPoses, direction),\n        pos = _c[0],\n        rad = _c[1];\n\n    return React.createElement(\"div\", {\n      key: \"rotation\",\n      className: prefix(\"rotation\"),\n      style: {\n        // tslint:disable-next-line: max-line-length\n        transform: \"translate(-50%) translate(\" + pos[0] + \"px, \" + pos[1] + \"px) rotate(\" + rad + \"rad)\"\n      }\n    }, React.createElement(\"div\", {\n      className: prefix(\"line rotation-line\"),\n      style: {\n        transform: \"scaleX(\" + zoom + \")\"\n      }\n    }), React.createElement(\"div\", {\n      className: prefix(\"control rotation-control\"),\n      style: {\n        transform: \"translate(0.5px) scale(\" + zoom + \")\"\n      }\n    }));\n  },\n  dragControlCondition: dragControlCondition,\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,\n        clientX = e.clientX,\n        clientY = e.clientY,\n        parentRotate = e.parentRotate,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        isRequest = e.isRequest;\n    var _a = moveable.state,\n        target = _a.target,\n        left = _a.left,\n        top = _a.top,\n        origin = _a.origin,\n        beforeOrigin = _a.beforeOrigin,\n        direction = _a.direction,\n        beforeDirection = _a.beforeDirection,\n        targetTransform = _a.targetTransform;\n\n    if (!isRequest && !target) {\n      return false;\n    }\n\n    var rect = moveable.getRect();\n    datas.rect = rect;\n    datas.transform = targetTransform;\n    datas.left = left;\n    datas.top = top;\n    datas.fixedPosition = getDirectionOffset(moveable, getOriginDirection(moveable));\n\n    if (isRequest || isPinch || parentFlag) {\n      var externalRotate = parentRotate || 0;\n      datas.beforeInfo = {\n        origin: rect.beforeOrigin,\n        prevDeg: externalRotate,\n        startDeg: externalRotate,\n        prevSnapDeg: externalRotate,\n        loop: 0\n      };\n      datas.afterInfo = {\n        origin: rect.origin,\n        prevDeg: externalRotate,\n        startDeg: externalRotate,\n        prevSnapDeg: externalRotate,\n        loop: 0\n      };\n    } else {\n      datas.beforeInfo = {\n        origin: rect.beforeOrigin\n      };\n      datas.afterInfo = {\n        origin: rect.origin\n      };\n      var controlRect = getClientRect(moveable.controlBox.getElement());\n      setRotateStartInfo(moveable, datas.beforeInfo, clientX, clientY, beforeOrigin, controlRect);\n      setRotateStartInfo(moveable, datas.afterInfo, clientX, clientY, origin, controlRect);\n    }\n\n    datas.direction = direction;\n    datas.beforeDirection = beforeDirection;\n    datas.startValue = 0;\n    datas.datas = {};\n    setDefaultTransformIndex(e);\n    var params = fillParams(moveable, e, __assign(__assign({\n      set: function (rotatation) {\n        datas.startValue = rotatation * Math.PI / 180;\n      }\n    }, fillTransformStartEvent(e)), {\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    }));\n    var result = triggerEvent(moveable, \"onRotateStart\", params);\n    datas.isRotate = result !== false;\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest\n    };\n    return datas.isRotate ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    var _a, _b, _c, _d, _e, _f;\n\n    var datas = e.datas,\n        clientX = e.clientX,\n        clientY = e.clientY,\n        parentRotate = e.parentRotate,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        groupDelta = e.groupDelta;\n    var beforeDirection = datas.beforeDirection,\n        beforeInfo = datas.beforeInfo,\n        afterInfo = datas.afterInfo,\n        isRotate = datas.isRotate,\n        startValue = datas.startValue,\n        rect = datas.rect;\n\n    if (!isRotate) {\n      return;\n    }\n\n    resolveTransformEvent(e, \"rotate\");\n    var targetDirection = getTransformDirection(e);\n    var direction = beforeDirection * targetDirection;\n    var _g = moveable.props,\n        _h = _g.throttleRotate,\n        throttleRotate = _h === void 0 ? 0 : _h,\n        parentMoveable = _g.parentMoveable;\n    var delta;\n    var dist;\n    var rotate;\n    var beforeDelta;\n    var beforeDist;\n    var beforeRotate;\n    var startDeg = 180 / Math.PI * startValue;\n\n    if (!parentFlag && \"parentDist\" in e) {\n      var parentDist = e.parentDist;\n      _a = getParentDeg(moveable, rect, afterInfo, parentDist, direction, startDeg), delta = _a[0], dist = _a[1], rotate = _a[2];\n      _b = getParentDeg(moveable, rect, beforeInfo, parentDist, beforeDirection, startDeg), beforeDelta = _b[0], beforeDist = _b[1], beforeRotate = _b[2];\n    } else if (isPinch || parentFlag) {\n      _c = getDeg(moveable, rect, afterInfo, parentRotate, direction, startDeg, throttleRotate), delta = _c[0], dist = _c[1], rotate = _c[2];\n      _d = getDeg(moveable, rect, beforeInfo, parentRotate, beforeDirection, startDeg, throttleRotate), beforeDelta = _d[0], beforeDist = _d[1], beforeRotate = _d[2];\n    } else {\n      _e = getRotateInfo(moveable, rect, afterInfo, direction, clientX, clientY, startDeg, throttleRotate), delta = _e[0], dist = _e[1], rotate = _e[2];\n      _f = getRotateInfo(moveable, rect, beforeInfo, beforeDirection, clientX, clientY, startDeg, throttleRotate), beforeDelta = _f[0], beforeDist = _f[1], beforeRotate = _f[2];\n    }\n\n    if (!delta && !beforeDelta && !parentMoveable) {\n      return;\n    }\n\n    var nextTransform = convertTransformFormat(datas, \"rotate(\" + rotate + \"deg)\", \"rotate(\" + dist + \"deg)\");\n    var inverseDist = getRotateDist(moveable, dist, datas.fixedPosition, datas);\n    var inverseDelta = minus(plus(groupDelta || [0, 0], inverseDist), datas.prevInverseDist || [0, 0]);\n    datas.prevInverseDist = inverseDist;\n    var params = fillParams(moveable, e, __assign({\n      delta: delta,\n      dist: dist,\n      rotate: rotate,\n      beforeDist: beforeDist,\n      beforeDelta: beforeDelta,\n      beforeRotate: beforeRotate,\n      isPinch: !!isPinch\n    }, fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e)));\n    triggerEvent(moveable, \"onRotate\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas,\n        isDrag = e.isDrag;\n\n    if (!datas.isRotate) {\n      return false;\n    }\n\n    datas.isRotate = false;\n    triggerEvent(moveable, \"onRotateEnd\", fillEndParams(moveable, e, {}));\n    return isDrag;\n  },\n  dragGroupControlCondition: dragControlCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var _a = moveable.state,\n        parentLeft = _a.left,\n        parentTop = _a.top,\n        parentBeforeOrigin = _a.beforeOrigin;\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    params.set(datas.beforeDirection * moveable.rotation);\n    var events = triggerChildAble(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      var _a = child.state,\n          left = _a.left,\n          top = _a.top,\n          beforeOrigin = _a.beforeOrigin;\n      var childClient = plus(minus([left, top], [parentLeft, parentTop]), minus(beforeOrigin, parentBeforeOrigin));\n      ev.datas.groupClient = childClient;\n      return __assign(__assign({}, ev), {\n        parentRotate: 0\n      });\n    });\n\n    var nextParams = __assign(__assign({}, params), {\n      targets: moveable.props.targets,\n      events: events\n    });\n\n    var result = triggerEvent(moveable, \"onRotateGroupStart\", nextParams);\n    datas.isRotate = result !== false;\n    return datas.isRotate ? params : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isRotate) {\n      return;\n    }\n\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return;\n    }\n\n    var direction = datas.beforeDirection;\n    var parentRotate = params.beforeDist;\n    var deg = params.beforeDelta;\n    var rad = deg / 180 * Math.PI;\n    var events = triggerChildAble(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = ev.datas.groupClient,\n          prevX = _a[0],\n          prevY = _a[1];\n\n      var _b = rotate([prevX, prevY], rad * direction),\n          clientX = _b[0],\n          clientY = _b[1];\n\n      var delta = [clientX - prevX, clientY - prevY];\n      ev.datas.groupClient = [clientX, clientY];\n      return __assign(__assign({}, ev), {\n        parentRotate: parentRotate,\n        groupDelta: delta\n      });\n    });\n    moveable.rotation = direction * params.beforeRotate;\n\n    var nextParams = __assign({\n      targets: moveable.props.targets,\n      events: events,\n      set: function (rotation) {\n        moveable.rotation = rotation;\n      }\n    }, params);\n\n    triggerEvent(moveable, \"onRotateGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isRotate) {\n      return;\n    }\n\n    this.dragControlEnd(moveable, e);\n    triggerChildAble(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets\n    });\n    triggerEvent(moveable, \"onRotateGroupEnd\", nextParams);\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Rotatable#request\n   * @param {object} [e] - the Resizable's request parameter\n   * @param {number} [e.deltaRotate=0] -  delta number of rotation\n   * @param {number} [e.rotate=0] - absolute number of moveable's rotation\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * moveable.request(\"rotatable\", { deltaRotate: 10 }, true);\n   *\n   * * moveable.request(\"rotatable\", { rotate: 10 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"rotatable\");\n   *\n   * // request\n   * requester.request({ deltaRotate: 10 });\n   * requester.request({ deltaRotate: 10 });\n   * requester.request({ deltaRotate: 10 });\n   *\n   * requester.request({ rotate: 10 });\n   * requester.request({ rotate: 20 });\n   * requester.request({ rotate: 30 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function (moveable) {\n    var datas = {};\n    var distRotate = 0;\n    var startRotation = moveable.getRotation();\n    return {\n      isControl: true,\n      requestStart: function (e) {\n        return {\n          datas: datas\n        };\n      },\n      request: function (e) {\n        if (\"deltaRotate\" in e) {\n          distRotate += e.deltaRotate;\n        } else if (\"rotate\" in e) {\n          distRotate = e.rotate - startRotation;\n        }\n\n        return {\n          datas: datas,\n          parentDist: distRotate\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether or not target can be rotated. (default: false)\n * @name Moveable.Rotatable#rotatable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.rotatable = true;\n */\n\n/**\n * You can specify the position of the rotation. (default: \"top\")\n * @name Moveable.Rotatable#rotationPosition\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   rotationPosition: \"top\",\n * });\n *\n * moveable.rotationPosition = \"bottom\"\n */\n\n/**\n * throttle of angle(degree) when rotate.\n * @name Moveable.Rotatable#throttleRotate\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleRotate = 1;\n */\n\n/**\n * When the rotate starts, the rotateStart event is called.\n * @memberof Moveable.Rotatable\n * @event rotateStart\n * @param {Moveable.Rotatable.OnRotateStart} - Parameters for the rotateStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { rotatable: true });\n * moveable.on(\"rotateStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n* When rotating, the rotate event is called.\n* @memberof Moveable.Rotatable\n* @event rotate\n* @param {Moveable.Rotatable.OnRotate} - Parameters for the rotate event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, { rotatable: true });\n* moveable.on(\"rotate\", ({ target, transform, dist }) => {\n*     target.style.transform = transform;\n* });\n*/\n\n/**\n * When the rotate finishes, the rotateEnd event is called.\n * @memberof Moveable.Rotatable\n * @event rotateEnd\n * @param {Moveable.Rotatable.OnRotateEnd} - Parameters for the rotateEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { rotatable: true });\n * moveable.on(\"rotateEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n * When the group rotate starts, the `rotateGroupStart` event is called.\n * @memberof Moveable.Rotatable\n * @event rotateGroupStart\n * @param {Moveable.Rotatable.OnRotateGroupStart} - Parameters for the `rotateGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     rotatable: true\n * });\n * moveable.on(\"rotateGroupStart\", ({ targets }) => {\n *     console.log(\"onRotateGroupStart\", targets);\n * });\n */\n\n/**\n* When the group rotate, the `rotateGroup` event is called.\n* @memberof Moveable.Rotatable\n* @event rotateGroup\n* @param {Moveable.Rotatable.OnRotateGroup} - Parameters for the `rotateGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     rotatable: true\n* });\n* moveable.on(\"rotateGroup\", ({ targets, events }) => {\n*     console.log(\"onRotateGroup\", targets);\n*     events.forEach(ev => {\n*         const target = ev.target;\n*         // ev.drag is a drag event that occurs when the group rotate.\n*         const left = ev.drag.beforeDist[0];\n*         const top = ev.drag.beforeDist[1];\n*         const deg = ev.beforeDist;\n*     });\n* });\n*/\n\n/**\n * When the group rotate finishes, the `rotateGroupEnd` event is called.\n * @memberof Moveable.Rotatable\n * @event rotateGroupEnd\n * @param {Moveable.Rotatable.OnRotateGroupEnd} - Parameters for the `rotateGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     rotatable: true\n * });\n * moveable.on(\"rotateGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onRotateGroupEnd\", targets, isDrag);\n * });\n */\n\nfunction renderControls(moveable, defaultDirections, React) {\n  var _a = moveable.state,\n      renderPoses = _a.renderPoses,\n      rotation = _a.rotation;\n  var _b = moveable.props,\n      _c = _b.renderDirections,\n      directions = _c === void 0 ? defaultDirections : _c,\n      zoom = _b.zoom;\n  var direction = moveable.state.direction;\n  var directionMap = {};\n  directions.forEach(function (dir) {\n    directionMap[dir] = true;\n  });\n  return directions.map(function (dir) {\n    var indexes = DIRECTION_INDEXES[dir];\n\n    if (!indexes || !directionMap[dir]) {\n      return null;\n    }\n\n    var directionRotation = throttle(rotation / Math.PI * 180, 15) + DIRECTION_ROTATIONS[dir];\n\n    if (direction < 1) {\n      directionRotation = 360 - directionRotation;\n    }\n\n    directionRotation %= 180;\n    return React.createElement(\"div\", {\n      className: prefix(\"control\", \"direction\", dir),\n      \"data-rotation\": directionRotation,\n      \"data-direction\": dir,\n      key: \"direction-\" + dir,\n      style: getControlTransform.apply(void 0, __spreadArrays([rotation, zoom], indexes.map(function (index) {\n        return renderPoses[index];\n      })))\n    });\n  });\n}\nfunction renderLine(React, direction, pos1, pos2, zoom, key) {\n  var classNames = [];\n\n  for (var _i = 6; _i < arguments.length; _i++) {\n    classNames[_i - 6] = arguments[_i];\n  }\n\n  var rad = getRad(pos1, pos2);\n  var rotation = direction ? throttle(rad / Math.PI * 180, 15) % 180 : -1;\n  return React.createElement(\"div\", {\n    key: \"line\" + key,\n    className: prefix.apply(void 0, __spreadArrays([\"line\", \"direction\", direction], classNames)),\n    \"data-rotation\": rotation,\n    \"data-line-index\": key,\n    \"data-direction\": direction,\n    style: getLineStyle(pos1, pos2, zoom, rad)\n  });\n}\nfunction renderAllDirections(moveable, React) {\n  return renderControls(moveable, DIRECTIONS, React);\n}\nfunction renderDiagonalDirections(moveable, React) {\n  return renderControls(moveable, [\"nw\", \"ne\", \"sw\", \"se\"], React);\n}\n\n/**\n * @namespace Resizable\n * @memberof Moveable\n * @description Resizable indicates whether the target's width and height can be increased or decreased.\n */\n\nvar Resizable = {\n  name: \"resizable\",\n  ableGroup: \"size\",\n  updateRect: true,\n  canPinch: true,\n  props: {\n    resizable: Boolean,\n    throttleResize: Number,\n    renderDirections: Array,\n    keepRatio: Boolean\n  },\n  events: {\n    onResizeStart: \"resizeStart\",\n    onResize: \"resize\",\n    onResizeEnd: \"resizeEnd\",\n    onResizeGroupStart: \"resizeGroupStart\",\n    onResizeGroup: \"resizeGroup\",\n    onResizeGroupEnd: \"resizeGroupEnd\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        resizable = _a.resizable,\n        edge = _a.edge;\n\n    if (resizable) {\n      if (edge) {\n        return renderDiagonalDirections(moveable, React);\n      }\n\n      return renderAllDirections(moveable, React);\n    }\n  },\n  dragControlCondition: directionCondition,\n  dragControlStart: function (moveable, e) {\n    var _a;\n\n    var inputEvent = e.inputEvent,\n        isPinch = e.isPinch,\n        parentDirection = e.parentDirection,\n        datas = e.datas,\n        parentFlag = e.parentFlag;\n    var direction = parentDirection || (isPinch ? [0, 0] : getDirection(inputEvent.target));\n    var _b = moveable.state,\n        target = _b.target,\n        width = _b.width,\n        height = _b.height;\n\n    if (!direction || !target) {\n      return false;\n    }\n\n    !isPinch && setDragStart(moveable, e);\n    datas.datas = {};\n    datas.direction = direction;\n    datas.startOffsetWidth = width;\n    datas.startOffsetHeight = height;\n    datas.prevWidth = 0;\n    datas.prevHeight = 0;\n    _a = getCSSSize(target), datas.startWidth = _a[0], datas.startHeight = _a[1];\n    var padding = [Math.max(0, width - datas.startWidth), Math.max(0, height - datas.startHeight)];\n    datas.minSize = padding;\n    datas.maxSize = [Infinity, Infinity];\n\n    if (!parentFlag) {\n      var style = window.getComputedStyle(target);\n      datas.minSize = plus([parseFloat(style.minWidth) || 0, parseFloat(style.minHeight) || 0], padding);\n      datas.maxSize = plus([parseFloat(style.maxWidth) || Infinity, parseFloat(style.maxHeight) || Infinity], padding);\n    }\n\n    var transformOrigin = moveable.props.transformOrigin || \"% %\";\n    datas.transformOrigin = transformOrigin && isString(transformOrigin) ? transformOrigin.split(\" \") : transformOrigin;\n    datas.startDirection = getStartDirection(moveable, direction);\n    datas.fixedPosition = getAbsoluteFixedPosition(moveable, datas.startDirection);\n    datas.fixedOriginalPosition = getAbsoluteFixedPosition(moveable, direction);\n    var params = fillParams(moveable, e, {\n      direction: direction,\n      set: function (_a) {\n        var startWidth = _a[0],\n            startHeight = _a[1];\n        datas.startWidth = startWidth;\n        datas.startHeight = startHeight;\n      },\n      setMin: function (minSize) {\n        datas.minSize = minSize;\n      },\n      setMax: function (maxSize) {\n        datas.maxSize = maxSize;\n      },\n      setOrigin: function (origin) {\n        datas.transformOrigin = origin;\n      },\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    });\n    var result = triggerEvent(moveable, \"onResizeStart\", params);\n\n    if (result !== false) {\n      datas.isResize = true;\n      moveable.state.snapRenderInfo = {\n        request: e.isRequest,\n        direction: direction\n      };\n    }\n\n    return datas.isResize ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    var _a;\n\n    var datas = e.datas,\n        distX = e.distX,\n        distY = e.distY,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        parentDistance = e.parentDistance,\n        parentScale = e.parentScale,\n        parentKeepRatio = e.parentKeepRatio,\n        dragClient = e.dragClient,\n        parentDist = e.parentDist,\n        isRequest = e.isRequest;\n    var isResize = datas.isResize,\n        transformOrigin = datas.transformOrigin,\n        startWidth = datas.startWidth,\n        startHeight = datas.startHeight,\n        startOffsetWidth = datas.startOffsetWidth,\n        startOffsetHeight = datas.startOffsetHeight,\n        prevWidth = datas.prevWidth,\n        prevHeight = datas.prevHeight,\n        minSize = datas.minSize,\n        maxSize = datas.maxSize;\n\n    if (!isResize) {\n      return;\n    }\n\n    var _b = moveable.props,\n        _c = _b.throttleResize,\n        throttleResize = _c === void 0 ? 0 : _c,\n        parentMoveable = _b.parentMoveable,\n        _d = _b.snapThreshold,\n        snapThreshold = _d === void 0 ? 5 : _d;\n    var direction = datas.direction;\n    var sizeDirection = direction;\n    var fixedPosition = dragClient;\n    var distWidth = 0;\n    var distHeight = 0;\n\n    if (!direction[0] && !direction[1]) {\n      sizeDirection = [1, 1];\n    }\n\n    var keepRatio = startOffsetWidth !== 0 && startOffsetHeight !== 0 && (moveable.props.keepRatio || parentKeepRatio);\n    var isWidth = sizeDirection[0] || !sizeDirection[1];\n    var ratio = isWidth ? startOffsetHeight / startOffsetWidth : startOffsetWidth / startOffsetHeight;\n    var startDirection = keepRatio || parentFlag ? __spreadArrays(direction) : __spreadArrays(datas.startDirection);\n\n    if (!dragClient) {\n      if (!parentFlag && isPinch) {\n        fixedPosition = getAbsoluteFixedPosition(moveable, [0, 0]);\n      } else {\n        fixedPosition = keepRatio ? datas.fixedOriginalPosition : datas.fixedPosition;\n      }\n    }\n\n    if (parentDist) {\n      distWidth = parentDist[0];\n      distHeight = parentDist[1];\n    } else if (parentScale) {\n      distWidth = (parentScale[0] - 1) * startOffsetWidth;\n      distHeight = (parentScale[1] - 1) * startOffsetHeight;\n    } else if (isPinch) {\n      if (parentDistance) {\n        distWidth = parentDistance;\n        distHeight = parentDistance * startOffsetHeight / startOffsetWidth;\n      }\n    } else {\n      var dist = getDragDist({\n        datas: datas,\n        distX: distX,\n        distY: distY\n      });\n      distWidth = sizeDirection[0] * dist[0];\n      distHeight = sizeDirection[1] * dist[1];\n\n      if (keepRatio && startOffsetWidth && startOffsetHeight) {\n        var rad = getRad([0, 0], dist);\n        var standardRad = getRad([0, 0], sizeDirection);\n        var ratioRad = getRad([0, 0], [startOffsetWidth, startOffsetHeight]);\n        var size = getDistSize([distWidth, distHeight]);\n        var signSize = Math.cos(rad - standardRad) * size;\n\n        if (!sizeDirection[0]) {\n          // top, bottom\n          distHeight = signSize;\n          distWidth = getKeepRatioWidth(distHeight, isWidth, ratio);\n        } else if (!sizeDirection[1]) {\n          // left, right\n          distWidth = signSize;\n          distHeight = getKeepRatioHeight(distWidth, isWidth, ratio);\n        } else {\n          // two-way\n          distWidth = Math.cos(ratioRad) * signSize;\n          distHeight = Math.sin(ratioRad) * signSize;\n        }\n      } else if (!keepRatio) {\n        var nextDirection = __spreadArrays(direction);\n\n        if (!startOffsetWidth) {\n          if (dist[0] < 0) {\n            nextDirection[0] = -1;\n          } else if (dist[0] > 0) {\n            nextDirection[0] = 1;\n          }\n        }\n\n        if (!startOffsetHeight) {\n          if (dist[1] < 0) {\n            nextDirection[1] = -1;\n          } else if (dist[1] > 0) {\n            nextDirection[1] = 1;\n          }\n        }\n\n        direction = nextDirection;\n        sizeDirection = nextDirection;\n        startDirection = getStartDirection(moveable, nextDirection);\n        distWidth = sizeDirection[0] * dist[0];\n        distHeight = sizeDirection[1] * dist[1];\n      }\n    }\n\n    var nextWidth = sizeDirection[0] || keepRatio ? Math.max(startOffsetWidth + distWidth, TINY_NUM) : startOffsetWidth;\n    var nextHeight = sizeDirection[1] || keepRatio ? Math.max(startOffsetHeight + distHeight, TINY_NUM) : startOffsetHeight;\n\n    if (keepRatio && startOffsetWidth && startOffsetHeight) {\n      // startOffsetWidth : startOffsetHeight = nextWidth : nextHeight\n      nextHeight = nextWidth * startOffsetHeight / startOffsetWidth;\n    }\n\n    var snapDist = [0, 0];\n\n    if (!isPinch) {\n      snapDist = checkSnapSize(moveable, nextWidth, nextHeight, direction, datas.fixedOriginalPosition, isRequest, datas);\n    }\n\n    if (parentDist) {\n      !parentDist[0] && (snapDist[0] = 0);\n      !parentDist[1] && (snapDist[1] = 0);\n    }\n\n    if (keepRatio) {\n      if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\n        if (Math.abs(snapDist[0]) > Math.abs(snapDist[1])) {\n          snapDist[1] = 0;\n        } else {\n          snapDist[0] = 0;\n        }\n      }\n\n      var isNoSnap = !snapDist[0] && !snapDist[1];\n\n      if (isNoSnap) {\n        if (isWidth) {\n          nextWidth = throttle(nextWidth, throttleResize);\n        } else {\n          nextHeight = throttle(nextHeight, throttleResize);\n        }\n      }\n\n      if (sizeDirection[0] && !sizeDirection[1] || snapDist[0] && !snapDist[1] || isNoSnap && isWidth) {\n        nextWidth += snapDist[0];\n        nextHeight = getKeepRatioHeight(nextWidth, isWidth, ratio);\n      } else if (!sizeDirection[0] && sizeDirection[1] || !snapDist[0] && snapDist[1] || isNoSnap && !isWidth) {\n        nextHeight += snapDist[1];\n        nextWidth = getKeepRatioWidth(nextHeight, isWidth, ratio);\n      }\n    } else {\n      if (startOffsetWidth + distWidth < -snapThreshold) {\n        snapDist[0] = 0;\n      }\n\n      if (startOffsetWidth + distHeight < -snapThreshold) {\n        snapDist[1] = 0;\n      }\n\n      nextWidth += snapDist[0];\n      nextHeight += snapDist[1];\n\n      if (!snapDist[0]) {\n        nextWidth = throttle(nextWidth, throttleResize);\n      }\n\n      if (!snapDist[1]) {\n        nextHeight = throttle(nextHeight, throttleResize);\n      }\n    }\n\n    _a = calculateBoundSize([nextWidth, nextHeight], minSize, maxSize, keepRatio), nextWidth = _a[0], nextHeight = _a[1];\n    nextWidth = Math.round(nextWidth);\n    nextHeight = Math.round(nextHeight);\n    distWidth = nextWidth - startOffsetWidth;\n    distHeight = nextHeight - startOffsetHeight;\n    var delta = [distWidth - prevWidth, distHeight - prevHeight];\n    datas.prevWidth = distWidth;\n    datas.prevHeight = distHeight;\n    var inverseDelta = getResizeDist(moveable, nextWidth, nextHeight, startDirection, fixedPosition, transformOrigin);\n\n    if (!parentMoveable && delta.every(function (num) {\n      return !num;\n    }) && inverseDelta.every(function (num) {\n      return !num;\n    })) {\n      return;\n    }\n\n    var params = fillParams(moveable, e, {\n      width: startWidth + distWidth,\n      height: startHeight + distHeight,\n      offsetWidth: nextWidth,\n      offsetHeight: nextHeight,\n      direction: direction,\n      dist: [distWidth, distHeight],\n      delta: delta,\n      isPinch: !!isPinch,\n      drag: Draggable.drag(moveable, setCustomDrag(e, moveable.state, inverseDelta, !!isPinch, false))\n    });\n    triggerEvent(moveable, \"onResize\", params);\n    return params;\n  },\n  dragControlAfter: function (moveable, e) {\n    var datas = e.datas;\n    var isResize = datas.isResize,\n        startOffsetWidth = datas.startOffsetWidth,\n        startOffsetHeight = datas.startOffsetHeight,\n        prevWidth = datas.prevWidth,\n        prevHeight = datas.prevHeight;\n\n    if (!isResize) {\n      return;\n    }\n\n    var _a = moveable.state,\n        width = _a.width,\n        height = _a.height;\n    var errorWidth = width - (startOffsetWidth + prevWidth);\n    var errorHeight = height - (startOffsetHeight + prevHeight);\n    var isErrorWidth = Math.abs(errorWidth) > 3;\n    var isErrorHeight = Math.abs(errorHeight) > 3;\n\n    if (isErrorWidth) {\n      datas.startWidth += errorWidth;\n      datas.startOffsetWidth += errorWidth;\n      datas.prevWidth += errorWidth;\n    }\n\n    if (isErrorHeight) {\n      datas.startHeight += errorHeight;\n      datas.startOffsetHeight += errorHeight;\n      datas.prevHeight += errorHeight;\n    }\n\n    if (isErrorWidth || isErrorHeight) {\n      this.dragControl(moveable, e);\n      return true;\n    }\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas,\n        isDrag = e.isDrag;\n\n    if (!datas.isResize) {\n      return false;\n    }\n\n    datas.isResize = false;\n    var params = fillEndParams(moveable, e, {});\n    triggerEvent(moveable, \"onResizeEnd\", params);\n    return isDrag;\n  },\n  dragGroupControlCondition: directionCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    var direction = params.direction;\n    var fixedPosition = datas.fixedOriginalPosition;\n    var events = triggerChildAble(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      var pos = getAbsoluteFixedPosition(child, direction);\n\n      var _a = calculate(createRotateMatrix(-moveable.rotation / 180 * Math.PI, 3), [pos[0] - fixedPosition[0], pos[1] - fixedPosition[1], 1], 3),\n          originalX = _a[0],\n          originalY = _a[1];\n\n      ev.datas.originalX = originalX;\n      ev.datas.originalY = originalY;\n      return ev;\n    });\n\n    var nextParams = __assign(__assign({}, params), {\n      targets: moveable.props.targets,\n      events: events\n    });\n\n    var result = triggerEvent(moveable, \"onResizeGroupStart\", nextParams);\n    datas.isResize = result !== false;\n    return datas.isResize ? params : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isResize) {\n      return;\n    }\n\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return;\n    }\n\n    var offsetWidth = params.offsetWidth,\n        offsetHeight = params.offsetHeight,\n        dist = params.dist;\n    var keepRatio = moveable.props.keepRatio;\n    var parentScale = [offsetWidth / (offsetWidth - dist[0]), offsetHeight / (offsetHeight - dist[1])];\n    var fixedPosition = datas.fixedOriginalPosition;\n    var events = triggerChildAble(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [ev.datas.originalX * parentScale[0], ev.datas.originalY * parentScale[1], 1], 3),\n          clientX = _a[0],\n          clientY = _a[1];\n\n      return __assign(__assign({}, ev), {\n        parentDist: null,\n        parentScale: parentScale,\n        dragClient: plus(fixedPosition, [clientX, clientY]),\n        parentKeepRatio: keepRatio\n      });\n    });\n\n    var nextParams = __assign({\n      targets: moveable.props.targets,\n      events: events\n    }, params);\n\n    triggerEvent(moveable, \"onResizeGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isResize) {\n      return;\n    }\n\n    this.dragControlEnd(moveable, e);\n    triggerChildAble(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets\n    });\n    triggerEvent(moveable, \"onResizeGroupEnd\", nextParams);\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Resizable#request\n   * @param {object} [e] - the Resizable's request parameter\n   * @param {number} [e.direction=[1, 1]] - Direction to resize\n   * @param {number} [e.deltaWidth] - delta number of width\n   * @param {number} [e.deltaHeight] - delta number of height\n   * @param {number} [e.offsetWidth] - offset number of width\n   * @param {number} [e.offsetHeight] - offset number of height\n   * @param {number} [e.isInstant] - Whether to execute the request instantly\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * // Use Relative Value\n   * moveable.request(\"resizable\", { deltaWidth: 10, deltaHeight: 10 }, true);\n   *\n   * // Use Absolute Value\n   * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"resizable\");\n   *\n   * // request\n   * // Use Relative Value\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   *\n   * // Use Absolute Value\n   * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 });\n   * moveable.request(\"resizable\", { offsetWidth: 110, offsetHeight: 100 });\n   * moveable.request(\"resizable\", { offsetWidth: 120, offsetHeight: 100 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function (moveable) {\n    var datas = {};\n    var distWidth = 0;\n    var distHeight = 0;\n    var rect = moveable.getRect();\n    return {\n      isControl: true,\n      requestStart: function (e) {\n        return {\n          datas: datas,\n          parentDirection: e.direction || [1, 1]\n        };\n      },\n      request: function (e) {\n        if (\"offsetWidth\" in e) {\n          distWidth = e.offsetWidth - rect.offsetWidth;\n        } else if (\"deltaWidth\" in e) {\n          distWidth += e.deltaWidth;\n        }\n\n        if (\"offsetHeight\" in e) {\n          distHeight = e.offsetHeight - rect.offsetHeight;\n        } else if (\"deltaHeight\" in e) {\n          distHeight += e.deltaHeight;\n        }\n\n        return {\n          datas: datas,\n          parentDist: [distWidth, distHeight]\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether or not target can be resized. (default: false)\n * @name Moveable.Resizable#resizable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     resizable: false,\n * });\n *\n * moveable.resizable = true;\n */\n\n/**\n * throttle of width, height when resize.\n * @name Moveable.Resizable#throttleResize\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n *   throttleResize: 0,\n * });\n *\n * moveable.throttleResize = 1;\n */\n\n/**\n * When resize or scale, keeps a ratio of the width, height. (default: false)\n * @name Moveable.Resizable#keepRatio\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n * });\n *\n * moveable.keepRatio = true;\n */\n\n/**\n * Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\n * @name Moveable.Resizable#renderDirections\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\n * });\n *\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\n */\n\n/**\n * When the resize starts, the resizeStart event is called.\n * @memberof Moveable.Resizable\n * @event resizeStart\n * @param {Moveable.Resizable.OnResizeStart} - Parameters for the resizeStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resizeStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When resizing, the resize event is called.\n * @memberof Moveable.Resizable\n * @event resize\n * @param {Moveable.Resizable.OnResize} - Parameters for the resize event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resize\", ({ target, width, height }) => {\n *     target.style.width = `${e.width}px`;\n *     target.style.height = `${e.height}px`;\n * });\n */\n\n/**\n * When the resize finishes, the resizeEnd event is called.\n * @memberof Moveable.Resizable\n * @event resizeEnd\n * @param {Moveable.Resizable.OnResizeEnd} - Parameters for the resizeEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resizeEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the group resize starts, the `resizeGroupStart` event is called.\n* @memberof Moveable.Resizable\n* @event resizeGroupStart\n* @param {Moveable.Resizable.OnResizeGroupStart} - Parameters for the `resizeGroupStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     resizable: true\n* });\n* moveable.on(\"resizeGroupStart\", ({ targets }) => {\n*     console.log(\"onResizeGroupStart\", targets);\n* });\n*/\n\n/**\n* When the group resize, the `resizeGroup` event is called.\n* @memberof Moveable.Resizable\n* @event resizeGroup\n* @param {Moveable.Resizable.onResizeGroup} - Parameters for the `resizeGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     resizable: true\n* });\n* moveable.on(\"resizeGroup\", ({ targets, events }) => {\n*     console.log(\"onResizeGroup\", targets);\n*     events.forEach(ev => {\n*         const offset = [\n*             direction[0] < 0 ? -ev.delta[0] : 0,\n*             direction[1] < 0 ? -ev.delta[1] : 0,\n*         ];\n*         // ev.drag is a drag event that occurs when the group resize.\n*         const left = offset[0] + ev.drag.beforeDist[0];\n*         const top = offset[1] + ev.drag.beforeDist[1];\n*         const width = ev.width;\n*         const top = ev.top;\n*     });\n* });\n*/\n\n/**\n * When the group resize finishes, the `resizeGroupEnd` event is called.\n * @memberof Moveable.Resizable\n * @event resizeGroupEnd\n * @param {Moveable.Resizable.OnResizeGroupEnd} - Parameters for the `resizeGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     resizable: true\n * });\n * moveable.on(\"resizeGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onResizeGroupEnd\", targets, isDrag);\n * });\n */\n\n/**\n * @namespace Scalable\n * @memberof Moveable\n * @description Scalable indicates whether the target's x and y can be scale of transform.\n */\n\nvar Scalable = {\n  name: \"scalable\",\n  ableGroup: \"size\",\n  canPinch: true,\n  props: {\n    scalable: Boolean,\n    throttleScale: Number,\n    renderDirections: String,\n    keepRatio: Boolean\n  },\n  events: {\n    onScaleStart: \"scaleStart\",\n    onScale: \"scale\",\n    onScaleEnd: \"scaleEnd\",\n    onScaleGroupStart: \"scaleGroupStart\",\n    onScaleGroup: \"scaleGroup\",\n    onScaleGroupEnd: \"scaleGroupEnd\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        resizable = _a.resizable,\n        scalable = _a.scalable,\n        edge = _a.edge;\n\n    if (!resizable && scalable) {\n      if (edge) {\n        return renderDiagonalDirections(moveable, React);\n      }\n\n      return renderAllDirections(moveable, React);\n    }\n  },\n  dragControlCondition: directionCondition,\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,\n        isPinch = e.isPinch,\n        inputEvent = e.inputEvent,\n        parentDirection = e.parentDirection;\n    var direction = parentDirection || (isPinch ? [0, 0] : getDirection(inputEvent.target));\n    var _a = moveable.state,\n        width = _a.width,\n        height = _a.height,\n        targetTransform = _a.targetTransform,\n        target = _a.target;\n\n    if (!direction || !target) {\n      return false;\n    }\n\n    if (!isPinch) {\n      setDragStart(moveable, e);\n    }\n\n    setDefaultTransformIndex(e);\n    datas.datas = {};\n    datas.transform = targetTransform;\n    datas.prevDist = [1, 1];\n    datas.direction = direction;\n    datas.width = width;\n    datas.height = height;\n    datas.startValue = [1, 1];\n    datas.fixedDirection = direction.map(function (dir) {\n      return -dir;\n    });\n    datas.fixedPosition = getAbsoluteFixedPosition(moveable, direction);\n    var params = fillParams(moveable, e, __assign(__assign({\n      direction: direction,\n      set: function (scale) {\n        datas.startValue = scale;\n      }\n    }, fillTransformStartEvent(e)), {\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    }));\n    var result = triggerEvent(moveable, \"onScaleStart\", params);\n\n    if (result !== false) {\n      datas.isScale = true;\n      moveable.state.snapRenderInfo = {\n        request: e.isRequest,\n        direction: direction\n      };\n    }\n\n    return datas.isScale ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    resolveTransformEvent(e, \"scale\");\n    var datas = e.datas,\n        distX = e.distX,\n        distY = e.distY,\n        parentScale = e.parentScale,\n        parentDistance = e.parentDistance,\n        parentKeepRatio = e.parentKeepRatio,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        dragClient = e.dragClient,\n        parentDist = e.parentDist,\n        isRequest = e.isRequest;\n    var prevDist = datas.prevDist,\n        direction = datas.direction,\n        width = datas.width,\n        height = datas.height,\n        isScale = datas.isScale,\n        startValue = datas.startValue;\n\n    if (!isScale) {\n      return false;\n    }\n\n    var _a = moveable.props,\n        throttleScale = _a.throttleScale,\n        parentMoveable = _a.parentMoveable;\n    var sizeDirection = direction;\n\n    if (!direction[0] && !direction[1]) {\n      sizeDirection = [1, 1];\n    }\n\n    var keepRatio = moveable.props.keepRatio || parentKeepRatio;\n    var state = moveable.state;\n    var isWidth = sizeDirection[0] || !sizeDirection[1];\n    var startWidth = width * startValue[0];\n    var startHeight = height * startValue[1];\n    var ratio = isWidth ? startHeight / startWidth : startWidth / startHeight;\n    var scaleX = 1;\n    var scaleY = 1;\n    var fixedPosition = dragClient;\n\n    if (!dragClient) {\n      if (!parentFlag && isPinch) {\n        fixedPosition = getAbsoluteFixedPosition(moveable, [0, 0]);\n      } else {\n        fixedPosition = datas.fixedPosition;\n      }\n    }\n\n    if (parentDist) {\n      scaleX = (width + parentDist[0]) / width;\n      scaleY = (height + parentDist[1]) / height;\n    } else if (parentScale) {\n      scaleX = parentScale[0];\n      scaleY = parentScale[1];\n    } else if (isPinch) {\n      if (parentDistance) {\n        scaleX = (width + parentDistance) / width;\n        scaleY = (height + parentDistance * height / width) / height;\n      }\n    } else {\n      var dragDist = getDragDist({\n        datas: datas,\n        distX: distX,\n        distY: distY\n      });\n      var distWidth = sizeDirection[0] * dragDist[0];\n      var distHeight = sizeDirection[1] * dragDist[1];\n\n      if (keepRatio && width && height) {\n        var rad = getRad([0, 0], dragDist);\n        var standardRad = getRad([0, 0], sizeDirection);\n        var ratioRad = getRad([0, 0], [startWidth, startHeight]);\n        var size = getDistSize([distWidth, distHeight]);\n        var signSize = Math.cos(rad - standardRad) * size;\n\n        if (!sizeDirection[0]) {\n          // top, bottom\n          distHeight = signSize;\n          distWidth = getKeepRatioWidth(distHeight, isWidth, ratio);\n        } else if (!sizeDirection[1]) {\n          // left, right\n          distWidth = signSize;\n          distHeight = getKeepRatioHeight(distWidth, isWidth, ratio);\n        } else {\n          // two-way\n          distWidth = Math.cos(ratioRad) * signSize;\n          distHeight = Math.sin(ratioRad) * signSize;\n        }\n      }\n\n      scaleX = (width + distWidth) / width;\n      scaleY = (height + distHeight) / height;\n    }\n\n    scaleX = sizeDirection[0] || keepRatio ? scaleX * startValue[0] : startValue[0];\n    scaleY = sizeDirection[1] || keepRatio ? scaleY * startValue[1] : startValue[1];\n\n    if (scaleX === 0) {\n      scaleX = (prevDist[0] > 0 ? 1 : -1) * MIN_SCALE;\n    }\n\n    if (scaleY === 0) {\n      scaleY = (prevDist[1] > 0 ? 1 : -1) * MIN_SCALE;\n    }\n\n    var dist = [scaleX / startValue[0], scaleY / startValue[1]];\n    var scale = [scaleX, scaleY];\n\n    if (!isPinch && moveable.props.groupable) {\n      var snapRenderInfo = state.snapRenderInfo || {};\n      var stateDirection = snapRenderInfo.direction;\n\n      if (isArray(stateDirection) && (stateDirection[0] || stateDirection[1])) {\n        state.snapRenderInfo = {\n          direction: direction,\n          request: e.isRequest\n        };\n      }\n    }\n\n    var snapDist = [0, 0];\n\n    if (!isPinch) {\n      snapDist = checkSnapScale(moveable, dist, direction, datas.fixedPosition, isRequest, datas);\n    }\n\n    if (keepRatio) {\n      if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\n        if (Math.abs(snapDist[0]) > Math.abs(snapDist[1])) {\n          snapDist[1] = 0;\n        } else {\n          snapDist[0] = 0;\n        }\n      }\n\n      var isNoSnap = !snapDist[0] && !snapDist[1];\n\n      if (isNoSnap) {\n        if (isWidth) {\n          dist[0] = throttle(dist[0] * startValue[0], throttleScale) / startValue[0];\n        } else {\n          dist[1] = throttle(dist[1] * startValue[1], throttleScale) / startValue[1];\n        }\n      }\n\n      if (sizeDirection[0] && !sizeDirection[1] || snapDist[0] && !snapDist[1] || isNoSnap && isWidth) {\n        dist[0] += snapDist[0];\n        var snapHeight = getKeepRatioHeight(width * dist[0] * startValue[0], isWidth, ratio);\n        dist[1] = snapHeight / height / startValue[1];\n      } else if (!sizeDirection[0] && sizeDirection[1] || !snapDist[0] && snapDist[1] || isNoSnap && !isWidth) {\n        dist[1] += snapDist[1];\n        var snapWidth = getKeepRatioWidth(height * dist[1] * startValue[1], isWidth, ratio);\n        dist[0] = snapWidth / width / startValue[0];\n      }\n    } else {\n      dist[0] += snapDist[0];\n      dist[1] += snapDist[1];\n\n      if (!snapDist[0]) {\n        dist[0] = throttle(dist[0] * startValue[0], throttleScale) / startValue[0];\n      }\n\n      if (!snapDist[1]) {\n        dist[1] = throttle(dist[1] * startValue[1], throttleScale) / startValue[1];\n      }\n    }\n\n    if (dist[0] === 0) {\n      dist[0] = (prevDist[0] > 0 ? 1 : -1) * MIN_SCALE;\n    }\n\n    if (dist[1] === 0) {\n      dist[1] = (prevDist[1] > 0 ? 1 : -1) * MIN_SCALE;\n    }\n\n    var delta = [dist[0] / prevDist[0], dist[1] / prevDist[1]];\n    scale = multiply2(dist, startValue);\n    var inverseDist = getScaleDist(moveable, dist, direction, fixedPosition, datas);\n    var inverseDelta = minus(inverseDist, datas.prevInverseDist || [0, 0]);\n    datas.prevDist = dist;\n    datas.prevInverseDist = inverseDist;\n\n    if (scaleX === prevDist[0] && scaleY === prevDist[1] && inverseDelta.every(function (num) {\n      return !num;\n    }) && !parentMoveable) {\n      return false;\n    }\n\n    var nextTransform = convertTransformFormat(datas, \"scale(\" + scale.join(\", \") + \")\", \"scale(\" + dist.join(\", \") + \")\");\n    var params = fillParams(moveable, e, __assign({\n      offsetWidth: width,\n      offsetHeight: height,\n      direction: direction,\n      // beforeScale,\n      // beforeDist,\n      // beforeDelta,\n      scale: scale,\n      dist: dist,\n      delta: delta,\n      isPinch: !!isPinch\n    }, fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e)));\n    triggerEvent(moveable, \"onScale\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas,\n        isDrag = e.isDrag;\n\n    if (!datas.isScale) {\n      return false;\n    }\n\n    datas.isScale = false;\n    triggerEvent(moveable, \"onScaleEnd\", fillEndParams(moveable, e, {}));\n    return isDrag;\n  },\n  dragGroupControlCondition: directionCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    var direction = params.direction;\n    var fixedPosition = datas.fixedPosition;\n    datas.moveableScale = moveable.scale;\n    var events = triggerChildAble(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      var pos = getAbsoluteFixedPosition(child, direction);\n\n      var _a = calculate(createRotateMatrix(-moveable.rotation / 180 * Math.PI, 3), [pos[0] - fixedPosition[0], pos[1] - fixedPosition[1], 1], 3),\n          originalX = _a[0],\n          originalY = _a[1];\n\n      ev.datas.originalX = originalX;\n      ev.datas.originalY = originalY;\n      return ev;\n    });\n\n    var nextParams = __assign(__assign({}, params), {\n      targets: moveable.props.targets,\n      events: events\n    });\n\n    var result = triggerEvent(moveable, \"onScaleGroupStart\", nextParams);\n    datas.isScale = result !== false;\n    return datas.isScale ? nextParams : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isScale) {\n      return;\n    }\n\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return;\n    }\n\n    var moveableScale = datas.moveableScale;\n    moveable.scale = [params.scale[0] * moveableScale[0], params.scale[1] * moveableScale[1]];\n    var keepRatio = moveable.props.keepRatio;\n    var dist = params.dist,\n        scale = params.scale; // const fixedDirection = datas.fixedDirection;\n\n    var fixedPosition = datas.fixedPosition;\n    var events = triggerChildAble(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [ev.datas.originalX * dist[0], ev.datas.originalY * dist[1], 1], 3),\n          clientX = _a[0],\n          clientY = _a[1];\n\n      return __assign(__assign({}, ev), {\n        parentDist: null,\n        parentScale: scale,\n        parentKeepRatio: keepRatio,\n        dragClient: plus(fixedPosition, [clientX, clientY])\n      });\n    });\n\n    var nextParams = __assign({\n      targets: moveable.props.targets,\n      events: events\n    }, params);\n\n    triggerEvent(moveable, \"onScaleGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isScale) {\n      return;\n    }\n\n    this.dragControlEnd(moveable, e);\n    triggerChildAble(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets\n    });\n    triggerEvent(moveable, \"onScaleGroupEnd\", nextParams);\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Scalable#request\n   * @param {object} [e] - the Resizable's request parameter\n   * @param {number} [e.direction=[1, 1]] - Direction to scale\n   * @param {number} [e.deltaWidth] - delta number of width\n   * @param {number} [e.deltaHeight] - delta number of height\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * moveable.request(\"scalable\", { deltaWidth: 10, deltaHeight: 10 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"scalable\");\n   *\n   * // request\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function () {\n    var datas = {};\n    var distWidth = 0;\n    var distHeight = 0;\n    return {\n      isControl: true,\n      requestStart: function (e) {\n        return {\n          datas: datas,\n          parentDirection: e.direction || [1, 1]\n        };\n      },\n      request: function (e) {\n        distWidth += e.deltaWidth;\n        distHeight += e.deltaHeight;\n        return {\n          datas: datas,\n          parentDist: [distWidth, distHeight]\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether or not target can scaled. (default: false)\n * @name Moveable.Scalable#scalable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.scalable = true;\n */\n\n/**\n * throttle of scaleX, scaleY when scale.\n * @name Moveable.Scalable#throttleScale\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleScale = 0.1;\n */\n\n/**\n * Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\n * @name Moveable.Scalable#renderDirections\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     scalable: true,\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\n * });\n *\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\n */\n\n/**\n * When resize or scale, keeps a ratio of the width, height. (default: false)\n * @name Moveable.Scalable#keepRatio\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     scalable: true,\n * });\n *\n * moveable.keepRatio = true;\n */\n\n/**\n * When the scale starts, the scaleStart event is called.\n * @memberof Moveable.Scalable\n * @event scaleStart\n * @param {Moveable.Scalable.OnScaleStart} - Parameters for the scaleStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scaleStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When scaling, the scale event is called.\n * @memberof Moveable.Scalable\n * @event scale\n * @param {Moveable.Scalable.OnScale} - Parameters for the scale event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\n *     target.style.transform = transform;\n * });\n */\n\n/**\n * When the scale finishes, the scaleEnd event is called.\n * @memberof Moveable.Scalable\n * @event scaleEnd\n * @param {Moveable.Scalable.OnScaleEnd} - Parameters for the scaleEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scaleEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the group scale starts, the `scaleGroupStart` event is called.\n* @memberof Moveable.Scalable\n* @event scaleGroupStart\n* @param {Moveable.Scalable.OnScaleGroupStart} - Parameters for the `scaleGroupStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     scalable: true\n* });\n* moveable.on(\"scaleGroupStart\", ({ targets }) => {\n*     console.log(\"onScaleGroupStart\", targets);\n* });\n*/\n\n/**\n* When the group scale, the `scaleGroup` event is called.\n* @memberof Moveable.Scalable\n* @event scaleGroup\n* @param {Moveable.Scalable.OnScaleGroup} - Parameters for the `scaleGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     scalable: true\n* });\n* moveable.on(\"scaleGroup\", ({ targets, events }) => {\n*     console.log(\"onScaleGroup\", targets);\n*     events.forEach(ev => {\n*         const target = ev.target;\n*         // ev.drag is a drag event that occurs when the group scale.\n*         const left = ev.drag.beforeDist[0];\n*         const top = ev.drag.beforeDist[1];\n*         const scaleX = ev.scale[0];\n*         const scaleY = ev.scale[1];\n*     });\n* });\n*/\n\n/**\n * When the group scale finishes, the `scaleGroupEnd` event is called.\n * @memberof Moveable.Scalable\n * @event scaleGroupEnd\n * @param {Moveable.Scalable.OnScaleGroupEnd} - Parameters for the `scaleGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     scalable: true\n * });\n * moveable.on(\"scaleGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onScaleGroupEnd\", targets, isDrag);\n * });\n */\n\nfunction getMiddleLinePos(pos1, pos2) {\n  return pos1.map(function (pos, i) {\n    return dot(pos, pos2[i], 1, 2);\n  });\n}\n\nfunction getTriangleRad(pos1, pos2, pos3) {\n  // pos1 Rad\n  var rad1 = getRad(pos1, pos2);\n  var rad2 = getRad(pos1, pos3);\n  var rad = rad2 - rad1;\n  return rad >= 0 ? rad : rad + 2 * Math.PI;\n}\n\nfunction isValidPos(poses1, poses2) {\n  var rad1 = getTriangleRad(poses1[0], poses1[1], poses1[2]);\n  var rad2 = getTriangleRad(poses2[0], poses2[1], poses2[2]);\n  var pi = Math.PI;\n\n  if (rad1 >= pi && rad2 <= pi || rad1 <= pi && rad2 >= pi) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * @namespace Moveable.Warpable\n * @description Warpable indicates whether the target can be warped(distorted, bented).\n */\n\n\nvar Warpable = {\n  name: \"warpable\",\n  ableGroup: \"size\",\n  props: {\n    warpable: Boolean,\n    renderDirections: Array\n  },\n  events: {\n    onWarpStart: \"warpStart\",\n    onWarp: \"warp\",\n    onWarpEnd: \"warpEnd\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        resizable = _a.resizable,\n        scalable = _a.scalable,\n        warpable = _a.warpable,\n        zoom = _a.zoom;\n\n    if (resizable || scalable || !warpable) {\n      return [];\n    }\n\n    var _b = moveable.state,\n        pos1 = _b.pos1,\n        pos2 = _b.pos2,\n        pos3 = _b.pos3,\n        pos4 = _b.pos4;\n    var linePosFrom1 = getMiddleLinePos(pos1, pos2);\n    var linePosFrom2 = getMiddleLinePos(pos2, pos1);\n    var linePosFrom3 = getMiddleLinePos(pos1, pos3);\n    var linePosFrom4 = getMiddleLinePos(pos3, pos1);\n    var linePosTo1 = getMiddleLinePos(pos3, pos4);\n    var linePosTo2 = getMiddleLinePos(pos4, pos3);\n    var linePosTo3 = getMiddleLinePos(pos2, pos4);\n    var linePosTo4 = getMiddleLinePos(pos4, pos2);\n    return __spreadArrays([React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine1\",\n      style: getLineStyle(linePosFrom1, linePosTo1, zoom)\n    }), React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine2\",\n      style: getLineStyle(linePosFrom2, linePosTo2, zoom)\n    }), React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine3\",\n      style: getLineStyle(linePosFrom3, linePosTo3, zoom)\n    }), React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine4\",\n      style: getLineStyle(linePosFrom4, linePosTo4, zoom)\n    })], renderAllDirections(moveable, React));\n  },\n  dragControlCondition: function (e) {\n    if (e.isRequest) {\n      return false;\n    }\n\n    return hasClass(e.inputEvent.target, prefix(\"direction\"));\n  },\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,\n        inputEvent = e.inputEvent;\n    var target = moveable.props.target;\n    var inputTarget = inputEvent.target;\n    var direction = getDirection(inputTarget);\n\n    if (!direction || !target) {\n      return false;\n    }\n\n    var state = moveable.state;\n    var transformOrigin = state.transformOrigin,\n        is3d = state.is3d,\n        targetTransform = state.targetTransform,\n        targetMatrix = state.targetMatrix,\n        width = state.width,\n        height = state.height,\n        left = state.left,\n        top = state.top;\n    datas.datas = {};\n    datas.targetTransform = targetTransform;\n    datas.warpTargetMatrix = is3d ? targetMatrix : convertDimension(targetMatrix, 3, 4);\n    datas.targetInverseMatrix = ignoreDimension(invert(datas.warpTargetMatrix, 4), 3, 4);\n    datas.direction = direction;\n    datas.left = left;\n    datas.top = top;\n    setDragStart(moveable, e);\n    setDefaultTransformIndex(e);\n    datas.poses = [[0, 0], [width, 0], [0, height], [width, height]].map(function (p) {\n      return minus(p, transformOrigin);\n    });\n    datas.nextPoses = datas.poses.map(function (_a) {\n      var x = _a[0],\n          y = _a[1];\n      return calculate(datas.warpTargetMatrix, [x, y, 0, 1], 4);\n    });\n    datas.startValue = createIdentityMatrix(4);\n    datas.prevMatrix = createIdentityMatrix(4);\n    datas.absolutePoses = getAbsolutePosesByState(state);\n    datas.posIndexes = getPosIndexesByDirection(direction);\n    state.snapRenderInfo = {\n      request: e.isRequest,\n      direction: direction\n    };\n    var params = fillParams(moveable, e, __assign({\n      set: function (matrix) {\n        datas.startValue = matrix;\n      }\n    }, fillTransformStartEvent(e)));\n    var result = triggerEvent(moveable, \"onWarpStart\", params);\n\n    if (result !== false) {\n      datas.isWarp = true;\n    }\n\n    return datas.isWarp;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas,\n        isRequest = e.isRequest;\n    var distX = e.distX,\n        distY = e.distY;\n    var targetInverseMatrix = datas.targetInverseMatrix,\n        prevMatrix = datas.prevMatrix,\n        isWarp = datas.isWarp,\n        startValue = datas.startValue,\n        poses = datas.poses,\n        posIndexes = datas.posIndexes,\n        absolutePoses = datas.absolutePoses;\n\n    if (!isWarp) {\n      return false;\n    }\n\n    resolveTransformEvent(e, \"matrix3d\");\n\n    if (hasGuidelines(moveable, \"warpable\")) {\n      var selectedPoses = posIndexes.map(function (index) {\n        return absolutePoses[index];\n      });\n\n      if (selectedPoses.length > 1) {\n        selectedPoses.push([(selectedPoses[0][0] + selectedPoses[1][0]) / 2, (selectedPoses[0][1] + selectedPoses[1][1]) / 2]);\n      }\n\n      var _a = checkMoveableSnapBounds(moveable, isRequest, selectedPoses.map(function (pos) {\n        return [pos[0] + distX, pos[1] + distY];\n      })),\n          horizontalSnapInfo = _a.horizontal,\n          verticalSnapInfo = _a.vertical;\n\n      distY -= horizontalSnapInfo.offset;\n      distX -= verticalSnapInfo.offset;\n    }\n\n    var dist = getDragDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    }, true);\n    var nextPoses = datas.nextPoses.slice();\n    posIndexes.forEach(function (index) {\n      nextPoses[index] = plus(nextPoses[index], dist);\n    });\n\n    if (!NEARBY_POS.every(function (nearByPoses) {\n      return isValidPos(nearByPoses.map(function (i) {\n        return poses[i];\n      }), nearByPoses.map(function (i) {\n        return nextPoses[i];\n      }));\n    })) {\n      return false;\n    }\n\n    var h = createWarpMatrix(poses[0], poses[2], poses[1], poses[3], nextPoses[0], nextPoses[2], nextPoses[1], nextPoses[3]);\n\n    if (!h.length) {\n      return false;\n    } // B * A * M\n\n\n    var afterMatrix = multiply(targetInverseMatrix, h, 4); // B * M * A\n\n    var matrix = getTransfromMatrix(datas, afterMatrix, true);\n    var delta = multiply(invert(prevMatrix, 4), matrix, 4);\n    datas.prevMatrix = matrix;\n    var totalMatrix = multiply(startValue, matrix, 4);\n    var nextTransform = convertTransformFormat(datas, \"matrix3d(\" + totalMatrix.join(\", \") + \")\", \"matrix3d(\" + matrix.join(\", \") + \")\");\n    fillOriginalTransform(e, nextTransform);\n    triggerEvent(moveable, \"onWarp\", fillParams(moveable, e, {\n      delta: delta,\n      matrix: totalMatrix,\n      dist: matrix,\n      multiply: multiply,\n      transform: nextTransform\n    }));\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas,\n        isDrag = e.isDrag;\n\n    if (!datas.isWarp) {\n      return false;\n    }\n\n    datas.isWarp = false;\n    triggerEvent(moveable, \"onWarpEnd\", fillEndParams(moveable, e, {}));\n    return isDrag;\n  }\n};\n/**\n * Whether or not target can be warped. (default: false)\n * @name Moveable.Warpable#warpable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.warpable = true;\n */\n\n/**\n* Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\n* @name Moveable.Warpable#renderDirections\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     warpable: true,\n*     renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\n* });\n*\n* moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\n*/\n\n/**\n* When the warp starts, the warpStart event is called.\n* @memberof Moveable.Warpable\n* @event warpStart\n* @param {Moveable.Warpable.OnWarpStart} - Parameters for the warpStart event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, { warpable: true });\n* moveable.on(\"warpStart\", ({ target }) => {\n*     console.log(target);\n* });\n*/\n\n/**\n * When warping, the warp event is called.\n * @memberof Moveable.Warpable\n * @event warp\n * @param {Moveable.Warpable.OnWarp} - Parameters for the warp event\n * @example\n * import Moveable from \"moveable\";\n * let matrix = [\n *  1, 0, 0, 0,\n *  0, 1, 0, 0,\n *  0, 0, 1, 0,\n *  0, 0, 0, 1,\n * ];\n * const moveable = new Moveable(document.body, { warpable: true });\n * moveable.on(\"warp\", ({ target, transform, delta, multiply }) => {\n *    // target.style.transform = transform;\n *    matrix = multiply(matrix, delta);\n *    target.style.transform = `matrix3d(${matrix.join(\",\")})`;\n * });\n */\n\n/**\n * When the warp finishes, the warpEnd event is called.\n * @memberof Moveable.Warpable\n * @event warpEnd\n * @param {Moveable.Warpable.OnWarpEnd} - Parameters for the warpEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { warpable: true });\n * moveable.on(\"warpEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\nvar AREA_PIECES = /*#__PURE__*/prefix(\"area-pieces\");\nvar AREA_PIECE = /*#__PURE__*/prefix(\"area-piece\");\nvar AVOID = /*#__PURE__*/prefix(\"avoid\");\n\nfunction restoreStyle(moveable) {\n  var el = moveable.areaElement;\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height;\n  removeClass(el, AVOID);\n  el.style.cssText += \"left: 0px; top: 0px; width: \" + width + \"px; height: \" + height + \"px\";\n}\n\nfunction renderPieces(React) {\n  return React.createElement(\"div\", {\n    key: \"area_pieces\",\n    className: AREA_PIECES\n  }, React.createElement(\"div\", {\n    className: AREA_PIECE\n  }), React.createElement(\"div\", {\n    className: AREA_PIECE\n  }), React.createElement(\"div\", {\n    className: AREA_PIECE\n  }), React.createElement(\"div\", {\n    className: AREA_PIECE\n  }));\n}\n\nvar DragArea = {\n  name: \"dragArea\",\n  props: {\n    dragArea: Boolean,\n    passDragArea: Boolean\n  },\n  events: {\n    onClick: \"click\",\n    onClickGroup: \"clickGroup\"\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        target = _a.target,\n        dragArea = _a.dragArea,\n        groupable = _a.groupable,\n        passDragArea = _a.passDragArea;\n    var _b = moveable.state,\n        width = _b.width,\n        height = _b.height,\n        renderPoses = _b.renderPoses;\n    var className = passDragArea ? prefix(\"area\", \"pass\") : prefix(\"area\");\n\n    if (groupable) {\n      return [React.createElement(\"div\", {\n        key: \"area\",\n        ref: ref(moveable, \"areaElement\"),\n        className: className\n      }), renderPieces(React)];\n    }\n\n    if (!target || !dragArea) {\n      return [];\n    }\n\n    var h = createWarpMatrix([0, 0], [width, 0], [0, height], [width, height], renderPoses[0], renderPoses[1], renderPoses[2], renderPoses[3]);\n    var transform = h.length ? makeMatrixCSS(h, true) : \"none\";\n    return [React.createElement(\"div\", {\n      key: \"area\",\n      ref: ref(moveable, \"areaElement\"),\n      className: className,\n      style: {\n        top: \"0px\",\n        left: \"0px\",\n        width: width + \"px\",\n        height: height + \"px\",\n        transformOrigin: \"0 0\",\n        transform: transform\n      }\n    }), renderPieces(React)];\n  },\n  dragStart: function (moveable, _a) {\n    var datas = _a.datas,\n        clientX = _a.clientX,\n        clientY = _a.clientY,\n        inputEvent = _a.inputEvent;\n\n    if (!inputEvent) {\n      return false;\n    }\n\n    datas.isDragArea = false;\n    var areaElement = moveable.areaElement;\n    var _b = moveable.state,\n        moveableClientRect = _b.moveableClientRect,\n        renderPoses = _b.renderPoses,\n        rootMatrix = _b.rootMatrix,\n        is3d = _b.is3d;\n    var left = moveableClientRect.left,\n        top = moveableClientRect.top;\n\n    var _c = getRect(renderPoses),\n        relativeLeft = _c.left,\n        relativeTop = _c.top,\n        width = _c.width,\n        height = _c.height;\n\n    var n = is3d ? 4 : 3;\n\n    var _d = calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n),\n        posX = _d[0],\n        posY = _d[1];\n\n    posX -= relativeLeft;\n    posY -= relativeTop;\n    var rects = [{\n      left: relativeLeft,\n      top: relativeTop,\n      width: width,\n      height: posY - 10\n    }, {\n      left: relativeLeft,\n      top: relativeTop,\n      width: posX - 10,\n      height: height\n    }, {\n      left: relativeLeft,\n      top: relativeTop + posY + 10,\n      width: width,\n      height: height - posY - 10\n    }, {\n      left: relativeLeft + posX + 10,\n      top: relativeTop,\n      width: width - posX - 10,\n      height: height\n    }];\n    var children = [].slice.call(areaElement.nextElementSibling.children);\n    rects.forEach(function (rect, i) {\n      children[i].style.cssText = \"left: \" + rect.left + \"px;top: \" + rect.top + \"px; width: \" + rect.width + \"px; height: \" + rect.height + \"px;\";\n    });\n    addClass(areaElement, AVOID);\n    return;\n  },\n  drag: function (moveable, _a) {\n    var datas = _a.datas,\n        inputEvent = _a.inputEvent;\n\n    if (!inputEvent) {\n      return false;\n    }\n\n    if (!datas.isDragArea) {\n      datas.isDragArea = true;\n      restoreStyle(moveable);\n    }\n  },\n  dragEnd: function (moveable, e) {\n    var inputEvent = e.inputEvent,\n        datas = e.datas;\n\n    if (!inputEvent) {\n      return false;\n    }\n\n    if (!datas.isDragArea) {\n      restoreStyle(moveable);\n    }\n  },\n  dragGroupStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragGroup: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragGroupEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  unset: function (moveable) {\n    restoreStyle(moveable);\n  }\n};\n/**\n * Add an event to the moveable area instead of the target for stopPropagation. (default: false, true in group)\n * @name Moveable#dragArea\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  dragArea: false,\n * });\n */\n\n/**\n * Set `pointerEvents: none;` css to pass events in dragArea. (default: false)\n * @name Moveable#passDragArea\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  dragArea: false,\n * });\n */\n\nvar Origin = {\n  name: \"origin\",\n  props: {\n    origin: Boolean\n  },\n  events: {},\n  render: function (moveable, React) {\n    var zoom = moveable.props.zoom;\n    var _a = moveable.state,\n        beforeOrigin = _a.beforeOrigin,\n        rotation = _a.rotation;\n    return [React.createElement(\"div\", {\n      className: prefix(\"control\", \"origin\"),\n      style: getControlTransform(rotation, zoom, beforeOrigin),\n      key: \"beforeOrigin\"\n    })];\n  }\n};\n/**\n * Whether or not the origin controlbox will be visible or not (default: true)\n * @name Moveable#origin\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.origin = true;\n */\n\nfunction getDefaultScrollPosition(e) {\n  var scrollContainer = e.scrollContainer;\n  return [scrollContainer.scrollLeft, scrollContainer.scrollTop];\n}\n/**\n * @namespace Moveable.Scrollable\n * @description Whether or not target can be scrolled to the scroll container (default: false)\n */\n\n\nvar Scrollable = {\n  name: \"scrollable\",\n  canPinch: true,\n  props: {\n    scrollable: Boolean,\n    scrollContainer: Object,\n    scrollThreshold: Number,\n    getScrollPosition: Function\n  },\n  events: {\n    onScroll: \"scroll\",\n    onScrollGroup: \"scrollGroup\"\n  },\n  dragStart: function (moveable, e) {\n    var props = moveable.props;\n    var _a = props.scrollContainer,\n        scrollContainer = _a === void 0 ? moveable.getContainer() : _a;\n    var dragScroll = new DragScroll();\n    e.datas.dragScroll = dragScroll;\n    var gestoName = e.isControl ? \"controlGesto\" : \"targetGesto\";\n    var targets = e.targets;\n    dragScroll.on(\"scroll\", function (_a) {\n      var container = _a.container,\n          direction = _a.direction;\n      var params = fillParams(moveable, e, {\n        scrollContainer: container,\n        direction: direction\n      });\n      var eventName = targets ? \"onScrollGroup\" : \"onScroll\";\n\n      if (targets) {\n        params.targets = targets;\n      }\n\n      triggerEvent(moveable, eventName, params);\n    }).on(\"move\", function (_a) {\n      var offsetX = _a.offsetX,\n          offsetY = _a.offsetY;\n      moveable[gestoName].scrollBy(offsetX, offsetY, e.inputEvent, false);\n    });\n    dragScroll.dragStart(e, {\n      container: scrollContainer\n    });\n  },\n  checkScroll: function (moveable, e) {\n    var dragScroll = e.datas.dragScroll;\n\n    if (!dragScroll) {\n      return;\n    }\n\n    var _a = moveable.props,\n        _b = _a.scrollContainer,\n        scrollContainer = _b === void 0 ? moveable.getContainer() : _b,\n        _c = _a.scrollThreshold,\n        scrollThreshold = _c === void 0 ? 0 : _c,\n        _d = _a.getScrollPosition,\n        getScrollPosition = _d === void 0 ? getDefaultScrollPosition : _d;\n    dragScroll.drag(e, {\n      container: scrollContainer,\n      threshold: scrollThreshold,\n      getScrollPosition: function (ev) {\n        return getScrollPosition({\n          scrollContainer: ev.container,\n          direction: ev.direction\n        });\n      }\n    });\n    return true;\n  },\n  drag: function (moveable, e) {\n    return this.checkScroll(moveable, e);\n  },\n  dragEnd: function (moveable, e) {\n    e.datas.dragScroll.dragEnd();\n    e.datas.dragScroll = null;\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign(__assign({}, e), {\n      isControl: true\n    }));\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    return this.drag(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    return this.dragEnd(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets,\n      isControl: true\n    }));\n  },\n  dragGroupContro: function (moveable, e) {\n    return this.drag(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupControEnd: function (moveable, e) {\n    return this.dragEnd(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  }\n};\n/**\n * Whether or not target can be scrolled to the scroll container (default: false)\n * @name Moveable.Scrollable#scrollable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   scrollable: true,\n *   scrollContainer: document.body,\n *   scrollThreshold: 0,\n *   getScrollPosition: ({ scrollContainer }) => ([scrollContainer.scrollLeft, scrollContainer.scrollTop]),\n * });\n *\n * moveable.scrollable = true;\n */\n\n/**\n * The container to which scroll is applied (default: container)\n * @name Moveable.Scrollable#scrollContainer\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   scrollable: true,\n *   scrollContainer: document.body,\n *   scrollThreshold: 0,\n *   getScrollPosition: ({ scrollContainer }) => ([scrollContainer.scrollLeft, scrollContainer.scrollTop]),\n * });\n */\n\n/**\n * Expand the range of the scroll check area. (default: 0)\n * @name Moveable.Scrollable#scrollThreshold\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   scrollable: true,\n *   scrollContainer: document.body,\n *   scrollThreshold: 0,\n *   getScrollPosition: ({ scrollContainer }) => ([scrollContainer.scrollLeft, scrollContainer.scrollTop]),\n * });\n */\n\n/**\n * Sets a function to get the scroll position. (default: Function)\n * @name Moveable.Scrollable#getScrollPosition\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   scrollable: true,\n *   scrollContainer: document.body,\n *   scrollThreshold: 0,\n *   getScrollPosition: ({ scrollContainer }) => ([scrollContainer.scrollLeft, scrollContainer.scrollTop]),\n * });\n *\n */\n\n/**\n * When the drag cursor leaves the scrollContainer, the `scroll` event occur to scroll.\n * @memberof Moveable.Scrollable\n * @event scroll\n * @param {Moveable.Scrollable.OnScroll} - Parameters for the `scroll` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\n *   scrollContainer.scrollLeft += direction[0] * 10;\n *   scrollContainer.scrollTop += direction[1] * 10;\n * });\n */\n\n/**\n * When the drag cursor leaves the scrollContainer, the `scrollGroup` event occur to scroll in group.\n * @memberof Moveable.Scrollable\n * @event scrollGroup\n * @param {Moveable.Scrollable.OnScrollGroup} - Parameters for the `scrollGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\n *   scrollContainer.scrollLeft += direction[0] * 10;\n *   scrollContainer.scrollTop += direction[1] * 10;\n * });\n */\n\nvar Default = {\n  name: \"\",\n  props: {\n    target: Object,\n    dragTarget: Object,\n    container: Object,\n    rootContainer: Object,\n    zoom: Number,\n    transformOrigin: Array,\n    edge: Boolean,\n    ables: Array,\n    className: String,\n    pinchThreshold: Number,\n    pinchOutside: Boolean,\n    triggerAblesSimultaneously: Boolean,\n    checkInput: Boolean,\n    cspNonce: String,\n    translateZ: Number,\n    props: Object\n  },\n  events: {}\n};\n\nvar Padding = {\n  name: \"padding\",\n  props: {\n    padding: Object\n  },\n  events: {},\n  render: function (moveable, React) {\n    var props = moveable.props;\n\n    if (props.dragArea) {\n      return [];\n    }\n\n    var padding = props.padding || {};\n    var _a = padding.left,\n        left = _a === void 0 ? 0 : _a,\n        _b = padding.top,\n        top = _b === void 0 ? 0 : _b,\n        _c = padding.right,\n        right = _c === void 0 ? 0 : _c,\n        _d = padding.bottom,\n        bottom = _d === void 0 ? 0 : _d;\n    var _e = moveable.state,\n        renderPoses = _e.renderPoses,\n        pos1 = _e.pos1,\n        pos2 = _e.pos2,\n        pos3 = _e.pos3,\n        pos4 = _e.pos4;\n    var poses = [pos1, pos2, pos3, pos4];\n    var paddingDirections = [];\n\n    if (left > 0) {\n      paddingDirections.push([0, 2]);\n    }\n\n    if (top > 0) {\n      paddingDirections.push([0, 1]);\n    }\n\n    if (right > 0) {\n      paddingDirections.push([1, 3]);\n    }\n\n    if (bottom > 0) {\n      paddingDirections.push([2, 3]);\n    }\n\n    return paddingDirections.map(function (_a, i) {\n      var dir1 = _a[0],\n          dir2 = _a[1];\n      var paddingPos1 = poses[dir1];\n      var paddingPos2 = poses[dir2];\n      var paddingPos3 = renderPoses[dir1];\n      var paddingPos4 = renderPoses[dir2];\n      var h = createWarpMatrix([0, 0], [100, 0], [0, 100], [100, 100], paddingPos1, paddingPos2, paddingPos3, paddingPos4);\n\n      if (!h.length) {\n        return undefined;\n      }\n\n      return React.createElement(\"div\", {\n        key: \"padding\" + i,\n        className: prefix(\"padding\"),\n        style: {\n          transform: makeMatrixCSS(h, true)\n        }\n      });\n    });\n  }\n};\n/**\n * Add padding around the target to increase the drag area. (default: null)\n * @name Moveable#padding\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  target: document.querySelector(\".target\"),\n *  padding: { left: 0, top: 0, right: 0, bottom: 0 },\n * });\n * moveable.padding = { left: 10, top: 10, right: 10, bottom: 10 },\n * moveable.updateRect();\n */\n\nvar RADIUS_DIRECTIONS = [\"nw\", \"ne\", \"se\", \"sw\"];\n\nfunction calculateRatio(values, size) {\n  var sumSize = values[0] + values[1];\n  var sumRatio = sumSize > size ? size / sumSize : 1;\n  values[0] *= sumRatio;\n  values[1] = size - values[1] * sumRatio;\n  return values;\n}\n\nvar HORIZONTAL_RADIUS_ORDER = [1, 2, 5, 6];\nvar VERTICAL_RADIUS_ORDER = [0, 3, 4, 7];\nvar HORIZONTAL_RADIUS_DIRECTIONS = [1, -1, -1, 1];\nvar VERTICAL_RADIUS_DIRECTIONS = [1, 1, -1, -1];\nfunction getRadiusStyles(poses, controlPoses, isRelative, width, height, left, top, right, bottom) {\n  if (left === void 0) {\n    left = 0;\n  }\n\n  if (top === void 0) {\n    top = 0;\n  }\n\n  if (right === void 0) {\n    right = width;\n  }\n\n  if (bottom === void 0) {\n    bottom = height;\n  }\n\n  var clipStyles = [];\n  var isVertical = false;\n  var raws = poses.map(function (pos, i) {\n    var _a = controlPoses[i],\n        horizontal = _a.horizontal,\n        vertical = _a.vertical;\n\n    if (vertical && !isVertical) {\n      isVertical = true;\n      clipStyles.push(\"/\");\n    }\n\n    if (isVertical) {\n      var rawPos = Math.max(0, vertical === 1 ? pos[1] - top : bottom - pos[1]);\n      clipStyles.push(convertCSSSize(rawPos, height, isRelative));\n      return rawPos;\n    } else {\n      var rawPos = Math.max(0, horizontal === 1 ? pos[0] - left : right - pos[0]);\n      clipStyles.push(convertCSSSize(rawPos, width, isRelative));\n      return rawPos;\n    }\n  });\n  return {\n    styles: clipStyles,\n    raws: raws\n  };\n}\nfunction getRadiusRange(controlPoses) {\n  // [start, length]\n  var horizontalRange = [0, 0];\n  var verticalRange = [0, 0];\n  var length = controlPoses.length;\n\n  for (var i = 0; i < length; ++i) {\n    var clipPose = controlPoses[i];\n\n    if (!clipPose.sub) {\n      continue;\n    }\n\n    if (clipPose.horizontal) {\n      if (horizontalRange[1] === 0) {\n        horizontalRange[0] = i;\n      }\n\n      horizontalRange[1] = i - horizontalRange[0] + 1;\n      verticalRange[0] = i + 1;\n    }\n\n    if (clipPose.vertical) {\n      if (verticalRange[1] === 0) {\n        verticalRange[0] = i;\n      }\n\n      verticalRange[1] = i - verticalRange[0] + 1;\n    }\n  }\n\n  return {\n    horizontalRange: horizontalRange,\n    verticalRange: verticalRange\n  };\n}\nfunction getRadiusValues(values, width, height, left, top, minCounts) {\n  var _a, _b, _c, _d;\n\n  if (minCounts === void 0) {\n    minCounts = [0, 0];\n  }\n\n  var splitIndex = values.indexOf(\"/\");\n  var splitLength = (splitIndex > -1 ? values.slice(0, splitIndex) : values).length;\n  var horizontalValues = values.slice(0, splitLength);\n  var verticalValues = values.slice(splitLength + 1);\n  var _e = horizontalValues[0],\n      nwValue = _e === void 0 ? \"0px\" : _e,\n      _f = horizontalValues[1],\n      neValue = _f === void 0 ? nwValue : _f,\n      _g = horizontalValues[2],\n      seValue = _g === void 0 ? nwValue : _g,\n      _h = horizontalValues[3],\n      swValue = _h === void 0 ? neValue : _h;\n  var _j = verticalValues[0],\n      wnValue = _j === void 0 ? nwValue : _j,\n      _k = verticalValues[1],\n      enValue = _k === void 0 ? wnValue : _k,\n      _l = verticalValues[2],\n      esValue = _l === void 0 ? wnValue : _l,\n      _m = verticalValues[3],\n      wsValue = _m === void 0 ? enValue : _m;\n  var horizontalRawPoses = [nwValue, neValue, seValue, swValue].map(function (pos) {\n    return convertUnitSize(pos, width);\n  });\n  var verticalRawPoses = [wnValue, enValue, esValue, wsValue].map(function (pos) {\n    return convertUnitSize(pos, height);\n  });\n  var horizontalPoses = horizontalRawPoses.slice();\n  var verticalPoses = verticalRawPoses.slice();\n  _a = calculateRatio([horizontalPoses[0], horizontalPoses[1]], width), horizontalPoses[0] = _a[0], horizontalPoses[1] = _a[1];\n  _b = calculateRatio([horizontalPoses[3], horizontalPoses[2]], width), horizontalPoses[3] = _b[0], horizontalPoses[2] = _b[1];\n  _c = calculateRatio([verticalPoses[0], verticalPoses[3]], height), verticalPoses[0] = _c[0], verticalPoses[3] = _c[1];\n  _d = calculateRatio([verticalPoses[1], verticalPoses[2]], height), verticalPoses[1] = _d[0], verticalPoses[2] = _d[1];\n  var nextHorizontalPoses = horizontalPoses.slice(0, Math.max(minCounts[0], horizontalValues.length));\n  var nextVerticalPoses = verticalPoses.slice(0, Math.max(minCounts[1], verticalValues.length));\n  return __spreadArrays(nextHorizontalPoses.map(function (pos, i) {\n    var direction = RADIUS_DIRECTIONS[i];\n    return {\n      horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\n      vertical: 0,\n      pos: [left + pos, top + (VERTICAL_RADIUS_DIRECTIONS[i] === -1 ? height : 0)],\n      sub: true,\n      raw: horizontalRawPoses[i],\n      direction: direction\n    };\n  }), nextVerticalPoses.map(function (pos, i) {\n    var direction = RADIUS_DIRECTIONS[i];\n    return {\n      horizontal: 0,\n      vertical: VERTICAL_RADIUS_DIRECTIONS[i],\n      pos: [left + (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1 ? width : 0), top + pos],\n      sub: true,\n      raw: verticalRawPoses[i],\n      direction: direction\n    };\n  }));\n}\nfunction removeRadiusPos(controlPoses, poses, index, startIndex, length) {\n  if (length === void 0) {\n    length = poses.length;\n  }\n\n  var _a = getRadiusRange(controlPoses.slice(startIndex)),\n      horizontalRange = _a.horizontalRange,\n      verticalRange = _a.verticalRange;\n\n  var radiuslIndex = index - startIndex;\n  var deleteCount = 0;\n\n  if (radiuslIndex === 0) {\n    deleteCount = length;\n  } else if (radiuslIndex > 0 && radiuslIndex < horizontalRange[1]) {\n    deleteCount = horizontalRange[1] - radiuslIndex;\n  } else if (radiuslIndex >= verticalRange[0]) {\n    deleteCount = verticalRange[0] + verticalRange[1] - radiuslIndex;\n  } else {\n    return;\n  }\n\n  controlPoses.splice(index, deleteCount);\n  poses.splice(index, deleteCount);\n}\nfunction addRadiusPos(controlPoses, poses, startIndex, horizontalIndex, verticalIndex, distX, distY, right, bottom, left, top) {\n  if (left === void 0) {\n    left = 0;\n  }\n\n  if (top === void 0) {\n    top = 0;\n  }\n\n  var _a = getRadiusRange(controlPoses.slice(startIndex)),\n      horizontalRange = _a.horizontalRange,\n      verticalRange = _a.verticalRange;\n\n  if (horizontalIndex > -1) {\n    var radiusX = HORIZONTAL_RADIUS_DIRECTIONS[horizontalIndex] === 1 ? distX - left : right - distX;\n\n    for (var i = horizontalRange[1]; i <= horizontalIndex; ++i) {\n      var y = VERTICAL_RADIUS_DIRECTIONS[i] === 1 ? top : bottom;\n      var x = 0;\n\n      if (horizontalIndex === i) {\n        x = distX;\n      } else if (i === 0) {\n        x = left + radiusX;\n      } else if (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1) {\n        x = right - (poses[startIndex][0] - left);\n      }\n\n      controlPoses.splice(startIndex + i, 0, {\n        horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\n        vertical: 0,\n        pos: [x, y]\n      });\n      poses.splice(startIndex + i, 0, [x, y]);\n\n      if (i === 0) {\n        break;\n      }\n    }\n  } else if (verticalIndex > -1) {\n    var radiusY = VERTICAL_RADIUS_DIRECTIONS[verticalIndex] === 1 ? distY - top : bottom - distY;\n\n    if (horizontalRange[1] === 0 && verticalRange[1] === 0) {\n      var pos = [left + radiusY, top];\n      controlPoses.push({\n        horizontal: HORIZONTAL_RADIUS_DIRECTIONS[0],\n        vertical: 0,\n        pos: pos\n      });\n      poses.push(pos);\n    }\n\n    var startVerticalIndex = verticalRange[0];\n\n    for (var i = verticalRange[1]; i <= verticalIndex; ++i) {\n      var x = HORIZONTAL_RADIUS_DIRECTIONS[i] === 1 ? left : right;\n      var y = 0;\n\n      if (verticalIndex === i) {\n        y = distY;\n      } else if (i === 0) {\n        y = top + radiusY;\n      } else if (VERTICAL_RADIUS_DIRECTIONS[i] === 1) {\n        y = poses[startIndex + startVerticalIndex][1];\n      } else if (VERTICAL_RADIUS_DIRECTIONS[i] === -1) {\n        y = bottom - (poses[startIndex + startVerticalIndex][1] - top);\n      }\n\n      controlPoses.push({\n        horizontal: 0,\n        vertical: VERTICAL_RADIUS_DIRECTIONS[i],\n        pos: [x, y]\n      });\n      poses.push([x, y]);\n\n      if (i === 0) {\n        break;\n      }\n    }\n  }\n}\nfunction splitRadiusPoses(controlPoses, raws) {\n  if (raws === void 0) {\n    raws = controlPoses.map(function (pos) {\n      return pos.raw;\n    });\n  }\n\n  var horizontals = controlPoses.map(function (pos, i) {\n    return pos.horizontal ? raws[i] : null;\n  }).filter(function (pos) {\n    return pos != null;\n  });\n  var verticals = controlPoses.map(function (pos, i) {\n    return pos.vertical ? raws[i] : null;\n  }).filter(function (pos) {\n    return pos != null;\n  });\n  return {\n    horizontals: horizontals,\n    verticals: verticals\n  };\n}\n\nvar CLIP_DIRECTIONS = [[0, -1, \"n\"], [1, 0, \"e\"]];\nvar CLIP_RECT_DIRECTIONS = [[-1, -1, \"nw\"], [0, -1, \"n\"], [1, -1, \"ne\"], [1, 0, \"e\"], [1, 1, \"se\"], [0, 1, \"s\"], [-1, 1, \"sw\"], [-1, 0, \"w\"]]; // 1 2 5 6 0 3 4 7\n// 0 1 2 3 4 5 6 7\n\nfunction getClipStyles(moveable, clipPath, poses) {\n  var clipRelative = moveable.props.clipRelative;\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height;\n  var _b = clipPath,\n      clipType = _b.type,\n      clipPoses = _b.poses;\n  var isRect = clipType === \"rect\";\n  var isCircle = clipType === \"circle\";\n\n  if (clipType === \"polygon\") {\n    return poses.map(function (pos) {\n      return convertCSSSize(pos[0], width, clipRelative) + \" \" + convertCSSSize(pos[1], height, clipRelative);\n    });\n  } else if (isRect || clipType === \"inset\") {\n    var top = poses[1][1];\n    var right = poses[3][0];\n    var left = poses[7][0];\n    var bottom = poses[5][1];\n\n    if (isRect) {\n      return [top, right, bottom, left].map(function (pos) {\n        return pos + \"px\";\n      });\n    }\n\n    var clipStyles = [top, width - right, height - bottom, left].map(function (pos, i) {\n      return convertCSSSize(pos, i % 2 ? width : height, clipRelative);\n    });\n\n    if (poses.length > 8) {\n      var _c = minus(poses[4], poses[0]),\n          subWidth = _c[0],\n          subHeight = _c[1];\n\n      clipStyles.push.apply(clipStyles, __spreadArrays([\"round\"], getRadiusStyles(poses.slice(8), clipPoses.slice(8), clipRelative, subWidth, subHeight, left, top, right, bottom).styles));\n    }\n\n    return clipStyles;\n  } else if (isCircle || clipType === \"ellipse\") {\n    var center = poses[0];\n    var ry = convertCSSSize(Math.abs(poses[1][1] - center[1]), isCircle ? Math.sqrt((width * width + height * height) / 2) : height, clipRelative);\n    var clipStyles = isCircle ? [ry] : [convertCSSSize(Math.abs(poses[2][0] - center[0]), width, clipRelative), ry];\n    clipStyles.push(\"at\", convertCSSSize(center[0], width, clipRelative), convertCSSSize(center[1], height, clipRelative));\n    return clipStyles;\n  }\n}\n\nfunction getRectPoses(top, right, bottom, left) {\n  var xs = [left, (left + right) / 2, right];\n  var ys = [top, (top + bottom) / 2, bottom];\n  return CLIP_RECT_DIRECTIONS.map(function (_a) {\n    var dirx = _a[0],\n        diry = _a[1],\n        dir = _a[2];\n    var x = xs[dirx + 1];\n    var y = ys[diry + 1];\n    return {\n      vertical: Math.abs(diry),\n      horizontal: Math.abs(dirx),\n      direction: dir,\n      pos: [x, y]\n    };\n  });\n}\n\nfunction getClipPath(target, width, height, defaultClip, customClip) {\n  var _a, _b, _c, _d, _e, _f, _g;\n\n  var clipText = customClip;\n\n  if (!clipText) {\n    var style = getComputedStyle(target);\n    var clipPath = style.clipPath;\n    clipText = clipPath !== \"none\" ? clipPath : style.clip;\n  }\n\n  if (!clipText || clipText === \"none\" || clipText === \"auto\") {\n    clipText = defaultClip;\n\n    if (!clipText) {\n      return;\n    }\n  }\n\n  var _h = splitBracket(clipText),\n      _j = _h.prefix,\n      clipPrefix = _j === void 0 ? clipText : _j,\n      _k = _h.value,\n      value = _k === void 0 ? \"\" : _k;\n\n  var isCircle = clipPrefix === \"circle\";\n  var splitter = \" \";\n\n  if (clipPrefix === \"polygon\") {\n    var values = splitComma(value || \"0% 0%, 100% 0%, 100% 100%, 0% 100%\");\n    splitter = \",\";\n    var poses = values.map(function (pos) {\n      var _a = pos.split(\" \"),\n          xPos = _a[0],\n          yPos = _a[1];\n\n      return {\n        vertical: 1,\n        horizontal: 1,\n        pos: [convertUnitSize(xPos, width), convertUnitSize(yPos, height)]\n      };\n    });\n    return {\n      type: clipPrefix,\n      clipText: clipText,\n      poses: poses,\n      splitter: splitter\n    };\n  } else if (isCircle || clipPrefix === \"ellipse\") {\n    var xPos = \"\";\n    var yPos = \"\";\n    var radiusX_1 = 0;\n    var radiusY_1 = 0;\n    var values = splitSpace(value);\n\n    if (isCircle) {\n      var radius = \"\";\n      _a = values[0], radius = _a === void 0 ? \"50%\" : _a, _b = values[2], xPos = _b === void 0 ? \"50%\" : _b, _c = values[3], yPos = _c === void 0 ? \"50%\" : _c;\n      radiusX_1 = convertUnitSize(radius, Math.sqrt((width * width + height * height) / 2));\n      radiusY_1 = radiusX_1;\n    } else {\n      var xRadius = \"\";\n      var yRadius = \"\";\n      _d = values[0], xRadius = _d === void 0 ? \"50%\" : _d, _e = values[1], yRadius = _e === void 0 ? \"50%\" : _e, _f = values[3], xPos = _f === void 0 ? \"50%\" : _f, _g = values[4], yPos = _g === void 0 ? \"50%\" : _g;\n      radiusX_1 = convertUnitSize(xRadius, width);\n      radiusY_1 = convertUnitSize(yRadius, height);\n    }\n\n    var centerPos_1 = [convertUnitSize(xPos, width), convertUnitSize(yPos, height)];\n\n    var poses = __spreadArrays([{\n      vertical: 1,\n      horizontal: 1,\n      pos: centerPos_1,\n      direction: \"nesw\"\n    }], CLIP_DIRECTIONS.slice(0, isCircle ? 1 : 2).map(function (dir) {\n      return {\n        vertical: Math.abs(dir[1]),\n        horizontal: dir[0],\n        direction: dir[2],\n        sub: true,\n        pos: [centerPos_1[0] + dir[0] * radiusX_1, centerPos_1[1] + dir[1] * radiusY_1]\n      };\n    }));\n\n    return {\n      type: clipPrefix,\n      clipText: clipText,\n      radiusX: radiusX_1,\n      radiusY: radiusY_1,\n      left: centerPos_1[0] - radiusX_1,\n      top: centerPos_1[1] - radiusY_1,\n      poses: poses,\n      splitter: splitter\n    };\n  } else if (clipPrefix === \"inset\") {\n    var values = splitSpace(value || \"0 0 0 0\");\n    var roundIndex = values.indexOf(\"round\");\n    var rectLength = (roundIndex > -1 ? values.slice(0, roundIndex) : values).length;\n    var radiusValues = values.slice(rectLength + 1);\n\n    var _l = values.slice(0, rectLength),\n        topValue = _l[0],\n        _m = _l[1],\n        rightValue = _m === void 0 ? topValue : _m,\n        _o = _l[2],\n        bottomValue = _o === void 0 ? topValue : _o,\n        _p = _l[3],\n        leftValue = _p === void 0 ? rightValue : _p;\n\n    var _q = [topValue, bottomValue].map(function (pos) {\n      return convertUnitSize(pos, height);\n    }),\n        top = _q[0],\n        bottom = _q[1];\n\n    var _r = [leftValue, rightValue].map(function (pos) {\n      return convertUnitSize(pos, width);\n    }),\n        left = _r[0],\n        right = _r[1];\n\n    var nextRight = width - right;\n    var nextBottom = height - bottom;\n    var radiusPoses = getRadiusValues(radiusValues, nextRight - left, nextBottom - top, left, top);\n\n    var poses = __spreadArrays(getRectPoses(top, nextRight, nextBottom, left), radiusPoses);\n\n    return {\n      type: \"inset\",\n      clipText: clipText,\n      poses: poses,\n      top: top,\n      left: left,\n      right: nextRight,\n      bottom: nextBottom,\n      radius: radiusValues,\n      splitter: splitter\n    };\n  } else if (clipPrefix === \"rect\") {\n    // top right bottom left\n    var values = splitComma(value || \"0px, \" + width + \"px, \" + height + \"px, 0px\");\n    splitter = \",\";\n\n    var _s = values.map(function (pos) {\n      var posValue = splitUnit(pos).value;\n      return posValue;\n    }),\n        top = _s[0],\n        right = _s[1],\n        bottom = _s[2],\n        left = _s[3];\n\n    var poses = getRectPoses(top, right, bottom, left);\n    return {\n      type: \"rect\",\n      clipText: clipText,\n      poses: poses,\n      top: top,\n      right: right,\n      bottom: bottom,\n      left: left,\n      values: values,\n      splitter: splitter\n    };\n  }\n\n  return;\n}\n\nfunction addClipPath(moveable, e) {\n  var _a = calculatePointerDist(moveable, e),\n      distX = _a[0],\n      distY = _a[1];\n\n  var _b = e.datas,\n      clipPath = _b.clipPath,\n      index = _b.index;\n  var _c = clipPath,\n      clipType = _c.type,\n      clipPoses = _c.poses,\n      splitter = _c.splitter;\n  var poses = clipPoses.map(function (pos) {\n    return pos.pos;\n  });\n\n  if (clipType === \"polygon\") {\n    poses.splice(index, 0, [distX, distY]);\n  } else if (clipType === \"inset\") {\n    var horizontalIndex = HORIZONTAL_RADIUS_ORDER.indexOf(index);\n    var verticalIndex = VERTICAL_RADIUS_ORDER.indexOf(index);\n    var length = clipPoses.length;\n    addRadiusPos(clipPoses, poses, 8, horizontalIndex, verticalIndex, distX, distY, poses[4][0], poses[4][1], poses[0][0], poses[0][1]);\n\n    if (length === clipPoses.length) {\n      return;\n    }\n  } else {\n    return;\n  }\n\n  var clipStyles = getClipStyles(moveable, clipPath, poses);\n  triggerEvent(moveable, \"onClip\", fillParams(moveable, e, {\n    clipEventType: \"added\",\n    clipType: clipType,\n    poses: poses,\n    clipStyles: clipStyles,\n    clipStyle: clipType + \"(\" + clipStyles.join(splitter) + \")\",\n    distX: 0,\n    distY: 0\n  }));\n}\n\nfunction removeClipPath(moveable, e) {\n  var _a = e.datas,\n      clipPath = _a.clipPath,\n      index = _a.index;\n  var _b = clipPath,\n      clipType = _b.type,\n      clipPoses = _b.poses,\n      splitter = _b.splitter;\n  var poses = clipPoses.map(function (pos) {\n    return pos.pos;\n  });\n  var length = poses.length;\n\n  if (clipType === \"polygon\") {\n    clipPoses.splice(index, 1);\n    poses.splice(index, 1);\n  } else if (clipType === \"inset\") {\n    if (index < 8) {\n      return;\n    }\n\n    removeRadiusPos(clipPoses, poses, index, 8, length);\n\n    if (length === clipPoses.length) {\n      return;\n    }\n  } else {\n    return;\n  }\n\n  var clipStyles = getClipStyles(moveable, clipPath, poses);\n  triggerEvent(moveable, \"onClip\", fillParams(moveable, e, {\n    clipEventType: \"removed\",\n    clipType: clipType,\n    poses: poses,\n    clipStyles: clipStyles,\n    clipStyle: clipType + \"(\" + clipStyles.join(splitter) + \")\",\n    distX: 0,\n    distY: 0\n  }));\n}\n/**\n * @namespace Moveable.Clippable\n * @description Whether to clip the target.\n */\n\n\nvar Clippable = {\n  name: \"clippable\",\n  props: {\n    clippable: Boolean,\n    defaultClipPath: String,\n    customClipPath: String,\n    clipRelative: Boolean,\n    clipArea: Boolean,\n    dragWithClip: Boolean,\n    clipTargetBounds: Boolean,\n    clipVerticalGuidelines: Array,\n    clipHorizontalGuidelines: Array,\n    clipSnapThreshold: Boolean\n  },\n  events: {\n    onClipStart: \"clipStart\",\n    onClip: \"clip\",\n    onClipEnd: \"clipEnd\"\n  },\n  css: [\".control.clip-control {\\n    background: #6d6;\\n    cursor: pointer;\\n}\\n.control.clip-control.clip-radius {\\n    background: #d66;\\n}\\n.line.clip-line {\\n    background: #6e6;\\n    cursor: move;\\n    z-index: 1;\\n}\\n.clip-area {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n.clip-ellipse {\\n    position: absolute;\\n    cursor: move;\\n    border: 1px solid #6d6;\\n    border: var(--zoompx) solid #6d6;\\n    border-radius: 50%;\\n    transform-origin: 0px 0px;\\n}\", \":host {\\n    --bounds-color: #d66;\\n}\", \".guideline {\\n    pointer-events: none;\\n    z-index: 2;\\n}\", \".line.guideline.bounds {\\n    background: #d66;\\n    background: var(--bounds-color);\\n}\"],\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        customClipPath = _a.customClipPath,\n        defaultClipPath = _a.defaultClipPath,\n        clipArea = _a.clipArea,\n        zoom = _a.zoom;\n    var _b = moveable.state,\n        target = _b.target,\n        width = _b.width,\n        height = _b.height,\n        allMatrix = _b.allMatrix,\n        is3d = _b.is3d,\n        left = _b.left,\n        top = _b.top,\n        pos1 = _b.pos1,\n        pos2 = _b.pos2,\n        pos3 = _b.pos3,\n        pos4 = _b.pos4,\n        clipPathState = _b.clipPathState,\n        snapBoundInfos = _b.snapBoundInfos;\n\n    if (!target) {\n      return [];\n    }\n\n    var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", clipPathState || customClipPath);\n\n    if (!clipPath) {\n      return [];\n    }\n\n    var n = is3d ? 4 : 3;\n    var type = clipPath.type;\n    var clipPoses = clipPath.poses;\n    var poses = clipPoses.map(function (pos) {\n      // return [x, y];\n      var calculatedPos = calculatePosition(allMatrix, pos.pos, n);\n      return [calculatedPos[0] - left, calculatedPos[1] - top];\n    });\n    var controls = [];\n    var lines = [];\n    var isRect = type === \"rect\";\n    var isInset = type === \"inset\";\n    var isPolygon = type === \"polygon\";\n\n    if (isRect || isInset || isPolygon) {\n      var linePoses_1 = isInset ? poses.slice(0, 8) : poses;\n      lines = linePoses_1.map(function (to, i) {\n        var from = i === 0 ? linePoses_1[linePoses_1.length - 1] : linePoses_1[i - 1];\n        var rad = getRad(from, to);\n        var dist = getDiagonalSize(from, to);\n        return React.createElement(\"div\", {\n          key: \"clipLine\" + i,\n          className: prefix(\"line\", \"clip-line\", \"snap-control\"),\n          \"data-clip-index\": i,\n          style: {\n            width: dist + \"px\",\n            transform: \"translate(\" + from[0] + \"px, \" + from[1] + \"px) rotate(\" + rad + \"rad) scaleY(\" + zoom + \")\"\n          }\n        });\n      });\n    }\n\n    controls = poses.map(function (pos, i) {\n      return React.createElement(\"div\", {\n        key: \"clipControl\" + i,\n        className: prefix(\"control\", \"clip-control\", \"snap-control\"),\n        \"data-clip-index\": i,\n        style: {\n          transform: \"translate(\" + pos[0] + \"px, \" + pos[1] + \"px) scale(\" + zoom + \")\"\n        }\n      });\n    });\n\n    if (isInset) {\n      controls.push.apply(controls, poses.slice(8).map(function (pos, i) {\n        return React.createElement(\"div\", {\n          key: \"clipRadiusControl\" + i,\n          className: prefix(\"control\", \"clip-control\", \"clip-radius\", \"snap-control\"),\n          \"data-clip-index\": 8 + i,\n          style: {\n            transform: \"translate(\" + pos[0] + \"px, \" + pos[1] + \"px) scale(\" + zoom + \")\"\n          }\n        });\n      }));\n    }\n\n    if (type === \"circle\" || type === \"ellipse\") {\n      var clipLeft = clipPath.left,\n          clipTop = clipPath.top,\n          radiusX = clipPath.radiusX,\n          radiusY = clipPath.radiusY;\n\n      var _c = minus(calculatePosition(allMatrix, [clipLeft, clipTop], n), calculatePosition(allMatrix, [0, 0], n)),\n          distLeft = _c[0],\n          distTop = _c[1];\n\n      var ellipseClipPath = \"none\";\n\n      if (!clipArea) {\n        var piece = Math.max(10, radiusX / 5, radiusY / 5);\n        var areaPoses = [];\n\n        for (var i = 0; i <= piece; ++i) {\n          var rad = Math.PI * 2 / piece * i;\n          areaPoses.push([radiusX + (radiusX - zoom) * Math.cos(rad), radiusY + (radiusY - zoom) * Math.sin(rad)]);\n        }\n\n        areaPoses.push([radiusX, -2]);\n        areaPoses.push([-2, -2]);\n        areaPoses.push([-2, radiusY * 2 + 2]);\n        areaPoses.push([radiusX * 2 + 2, radiusY * 2 + 2]);\n        areaPoses.push([radiusX * 2 + 2, -2]);\n        areaPoses.push([radiusX, -2]);\n        ellipseClipPath = \"polygon(\" + areaPoses.map(function (pos) {\n          return pos[0] + \"px \" + pos[1] + \"px\";\n        }).join(\", \") + \")\";\n      }\n\n      controls.push(React.createElement(\"div\", {\n        key: \"clipEllipse\",\n        className: prefix(\"clip-ellipse\", \"snap-control\"),\n        style: {\n          width: radiusX * 2 + \"px\",\n          height: radiusY * 2 + \"px\",\n          clipPath: ellipseClipPath,\n          transform: \"translate(\" + (-left + distLeft) + \"px, \" + (-top + distTop) + \"px) \" + makeMatrixCSS(allMatrix)\n        }\n      }));\n    }\n\n    if (clipArea) {\n      var _d = getRect(__spreadArrays([pos1, pos2, pos3, pos4], poses)),\n          allWidth = _d.width,\n          allHeight = _d.height,\n          allLeft_1 = _d.left,\n          allTop_1 = _d.top;\n\n      if (isPolygon || isRect || isInset) {\n        var areaPoses = isInset ? poses.slice(0, 8) : poses;\n        controls.push(React.createElement(\"div\", {\n          key: \"clipArea\",\n          className: prefix(\"clip-area\", \"snap-control\"),\n          style: {\n            width: allWidth + \"px\",\n            height: allHeight + \"px\",\n            transform: \"translate(\" + allLeft_1 + \"px, \" + allTop_1 + \"px)\",\n            clipPath: \"polygon(\" + areaPoses.map(function (pos) {\n              return pos[0] - allLeft_1 + \"px \" + (pos[1] - allTop_1) + \"px\";\n            }).join(\", \") + \")\"\n          }\n        }));\n      }\n    }\n\n    if (snapBoundInfos) {\n      [\"vertical\", \"horizontal\"].forEach(function (directionType) {\n        var info = snapBoundInfos[directionType];\n        var isHorizontal = directionType === \"horizontal\";\n\n        if (info.isSnap) {\n          lines.push.apply(lines, info.snap.posInfos.map(function (_a, i) {\n            var pos = _a.pos;\n            var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\n            var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\n            return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\" + directionType + \"snap\" + i, \"guideline\");\n          }));\n        }\n\n        if (info.isBound) {\n          lines.push.apply(lines, info.bounds.map(function (_a, i) {\n            var pos = _a.pos;\n            var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\n            var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\n            return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\" + directionType + \"bounds\" + i, \"guideline\", \"bounds\", \"bold\");\n          }));\n        }\n      });\n    }\n\n    return __spreadArrays(controls, lines);\n  },\n  dragControlCondition: function (e) {\n    return e.inputEvent && (e.inputEvent.target.getAttribute(\"class\") || \"\").indexOf(\"clip\") > -1;\n  },\n  dragStart: function (moveable, e) {\n    var props = moveable.props;\n    var _a = props.dragWithClip,\n        dragWithClip = _a === void 0 ? true : _a;\n\n    if (dragWithClip) {\n      return false;\n    }\n\n    return this.dragControlStart(moveable, e);\n  },\n  drag: function (moveable, e) {\n    return this.dragControl(moveable, e);\n  },\n  dragEnd: function (moveable, e) {\n    return this.dragControlEnd(moveable, e);\n  },\n  dragControlStart: function (moveable, e) {\n    var state = moveable.state;\n    var _a = moveable.props,\n        defaultClipPath = _a.defaultClipPath,\n        customClipPath = _a.customClipPath;\n    var target = state.target,\n        width = state.width,\n        height = state.height;\n    var inputTarget = e.inputEvent ? e.inputEvent.target : null;\n    var className = inputTarget ? inputTarget.getAttribute(\"class\") : \"\";\n    var datas = e.datas;\n    var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", customClipPath);\n\n    if (!clipPath) {\n      return false;\n    }\n\n    var clipText = clipPath.clipText,\n        type = clipPath.type,\n        poses = clipPath.poses;\n    var result = triggerEvent(moveable, \"onClipStart\", fillParams(moveable, e, {\n      clipType: type,\n      clipStyle: clipText,\n      poses: poses.map(function (pos) {\n        return pos.pos;\n      })\n    }));\n\n    if (result === false) {\n      datas.isClipStart = false;\n      return false;\n    }\n\n    datas.isControl = className.indexOf(\"clip-control\") > -1;\n    datas.isLine = className.indexOf(\"clip-line\") > -1;\n    datas.isArea = className.indexOf(\"clip-area\") > -1 || className.indexOf(\"clip-ellipse\") > -1;\n    datas.index = inputTarget ? parseInt(inputTarget.getAttribute(\"data-clip-index\"), 10) : -1;\n    datas.clipPath = clipPath;\n    datas.isClipStart = true;\n    state.clipPathState = clipText;\n    setDragStart(moveable, e);\n    return true;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas,\n        originalDatas = e.originalDatas;\n\n    if (!datas.isClipStart) {\n      return false;\n    }\n\n    var draggableData = originalDatas && originalDatas.draggable || {};\n    var _a = datas,\n        isControl = _a.isControl,\n        isLine = _a.isLine,\n        isArea = _a.isArea,\n        index = _a.index,\n        clipPath = _a.clipPath;\n\n    if (!clipPath) {\n      return false;\n    }\n\n    var _b = draggableData.isDrag ? draggableData.prevDist : getDragDist(e),\n        distX = _b[0],\n        distY = _b[1];\n\n    var props = moveable.props;\n    var state = moveable.state;\n    var width = state.width,\n        height = state.height;\n    var isDragWithTarget = !isArea && !isControl && !isLine;\n    var clipType = clipPath.type,\n        clipPoses = clipPath.poses,\n        splitter = clipPath.splitter;\n    var poses = clipPoses.map(function (pos) {\n      return pos.pos;\n    });\n\n    if (isDragWithTarget) {\n      distX = -distX;\n      distY = -distY;\n    }\n\n    var isAll = !isControl || clipPoses[index].direction === \"nesw\";\n    var isRect = clipType === \"inset\" || clipType === \"rect\";\n    var dists = clipPoses.map(function () {\n      return [0, 0];\n    });\n\n    if (isControl && !isAll) {\n      var _c = clipPoses[index],\n          horizontal = _c.horizontal,\n          vertical = _c.vertical;\n      var dist = [distX * Math.abs(horizontal), distY * Math.abs(vertical)];\n      dists = moveControlPos(clipPoses, index, dist, isRect);\n    } else if (isAll) {\n      dists = poses.map(function () {\n        return [distX, distY];\n      });\n    }\n\n    var nextPoses = poses.map(function (pos, i) {\n      return plus(pos, dists[i]);\n    });\n\n    var guidePoses = __spreadArrays(nextPoses);\n\n    state.snapBoundInfos = null;\n    var isCircle = clipPath.type === \"circle\";\n    var isEllipse = clipPath.type === \"ellipse\";\n\n    if (isCircle || isEllipse) {\n      var guideRect = getRect(nextPoses);\n      var ry = Math.abs(guideRect.bottom - guideRect.top);\n      var rx = Math.abs(isEllipse ? guideRect.right - guideRect.left : ry);\n      var bottom = nextPoses[0][1] + ry;\n      var left = nextPoses[0][0] - rx;\n      var right = nextPoses[0][0] + rx; // right\n\n      if (isCircle) {\n        guidePoses.push([right, guideRect.bottom]);\n        dists.push([1, 0]);\n      } // bottom\n\n\n      guidePoses.push([guideRect.left, bottom]);\n      dists.push([0, 1]); // left\n\n      guidePoses.push([left, guideRect.bottom]);\n      dists.push([1, 0]);\n    }\n\n    var guidelines = addGuidelines([], width, height, (props.clipHorizontalGuidelines || []).map(function (v) {\n      return convertUnitSize(\"\" + v, height);\n    }), (props.clipVerticalGuidelines || []).map(function (v) {\n      return convertUnitSize(\"\" + v, width);\n    }));\n    var guideXPoses = [];\n    var guideYPoses = [];\n\n    if (isCircle || isEllipse) {\n      guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\n      guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\n    } else if (isRect) {\n      var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\n      var rectDists_1 = [dists[0], dists[2], dists[4], dists[6]];\n      guideXPoses = rectPoses.filter(function (_, i) {\n        return rectDists_1[i][0];\n      }).map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = rectPoses.filter(function (_, i) {\n        return rectDists_1[i][1];\n      }).map(function (pos) {\n        return pos[1];\n      });\n    } else {\n      guideXPoses = guidePoses.filter(function (_, i) {\n        return dists[i][0];\n      }).map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = guidePoses.filter(function (_, i) {\n        return dists[i][1];\n      }).map(function (pos) {\n        return pos[1];\n      });\n    }\n\n    var _loop_1 = function (i) {\n      var _a = checkSnapBounds(guidelines, props.clipTargetBounds && {\n        left: 0,\n        top: 0,\n        right: width,\n        bottom: height\n      }, guideXPoses, guideYPoses, {\n        snapThreshold: 5\n      }),\n          horizontalSnapInfo = _a.horizontal,\n          verticalSnapInfo = _a.vertical;\n\n      var snapOffsetY = horizontalSnapInfo.offset;\n      var snapOffsetX = verticalSnapInfo.offset;\n\n      if ((isEllipse || isCircle) && dists[0][0] === 0 && dists[0][1] === 0) {\n        var guideRect = getRect(nextPoses);\n        var cy = guideRect.bottom - guideRect.top;\n        var cx = isEllipse ? guideRect.right - guideRect.left : cy;\n        var distSnapX = verticalSnapInfo.isBound ? Math.abs(snapOffsetX) : verticalSnapInfo.snapIndex === 0 ? -snapOffsetX : snapOffsetX;\n        var distSnapY = horizontalSnapInfo.isBound ? Math.abs(snapOffsetY) : horizontalSnapInfo.snapIndex === 0 ? -snapOffsetY : snapOffsetY;\n        cx -= distSnapX;\n        cy -= distSnapY;\n\n        if (isCircle) {\n          cy = checkSnapBoundPriority(verticalSnapInfo, horizontalSnapInfo) > 0 ? cy : cx;\n          cx = cy;\n        }\n\n        var center = guidePoses[0];\n        guidePoses[1][1] = center[1] - cy;\n        guidePoses[2][0] = center[0] + cx;\n        guidePoses[3][1] = center[1] + cy;\n        guidePoses[4][0] = center[0] - cx;\n      } else {\n        guidePoses.forEach(function (pos, j) {\n          var dist = dists[j];\n\n          if (dist[0]) {\n            pos[0] -= snapOffsetX;\n          }\n\n          if (dist[1]) {\n            pos[1] -= snapOffsetY;\n          }\n        });\n        return \"break\";\n      }\n    };\n\n    for (var i = 0; i < 2; ++i) {\n      var state_1 = _loop_1();\n\n      if (state_1 === \"break\") break;\n    }\n\n    var nextClipStyles = getClipStyles(moveable, clipPath, nextPoses);\n    var clipStyle = clipType + \"(\" + nextClipStyles.join(splitter) + \")\";\n    state.clipPathState = clipStyle;\n\n    if (isCircle || isEllipse) {\n      guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\n      guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\n    } else if (isRect) {\n      var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\n      guideXPoses = rectPoses.map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = rectPoses.map(function (pos) {\n        return pos[1];\n      });\n    } else {\n      guideXPoses = guidePoses.map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = guidePoses.map(function (pos) {\n        return pos[1];\n      });\n    }\n\n    state.snapBoundInfos = checkSnapBounds(guidelines, props.clipTargetBounds && {\n      left: 0,\n      top: 0,\n      right: width,\n      bottom: height\n    }, guideXPoses, guideYPoses, {\n      snapThreshold: 1\n    });\n    triggerEvent(moveable, \"onClip\", fillParams(moveable, e, {\n      clipEventType: \"changed\",\n      clipType: clipType,\n      poses: nextPoses,\n      clipStyle: clipStyle,\n      clipStyles: nextClipStyles,\n      distX: distX,\n      distY: distY\n    }));\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    this.unset(moveable);\n    var isDrag = e.isDrag,\n        datas = e.datas,\n        isDouble = e.isDouble;\n    var isLine = datas.isLine,\n        isClipStart = datas.isClipStart,\n        isControl = datas.isControl;\n\n    if (!isClipStart) {\n      return false;\n    }\n\n    triggerEvent(moveable, \"onClipEnd\", fillEndParams(moveable, e, {}));\n\n    if (isDouble) {\n      if (isControl) {\n        removeClipPath(moveable, e);\n      } else if (isLine) {\n        // add\n        addClipPath(moveable, e);\n      }\n    }\n\n    return isDouble || isDrag;\n  },\n  unset: function (moveable) {\n    moveable.state.clipPathState = \"\";\n    moveable.state.snapBoundInfos = null;\n  }\n};\n/**\n * Whether to clip the target. (default: false)\n * @name Moveable.Clippable#clippable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n *  If clippath is not set, the default value can be set. (defaultClipPath < style < customClipPath < dragging clipPath)\n * @name Moveable.Clippable#defaultClipPath\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * % Can be used instead of the absolute px (`rect` not possible) (default: false)\n * @name Moveable.Clippable#clipRelative\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * You can force the custom clipPath. (defaultClipPath < style < customClipPath < dragging clipPath)\n * @name Moveable.Clippable#customClipPath\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When dragging the target, the clip also moves. (default: true)\n * @name Moveable.Clippable#dragWithClip\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * You can drag the clip by setting clipArea. (default: false)\n * @name Moveable.Clippable#clipArea\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n* Whether the clip is bound to the target. (default: false)\n* @name Moveable.Clippable#clipTargetBounds\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipTargetBounds: true,\n* });\n* moveable.on(\"clipStart\", e => {\n*     console.log(e);\n* }).on(\"clip\", e => {\n*     if (e.clipType === \"rect\") {\n*         e.target.style.clip = e.clipStyle;\n*     } else {\n*         e.target.style.clipPath = e.clipStyle;\n*     }\n* }).on(\"clipEnd\", e => {\n*     console.log(e);\n* });\n*/\n\n/**\n* Add clip guidelines in the vertical direction. (default: [])\n* @name Moveable.Clippable#clipVerticalGuidelines\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipVerticalGuidelines: [0, 100, 200],\n*     clipHorizontalGuidelines: [0, 100, 200],\n*     clipSnapThreshold: 5,\n* });\n*/\n\n/**\n* Add clip guidelines in the horizontal direction. (default: [])\n* @name Moveable.Clippable#clipHorizontalGuidelines\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipVerticalGuidelines: [0, 100, 200],\n*     clipHorizontalGuidelines: [0, 100, 200],\n*     clipSnapThreshold: 5,\n* });\n*/\n\n/**\n* istance value that can snap to clip guidelines. (default: 5)\n* @name Moveable.Clippable#clipSnapThreshold\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipVerticalGuidelines: [0, 100, 200],\n*     clipHorizontalGuidelines: [0, 100, 200],\n*     clipSnapThreshold: 5,\n* });\n*/\n\n/**\n * When drag start the clip area or controls, the `clipStart` event is called.\n * @memberof Moveable.Clippable\n * @event clipStart\n * @param {Moveable.Clippable.OnClipStart} - Parameters for the `clipStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag the clip area or controls, the `clip` event is called.\n * @memberof Moveable.Clippable\n * @event clip\n * @param {Moveable.Clippable.OnClip} - Parameters for the `clip` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag end the clip area or controls, the `clipEnd` event is called.\n * @memberof Moveable.Clippable\n * @event clipEnd\n * @param {Moveable.Clippable.OnClipEnd} - Parameters for the `clipEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * @namespace OriginDraggable\n * @memberof Moveable\n * @description Whether to drag origin (default: false)\n */\n\nvar OriginDraggable = {\n  name: \"originDraggable\",\n  props: {\n    originDraggable: Boolean,\n    originRelative: Boolean\n  },\n  events: {\n    onDragOriginStart: \"dragOriginStart\",\n    onDragOrigin: \"dragOrigin\",\n    onDragOriginEnd: \"dragOriginEnd\"\n  },\n  css: [\":host[data-able-origindraggable] .control.origin {\\n    pointer-events: auto;\\n}\"],\n  dragControlCondition: function (e) {\n    if (e.isRequest) {\n      return e.requestAble === \"originDraggable\";\n    }\n\n    return hasClass(e.inputEvent.target, prefix(\"origin\"));\n  },\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas;\n    setDragStart(moveable, e);\n    var params = fillParams(moveable, e, {\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    });\n    var result = triggerEvent(moveable, \"onDragOriginStart\", params);\n    datas.startOrigin = moveable.state.transformOrigin;\n    datas.startTargetOrigin = moveable.state.targetOrigin;\n    datas.prevOrigin = [0, 0];\n    datas.isDragOrigin = true;\n\n    if (result === false) {\n      datas.isDragOrigin = false;\n      return false;\n    }\n\n    return params;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas,\n        isPinch = e.isPinch,\n        isRequest = e.isRequest;\n\n    if (!datas.isDragOrigin) {\n      return false;\n    }\n\n    var _a = getDragDist(e),\n        distX = _a[0],\n        distY = _a[1];\n\n    var state = moveable.state;\n    var width = state.width,\n        height = state.height,\n        offsetMatrix = state.offsetMatrix,\n        targetMatrix = state.targetMatrix,\n        is3d = state.is3d;\n    var _b = moveable.props.originRelative,\n        originRelative = _b === void 0 ? true : _b;\n    var n = is3d ? 4 : 3;\n    var dist = [distX, distY];\n\n    if (isRequest) {\n      var distOrigin = e.distOrigin;\n\n      if (distOrigin[0] || distOrigin[1]) {\n        dist = distOrigin;\n      }\n    }\n\n    var origin = plus(datas.startOrigin, dist);\n    var targetOrigin = plus(datas.startTargetOrigin, dist);\n    var delta = minus(dist, datas.prevOrigin);\n    var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, origin, n);\n    var rect = moveable.getRect();\n    var nextRect = getRect(calculatePoses(nextMatrix, width, height, n));\n    var dragDelta = [rect.left - nextRect.left, rect.top - nextRect.top];\n    datas.prevOrigin = dist;\n    var transformOrigin = [convertCSSSize(targetOrigin[0], width, originRelative), convertCSSSize(targetOrigin[1], height, originRelative)].join(\" \");\n    var params = fillParams(moveable, e, {\n      width: width,\n      height: height,\n      origin: origin,\n      dist: dist,\n      delta: delta,\n      transformOrigin: transformOrigin,\n      drag: Draggable.drag(moveable, setCustomDrag(e, moveable.state, dragDelta, !!isPinch, false))\n    });\n    triggerEvent(moveable, \"onDragOrigin\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isDragOrigin) {\n      return false;\n    }\n\n    triggerEvent(moveable, \"onDragOriginEnd\", fillEndParams(moveable, e, {}));\n    return true;\n  },\n  dragGroupControlCondition: function (e) {\n    return this.dragControlCondition(e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    return true;\n  },\n  dragGroupControl: function (moveable, e) {\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    moveable.transformOrigin = params.transformOrigin;\n    return true;\n  },\n\n  /**\n  * @method Moveable.OriginDraggable#request\n  * @param {object} e - the OriginDraggable's request parameter\n  * @param {number} [e.x] - x position\n  * @param {number} [e.y] - y position\n  * @param {number} [e.deltaX] - x number to move\n  * @param {number} [e.deltaY] - y number to move\n  * @param {array} [e.deltaOrigin] - left, top number to move transform-origin\n  * @param {array} [e.origin] - transform-origin position\n  * @param {number} [e.isInstant] - Whether to execute the request instantly\n  * @return {Moveable.Requester} Moveable Requester\n  * @example\n   * // Instantly Request (requestStart - request - requestEnd)\n  * // Use Relative Value\n  * moveable.request(\"originDraggable\", { deltaX: 10, deltaY: 10 }, true);\n  * // Use Absolute Value\n  * moveable.request(\"originDraggable\", { x: 200, y: 100 }, true);\n  * // Use Transform Value\n  * moveable.request(\"originDraggable\", { deltaOrigin: [10, 0] }, true);\n  * moveable.request(\"originDraggable\", { origin: [100, 0] }, true);\n  * // requestStart\n  * const requester = moveable.request(\"originDraggable\");\n  *\n  * // request\n  * // Use Relative Value\n  * requester.request({ deltaX: 10, deltaY: 10 });\n  * requester.request({ deltaX: 10, deltaY: 10 });\n  * requester.request({ deltaX: 10, deltaY: 10 });\n  * // Use Absolute Value\n  * moveable.request(\"originDraggable\", { x: 200, y: 100 });\n  * moveable.request(\"originDraggable\", { x: 220, y: 100 });\n  * moveable.request(\"originDraggable\", { x: 240, y: 100 });\n  *\n  * // requestEnd\n  * requester.requestEnd();\n  */\n  request: function (moveable) {\n    var datas = {};\n    var rect = moveable.getRect();\n    var distX = 0;\n    var distY = 0;\n    var transformOrigin = rect.transformOrigin;\n    var distOrigin = [0, 0];\n    return {\n      isControl: true,\n      requestStart: function () {\n        return {\n          datas: datas\n        };\n      },\n      request: function (e) {\n        if (\"deltaOrigin\" in e) {\n          distOrigin[0] += e.deltaOrigin[0];\n          distOrigin[1] += e.deltaOrigin[1];\n        } else if (\"origin\" in e) {\n          distOrigin[0] = e.origin[0] - transformOrigin[0];\n          distOrigin[1] = e.origin[1] - transformOrigin[1];\n        } else {\n          if (\"x\" in e) {\n            distX = e.x - rect.left;\n          } else if (\"deltaX\" in e) {\n            distX += e.deltaX;\n          }\n\n          if (\"y\" in e) {\n            distY = e.y - rect.top;\n          } else if (\"deltaY\" in e) {\n            distY += e.deltaY;\n          }\n        }\n\n        return {\n          datas: datas,\n          distX: distX,\n          distY: distY,\n          distOrigin: distOrigin\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether to drag origin (default: false)\n * @name Moveable.OriginDraggable#originDraggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     originDraggable: true,\n * });\n * let translate = [0, 0];\n * moveable.on(\"dragOriginStart\", e => {\n *     e.dragStart && e.dragStart.set(translate);\n * }).on(\"dragOrigin\", e => {\n *     translate = e.drag.beforeTranslate;\n *     e.target.style.cssText\n *         = `transform-origin: ${e.transformOrigin};`\n *         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n * }).on(\"dragOriginEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * % Can be used instead of the absolute px (default: true)\n * @name Moveable.OriginDraggable#originRelative\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     originDraggable: true,\n *     originRelative: false,\n * });\n * moveable.originRelative = true;\n */\n\n/**\n* When drag start the origin, the `dragOriginStart` event is called.\n* @memberof Moveable.OriginDraggable\n* @event dragOriginStart\n* @param {Moveable.OriginDraggable.OnDragOriginStart} - Parameters for the `dragOriginStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     originDraggable: true,\n* });\n* let translate = [0, 0];\n* moveable.on(\"dragOriginStart\", e => {\n*     e.dragStart && e.dragStart.set(translate);\n* }).on(\"dragOrigin\", e => {\n*     translate = e.drag.beforeTranslate;\n*     e.target.style.cssText\n*         = `transform-origin: ${e.transformOrigin};`\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n* }).on(\"dragOriginEnd\", e => {\n*     console.log(e);\n* });\n*/\n\n/**\n* When drag the origin, the `dragOrigin` event is called.\n* @memberof Moveable.OriginDraggable\n* @event dragOrigin\n* @param {Moveable.OriginDraggable.OnDragOrigin} - Parameters for the `dragOrigin` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     originDraggable: true,\n* });\n* let translate = [0, 0];\n* moveable.on(\"dragOriginStart\", e => {\n*     e.dragStart && e.dragStart.set(translate);\n* }).on(\"dragOrigin\", e => {\n*     translate = e.drag.beforeTranslate;\n*     e.target.style.cssText\n*         = `transform-origin: ${e.transformOrigin};`\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n* }).on(\"dragOriginEnd\", e => {\n*     console.log(e);\n* });\n*/\n\n/**\n* When drag end the origin, the `dragOriginEnd` event is called.\n* @memberof Moveable.OriginDraggable\n* @event dragOriginEnd\n* @param {Moveable.OriginDraggable.OnDragOriginEnd} - Parameters for the `dragOriginEnd` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     originDraggable: true,\n* });\n* let translate = [0, 0];\n* moveable.on(\"dragOriginStart\", e => {\n*     e.dragStart && e.dragStart.set(translate);\n* }).on(\"dragOrigin\", e => {\n*     translate = e.drag.beforeTranslate;\n*     e.target.style.cssText\n*         = `transform-origin: ${e.transformOrigin};`\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n* }).on(\"dragOriginEnd\", e => {\n*     console.log(e);\n* });\n*/\n\nfunction addBorderRadius(controlPoses, poses, lineIndex, distX, distY, width, height) {\n  var _a = splitRadiusPoses(controlPoses),\n      horizontals = _a.horizontals,\n      verticals = _a.verticals;\n\n  var horizontalsLength = horizontals.length;\n  var verticalsLength = verticals.length; // lineIndex\n  // 0 top\n  // 1 right\n  // 2 left\n  // 3 bottom\n  // 0 top - left\n  // 1 top - right\n  // 2 bottom - right\n  // 3 bottom - left\n  // 0 left - top\n  // 1 right - top\n  // 2 right - bottom\n  // 3 left - bottom\n\n  var horizontalIndex = -1;\n  var verticalIndex = -1;\n\n  if (lineIndex === 0) {\n    if (horizontalsLength === 0) {\n      horizontalIndex = 0;\n    } else if (horizontalsLength === 1) {\n      horizontalIndex = 1;\n    }\n  } else if (lineIndex === 3) {\n    if (horizontalsLength <= 2) {\n      horizontalIndex = 2;\n    } else if (horizontalsLength <= 3) {\n      horizontalIndex = 3;\n    }\n  }\n\n  if (lineIndex === 2) {\n    if (verticalsLength === 0) {\n      verticalIndex = 0;\n    } else if (verticalsLength < 4) {\n      verticalIndex = 3;\n    }\n  } else if (lineIndex === 1) {\n    if (verticalsLength <= 1) {\n      verticalIndex = 1;\n    } else if (verticalsLength <= 2) {\n      verticalIndex = 2;\n    }\n  }\n\n  addRadiusPos(controlPoses, poses, 0, horizontalIndex, verticalIndex, distX, distY, width, height);\n}\n\nfunction getBorderRadius(target, width, height, minCounts, state) {\n  if (minCounts === void 0) {\n    minCounts = [0, 0];\n  }\n\n  var borderRadius;\n  var values = [];\n\n  if (!state) {\n    var style = window.getComputedStyle(target);\n    borderRadius = style && style.borderRadius || \"\";\n  } else {\n    borderRadius = state;\n  }\n\n  if (!borderRadius || !state && borderRadius === \"0px\") {\n    values = [];\n  } else {\n    values = splitSpace(borderRadius);\n  }\n\n  return getRadiusValues(values, width, height, 0, 0, minCounts);\n}\n\nfunction triggerRoundEvent(moveable, e, dist, delta, controlPoses, nextPoses) {\n  var state = moveable.state;\n  var width = state.width,\n      height = state.height;\n\n  var _a = getRadiusStyles(nextPoses, controlPoses, moveable.props.roundRelative, width, height),\n      raws = _a.raws,\n      styles = _a.styles;\n\n  var _b = splitRadiusPoses(controlPoses, raws),\n      horizontals = _b.horizontals,\n      verticals = _b.verticals;\n\n  var borderRadius = styles.join(\" \");\n  state.borderRadiusState = borderRadius;\n  triggerEvent(moveable, \"onRound\", fillParams(moveable, e, {\n    horizontals: horizontals,\n    verticals: verticals,\n    borderRadius: borderRadius,\n    width: width,\n    height: height,\n    delta: delta,\n    dist: dist\n  }));\n}\n/**\n * @namespace Moveable.Roundable\n * @description Whether to show and drag or double click border-radius\n */\n\n\nvar Roundable = {\n  name: \"roundable\",\n  props: {\n    roundable: Boolean,\n    roundRelative: Boolean,\n    minRoundControls: Array,\n    maxRoundControls: Array,\n    roundClickable: Boolean\n  },\n  events: {\n    onRoundStart: \"roundStart\",\n    onRound: \"round\",\n    onRoundEnd: \"roundEnd\"\n  },\n  css: [\".control.border-radius {\\n    background: #d66;\\n    cursor: pointer;\\n}\", \":host[data-able-roundable] .line.direction {\\n    cursor: pointer;\\n}\"],\n  render: function (moveable, React) {\n    var _a = moveable.state,\n        target = _a.target,\n        width = _a.width,\n        height = _a.height,\n        allMatrix = _a.allMatrix,\n        is3d = _a.is3d,\n        left = _a.left,\n        top = _a.top,\n        borderRadiusState = _a.borderRadiusState;\n    var _b = moveable.props,\n        _c = _b.minRoundControls,\n        minRoundControls = _c === void 0 ? [0, 0] : _c,\n        _d = _b.maxRoundControls,\n        maxRoundControls = _d === void 0 ? [4, 4] : _d,\n        zoom = _b.zoom;\n\n    if (!target) {\n      return null;\n    }\n\n    var n = is3d ? 4 : 3;\n    var radiusValues = getBorderRadius(target, width, height, minRoundControls, borderRadiusState);\n\n    if (!radiusValues) {\n      return null;\n    }\n\n    var verticalCount = 0;\n    var horizontalCount = 0;\n    return radiusValues.map(function (v, i) {\n      horizontalCount += Math.abs(v.horizontal);\n      verticalCount += Math.abs(v.vertical);\n      var pos = minus(calculatePosition(allMatrix, v.pos, n), [left, top]);\n      var isDisplay = v.vertical ? verticalCount <= maxRoundControls[1] : horizontalCount <= maxRoundControls[0];\n      return React.createElement(\"div\", {\n        key: \"borderRadiusControl\" + i,\n        className: prefix(\"control\", \"border-radius\"),\n        \"data-radius-index\": i,\n        style: {\n          display: isDisplay ? \"block\" : \"none\",\n          transform: \"translate(\" + pos[0] + \"px, \" + pos[1] + \"px) scale(\" + zoom + \")\"\n        }\n      });\n    });\n  },\n  dragControlCondition: function (e) {\n    if (!e.inputEvent || e.isRequest) {\n      return false;\n    }\n\n    var className = e.inputEvent.target.getAttribute(\"class\") || \"\";\n    return className.indexOf(\"border-radius\") > -1 || className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1;\n  },\n  dragControlStart: function (moveable, e) {\n    var inputEvent = e.inputEvent,\n        datas = e.datas;\n    var inputTarget = inputEvent.target;\n    var className = inputTarget.getAttribute(\"class\") || \"\";\n    var isControl = className.indexOf(\"border-radius\") > -1;\n    var isLine = className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1;\n    var controlIndex = isControl ? parseInt(inputTarget.getAttribute(\"data-radius-index\"), 10) : -1;\n    var lineIndex = isLine ? parseInt(inputTarget.getAttribute(\"data-line-index\"), 10) : -1;\n\n    if (!isControl && !isLine) {\n      return false;\n    }\n\n    var result = triggerEvent(moveable, \"onRoundStart\", fillParams(moveable, e, {}));\n\n    if (result === false) {\n      return false;\n    }\n\n    datas.lineIndex = lineIndex;\n    datas.controlIndex = controlIndex;\n    datas.isControl = isControl;\n    datas.isLine = isLine;\n    setDragStart(moveable, e);\n    var _a = moveable.props,\n        roundRelative = _a.roundRelative,\n        _b = _a.minRoundControls,\n        minRoundControls = _b === void 0 ? [0, 0] : _b;\n    var state = moveable.state;\n    var target = state.target,\n        width = state.width,\n        height = state.height;\n    datas.isRound = true;\n    datas.prevDist = [0, 0];\n    var controlPoses = getBorderRadius(target, width, height, minRoundControls) || [];\n    datas.controlPoses = controlPoses;\n    state.borderRadiusState = getRadiusStyles(controlPoses.map(function (pos) {\n      return pos.pos;\n    }), controlPoses, roundRelative, width, height).styles.join(\" \");\n    return true;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isRound || !datas.isControl || !datas.controlPoses.length) {\n      return false;\n    }\n\n    var index = datas.controlIndex;\n    var controlPoses = datas.controlPoses;\n\n    var _a = getDragDist(e),\n        distX = _a[0],\n        distY = _a[1];\n\n    var dist = [distX, distY];\n    var delta = minus(dist, datas.prevDist);\n    var _b = moveable.props.maxRoundControls,\n        maxRoundControls = _b === void 0 ? [4, 4] : _b;\n    var _c = moveable.state,\n        width = _c.width,\n        height = _c.height;\n    var selectedControlPose = controlPoses[index];\n    var selectedVertical = selectedControlPose.vertical;\n    var selectedHorizontal = selectedControlPose.horizontal; // 0: [0, 1, 2, 3] maxCount === 1\n    // 0: [0, 2] maxCount === 2\n    // 1: [1, 3] maxCount === 2\n    // 0: [0] maxCount === 3\n    // 1: [1, 3] maxCount === 3\n\n    var dists = controlPoses.map(function (pose, i) {\n      var horizontal = pose.horizontal,\n          vertical = pose.vertical;\n      var poseDist = [horizontal * selectedHorizontal * dist[0], vertical * selectedVertical * dist[1]];\n\n      if (horizontal) {\n        if (maxRoundControls[0] === 1) {\n          return poseDist;\n        } else if (maxRoundControls[0] < 4 && horizontal !== selectedHorizontal) {\n          return poseDist;\n        }\n      } else if (maxRoundControls[1] === 0) {\n        poseDist[1] = vertical * selectedHorizontal * dist[0] / width * height;\n        return poseDist;\n      } else if (selectedVertical) {\n        if (maxRoundControls[1] === 1) {\n          return poseDist;\n        } else if (maxRoundControls[1] < 4 && vertical !== selectedVertical) {\n          return poseDist;\n        }\n      }\n\n      return [0, 0];\n    });\n    dists[index] = dist;\n    var nextPoses = controlPoses.map(function (pos, i) {\n      return plus(pos.pos, dists[i]);\n    });\n    datas.prevDist = [distX, distY];\n    triggerRoundEvent(moveable, e, dist, delta, controlPoses, nextPoses);\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    var state = moveable.state;\n    state.borderRadiusState = \"\";\n    var datas = e.datas,\n        isDouble = e.isDouble;\n\n    if (!datas.isRound) {\n      return false;\n    }\n\n    var width = state.width,\n        height = state.height;\n    var isControl = datas.isControl,\n        controlIndex = datas.controlIndex,\n        isLine = datas.isLine,\n        lineIndex = datas.lineIndex;\n    var controlPoses = datas.controlPoses;\n    var poses = controlPoses.map(function (pos) {\n      return pos.pos;\n    });\n    var length = poses.length;\n    var _a = moveable.props.roundClickable,\n        roundClickable = _a === void 0 ? true : _a;\n\n    if (isDouble && roundClickable) {\n      if (isControl) {\n        removeRadiusPos(controlPoses, poses, controlIndex, 0);\n      } else if (isLine) {\n        var _b = calculatePointerDist(moveable, e),\n            distX = _b[0],\n            distY = _b[1];\n\n        addBorderRadius(controlPoses, poses, lineIndex, distX, distY, width, height);\n      }\n\n      if (length !== controlPoses.length) {\n        triggerRoundEvent(moveable, e, [0, 0], [0, 0], controlPoses, poses);\n      }\n\n      triggerEvent(moveable, \"onRoundEnd\", fillEndParams(moveable, e, {}));\n    }\n\n    state.borderRadiusState = \"\";\n    return true;\n  },\n  unset: function (moveable) {\n    moveable.state.borderRadiusState = \"\";\n  }\n};\n/**\n * Whether to show and drag or double click border-radius, (default: false)\n * @name Moveable.Roundable#roundable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * % Can be used instead of the absolute px\n * @name Moveable.Roundable#roundRelative\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * Minimum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [0, 0])\n * @name Moveable.Roundable#minRoundControls\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n *     minRoundControls: [0, 0],\n * });\n * moveable.maxRoundControls = [1, 0];\n */\n\n/**\n * Maximum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [4, 4])\n * @name Moveable.Roundable#maxRoundControls\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n *     maxRoundControls: [4, 4],\n * });\n * moveable.maxRoundControls = [1, 0];\n */\n\n/**\n * @property - Whether you can add/delete round controls by double-clicking a line or control. (default: true)\n * @name Moveable.Roundable#roundClickable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n *     roundClickable: true,\n * });\n * moveable.roundClickable = false;\n */\n\n/**\n * When drag start the clip area or controls, the `roundStart` event is called.\n * @memberof Moveable.Roundable\n * @event roundStart\n * @param {Moveable.Roundable.OnRoundStart} - Parameters for the `roundStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag or double click the border area or controls, the `round` event is called.\n * @memberof Moveable.Roundable\n * @event round\n * @param {Moveable.Roundable.OnRound} - Parameters for the `round` event\n * @example\n  * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag end the border area or controls, the `roundEnd` event is called.\n * @memberof Moveable.Roundable\n * @event roundEnd\n * @param {Moveable.Roundable.onRoundEnd} - Parameters for the `roundEnd` event\n * @example\n  * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\nvar BeforeRenderable = {\n  isPinch: true,\n  name: \"beforeRenderable\",\n  props: {},\n  events: {\n    onBeforeRenderStart: \"beforeRenderStart\",\n    onBeforeRender: \"beforeRender\",\n    onBeforeRenderEnd: \"beforeRenderEnd\",\n    onBeforeRenderGroupStart: \"beforeRenderGroupStart\",\n    onBeforeRenderGroup: \"beforeRenderGroup\",\n    onBeforeRenderGroupEnd: \"beforeRenderGroupEnd\"\n  },\n  setTransform: function (moveable, e) {\n    var _a = moveable.state,\n        is3d = _a.is3d,\n        targetMatrix = _a.targetMatrix;\n    var cssMatrix = is3d ? \"matrix3d(\" + targetMatrix.join(\",\") + \")\" : \"matrix(\" + convertMatrixtoCSS(targetMatrix, true) + \")\";\n    e.datas.startTransforms = [cssMatrix];\n  },\n  resetTransform: function (moveable, e) {\n    e.datas.nextTransforms = e.datas.startTransforms;\n    e.datas.nextTransformAppendedIndexes = [];\n  },\n  fillDragStartParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      setTransform: function (transform) {\n        e.datas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\n      },\n      isPinch: !!e.isPinch\n    });\n  },\n  fillDragParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    });\n  },\n  dragStart: function (moveable, e) {\n    this.setTransform(moveable, e);\n    triggerEvent(moveable, \"onBeforeRenderStart\", this.fillDragStartParams(moveable, e));\n  },\n  drag: function (moveable, e) {\n    this.resetTransform(moveable, e);\n    triggerEvent(moveable, \"onBeforeRender\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    }));\n  },\n  dragEnd: function (moveable, e) {\n    triggerEvent(moveable, \"onBeforeRenderEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag\n    }));\n  },\n  dragGroupStart: function (moveable, e) {\n    var _this = this;\n\n    this.dragStart(moveable, e);\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n\n      _this.setTransform(childMoveable, childEvent);\n\n      return _this.fillDragStartParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onBeforeRenderGroupStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      setTransform: function () {},\n      events: params\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    var _this = this;\n\n    this.drag(moveable, e);\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n\n      _this.resetTransform(childMoveable, childEvent);\n\n      return _this.fillDragParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onBeforeRenderGroup\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      events: params\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n    triggerEvent(moveable, \"onBeforeRenderGroupEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag,\n      targets: moveable.props.targets\n    }));\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragGroupStart(moveable, e);\n  },\n  dragGroupControl: function (moveable, e) {\n    return this.dragGroup(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return this.dragGroupEnd(moveable, e);\n  }\n};\n\nvar Renderable = {\n  name: \"Renderable\",\n  props: {},\n  events: {\n    onRenderStart: \"renderStart\",\n    onRender: \"render\",\n    onRenderEnd: \"renderEnd\",\n    onRenderGroupStart: \"renderGroupStart\",\n    onRenderGroup: \"renderGroup\",\n    onRenderGroupEnd: \"renderGroupEnd\"\n  },\n  dragStart: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    }));\n  },\n  drag: function (moveable, e) {\n    triggerEvent(moveable, \"onRender\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    }));\n  },\n  dragEnd: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag\n    }));\n  },\n  dragGroupStart: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderGroupStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderGroup\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderGroupEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag,\n      targets: moveable.props.targets\n    }));\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragGroupStart(moveable, e);\n  },\n  dragGroupControl: function (moveable, e) {\n    return this.dragGroup(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return this.dragGroupEnd(moveable, e);\n  }\n};\n\nfunction triggerAble(moveable, ableType, eventOperation, eventAffix, eventType, e, requestInstant) {\n  var isStart = eventType === \"Start\";\n  var target = moveable.state.target;\n  var isRequest = e.isRequest;\n\n  if (!target || isStart && eventAffix.indexOf(\"Control\") > -1 && !isRequest && moveable.areaElement === e.inputEvent.target) {\n    return false;\n  }\n\n  var eventName = \"\" + eventOperation + eventAffix + eventType;\n  var conditionName = \"\" + eventOperation + eventAffix + \"Condition\";\n  var isEnd = eventType === \"End\";\n  var isAfter = eventType.indexOf(\"After\") > -1;\n  var isFirstStart = isStart && (!moveable.targetGesto || !moveable.controlGesto || !moveable.targetGesto.isFlag() || !moveable.controlGesto.isFlag());\n\n  if (isFirstStart) {\n    moveable.updateRect(eventType, true, false);\n  }\n\n  if (eventType === \"\" && !isAfter) {\n    convertDragDist(moveable.state, e);\n  }\n\n  var isGroup = eventAffix.indexOf(\"Group\") > -1;\n\n  var ables = __spreadArrays([BeforeRenderable], moveable[ableType].slice(), [Renderable]);\n\n  if (isRequest) {\n    var requestAble_1 = e.requestAble;\n\n    if (!ables.some(function (able) {\n      return able.name === requestAble_1;\n    })) {\n      ables.push.apply(ables, moveable.props.ables.filter(function (able) {\n        return able.name === requestAble_1;\n      }));\n    }\n  }\n\n  if (!ables.length) {\n    return false;\n  }\n\n  var events = ables.filter(function (able) {\n    return able[eventName];\n  });\n  var datas = e.datas;\n\n  if (isFirstStart) {\n    events.forEach(function (able) {\n      able.unset && able.unset(moveable);\n    });\n  }\n\n  var inputEvent = e.inputEvent;\n  var inputTarget;\n\n  if (isEnd && inputEvent) {\n    inputTarget = document.elementFromPoint(e.clientX, e.clientY) || inputEvent.target;\n  }\n\n  var results = events.filter(function (able) {\n    var ableName = able.name;\n    var nextDatas = datas[ableName] || (datas[ableName] = {});\n\n    if (isStart) {\n      nextDatas.isEventStart = !able[conditionName] || able[conditionName](e, moveable);\n    }\n\n    if (nextDatas.isEventStart) {\n      return able[eventName](moveable, __assign(__assign({}, e), {\n        datas: nextDatas,\n        originalDatas: datas,\n        inputTarget: inputTarget\n      }));\n    }\n\n    return false;\n  });\n  var isUpdate = results.length;\n  var isForceEnd = isStart && events.length && !isUpdate;\n\n  if (isEnd || isForceEnd) {\n    moveable.state.gesto = null;\n\n    if (moveable.moveables) {\n      moveable.moveables.forEach(function (childMoveable) {\n        childMoveable.state.gesto = null;\n      });\n    }\n  }\n\n  if (isFirstStart && isForceEnd) {\n    events.forEach(function (able) {\n      able.unset && able.unset(moveable);\n    });\n  }\n\n  if (moveable.isUnmounted || isForceEnd) {\n    return false;\n  }\n\n  if (!isStart && isUpdate && !requestInstant || isEnd) {\n    if (results.some(function (able) {\n      return able.updateRect;\n    }) && !isGroup) {\n      moveable.updateRect(eventType, false, false);\n    } else {\n      moveable.updateRect(eventType, true, false);\n    }\n\n    moveable.forceUpdate();\n  }\n\n  if (!isStart && !isEnd && !isAfter && isUpdate && !requestInstant) {\n    triggerAble(moveable, ableType, eventOperation, eventAffix, eventType + \"After\", e);\n  }\n\n  return true;\n}\nfunction getTargetAbleGesto(moveable, moveableTarget, eventAffix) {\n  var controlBox = moveable.controlBox.getElement();\n  var targets = [];\n  targets.push(controlBox);\n\n  if (!moveable.props.dragArea) {\n    targets.push(moveableTarget);\n  }\n\n  var startFunc = function (e) {\n    var eventTarget = e.inputEvent.target;\n    var areaElement = moveable.areaElement;\n    return eventTarget === areaElement || !moveable.isMoveableElement(eventTarget) || hasClass(eventTarget, \"moveable-area\") || hasClass(eventTarget, \"moveable-padding\");\n  };\n\n  return getAbleGesto(moveable, targets, \"targetAbles\", eventAffix, {\n    dragStart: startFunc,\n    pinchStart: startFunc\n  });\n}\nfunction getAbleGesto(moveable, target, ableType, eventAffix, conditionFunctions) {\n  if (conditionFunctions === void 0) {\n    conditionFunctions = {};\n  }\n\n  var _a = moveable.props,\n      pinchOutside = _a.pinchOutside,\n      pinchThreshold = _a.pinchThreshold;\n  var options = {\n    container: window,\n    pinchThreshold: pinchThreshold,\n    pinchOutside: pinchOutside\n  };\n  var gesto = new Gesto(target, options);\n  [\"drag\", \"pinch\"].forEach(function (eventOperation) {\n    [\"Start\", \"\", \"End\"].forEach(function (eventType) {\n      gesto.on(\"\" + eventOperation + eventType, function (e) {\n        var eventName = e.eventType;\n\n        if (conditionFunctions[eventName] && !conditionFunctions[eventName](e)) {\n          e.stop();\n          return;\n        }\n\n        var result = triggerAble(moveable, ableType, eventOperation, eventAffix, eventType, e);\n\n        if (!result) {\n          e.stop();\n        }\n      });\n    });\n  });\n  return gesto;\n}\n\nvar EventManager =\n/*#__PURE__*/\nfunction () {\n  function EventManager(target, moveable, eventName) {\n    var _this = this;\n\n    this.target = target;\n    this.moveable = moveable;\n    this.eventName = eventName;\n    this.ables = [];\n\n    this.onEvent = function (e) {\n      var eventName = _this.eventName;\n      var moveable = _this.moveable;\n\n      _this.ables.forEach(function (able) {\n        able[eventName]({\n          inputEvent: e\n        }, moveable);\n      });\n    };\n\n    this.target.addEventListener(this.eventName.toLowerCase(), this.onEvent);\n  }\n\n  var __proto = EventManager.prototype;\n\n  __proto.setAbles = function (ables) {\n    this.ables = ables;\n  };\n\n  __proto.destroy = function () {\n    this.target.removeEventListener(this.eventName.toLowerCase(), this.onEvent);\n    this.target = null;\n    this.moveable = null;\n  };\n\n  return EventManager;\n}();\n\nvar MoveableManager =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableManager, _super);\n\n  function MoveableManager() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = __assign({\n      container: null,\n      target: null,\n      gesto: null,\n      renderPoses: [[0, 0], [0, 0], [0, 0], [0, 0]]\n    }, getTargetInfo(null));\n    _this.enabledAbles = [];\n    _this.targetAbles = [];\n    _this.controlAbles = [];\n    _this.rotation = 0;\n    _this.scale = [1, 1];\n    _this.isUnmounted = false;\n    _this.events = {\n      \"mouseEnter\": null,\n      \"mouseLeave\": null\n    };\n    return _this;\n  }\n\n  var __proto = MoveableManager.prototype;\n\n  __proto.render = function () {\n    var props = this.props;\n    var state = this.state;\n    var edge = props.edge,\n        parentPosition = props.parentPosition,\n        className = props.className,\n        propsTarget = props.target,\n        zoom = props.zoom,\n        cspNonce = props.cspNonce,\n        translateZ = props.translateZ,\n        ControlBoxElement = props.cssStyled;\n    this.checkUpdate();\n    this.updateRenderPoses();\n\n    var _a = parentPosition || {\n      left: 0,\n      top: 0\n    },\n        parentLeft = _a.left,\n        parentTop = _a.top;\n\n    var left = state.left,\n        top = state.top,\n        stateTarget = state.target,\n        direction = state.direction,\n        renderPoses = state.renderPoses;\n    var groupTargets = props.targets;\n    var isDisplay = (groupTargets && groupTargets.length || propsTarget) && stateTarget;\n    var isDragging = this.isDragging();\n    var ableAttributes = {};\n    var Renderer = {\n      createElement: createElement\n    };\n    this.getEnabledAbles().forEach(function (able) {\n      ableAttributes[\"data-able-\" + able.name.toLowerCase()] = true;\n    });\n    return createElement(ControlBoxElement, __assign({\n      cspNonce: cspNonce,\n      ref: ref(this, \"controlBox\"),\n      className: prefix(\"control-box\", direction === -1 ? \"reverse\" : \"\", isDragging ? \"dragging\" : \"\") + \" \" + className\n    }, ableAttributes, {\n      style: {\n        \"position\": \"absolute\",\n        \"display\": isDisplay ? \"block\" : \"none\",\n        \"transform\": \"translate(\" + (left - parentLeft) + \"px, \" + (top - parentTop) + \"px) translateZ(\" + translateZ + \"px)\",\n        \"--zoom\": zoom,\n        \"--zoompx\": zoom + \"px\"\n      }\n    }), this.renderAbles(), renderLine(Renderer, edge ? \"n\" : \"\", renderPoses[0], renderPoses[1], zoom, 0), renderLine(Renderer, edge ? \"e\" : \"\", renderPoses[1], renderPoses[3], zoom, 1), renderLine(Renderer, edge ? \"w\" : \"\", renderPoses[0], renderPoses[2], zoom, 2), renderLine(Renderer, edge ? \"s\" : \"\", renderPoses[2], renderPoses[3], zoom, 3));\n  };\n\n  __proto.componentDidMount = function () {\n    this.controlBox.getElement();\n    var props = this.props;\n    var parentMoveable = props.parentMoveable,\n        container = props.container,\n        wrapperMoveable = props.wrapperMoveable;\n    this.updateEvent(props);\n    this.updateNativeEvents(props);\n\n    if (!container && !parentMoveable && !wrapperMoveable) {\n      this.updateRect(\"\", false, true);\n    }\n\n    this.updateCheckInput();\n  };\n\n  __proto.componentDidUpdate = function (prevProps) {\n    this.updateNativeEvents(prevProps);\n    this.updateEvent(prevProps);\n    this.updateCheckInput();\n  };\n\n  __proto.componentWillUnmount = function () {\n    this.isUnmounted = true;\n    unset(this, \"targetGesto\");\n    unset(this, \"controlGesto\");\n    var events = this.events;\n\n    for (var name in events) {\n      var manager = events[name];\n      manager && manager.destroy();\n    }\n  };\n\n  __proto.getContainer = function () {\n    var _a = this.props,\n        parentMoveable = _a.parentMoveable,\n        wrapperMoveable = _a.wrapperMoveable,\n        container = _a.container;\n    return container || wrapperMoveable && wrapperMoveable.getContainer() || parentMoveable && parentMoveable.getContainer() || this.controlBox.getElement().parentElement;\n  };\n  /**\n   * Check if the target is an element included in the moveable.\n   * @method Moveable#isMoveableElement\n   * @param - the target\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * window.addEventListener(\"click\", e => {\n   *     if (!moveable.isMoveableElement(e.target)) {\n   *         moveable.target = e.target;\n   *     }\n   * });\n   */\n\n\n  __proto.isMoveableElement = function (target) {\n    return target && (target.getAttribute(\"class\") || \"\").indexOf(PREFIX) > -1;\n  };\n  /**\n   * You can drag start the Moveable through the external `MouseEvent`or `TouchEvent`. (Angular: ngDragStart)\n   * @method Moveable#dragStart\n   * @param - external `MouseEvent`or `TouchEvent`\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * document.body.addEventListener(\"mousedown\", e => {\n   *     if (!moveable.isMoveableElement(e.target)) {\n   *          moveable.dragStart(e);\n   *     }\n   * });\n   */\n\n\n  __proto.dragStart = function (e) {\n    if (this.targetGesto) {\n      this.targetGesto.triggerDragStart(e);\n    }\n\n    return this;\n  };\n  /**\n   * Hit test an element or rect on a moveable target.\n   * @method Moveable#hitTest\n   * @param - element or rect to test\n   * @return - Get hit test rate (rate > 0 is hitted)\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * document.body.addEventListener(\"mousedown\", e => {\n   *     if (moveable.hitTest(e.target) > 0) {\n   *          console.log(\"hiited\");\n   *     }\n   * });\n   */\n\n\n  __proto.hitTest = function (el) {\n    var _a = this.state,\n        target = _a.target,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        pos3 = _a.pos3,\n        pos4 = _a.pos4,\n        targetClientRect = _a.targetClientRect;\n\n    if (!target) {\n      return 0;\n    }\n\n    var rect;\n\n    if (el instanceof Element) {\n      var clientRect = el.getBoundingClientRect();\n      rect = {\n        left: clientRect.left,\n        top: clientRect.top,\n        width: clientRect.width,\n        height: clientRect.height\n      };\n    } else {\n      rect = __assign({\n        width: 0,\n        height: 0\n      }, el);\n    }\n\n    var rectLeft = rect.left,\n        rectTop = rect.top,\n        rectWidth = rect.width,\n        rectHeight = rect.height;\n    var points = fitPoints([pos1, pos2, pos4, pos3], targetClientRect);\n    var size = getOverlapSize(points, [[rectLeft, rectTop], [rectLeft + rectWidth, rectTop], [rectLeft + rectWidth, rectTop + rectHeight], [rectLeft, rectTop + rectHeight]]);\n    var totalSize = getAreaSize(points);\n\n    if (!size || !totalSize) {\n      return 0;\n    }\n\n    return Math.min(100, size / totalSize * 100);\n  };\n  /**\n   * Whether the coordinates are inside Moveable\n   * @method Moveable#isInside\n   * @param - x coordinate\n   * @param - y coordinate\n   * @return - True if the coordinate is in moveable or false\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * document.body.addEventListener(\"mousedown\", e => {\n   *     if (moveable.isInside(e.clientX, e.clientY)) {\n   *          console.log(\"inside\");\n   *     }\n   * });\n   */\n\n\n  __proto.isInside = function (clientX, clientY) {\n    var _a = this.state,\n        target = _a.target,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        pos3 = _a.pos3,\n        pos4 = _a.pos4,\n        targetClientRect = _a.targetClientRect;\n\n    if (!target) {\n      return false;\n    }\n\n    return isInside([clientX, clientY], fitPoints([pos1, pos2, pos4, pos3], targetClientRect));\n  };\n  /**\n   * If the width, height, left, and top of all elements change, update the shape of the moveable.\n   * @method Moveable#updateRect\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * window.addEventListener(\"resize\", e => {\n   *     moveable.updateRect();\n   * });\n   */\n\n\n  __proto.updateRect = function (type, isTarget, isSetState) {\n    if (isSetState === void 0) {\n      isSetState = true;\n    }\n\n    var props = this.props;\n    var parentMoveable = props.parentMoveable;\n    var state = this.state;\n    var target = state.target || this.props.target;\n    var container = this.getContainer();\n    var rootContainer = parentMoveable ? parentMoveable.props.rootContainer : props.rootContainer;\n    this.updateState(getTargetInfo(this.controlBox && this.controlBox.getElement(), target, container, container, rootContainer || container, isTarget ? state : undefined), parentMoveable ? false : isSetState);\n  };\n\n  __proto.isTargetChanged = function (prevProps, useDragArea) {\n    var props = this.props;\n    var target = props.dragTarget || props.target;\n    var prevTarget = prevProps.dragTarget || prevProps.target;\n    var dragArea = props.dragArea;\n    var prevDragArea = prevProps.dragArea;\n    var isTargetChanged = !dragArea && prevTarget !== target;\n    return isTargetChanged || (useDragArea || dragArea) && prevDragArea !== dragArea;\n  };\n\n  __proto.updateNativeEvents = function (prevProps) {\n    var _this = this;\n\n    var props = this.props;\n    var target = props.dragArea ? this.areaElement : this.state.target;\n    var events = this.events;\n    var eventKeys = getKeys(events);\n\n    if (this.isTargetChanged(prevProps)) {\n      for (var eventName in events) {\n        var manager = events[eventName];\n        manager && manager.destroy();\n        events[eventName] = null;\n      }\n    }\n\n    if (!target) {\n      return;\n    }\n\n    var enabledAbles = this.enabledAbles;\n    eventKeys.forEach(function (eventName) {\n      var ables = filterAbles(enabledAbles, [eventName]);\n      var hasAbles = ables.length > 0;\n      var manager = events[eventName];\n\n      if (!hasAbles) {\n        if (manager) {\n          manager.destroy();\n          events[eventName] = null;\n        }\n\n        return;\n      }\n\n      if (!manager) {\n        manager = new EventManager(target, _this, eventName);\n        events[eventName] = manager;\n      }\n\n      manager.setAbles(ables);\n    });\n  };\n\n  __proto.updateEvent = function (prevProps) {\n    var controlBoxElement = this.controlBox.getElement();\n    var hasTargetAble = this.targetAbles.length;\n    var hasControlAble = this.controlAbles.length;\n    var props = this.props;\n    var target = props.dragTarget || props.target;\n    var isTargetChanged = this.isTargetChanged(prevProps, true);\n    var isUnset = !hasTargetAble && this.targetGesto || isTargetChanged;\n\n    if (isUnset) {\n      unset(this, \"targetGesto\");\n      this.updateState({\n        gesto: null\n      });\n    }\n\n    if (!hasControlAble) {\n      unset(this, \"controlGesto\");\n    }\n\n    if (target && hasTargetAble && !this.targetGesto) {\n      this.targetGesto = getTargetAbleGesto(this, target, \"\");\n    }\n\n    if (!this.controlGesto && hasControlAble) {\n      this.controlGesto = getAbleGesto(this, controlBoxElement, \"controlAbles\", \"Control\");\n    }\n\n    if (isUnset) {\n      this.unsetAbles();\n    }\n  };\n  /**\n   * Check if the moveable state is being dragged.\n   * @method Moveable#isDragging\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * // false\n   * console.log(moveable.isDragging());\n   *\n   * moveable.on(\"drag\", () => {\n   *   // true\n   *   console.log(moveable.isDragging());\n   * });\n   */\n\n\n  __proto.isDragging = function () {\n    return (this.targetGesto ? this.targetGesto.isFlag() : false) || (this.controlGesto ? this.controlGesto.isFlag() : false);\n  };\n  /**\n   * If the width, height, left, and top of the only target change, update the shape of the moveable.\n   * @method Moveable#updateTarget\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * moveable.updateTarget();\n   */\n\n\n  __proto.updateTarget = function (type) {\n    this.updateRect(type, true);\n  };\n  /**\n   * You can get the vertex information, position and offset size information of the target based on the container.\n   * @method Moveable#getRect\n   * @return - The Rect Info\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * const rectInfo = moveable.getRect();\n   */\n\n\n  __proto.getRect = function () {\n    var state = this.state;\n    var poses = getAbsolutePosesByState(this.state);\n    var pos1 = poses[0],\n        pos2 = poses[1],\n        pos3 = poses[2],\n        pos4 = poses[3];\n    var rect = getRect(poses);\n    var offsetWidth = state.width,\n        offsetHeight = state.height;\n    var width = rect.width,\n        height = rect.height,\n        left = rect.left,\n        top = rect.top;\n    var statePos = [state.left, state.top];\n    var origin = plus(statePos, state.origin);\n    var beforeOrigin = plus(statePos, state.beforeOrigin);\n    var transformOrigin = state.transformOrigin;\n    return {\n      width: width,\n      height: height,\n      left: left,\n      top: top,\n      pos1: pos1,\n      pos2: pos2,\n      pos3: pos3,\n      pos4: pos4,\n      offsetWidth: offsetWidth,\n      offsetHeight: offsetHeight,\n      beforeOrigin: beforeOrigin,\n      origin: origin,\n      transformOrigin: transformOrigin,\n      rotation: this.getRotation()\n    };\n  };\n  /**\n   * Get a manager that manages the moveable's state and props.\n   * @method Moveable#getManager\n   * @return - The Rect Info\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * const manager = moveable.getManager(); // real moveable class instance\n   */\n\n\n  __proto.getManager = function () {\n    return this;\n  };\n\n  __proto.getRotation = function () {\n    var _a = this.state,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        direction = _a.direction;\n    var deg = getRad(pos1, pos2) / Math.PI * 180;\n    deg = direction >= 0 ? deg : 180 - deg;\n    deg = deg >= 0 ? deg : 360 + deg;\n    return deg;\n  };\n  /**\n   * Request able through a method rather than an event.\n   * At the moment of execution, requestStart is executed,\n   * and then request and requestEnd can be executed through Requester.\n   * @method Moveable#request\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Draggable.html#request|Draggable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Resizable.html#request|Resizable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Scalable.html#request|Scalable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Rotatable.html#request|Rotatable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.OriginDraggable.html#request|OriginDraggable Requester}\n   * @param - ableName\n   * @param - request to be able params.\n   * @param - If isInstant is true, request and requestEnd are executed immediately.\n   * @return - Able Requester. If there is no request in able, nothing will work.\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * // Instantly Request (requestStart - request - requestEnd)\n   * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\n   *\n   * // Start move\n   * const requester = moveable.request(\"draggable\");\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.requestEnd();\n   */\n\n\n  __proto.request = function (ableName, param, isInstant) {\n    if (param === void 0) {\n      param = {};\n    }\n\n    var _a = this.props,\n        ables = _a.ables,\n        groupable = _a.groupable;\n    var requsetAble = ables.filter(function (able) {\n      return able.name === ableName;\n    })[0];\n\n    if (this.isDragging() || !requsetAble || !requsetAble.request) {\n      return {\n        request: function () {\n          return this;\n        },\n        requestEnd: function () {\n          return this;\n        }\n      };\n    }\n\n    var self = this;\n    var ableRequester = requsetAble.request(this);\n    var requestInstant = isInstant || param.isInstant;\n    var ableType = ableRequester.isControl ? \"controlAbles\" : \"targetAbles\";\n    var eventAffix = \"\" + (groupable ? \"Group\" : \"\") + (ableRequester.isControl ? \"Control\" : \"\");\n    var requester = {\n      request: function (ableParam) {\n        triggerAble(self, ableType, \"drag\", eventAffix, \"\", __assign(__assign({}, ableRequester.request(ableParam)), {\n          requestAble: ableName,\n          isRequest: true\n        }), requestInstant);\n        return this;\n      },\n      requestEnd: function () {\n        triggerAble(self, ableType, \"drag\", eventAffix, \"End\", __assign(__assign({}, ableRequester.requestEnd()), {\n          requestAble: ableName,\n          isRequest: true\n        }), requestInstant);\n        return this;\n      }\n    };\n    triggerAble(self, ableType, \"drag\", eventAffix, \"Start\", __assign(__assign({}, ableRequester.requestStart(param)), {\n      requestAble: ableName,\n      isRequest: true\n    }), requestInstant);\n    return requestInstant ? requester.request(param).requestEnd() : requester;\n  };\n  /**\n   * Remove the Moveable object and the events.\n   * @method Moveable#destroy\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * moveable.destroy();\n   */\n\n\n  __proto.destroy = function () {\n    this.componentWillUnmount();\n  };\n\n  __proto.updateRenderPoses = function () {\n    var state = this.state;\n    var props = this.props;\n    var beforeOrigin = state.beforeOrigin,\n        transformOrigin = state.transformOrigin,\n        allMatrix = state.allMatrix,\n        is3d = state.is3d,\n        pos1 = state.pos1,\n        pos2 = state.pos2,\n        pos3 = state.pos3,\n        pos4 = state.pos4,\n        stateLeft = state.left,\n        stateTop = state.top;\n\n    var _a = props.padding || {},\n        _b = _a.left,\n        left = _b === void 0 ? 0 : _b,\n        _c = _a.top,\n        top = _c === void 0 ? 0 : _c,\n        _d = _a.bottom,\n        bottom = _d === void 0 ? 0 : _d,\n        _e = _a.right,\n        right = _e === void 0 ? 0 : _e;\n\n    var n = is3d ? 4 : 3;\n    var absoluteOrigin = props.groupable ? beforeOrigin : plus(beforeOrigin, [stateLeft, stateTop]);\n    state.renderPoses = [plus(pos1, calculatePadding(allMatrix, [-left, -top], transformOrigin, absoluteOrigin, n)), plus(pos2, calculatePadding(allMatrix, [right, -top], transformOrigin, absoluteOrigin, n)), plus(pos3, calculatePadding(allMatrix, [-left, bottom], transformOrigin, absoluteOrigin, n)), plus(pos4, calculatePadding(allMatrix, [right, bottom], transformOrigin, absoluteOrigin, n))];\n  };\n\n  __proto.checkUpdate = function () {\n    var _a = this.props,\n        target = _a.target,\n        container = _a.container,\n        parentMoveable = _a.parentMoveable;\n    var _b = this.state,\n        stateTarget = _b.target,\n        stateContainer = _b.container;\n\n    if (!stateTarget && !target) {\n      return;\n    }\n\n    this.updateAbles();\n    var isChanged = !equals(stateTarget, target) || !equals(stateContainer, container);\n\n    if (!isChanged) {\n      return;\n    }\n\n    this.updateState({\n      target: target,\n      container: container\n    });\n\n    if (!parentMoveable && (container || this.controlBox)) {\n      this.updateRect(\"End\", false, false);\n    }\n  };\n\n  __proto.triggerEvent = function (name, e) {\n    var callback = this.props[name];\n    return callback && callback(e);\n  };\n\n  __proto.unsetAbles = function () {\n    var _this = this;\n\n    if (this.targetAbles.filter(function (able) {\n      if (able.unset) {\n        able.unset(_this);\n        return true;\n      }\n\n      return false;\n    }).length) {\n      this.forceUpdate();\n    }\n  };\n\n  __proto.updateAbles = function (ables, eventAffix) {\n    if (ables === void 0) {\n      ables = this.props.ables;\n    }\n\n    if (eventAffix === void 0) {\n      eventAffix = \"\";\n    }\n\n    var props = this.props;\n    var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\n    var enabledAbles = ables.filter(function (able) {\n      return able && (able.always || props[able.name]);\n    });\n    var dragStart = \"drag\" + eventAffix + \"Start\";\n    var pinchStart = \"pinch\" + eventAffix + \"Start\";\n    var dragControlStart = \"drag\" + eventAffix + \"ControlStart\";\n    var targetAbles = filterAbles(enabledAbles, [dragStart, pinchStart], triggerAblesSimultaneously);\n    var controlAbles = filterAbles(enabledAbles, [dragControlStart], triggerAblesSimultaneously);\n    this.enabledAbles = enabledAbles;\n    this.targetAbles = targetAbles;\n    this.controlAbles = controlAbles;\n  };\n\n  __proto.updateState = function (nextState, isSetState) {\n    if (isSetState) {\n      this.setState(nextState);\n    } else {\n      var state = this.state;\n\n      for (var name in nextState) {\n        state[name] = nextState[name];\n      }\n    }\n  };\n\n  __proto.getEnabledAbles = function () {\n    var props = this.props;\n    var ables = props.ables;\n    return ables.filter(function (able) {\n      return able && props[able.name];\n    });\n  };\n\n  __proto.renderAbles = function () {\n    var _this = this;\n\n    var props = this.props;\n    var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\n    var Renderer = {\n      createElement: createElement\n    };\n    return groupByMap(flat(filterAbles(this.getEnabledAbles(), [\"render\"], triggerAblesSimultaneously).map(function (_a) {\n      var render = _a.render;\n      return render(_this, Renderer) || [];\n    })).filter(function (el) {\n      return el;\n    }), function (_a) {\n      var key = _a.key;\n      return key;\n    }).map(function (group) {\n      return group[0];\n    });\n  };\n\n  __proto.updateCheckInput = function () {\n    this.targetGesto && (this.targetGesto.options.checkInput = this.props.checkInput);\n  };\n\n  MoveableManager.defaultProps = {\n    target: null,\n    dragTarget: null,\n    container: null,\n    rootContainer: null,\n    origin: true,\n    edge: false,\n    parentMoveable: null,\n    wrapperMoveable: null,\n    parentPosition: null,\n    ables: [],\n    pinchThreshold: 20,\n    dragArea: false,\n    passDragArea: false,\n    transformOrigin: \"\",\n    className: \"\",\n    zoom: 1,\n    triggerAblesSimultaneously: false,\n    padding: {},\n    pinchOutside: true,\n    checkInput: false,\n    groupable: false,\n    cspNonce: \"\",\n    translateZ: 50,\n    cssStyled: null,\n    props: {}\n  };\n  return MoveableManager;\n}(PureComponent);\n/**\n * The target to indicate Moveable Control Box.\n * @name Moveable#target\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.target = document.querySelector(\".target\");\n */\n\n/**\n * Zooms in the elements of a moveable. (default: 1)\n * @name Moveable#zoom\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.zoom = 2;\n */\n\n/**\n * Resize, Scale Events at edges\n * @name Moveable#edge\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.edge = true;\n */\n\n/**\n * You can specify the className of the moveable controlbox. (default: \"\")\n * @name Moveable#className\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   className: \"\",\n * });\n *\n * moveable.className = \"moveable1\";\n */\n\n/**\n * The target(s) to drag Moveable target(s) (default: target)\n * @name Moveable#dragTarget\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.target = document.querySelector(\".target\");\n * moveable.dragTarget = document.querySelector(\".dragTarget\");\n */\n\n/**\n * `renderStart` event occurs at the first start of all events.\n * @memberof Moveable\n * @event renderStart\n * @param {Moveable.OnRenderStart} - Parameters for the `renderStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"renderStart\", ({ target }) => {\n *     console.log(\"onRenderStart\", target);\n * });\n */\n\n/**\n * `render` event occurs before the target is drawn on the screen.\n * @memberof Moveable\n * @event render\n * @param {Moveable.OnRender} - Parameters for the `render` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"render\", ({ target }) => {\n *     console.log(\"onRender\", target);\n * });\n */\n\n/**\n * `renderEnd` event occurs at the end of all events.\n * @memberof Moveable\n * @event renderEnd\n * @param {Moveable.OnRenderEnd} - Parameters for the `renderEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"renderEnd\", ({ target }) => {\n *     console.log(\"onRenderEnd\", target);\n * });\n */\n\n/**\n * `renderGroupStart` event occurs at the first start of all events in group.\n * @memberof Moveable\n * @event renderGroupStart\n * @param {Moveable.OnRenderGroupStart} - Parameters for the `renderGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"renderGroupStart\", ({ targets }) => {\n *     console.log(\"onRenderGroupStart\", targets);\n * });\n */\n\n/**\n * `renderGroup` event occurs before the target is drawn on the screen in group.\n * @memberof Moveable\n * @event renderGroup\n * @param {Moveable.OnRenderGroup} - Parameters for the `renderGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"renderGroup\", ({ targets }) => {\n *     console.log(\"onRenderGroup\", targets);\n * });\n */\n\n/**\n * `renderGroupEnd` event occurs at the end of all events in group.\n * @memberof Moveable\n * @event renderGroupEnd\n * @param {Moveable.OnRenderGroupEnd} - Parameters for the `renderGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"renderGroupEnd\", ({ targets }) => {\n *     console.log(\"onRenderGroupEnd\", targets);\n * });\n */\n\nvar Groupable = {\n  name: \"groupable\",\n  props: {\n    defaultGroupRotate: Number,\n    defaultGroupOrigin: String,\n    groupable: Boolean\n  },\n  events: {},\n  render: function (moveable, React) {\n    var targets = moveable.props.targets || [];\n    moveable.moveables = [];\n    var _a = moveable.state,\n        left = _a.left,\n        top = _a.top;\n    var position = {\n      left: left,\n      top: top\n    };\n    return targets.map(function (target, i) {\n      return React.createElement(MoveableManager, {\n        key: \"moveable\" + i,\n        ref: refs(moveable, \"moveables\", i),\n        target: target,\n        origin: false,\n        cssStyled: moveable.props.cssStyled,\n        parentMoveable: moveable,\n        parentPosition: position\n      });\n    });\n  }\n};\n\nvar Clickable = {\n  name: \"clickable\",\n  props: {},\n  events: {\n    onClick: \"click\",\n    onClickGroup: \"clickGroup\"\n  },\n  always: true,\n  dragStart: function () {},\n  dragGroupStart: function (moveable, e) {\n    e.datas.inputTarget = e.inputEvent && e.inputEvent.target;\n  },\n  dragEnd: function (moveable, e) {\n    var target = moveable.state.target;\n    var inputEvent = e.inputEvent;\n    var inputTarget = e.inputTarget;\n\n    if (!inputEvent || !inputTarget || e.isDrag || moveable.isMoveableElement(inputTarget) // External event duplicate target or dragAreaElement\n    ) {\n        return;\n      }\n\n    var containsTarget = target.contains(inputTarget);\n    triggerEvent(moveable, \"onClick\", fillParams(moveable, e, {\n      isDouble: e.isDouble,\n      inputTarget: inputTarget,\n      isTarget: target === inputTarget,\n      containsTarget: containsTarget\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    var inputEvent = e.inputEvent;\n    var inputTarget = e.inputTarget;\n\n    if (!inputEvent || !inputTarget || e.isDrag || moveable.isMoveableElement(inputTarget) // External event duplicate target or dragAreaElement\n    || e.datas.inputTarget === inputTarget) {\n      return;\n    }\n\n    var targets = moveable.props.targets;\n    var targetIndex = targets.indexOf(inputTarget);\n    var isTarget = targetIndex > -1;\n    var containsTarget = false;\n\n    if (targetIndex === -1) {\n      targetIndex = findIndex(targets, function (parentTarget) {\n        return parentTarget.contains(inputTarget);\n      });\n      containsTarget = targetIndex > -1;\n    }\n\n    triggerEvent(moveable, \"onClickGroup\", fillParams(moveable, e, {\n      isDouble: e.isDouble,\n      targets: targets,\n      inputTarget: inputTarget,\n      targetIndex: targetIndex,\n      isTarget: isTarget,\n      containsTarget: containsTarget\n    }));\n  }\n};\n/**\n * When you click on the element, the `click` event is called.\n * @memberof Moveable\n * @event click\n * @param {Moveable.OnClick} - Parameters for the `click` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"click\", ({ hasTarget, containsTarget, targetIndex }) => {\n *     // If you click on an element other than the target and not included in the target, index is -1.\n *     console.log(\"onClickGroup\", target, hasTarget, containsTarget, targetIndex);\n * });\n */\n\n/**\n * When you click on the element inside the group, the `clickGroup` event is called.\n * @memberof Moveable\n * @event clickGroup\n * @param {Moveable.OnClickGroup} - Parameters for the `clickGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"clickGroup\", ({ inputTarget, isTarget, containsTarget, targetIndex }) => {\n *     // If you click on an element other than the target and not included in the target, index is -1.\n *     console.log(\"onClickGroup\", inputTarget, isTarget, containsTarget, targetIndex);\n * });\n */\n\nfunction getDraggableEvent(e) {\n  var datas = e.originalDatas.draggable;\n\n  if (!datas) {\n    e.originalDatas.draggable = {};\n    datas = e.originalDatas.draggable;\n  }\n\n  return __assign(__assign({}, e), {\n    datas: datas\n  });\n}\n\nvar edgeDraggable = {\n  name: \"edgeDraggable\",\n  props: {\n    edgeDraggable: Boolean\n  },\n  events: {},\n  dragControlCondition: function (e, moveable) {\n    if (!moveable.props.edgeDraggable || !e.inputEvent) {\n      return false;\n    }\n\n    var target = e.inputEvent.target;\n    return hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"line\"));\n  },\n  dragControlStart: function (moveable, e) {\n    return Draggable.dragStart(moveable, getDraggableEvent(e));\n  },\n  dragControl: function (moveable, e) {\n    return Draggable.drag(moveable, getDraggableEvent(e));\n  },\n  dragControlEnd: function (moveable, e) {\n    return Draggable.dragEnd(moveable, getDraggableEvent(e));\n  },\n  dragGroupControlCondition: function (e, moveable) {\n    if (!moveable.props.edgeDraggable || !e.inputEvent) {\n      return false;\n    }\n\n    var target = e.inputEvent.target;\n    return hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"line\"));\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return Draggable.dragGroupStart(moveable, getDraggableEvent(e));\n  },\n  dragGroupControl: function (moveable, e) {\n    return Draggable.dragGroup(moveable, getDraggableEvent(e));\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return Draggable.dragGroupEnd(moveable, getDraggableEvent(e));\n  },\n  unset: function (moveable) {\n    moveable.state.dragInfo = null;\n  }\n};\n/**\n * Whether to move by dragging the edge line (default: false)\n * @name Moveable.Draggable#edgeDraggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  draggable: true,\n *  edgeDraggable: false,\n * });\n *\n * moveable.edgeDraggable = true;\n */\n\nvar IndividualGroupable = {\n  name: \"individualGroupable\",\n  props: {\n    individualGroupable: Boolean\n  },\n  events: {}\n};\n\nvar MOVEABLE_ABLES = /*#__PURE__*/[BeforeRenderable, Default, Snappable, Pinchable, Draggable, edgeDraggable, Rotatable, Resizable, Scalable, Warpable, Scrollable, Padding, Origin, OriginDraggable, Clippable, Roundable, Groupable, IndividualGroupable, Clickable, DragArea, Renderable];\nvar MOVEABLE_EVENTS_PROPS_MAP = /*#__PURE__*/MOVEABLE_ABLES.reduce(function (current, able) {\n  return __assign(__assign({}, current), able.events);\n}, {});\nvar MOVEABLE_PROPS_MAP = /*#__PURE__*/MOVEABLE_ABLES.reduce(function (current, able) {\n  return __assign(__assign({}, current), able.props);\n}, {});\nvar MOVEABLE_EVENTS_MAP = /*#__PURE__*/invertObject(MOVEABLE_EVENTS_PROPS_MAP);\nvar MOVEABLE_EVENTS = Object.keys(MOVEABLE_EVENTS_MAP);\nvar MOVEABLE_PROPS = Object.keys(MOVEABLE_PROPS_MAP);\n\nfunction getMaxPos(poses, index) {\n  return Math.max.apply(Math, poses.map(function (_a) {\n    var pos1 = _a[0],\n        pos2 = _a[1],\n        pos3 = _a[2],\n        pos4 = _a[3];\n    return Math.max(pos1[index], pos2[index], pos3[index], pos4[index]);\n  }));\n}\n\nfunction getMinPos(poses, index) {\n  return Math.min.apply(Math, poses.map(function (_a) {\n    var pos1 = _a[0],\n        pos2 = _a[1],\n        pos3 = _a[2],\n        pos4 = _a[3];\n    return Math.min(pos1[index], pos2[index], pos3[index], pos4[index]);\n  }));\n}\n\nfunction getGroupRect(moveables, rotation) {\n  if (!moveables.length) {\n    return [0, 0, 0, 0];\n  }\n\n  var moveablePoses = moveables.map(function (_a) {\n    var state = _a.state;\n    return getAbsolutePosesByState(state);\n  });\n  var minX = MAX_NUM;\n  var minY = MAX_NUM;\n  var groupWidth = 0;\n  var groupHeight = 0;\n  var fixedRotation = throttle(rotation, TINY_NUM);\n\n  if (fixedRotation % 90) {\n    var rad_1 = rotation / 180 * Math.PI;\n    var a1_1 = Math.tan(rad_1);\n    var a2_1 = -1 / a1_1;\n    var b1s_1 = [MIN_NUM, MAX_NUM];\n    var b2s_1 = [MIN_NUM, MAX_NUM];\n    moveablePoses.forEach(function (poses) {\n      poses.forEach(function (pos) {\n        // ax + b = y\n        // ㅠ = y - ax\n        var b1 = pos[1] - a1_1 * pos[0];\n        var b2 = pos[1] - a2_1 * pos[0];\n        b1s_1[0] = Math.max(b1s_1[0], b1);\n        b1s_1[1] = Math.min(b1s_1[1], b1);\n        b2s_1[0] = Math.max(b2s_1[0], b2);\n        b2s_1[1] = Math.min(b2s_1[1], b2);\n      });\n    });\n    b1s_1.forEach(function (b1) {\n      // a1x + b1 = a2x + b2\n      b2s_1.forEach(function (b2) {\n        // (a1 - a2)x = b2 - b1\n        var x = (b2 - b1) / (a1_1 - a2_1);\n        var y = a1_1 * x + b1;\n        minX = Math.min(minX, x);\n        minY = Math.min(minY, y);\n      });\n    });\n    var rotatePoses = moveablePoses.map(function (_a) {\n      var pos1 = _a[0],\n          pos2 = _a[1],\n          pos3 = _a[2],\n          pos4 = _a[3];\n      return [rotate(pos1, -rad_1), rotate(pos2, -rad_1), rotate(pos3, -rad_1), rotate(pos4, -rad_1)];\n    });\n    groupWidth = getMaxPos(rotatePoses, 0) - getMinPos(rotatePoses, 0);\n    groupHeight = getMaxPos(rotatePoses, 1) - getMinPos(rotatePoses, 1);\n  } else {\n    minX = getMinPos(moveablePoses, 0);\n    minY = getMinPos(moveablePoses, 1);\n    groupWidth = getMaxPos(moveablePoses, 0) - minX;\n    groupHeight = getMaxPos(moveablePoses, 1) - minY;\n\n    if (fixedRotation % 180) {\n      var changedWidth = groupWidth;\n      groupWidth = groupHeight;\n      groupHeight = changedWidth;\n    }\n  }\n\n  return [minX, minY, groupWidth, groupHeight];\n}\n/**\n * @namespace Moveable.Group\n * @description You can make targets moveable.\n */\n\n\nvar MoveableGroup =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableGroup, _super);\n\n  function MoveableGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.differ = new ChildrenDiffer();\n    _this.moveables = [];\n    _this.transformOrigin = \"50% 50%\";\n    return _this;\n  }\n\n  var __proto = MoveableGroup.prototype;\n\n  __proto.updateEvent = function (prevProps) {\n    var state = this.state;\n    var props = this.props;\n\n    if (!state.target) {\n      state.target = this.areaElement;\n      this.controlBox.getElement().style.display = \"block\";\n      this.targetGesto = getTargetAbleGesto(this, state.target, \"Group\");\n      this.controlGesto = getAbleGesto(this, this.controlBox.getElement(), \"controlAbles\", \"GroupControl\");\n    }\n\n    var isContainerChanged = !equals(prevProps.container, props.container);\n\n    if (isContainerChanged) {\n      state.container = props.container;\n    }\n\n    var _a = this.differ.update(props.targets),\n        added = _a.added,\n        changed = _a.changed,\n        removed = _a.removed;\n\n    if (isContainerChanged || added.length || changed.length || removed.length) {\n      this.updateRect();\n    }\n  };\n\n  __proto.checkUpdate = function () {\n    this.updateAbles();\n  };\n\n  __proto.updateRect = function (type, isTarget, isSetState) {\n    var _a;\n\n    if (isSetState === void 0) {\n      isSetState = true;\n    }\n\n    if (!this.controlBox) {\n      return;\n    }\n\n    this.moveables.forEach(function (moveable) {\n      moveable.updateRect(type, false, false);\n    });\n    var state = this.state;\n    var props = this.props;\n    var target = state.target || props.target;\n\n    if (!isTarget || type !== \"\" && props.updateGroup) {\n      // reset rotataion\n      this.rotation = props.defaultGroupRotate;\n      this.transformOrigin = props.defaultGroupOrigin || \"50% 50%\";\n      this.scale = [1, 1];\n    }\n\n    var rotation = this.rotation;\n    var scale = this.scale;\n\n    var _b = getGroupRect(this.moveables, rotation),\n        left = _b[0],\n        top = _b[1],\n        width = _b[2],\n        height = _b[3]; // tslint:disable-next-line: max-line-length\n\n\n    target.style.cssText += \"left:0px;top:0px; transform-origin: \" + this.transformOrigin + \"; width:\" + width + \"px; height:\" + height + \"px;transform:rotate(\" + rotation + \"deg)\" + (\" scale(\" + (scale[0] >= 0 ? 1 : -1) + \", \" + (scale[1] >= 0 ? 1 : -1) + \")\");\n    state.width = width;\n    state.height = height;\n    var container = this.getContainer();\n    var info = getTargetInfo(this.controlBox.getElement(), target, this.controlBox.getElement(), this.getContainer(), this.props.rootContainer || container, state);\n    var pos = [info.left, info.top];\n    _a = getAbsolutePosesByState(info), info.pos1 = _a[0], info.pos2 = _a[1], info.pos3 = _a[2], info.pos4 = _a[3];\n    info.origin = plus(pos, info.origin);\n    info.beforeOrigin = plus(pos, info.beforeOrigin);\n    var clientRect = info.targetClientRect;\n    clientRect.top += top - info.top - state.top;\n    clientRect.left += left - info.left - state.left;\n    var direction = scale[0] * scale[1] > 0 ? 1 : -1;\n    this.updateState(__assign(__assign({}, info), {\n      direction: direction,\n      beforeDirection: direction,\n      left: left - info.left,\n      top: top - info.top\n    }), isSetState);\n  };\n\n  __proto.getRect = function () {\n    return __assign(__assign({}, _super.prototype.getRect.call(this)), {\n      children: this.moveables.map(function (child) {\n        return child.getRect();\n      })\n    });\n  };\n\n  __proto.triggerEvent = function (name, e, isManager) {\n    if (isManager || name.indexOf(\"Group\") > -1) {\n      return _super.prototype.triggerEvent.call(this, name, e);\n    }\n  };\n\n  __proto.updateAbles = function () {\n    _super.prototype.updateAbles.call(this, __spreadArrays(this.props.ables, [Groupable]), \"Group\");\n  };\n\n  MoveableGroup.defaultProps = __assign(__assign({}, MoveableManager.defaultProps), {\n    transformOrigin: [\"50%\", \"50%\"],\n    groupable: true,\n    dragArea: true,\n    keepRatio: true,\n    targets: [],\n    defaultGroupRotate: 0,\n    defaultGroupOrigin: \"50% 50%\"\n  });\n  return MoveableGroup;\n}(MoveableManager);\n\n/**\n * @namespace Moveable.IndividualGroup\n * @description Create targets individually, not as a group.Create targets individually, not as a group.\n */\n\nvar MoveableIndividualGroup =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableIndividualGroup, _super);\n\n  function MoveableIndividualGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.moveables = [];\n    return _this;\n  }\n\n  var __proto = MoveableIndividualGroup.prototype;\n\n  __proto.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        cspNonce = _a.cspNonce,\n        ControlBoxElement = _a.cssStyled,\n        targets = _a.targets;\n    return createElement(ControlBoxElement, {\n      cspNonce: cspNonce,\n      ref: ref(this, \"controlBox\"),\n      className: prefix(\"control-box\")\n    }, targets.map(function (target, i) {\n      return createElement(MoveableManager, __assign({\n        key: \"moveable\" + i,\n        ref: refs(_this, \"moveables\", i)\n      }, _this.props, {\n        target: target,\n        wrapperMoveable: _this\n      }));\n    }));\n  }; // public componentDidMount() {\n  //     console.log(this.controlBox.getElement().parentElement);\n  //     this.controlBox.getElement();\n  // }\n\n\n  __proto.componentDidUpdate = function () {};\n\n  __proto.updateRect = function (type, isTarget, isSetState) {\n    if (isSetState === void 0) {\n      isSetState = true;\n    }\n\n    this.moveables.forEach(function (moveable) {\n      moveable.updateRect(type, isTarget, isSetState);\n    });\n  };\n\n  __proto.getRect = function () {\n    return __assign(__assign({}, _super.prototype.getRect.call(this)), {\n      children: this.moveables.map(function (child) {\n        return child.getRect();\n      })\n    });\n  };\n\n  __proto.request = function () {\n    return {\n      request: function () {\n        return this;\n      },\n      requestEnd: function () {\n        return this;\n      }\n    };\n  };\n\n  __proto.dragStart = function () {\n    return this;\n  };\n\n  __proto.hitTest = function () {\n    return 0;\n  };\n\n  __proto.isInside = function () {\n    return false;\n  };\n\n  __proto.isDragging = function () {\n    return false;\n  };\n\n  __proto.updateRenderPoses = function () {};\n\n  __proto.updateEvent = function () {};\n\n  __proto.checkUpdate = function () {};\n\n  __proto.triggerEvent = function () {};\n\n  __proto.updateAbles = function () {};\n\n  return MoveableIndividualGroup;\n}(MoveableManager);\n\nvar InitialMoveable =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(InitialMoveable, _super);\n\n  function InitialMoveable() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.refTargets = [];\n    _this.selectorMap = {};\n    return _this;\n  }\n\n  var __proto = InitialMoveable.prototype;\n\n  InitialMoveable.makeStyled = function () {\n    var cssMap = {};\n    var ables = this.getTotalAbles();\n    ables.forEach(function (_a) {\n      var css = _a.css;\n\n      if (!css) {\n        return;\n      }\n\n      css.forEach(function (text) {\n        cssMap[text] = true;\n      });\n    });\n    var style = getKeys(cssMap).join(\"\\n\");\n    this.defaultStyled = styled(\"div\", prefixCSS(PREFIX, MOVEABLE_CSS + style));\n  };\n\n  InitialMoveable.getTotalAbles = function () {\n    return __spreadArrays([Default, Groupable, IndividualGroupable, DragArea], this.defaultAbles);\n  };\n\n  __proto.render = function () {\n    var moveableContructor = this.constructor;\n\n    if (!moveableContructor.defaultStyled) {\n      moveableContructor.makeStyled();\n    }\n\n    var _a = this.props,\n        userAbles = _a.ables,\n        userProps = _a.props,\n        props = __rest(_a, [\"ables\", \"props\"]);\n\n    var refTargets = getRefTargets(props.target || props.targets);\n    var elementTargets = getElementTargets(refTargets, this.selectorMap);\n    this.refTargets = refTargets;\n    var isGroup = elementTargets.length > 1;\n    var totalAbles = moveableContructor.getTotalAbles();\n\n    var ables = __spreadArrays(totalAbles, userAbles || []);\n\n    var nextProps = __assign(__assign(__assign({}, props), userProps || {}), {\n      ables: ables\n    });\n\n    if (isGroup) {\n      if (props.individualGroupable) {\n        return createElement(MoveableIndividualGroup, __assign({\n          key: \"individual-group\",\n          ref: ref(this, \"moveable\"),\n          cssStyled: moveableContructor.defaultStyled\n        }, nextProps, {\n          target: null,\n          targets: elementTargets\n        }));\n      }\n\n      return createElement(MoveableGroup, __assign({\n        key: \"group\",\n        ref: ref(this, \"moveable\"),\n        cssStyled: moveableContructor.defaultStyled\n      }, nextProps, {\n        target: null,\n        targets: elementTargets\n      }));\n    } else {\n      return createElement(MoveableManager, __assign({\n        key: \"single\",\n        ref: ref(this, \"moveable\"),\n        cssStyled: moveableContructor.defaultStyled\n      }, nextProps, {\n        target: elementTargets[0]\n      }));\n    }\n  };\n\n  __proto.componentDidMount = function () {\n    this.updateRefs();\n  };\n\n  __proto.componentDidUpdate = function () {\n    this.updateRefs();\n  };\n\n  __proto.updateRefs = function (isReset) {\n    var refTargets = getRefTargets(this.props.target || this.props.targets);\n    var isUpdate = this.refTargets.some(function (target, i) {\n      var nextTarget = refTargets[i];\n\n      if (!target && !nextTarget) {\n        return false;\n      } else if (target !== nextTarget) {\n        return true;\n      }\n\n      return false;\n    });\n    var selectorMap = isReset ? {} : this.selectorMap;\n    var nextSelectorMap = {};\n    this.refTargets.forEach(function (target) {\n      if (isString(target)) {\n        if (!selectorMap[target]) {\n          isUpdate = true;\n          nextSelectorMap[target] = [].slice.call(document.querySelectorAll(target));\n        } else {\n          nextSelectorMap[target] = selectorMap[target];\n        }\n      }\n    });\n    this.selectorMap = nextSelectorMap;\n\n    if (isUpdate) {\n      this.forceUpdate();\n    }\n  };\n\n  __proto.getManager = function () {\n    return this.moveable;\n  };\n\n  InitialMoveable.defaultAbles = [];\n  InitialMoveable.defaultStyled = null;\n\n  __decorate([withMethods(MOVEABLE_METHODS)], InitialMoveable.prototype, \"moveable\", void 0);\n\n  return InitialMoveable;\n}(PureComponent);\n\nvar Moveable =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Moveable, _super);\n\n  function Moveable() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Moveable.defaultAbles = MOVEABLE_ABLES;\n  return Moveable;\n}(InitialMoveable);\n\nfunction makeMoveable(ables) {\n  var _a;\n\n  return _a =\n  /*#__PURE__*/\n  function (_super) {\n    __extends(Moveable, _super);\n\n    function Moveable() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    return Moveable;\n  }(InitialMoveable), _a.defaultAbles = ables, _a;\n}\n\nexport default Moveable;\nexport { InitialMoveable, MOVEABLE_ABLES, MOVEABLE_EVENTS, MOVEABLE_EVENTS_MAP, MOVEABLE_EVENTS_PROPS_MAP, MOVEABLE_METHODS, MOVEABLE_PROPS, MOVEABLE_PROPS_MAP, getElementInfo, makeMoveable };\n","/*\nCopyright (c) Daybrush\nname: react-simple-compat\nlicense: MIT\nauthor: Daybrush\nrepository: git+https://github.com/daybrush/react-simple-compat.git\nversion: 0.1.9\n*/\nimport { diff } from '@egjs/list-differ';\nimport { isArray, isString, isUndefined, decamelize } from '@daybrush/utils';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\nfunction isDiff(a, b) {\n  if (a === b) {\n    return false;\n  }\n\n  for (var i in a) {\n    if (!(i in b)) {\n      return true;\n    }\n  }\n\n  for (var i in b) {\n    if (a[i] !== b[i]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction diffObject(a, b) {\n  var keys1 = Object.keys(a);\n  var keys2 = Object.keys(b);\n  var result = diff(keys1, keys2, function (key) {\n    return key;\n  });\n  var added = {};\n  var removed = {};\n  var changed = {};\n  result.added.forEach(function (index) {\n    var name = keys2[index];\n    added[name] = b[name];\n  });\n  result.removed.forEach(function (index) {\n    var name = keys1[index];\n    removed[name] = a[name];\n  });\n  result.maintained.forEach(function (_a) {\n    var index = _a[0];\n    var name = keys1[index];\n    var values = [a[name], b[name]];\n\n    if (a[name] !== b[name]) {\n      changed[name] = values;\n    }\n  });\n  return {\n    added: added,\n    removed: removed,\n    changed: changed\n  };\n}\n\nfunction executeHooks(hooks) {\n  hooks.forEach(function (hook) {\n    hook();\n  });\n}\n\nfunction fillKeys(keys) {\n  var index = 0;\n  return keys.map(function (key) {\n    return key == null ? \"$compat\" + ++index : \"\" + key;\n  });\n}\n\nfunction createProvider(el, key, index, container) {\n  if (isString(el)) {\n    return new TextProvider(\"text_\" + el, key, index, container, null, {});\n  }\n\n  var providerClass = typeof el.type === \"string\" ? ElementProvider : el.type.prototype.render ? ComponentProvider : FunctionProvider;\n  return new providerClass(el.type, key, index, container, el.ref, el.props);\n}\n\nfunction flat(arr) {\n  var arr2 = [];\n  arr.forEach(function (el) {\n    arr2 = arr2.concat(isArray(el) ? flat(el) : el);\n  });\n  return arr2;\n}\n\nfunction getAttributes(props) {\n  var className = props.className,\n      otherProps = __rest(props, [\"className\"]);\n\n  if (className != null) {\n    otherProps.class = className;\n  }\n\n  delete otherProps.style;\n  delete otherProps.children;\n  return otherProps;\n}\n\nfunction fillProps(props, defaultProps) {\n  if (!defaultProps) {\n    return props;\n  }\n\n  for (var name in defaultProps) {\n    if (isUndefined(props[name])) {\n      props[name] = defaultProps[name];\n    }\n  }\n\n  return props;\n}\n\nfunction createElement(type, props) {\n  var children = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    children[_i - 2] = arguments[_i];\n  }\n\n  var _a = props || {},\n      key = _a.key,\n      ref = _a.ref,\n      otherProps = __rest(_a, [\"key\", \"ref\"]);\n\n  return {\n    type: type,\n    key: key,\n    ref: ref,\n    props: __assign(__assign({}, otherProps), {\n      children: flat(children).filter(function (child) {\n        return child != null && child !== false;\n      })\n    })\n  };\n}\n\nvar Provider =\n/*#__PURE__*/\nfunction () {\n  function Provider(type, key, index, container, ref, props) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    this.type = type;\n    this.key = key;\n    this.index = index;\n    this.container = container;\n    this.ref = ref;\n    this.props = props;\n    this._providers = [];\n  }\n\n  var __proto = Provider.prototype;\n\n  __proto._should = function (nextProps, nextState) {\n    return true;\n  };\n\n  __proto._update = function (hooks, nextElement, nextState, isForceUpdate) {\n    if (this.base && !isString(nextElement) && !isForceUpdate && !this._should(nextElement.props, nextState)) {\n      return false;\n    }\n\n    this.original = nextElement;\n\n    this._setState(nextState); // render\n\n\n    var prevProps = this.props;\n\n    if (!isString(nextElement)) {\n      this.props = nextElement.props;\n      this.ref = nextElement.ref;\n    }\n\n    this._render(hooks, this.base ? prevProps : {}, nextState);\n\n    return true;\n  };\n\n  __proto._mounted = function () {\n    var ref = this.ref;\n    ref && ref(this.base);\n  };\n\n  __proto._setState = function (nextstate) {\n    return;\n  };\n\n  __proto._updated = function () {\n    var ref = this.ref;\n    ref && ref(this.base);\n  };\n\n  __proto._destroy = function () {\n    var ref = this.ref;\n    ref && ref(null);\n  };\n\n  return Provider;\n}();\n\nfunction diffAttributes(attrs1, attrs2, el) {\n  var _a = diffObject(attrs1, attrs2),\n      added = _a.added,\n      removed = _a.removed,\n      changed = _a.changed;\n\n  for (var name in added) {\n    el.setAttribute(name, added[name]);\n  }\n\n  for (var name in changed) {\n    el.setAttribute(name, changed[name][1]);\n  }\n\n  for (var name in removed) {\n    el.removeAttribute(name);\n  }\n}\n\nfunction diffEvents(events1, events2, provier) {\n  var _a = diffObject(events1, events2),\n      added = _a.added,\n      removed = _a.removed,\n      changed = _a.changed;\n\n  for (var name in removed) {\n    provier.removeEventListener(name);\n  }\n\n  for (var name in added) {\n    provier.addEventListener(name, added[name]);\n  }\n\n  for (var name in changed) {\n    provier.removeEventListener(name);\n    provier.addEventListener(name, changed[name][1]);\n  }\n\n  for (var name in removed) {\n    provier.removeEventListener(name);\n  }\n}\n\nfunction diffStyle(style1, style2, el) {\n  var style = el.style;\n\n  var _a = diffObject(style1, style2),\n      added = _a.added,\n      removed = _a.removed,\n      changed = _a.changed;\n\n  for (var beforeName in added) {\n    var name = decamelize(beforeName, \"-\");\n\n    if (style.setProperty) {\n      style.setProperty(name, added[beforeName]);\n    } else {\n      style[name] = added[beforeName];\n    }\n  }\n\n  for (var beforeName in changed) {\n    var name = decamelize(beforeName, \"-\");\n\n    if (style.setProperty) {\n      style.setProperty(name, changed[beforeName][1]);\n    } else {\n      style[name] = changed[beforeName][1];\n    }\n  }\n\n  for (var beforeName in removed) {\n    var name = decamelize(beforeName, \"-\");\n\n    if (style.removeProperty) {\n      style.removeProperty(name);\n    } else {\n      style[name] = \"\";\n    }\n  }\n}\n\nfunction splitProps(props) {\n  var attributes = {};\n  var events = {};\n\n  for (var name in props) {\n    if (name.indexOf(\"on\") === 0) {\n      events[name.replace(\"on\", \"\").toLowerCase()] = props[name];\n    } else {\n      attributes[name] = props[name];\n    }\n  }\n\n  return {\n    attributes: attributes,\n    events: events\n  };\n}\n\nvar TextProvider =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(TextProvider, _super);\n\n  function TextProvider() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = TextProvider.prototype;\n\n  __proto._render = function (hooks) {\n    var _this = this;\n\n    var isMount = !this.base;\n\n    if (isMount) {\n      this.base = document.createTextNode(this.type.replace(\"text_\", \"\"));\n    }\n\n    hooks.push(function () {\n      if (isMount) {\n        _this._mounted();\n      } else {\n        _this._updated();\n      }\n    });\n    return true;\n  };\n\n  __proto._unmount = function () {\n    this.base.parentNode.removeChild(this.base);\n  };\n\n  return TextProvider;\n}(Provider);\n\nvar ElementProvider =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ElementProvider, _super);\n\n  function ElementProvider() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.events = {};\n    return _this;\n  }\n\n  var __proto = ElementProvider.prototype;\n\n  __proto.addEventListener = function (name, callback) {\n    var events = this.events;\n\n    events[name] = function (e) {\n      e.nativeEvent = e;\n      callback(e);\n    };\n\n    this.base.addEventListener(name, events[name]);\n  };\n\n  __proto.removeEventListener = function (name) {\n    var events = this.events;\n    this.base.removeEventListener(name, events[name]);\n    delete events[name];\n  };\n\n  __proto._should = function (nextProps) {\n    return isDiff(this.props, nextProps);\n  };\n\n  __proto._render = function (hooks, prevProps) {\n    var _this = this;\n\n    var isMount = !this.base;\n\n    if (isMount) {\n      this.base = document.createElement(this.type);\n    }\n\n    renderProviders(this, this._providers, this.props.children, hooks, null);\n    var base = this.base;\n\n    var _a = splitProps(prevProps),\n        prevAttributes = _a.attributes,\n        prevEvents = _a.events;\n\n    var _b = splitProps(this.props),\n        nextAttributes = _b.attributes,\n        nextEvents = _b.events;\n\n    diffAttributes(getAttributes(prevAttributes), getAttributes(nextAttributes), base);\n    diffEvents(prevEvents, nextEvents, this);\n    diffStyle(prevProps.style || {}, this.props.style || {}, base);\n    hooks.push(function () {\n      if (isMount) {\n        _this._mounted();\n      } else {\n        _this._updated();\n      }\n    });\n    return true;\n  };\n\n  __proto._unmount = function () {\n    var events = this.events;\n    var base = this.base;\n\n    for (var name in events) {\n      base.removeEventListener(name, events[name]);\n    }\n\n    this._providers.forEach(function (provider) {\n      provider._unmount();\n    });\n\n    this.events = {};\n    base.parentNode.removeChild(base);\n  };\n\n  return ElementProvider;\n}(Provider);\n\nfunction findContainerNode(provider) {\n  if (!provider) {\n    return null;\n  }\n\n  var base = provider.base;\n\n  if (base instanceof Node) {\n    return base;\n  }\n\n  return findContainerNode(provider.container);\n}\n\nfunction findDOMNode(comp) {\n  if (!comp) {\n    return null;\n  }\n\n  if (comp instanceof Node) {\n    return comp;\n  }\n\n  var providers = comp._provider._providers;\n\n  if (!providers.length) {\n    return null;\n  }\n\n  return findDOMNode(providers[0].base);\n}\n\nvar FunctionProvider =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(FunctionProvider, _super);\n\n  function FunctionProvider() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = FunctionProvider.prototype;\n\n  __proto._render = function (hooks) {\n    var template = this.type(this.props);\n    renderProviders(this, this._providers, template ? [template] : [], hooks);\n    return true;\n  };\n\n  __proto._unmount = function () {\n    this._providers.forEach(function (provider) {\n      provider._unmount();\n    });\n  };\n\n  return FunctionProvider;\n}(Provider);\n\nvar ContainerProvider =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ContainerProvider, _super);\n\n  function ContainerProvider(base) {\n    var _this = _super.call(this, \"container\", \"container\", 0, null) || this;\n\n    _this.base = base;\n    return _this;\n  }\n\n  var __proto = ContainerProvider.prototype;\n\n  __proto._render = function () {\n    return true;\n  };\n\n  __proto._unmount = function () {\n    return;\n  };\n\n  return ContainerProvider;\n}(Provider);\n\nvar ComponentProvider =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(ComponentProvider, _super);\n\n  function ComponentProvider(type, key, index, container, ref, props) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    return _super.call(this, type, key, index, container, ref, fillProps(props, type.defaultProps)) || this;\n  }\n\n  var __proto = ComponentProvider.prototype;\n\n  __proto._should = function (nextProps, nextState) {\n    return this.base.shouldComponentUpdate(fillProps(nextProps, this.type.defaultProps), nextState || this.base.state);\n  };\n\n  __proto._render = function (hooks, prevProps, nextState) {\n    var _this = this;\n\n    this.props = fillProps(this.props, this.type.defaultProps);\n    var isMount = !this.base;\n\n    if (isMount) {\n      this.base = new this.type(this.props);\n      this.base._provider = this;\n    } else {\n      this.base.props = this.props;\n    }\n\n    var base = this.base;\n    var prevState = base.state;\n    var template = base.render();\n\n    if (template && template.props && !template.props.children.length) {\n      template.props.children = this.props.children;\n    }\n\n    renderProviders(this, this._providers, template ? [template] : [], hooks, nextState, null);\n    hooks.push(function () {\n      if (isMount) {\n        _this._mounted();\n\n        base.componentDidMount();\n      } else {\n        _this._updated();\n\n        base.componentDidUpdate(prevProps, prevState);\n      }\n    });\n  };\n\n  __proto._setState = function (nextState) {\n    if (!nextState) {\n      return;\n    }\n\n    var base = this.base;\n    base.state = nextState;\n  };\n\n  __proto._unmount = function () {\n    this._providers.forEach(function (provider) {\n      provider._unmount();\n    });\n\n    this.base.componentWillUnmount();\n  };\n\n  return ComponentProvider;\n}(Provider);\n\nvar Component =\n/*#__PURE__*/\nfunction () {\n  function Component(props) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    this.props = props;\n    this.state = {};\n  }\n\n  var __proto = Component.prototype;\n\n  __proto.shouldComponentUpdate = function (props, state) {\n    return true;\n  };\n\n  __proto.render = function () {\n    return null;\n  };\n\n  __proto.setState = function (state, callback, isForceUpdate) {\n    var hooks = [];\n    var provider = this._provider;\n    var isUpdate = renderProviders(provider.container, [provider], [provider.original], hooks, __assign(__assign({}, this.state), state), isForceUpdate);\n\n    if (isUpdate) {\n      if (callback) {\n        hooks.push(callback);\n      }\n\n      executeHooks(hooks);\n    }\n  };\n\n  __proto.forceUpdate = function (callback) {\n    this.setState(this.state, callback, true);\n  };\n\n  __proto.componentDidMount = function () {};\n\n  __proto.componentDidUpdate = function (prevProps, prevState) {};\n\n  __proto.componentWillUnmount = function () {};\n\n  return Component;\n}();\n\nvar PureComponent =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(PureComponent, _super);\n\n  function PureComponent() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = PureComponent.prototype;\n\n  __proto.shouldComponentUpdate = function (props, state) {\n    return isDiff(this.props, props) || isDiff(this.state, state);\n  };\n\n  return PureComponent;\n}(Component);\n\nvar _Portal =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(_Portal, _super);\n\n  function _Portal() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  var __proto = _Portal.prototype;\n\n  __proto.componentDidMount = function () {\n    var _a = this.props,\n        element = _a.element,\n        container = _a.container;\n    this._portalProvider = new ContainerProvider(container);\n    renderProvider(element, container, this._portalProvider);\n  };\n\n  __proto.componentDidUpdate = function () {\n    var _a = this.props,\n        element = _a.element,\n        container = _a.container;\n    renderProvider(element, container, this._portalProvider);\n  };\n\n  __proto.componentWillUnmount = function () {\n    var container = this.props.container;\n    renderProvider(null, container, this._portalProvider);\n    this._portalProvider = null;\n  };\n\n  return _Portal;\n}(PureComponent);\n\nfunction updateProvider(provider, children, nextState) {\n  var hooks = [];\n  renderProviders(provider, provider._providers, children, hooks, nextState);\n  executeHooks(hooks);\n}\n\nfunction getNextSibiling(provider, childProvider) {\n  var childProviders = provider._providers;\n  var length = childProviders.length;\n\n  for (var i = childProvider.index + 1; i < length; ++i) {\n    var el = findDOMNode(childProviders[i].base);\n\n    if (el) {\n      return el;\n    }\n  }\n\n  return null;\n}\n\nfunction diffProviders(containerProvider, providers, children) {\n  var childrenKeys = children.map(function (p) {\n    return isString(p) ? null : p.key;\n  });\n  var keys1 = fillKeys(providers.map(function (p) {\n    return p.key;\n  }));\n  var keys2 = fillKeys(childrenKeys);\n  var result = diff(keys1, keys2, function (key) {\n    return key;\n  });\n  result.removed.forEach(function (index) {\n    providers.splice(index, 1)[0]._unmount();\n  });\n  result.ordered.forEach(function (_a) {\n    var from = _a[0],\n        to = _a[1];\n    var childrenProvider = providers.splice(from, 1)[0];\n    providers.splice(to, 0, childrenProvider);\n    var el = findDOMNode(childrenProvider.base);\n    var next = findDOMNode(providers[to + 1] && providers[to + 1].base);\n\n    if (el) {\n      el.parentNode.insertBefore(el, next);\n    }\n  });\n  result.added.forEach(function (index) {\n    providers.splice(index, 0, createProvider(children[index], childrenKeys[index], index, containerProvider));\n  });\n  var changed = result.maintained.filter(function (_a) {\n    var _ = _a[0],\n        to = _a[1];\n    var el = children[to];\n    var childProvider = providers[to];\n    var type = isString(el) ? \"text_\" + el : el.type;\n\n    if (type !== childProvider.type) {\n      childProvider._unmount();\n\n      providers.splice(to, 1, createProvider(el, childrenKeys[to], to, containerProvider));\n      return true;\n    }\n\n    childProvider.index = to;\n    return false;\n  });\n  return __spreadArrays(result.added, changed.map(function (_a) {\n    var _ = _a[0],\n        to = _a[1];\n    return to;\n  }));\n}\n\nfunction renderProviders(containerProvider, providers, children, updatedHooks, nextState, isForceUpdate) {\n  var result = diffProviders(containerProvider, providers, children);\n  var updated = providers.filter(function (childProvider, i) {\n    return childProvider._update(updatedHooks, children[i], nextState, isForceUpdate);\n  });\n  var containerNode = findContainerNode(containerProvider);\n\n  if (containerNode) {\n    result.reverse().forEach(function (index) {\n      var childProvider = providers[index];\n      var el = findDOMNode(childProvider.base);\n\n      if (!el) {\n        return;\n      }\n\n      if (containerNode !== el && !el.parentNode) {\n        var nextElement = getNextSibiling(containerProvider, childProvider);\n        containerNode.insertBefore(el, nextElement);\n      }\n    });\n  }\n\n  return updated.length > 0;\n}\n\nfunction renderProvider(element, container, provider) {\n  if (provider === void 0) {\n    provider = container.__REACT_COMPAT__;\n  }\n\n  var isProvider = !!provider;\n\n  if (!provider) {\n    provider = new ContainerProvider(container);\n  }\n\n  updateProvider(provider, element ? [element] : []);\n\n  if (!isProvider) {\n    container.__REACT_COMPAT__ = provider;\n  }\n\n  return provider;\n}\n\nfunction render(element, container, callback) {\n  var provider = container.__REACT_COMPAT__;\n\n  if (element && !provider) {\n    container.innerHTML = \"\";\n  }\n\n  renderProvider(element, container, provider);\n  callback && callback();\n}\nfunction createPortal(el, container) {\n  return createElement(_Portal, {\n    element: el,\n    container: container\n  });\n}\n\nexport { Component, PureComponent, createElement, createPortal, findDOMNode, render };\n//# sourceMappingURL=compat.esm.js.map\n","/*\nCopyright (c) 2016 Daybrush\nname: scenejs\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/scenejs.git\nversion: 1.4.3\n*/\nimport { between, isString, splitText, isArray, splitComma, splitSpace, RGBA, splitBracket, COLOR_MODELS, stringToRGBA, OBJECT, ARRAY, PROPERTY, STRING, NUMBER, isObject, IS_WINDOW, $, ANIMATION, removeEvent, addEvent, requestAnimationFrame, cancelAnimationFrame, splitUnit, camelize, getKeys, sortOrders, isUndefined, FILTER, TRANSFORM, FUNCTION, dot as dot$1, isFunction, toArray, fromCSS, findIndex, find, KEYFRAMES, addClass, removeClass, hasClass, decamelize } from '@daybrush/utils';\nimport EventEmitter from '@scena/event-emitter';\nimport OrderMap from 'order-map';\nimport styled from 'css-styled';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n}\n\nfunction cubic(y1, y2, t) {\n  var t2 = 1 - t; // Bezier Curve Formula\n\n  return t * t * t + 3 * t * t * t2 * y2 + 3 * t * t2 * t2 * y1;\n}\n\nfunction solveFromX(x1, x2, x) {\n  // x  0 ~ 1\n  // t 0 ~ 1\n  var t = x;\n  var solveX = x;\n  var dx = 1;\n\n  while (Math.abs(dx) > 1 / 1000) {\n    // 예상 t초에 의한 _x값\n    solveX = cubic(x1, x2, t);\n    dx = solveX - x; // 차이가 미세하면 그 값을 t로 지정\n\n    if (Math.abs(dx) < 1 / 1000) {\n      return t;\n    }\n\n    t -= dx / 2;\n  }\n\n  return t;\n}\n/**\n * @namespace easing\n */\n\n/**\n* Cubic Bezier curve.\n* @memberof easing\n* @func bezier\n* @param {number} [x1] - point1's x\n* @param {number} [y1] - point1's y\n* @param {number} [x2] - point2's x\n* @param {number} [y2] - point2's y\n* @return {function} the curve function\n* @example\nimport {bezier} from \"scenejs\";\nScene.bezier(0, 0, 1, 1) // LINEAR\nScene.bezier(0.25, 0.1, 0.25, 1) // EASE\n*/\n\n\nfunction bezier(x1, y1, x2, y2) {\n  /*\n        x = f(t)\n        calculate inverse function by x\n        t = f-1(x)\n    */\n  var func = function (x) {\n    var t = solveFromX(x1, x2, between(x, 0, 1));\n    return cubic(y1, y2, t);\n  };\n\n  func.easingName = \"cubic-bezier(\" + x1 + \",\" + y1 + \",\" + x2 + \",\" + y2 + \")\";\n  return func;\n}\n/**\n* Specifies a stepping function\n* @see {@link https://www.w3schools.com/cssref/css3_pr_animation-timing-function.asp|CSS3 Timing Function}\n* @memberof easing\n* @func steps\n* @param {number} count - point1's x\n* @param {\"start\" | \"end\"} postion - point1's y\n* @return {function} the curve function\n* @example\nimport {steps} from \"scenejs\";\nScene.steps(1, \"start\") // Scene.STEP_START\nScene.steps(1, \"end\") // Scene.STEP_END\n*/\n\nfunction steps(count, position) {\n  var func = function (time) {\n    var level = 1 / count;\n\n    if (time >= 1) {\n      return 1;\n    }\n\n    return (position === \"start\" ? level : 0) + Math.floor(time / level) * level;\n  };\n\n  func.easingName = \"steps(\" + count + \", \" + position + \")\";\n  return func;\n}\n/**\n* Equivalent to steps(1, start)\n* @memberof easing\n* @name STEP_START\n* @static\n* @type {function}\n* @example\nimport {STEP_START} from \"scenejs\";\nScene.STEP_START // steps(1, start)\n*/\n\nvar STEP_START =\n/*#__PURE__#*/\nsteps(1, \"start\");\n/**\n* Equivalent to steps(1, end)\n* @memberof easing\n* @name STEP_END\n* @static\n* @type {function}\n* @example\nimport {STEP_END} from \"scenejs\";\nScene.STEP_END // steps(1, end)\n*/\n\nvar STEP_END =\n/*#__PURE__#*/\nsteps(1, \"end\");\n/**\n* Linear Speed (0, 0, 1, 1)\n* @memberof easing\n* @name LINEAR\n* @static\n* @type {function}\n* @example\nimport {LINEAR} from \"scenejs\";\nScene.LINEAR\n*/\n\nvar LINEAR =\n/*#__PURE__#*/\nbezier(0, 0, 1, 1);\n/**\n* Ease Speed (0.25, 0.1, 0.25, 1)\n* @memberof easing\n* @name EASE\n* @static\n* @type {function}\n* @example\nimport {EASE} from \"scenejs\";\nScene.EASE\n*/\n\nvar EASE =\n/*#__PURE__#*/\nbezier(0.25, 0.1, 0.25, 1);\n/**\n* Ease In Speed (0.42, 0, 1, 1)\n* @memberof easing\n* @name EASE_IN\n* @static\n* @type {function}\n* @example\nimport {EASE_IN} from \"scenejs\";\nScene.EASE_IN\n*/\n\nvar EASE_IN =\n/*#__PURE__#*/\nbezier(0.42, 0, 1, 1);\n/**\n* Ease Out Speed (0, 0, 0.58, 1)\n* @memberof easing\n* @name EASE_OUT\n* @static\n* @type {function}\n* @example\nimport {EASE_OUT} from \"scenejs\";\nScene.EASE_OUT\n*/\n\nvar EASE_OUT =\n/*#__PURE__#*/\nbezier(0, 0, 0.58, 1);\n/**\n* Ease In Out Speed (0.42, 0, 0.58, 1)\n* @memberof easing\n* @name EASE_IN_OUT\n* @static\n* @type {function}\n* @example\nimport {EASE_IN_OUT} from \"scenejs\";\nScene.EASE_IN_OUT\n*/\n\nvar EASE_IN_OUT =\n/*#__PURE__#*/\nbezier(0.42, 0, 0.58, 1);\n\nvar _a;\nvar PREFIX = \"__SCENEJS_\";\nvar DATA_SCENE_ID = \"data-scene-id\";\nvar TIMING_FUNCTION = \"animation-timing-function\";\nvar ROLES = {\n  transform: {},\n  filter: {},\n  attribute: {},\n  html: true\n};\nvar ALIAS = {\n  easing: [TIMING_FUNCTION]\n};\nvar FIXED = (_a = {}, _a[TIMING_FUNCTION] = true, _a.contents = true, _a.html = true, _a);\nvar MAXIMUM = 1000000;\nvar THRESHOLD = 0.000001;\nvar DURATION = \"duration\";\nvar FILL_MODE = \"fillMode\";\nvar DIRECTION = \"direction\";\nvar ITERATION_COUNT = \"iterationCount\";\nvar DELAY = \"delay\";\nvar EASING = \"easing\";\nvar PLAY_SPEED = \"playSpeed\";\nvar EASING_NAME = \"easingName\";\nvar ITERATION_TIME = \"iterationTime\";\nvar PAUSED = \"paused\";\nvar ENDED = \"ended\";\nvar TIMEUPDATE = \"timeupdate\";\nvar ANIMATE = \"animate\";\nvar PLAY = \"play\";\nvar RUNNING = \"running\";\nvar ITERATION = \"iteration\";\nvar START_ANIMATION = \"startAnimation\";\nvar PAUSE_ANIMATION = \"pauseAnimation\";\nvar ALTERNATE = \"alternate\";\nvar REVERSE = \"reverse\";\nvar ALTERNATE_REVERSE = \"alternate-reverse\";\nvar NORMAL = \"normal\";\nvar INFINITE = \"infinite\";\nvar PLAY_STATE = \"playState\";\nvar PLAY_CSS = \"playCSS\";\nvar PREV_TIME = \"prevTime\";\nvar TICK_TIME = \"tickTime\";\nvar CURRENT_TIME = \"currentTime\";\nvar SELECTOR = \"selector\";\nvar TRANSFORM_NAME = \"transform\";\nvar EASINGS = {\n  \"linear\": LINEAR,\n  \"ease\": EASE,\n  \"ease-in\": EASE_IN,\n  \"ease-out\": EASE_OUT,\n  \"ease-in-out\": EASE_IN_OUT,\n  \"step-start\": STEP_START,\n  \"step-end\": STEP_END\n};\nvar NAME_SEPARATOR = \"_///_\";\n/**\n* option name list\n* @name Scene.OPTIONS\n* @memberof Scene\n* @static\n* @type {$ts:OptionType}\n* @example\n* Scene.OPTIONS // [\"duration\", \"fillMode\", \"direction\", \"iterationCount\", \"delay\", \"easing\", \"playSpeed\"]\n*/\n\nvar OPTIONS = [DURATION, FILL_MODE, DIRECTION, ITERATION_COUNT, DELAY, EASING, PLAY_SPEED];\n/**\n* Event name list\n* @name Scene.EVENTS\n* @memberof Scene\n* @static\n* @type {$ts:EventType}\n* @example\n* Scene.EVENTS // [\"paused\", \"ended\", \"timeupdate\", \"animate\", \"play\", \"iteration\"];\n*/\n\nvar EVENTS = [PAUSED, ENDED, TIMEUPDATE, ANIMATE, PLAY, ITERATION];\n\n/**\n* Make string, array to PropertyObject for the dot product\n*/\n\nvar PropertyObject =\n/*#__PURE__*/\nfunction () {\n  /**\n    * @param - This value is in the array format.\n    * @param - options\n    * @example\n  var obj = new PropertyObject([100,100,100,0.5], {\n    \"separator\" : \",\",\n    \"prefix\" : \"rgba(\",\n    \"suffix\" : \")\"\n  });\n     */\n  function PropertyObject(value, options) {\n    this.prefix = \"\";\n    this.suffix = \"\";\n    this.model = \"\";\n    this.type = \"\";\n    this.separator = \",\";\n    options && this.setOptions(options);\n    this.value = isString(value) ? value.split(this.separator) : value;\n  }\n\n  var __proto = PropertyObject.prototype;\n\n  __proto.setOptions = function (newOptions) {\n    for (var name in newOptions) {\n      this[name] = newOptions[name];\n    }\n\n    return this;\n  };\n  /**\n    * the number of values.\n    * @example\n  const obj1 = new PropertyObject(\"1,2,3\", \",\");\n  console.log(obj1.length);\n  // 3\n     */\n\n\n  __proto.size = function () {\n    return this.value.length;\n  };\n  /**\n    * retrieve one of values at the index\n    * @param {Number} index - index\n    * @return {Object} one of values at the index\n    * @example\n  const obj1 = new PropertyObject(\"1,2,3\", \",\");\n  console.log(obj1.get(0));\n  // 1\n     */\n\n\n  __proto.get = function (index) {\n    return this.value[index];\n  };\n  /**\n    * Set the value at that index\n    * @param {Number} index - index\n    * @param {Object} value - text, a number, object to set\n    * @return {PropertyObject} An instance itself\n    * @example\n  const obj1 = new PropertyObject(\"1,2,3\", \",\");\n  obj1.set(0, 2);\n  console.log(obj1.toValue());\n  // 2,2,3\n     */\n\n\n  __proto.set = function (index, value) {\n    this.value[index] = value;\n    return this;\n  };\n  /**\n    * create a copy of an instance itself.\n    * @return {PropertyObject} clone\n    * @example\n  const obj1 = new PropertyObject(\"1,2,3\", \",\");\n  const obj2 = obj1.clone();\n     */\n\n\n  __proto.clone = function () {\n    var _a = this,\n        separator = _a.separator,\n        prefix = _a.prefix,\n        suffix = _a.suffix,\n        model = _a.model,\n        type = _a.type;\n\n    var arr = this.value.map(function (v) {\n      return v instanceof PropertyObject ? v.clone() : v;\n    });\n    return new PropertyObject(arr, {\n      separator: separator,\n      prefix: prefix,\n      suffix: suffix,\n      model: model,\n      type: type\n    });\n  };\n  /**\n    * Make Property Object to String\n    * @return {String} Make Property Object to String\n    * @example\n  //rgba(100, 100, 100, 0.5)\n  const obj4 = new PropertyObject([100,100,100,0.5], {\n    \"separator\" : \",\",\n    \"prefix\" : \"rgba(\",\n    \"suffix\" : \")\",\n  });\n  console.log(obj4.toValue());\n  // \"rgba(100,100,100,0.5)\"\n    */\n\n\n  __proto.toValue = function () {\n    return this.prefix + this.join() + this.suffix;\n  };\n  /**\n    * Make Property Object's array to String\n    * @return {String} Join the elements of an array into a string\n    * @example\n    //rgba(100, 100, 100, 0.5)\n    var obj4 = new PropertyObject([100,100,100,0.5], {\n        \"separator\" : \",\",\n        \"prefix\" : \"rgba(\",\n        \"suffix\" : \")\"\n    });\n    obj4.join();  // =>   \"100,100,100,0.5\"\n     */\n\n\n  __proto.join = function () {\n    return this.value.map(function (v) {\n      return v instanceof PropertyObject ? v.toValue() : v;\n    }).join(this.separator);\n  };\n  /**\n    * executes a provided function once per array element.\n    * @param {Function} callback - Function to execute for each element, taking three arguments\n    * @param {All} [callback.currentValue] The current element being processed in the array.\n    * @param {Number} [callback.index] The index of the current element being processed in the array.\n    * @param {Array} [callback.array] the array.\n    * @return {PropertyObject} An instance itself\n    * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach|MDN Array.forEach()} reference to MDN document.\n    * @example\n  //rgba(100, 100, 100, 0.5)\n  var obj4 = new PropertyObject([100,100,100,0.5], {\n    \"separator\" : \",\",\n    \"prefix\" : \"rgba(\",\n    \"suffix\" : \")\"\n  });\n  obj4.forEach(t => {\n    console.log(t);\n  });  // =>   \"100,100,100,0.5\"\n    */\n\n\n  __proto.forEach = function (func) {\n    this.value.forEach(func);\n    return this;\n  };\n\n  return PropertyObject;\n}();\n\n/**\n* @namespace\n* @name Property\n*/\nfunction splitStyle(str) {\n  var properties = splitText(str, \";\");\n  var obj = {};\n  var totalLength = properties.length;\n  var length = totalLength;\n\n  for (var i = 0; i < totalLength; ++i) {\n    var matches = splitText(properties[i], \":\");\n\n    if (matches.length < 2 || !matches[1]) {\n      --length;\n      continue;\n    }\n\n    obj[matches[0].trim()] = toPropertyObject(matches[1].trim());\n  }\n\n  return {\n    styles: obj,\n    length: length\n  };\n}\n/**\n* convert array to PropertyObject[type=color].\n* default model \"rgba\"\n* @memberof Property\n* @function arrayToColorObject\n* @param {Array|PropertyObject} value ex) [0, 0, 0, 1]\n* @return {PropertyObject} PropertyObject[type=color]\n* @example\narrayToColorObject([0, 0, 0])\n// => PropertyObject(type=\"color\", model=\"rgba\", value=[0, 0, 0, 1], separator=\",\")\n*/\n\nfunction arrayToColorObject(arr) {\n  var model = RGBA;\n\n  if (arr.length === 3) {\n    arr[3] = 1;\n  }\n\n  return new PropertyObject(arr, {\n    model: model,\n    separator: \",\",\n    type: \"color\",\n    prefix: model + \"(\",\n    suffix: \")\"\n  });\n}\n/**\n* convert text with parentheses to object.\n* @memberof Property\n* @function stringToBracketObject\n* @param {String} value ex) \"rgba(0,0,0,1)\"\n* @return {PropertyObject} PropertyObject\n* @example\nstringToBracketObject(\"abcde(0, 0, 0,1)\")\n// => PropertyObject(model=\"abcde\", value=[0, 0, 0,1], separator=\",\")\n*/\n\nfunction stringToBracketObject(text) {\n  // [prefix, value, other]\n  var _a = splitBracket(text),\n      model = _a.prefix,\n      value = _a.value,\n      afterModel = _a.suffix;\n\n  if (typeof value === \"undefined\") {\n    return text;\n  }\n\n  if (COLOR_MODELS.indexOf(model) > -1) {\n    return arrayToColorObject(stringToRGBA(text));\n  } // divide comma(,)\n\n\n  var obj = toPropertyObject(value, model);\n  var arr = [value];\n  var separator = \",\";\n  var prefix = model + \"(\";\n  var suffix = \")\" + afterModel;\n\n  if (obj instanceof PropertyObject) {\n    separator = obj.separator;\n    arr = obj.value;\n    prefix += obj.prefix;\n    suffix = obj.suffix + suffix;\n  }\n\n  return new PropertyObject(arr, {\n    separator: separator,\n    model: model,\n    prefix: prefix,\n    suffix: suffix\n  });\n}\nfunction arrayToPropertyObject(arr, separator) {\n  return new PropertyObject(arr, {\n    type: \"array\",\n    separator: separator\n  });\n}\n/**\n* convert text with parentheses to PropertyObject[type=color].\n* If the values are not RGBA model, change them RGBA mdoel.\n* @memberof Property\n* @function stringToColorObject\n* @param {String|PropertyObject} value ex) \"rgba(0,0,0,1)\"\n* @return {PropertyObject} PropertyObject[type=color]\n* @example\nstringToColorObject(\"rgba(0, 0, 0,1)\")\n// => PropertyObject(type=\"color\", model=\"rgba\", value=[0, 0, 0,1], separator=\",\")\n*/\n\nfunction stringToColorObject(value) {\n  var result = stringToRGBA(value);\n  return result ? arrayToColorObject(result) : value;\n}\nfunction toPropertyObject(value, model) {\n  if (!isString(value)) {\n    if (isArray(value)) {\n      return arrayToPropertyObject(value, \",\");\n    }\n\n    return value;\n  }\n\n  var values = splitComma(value);\n\n  if (values.length > 1) {\n    return arrayToPropertyObject(values.map(function (v) {\n      return toPropertyObject(v);\n    }), \",\");\n  }\n\n  values = splitSpace(value);\n\n  if (values.length > 1) {\n    return arrayToPropertyObject(values.map(function (v) {\n      return toPropertyObject(v);\n    }), \" \");\n  }\n\n  values = /^(['\"])([^'\"]*)(['\"])$/g.exec(value);\n\n  if (values && values[1] === values[3]) {\n    // Quotes\n    return new PropertyObject([toPropertyObject(values[2])], {\n      prefix: values[1],\n      suffix: values[1]\n    });\n  } else if (value.indexOf(\"(\") !== -1) {\n    // color\n    return stringToBracketObject(value);\n  } else if (value.charAt(0) === \"#\" && model !== \"url\") {\n    return stringToColorObject(value);\n  }\n\n  return value;\n}\nfunction toObject(object, result) {\n  if (result === void 0) {\n    result = {};\n  }\n\n  var model = object.model;\n\n  if (model) {\n    object.setOptions({\n      model: \"\",\n      suffix: \"\",\n      prefix: \"\"\n    });\n    var value = object.size() > 1 ? object : object.get(0);\n    result[model] = value;\n  } else {\n    object.forEach(function (obj) {\n      toObject(obj, result);\n    });\n  }\n\n  return result;\n}\n\nfunction isPropertyObject(value) {\n  return value instanceof PropertyObject;\n}\nfunction setAlias(name, alias) {\n  ALIAS[name] = alias;\n}\nfunction setRole(names, isProperty, isFixedProperty) {\n  var length = names.length;\n  var roles = ROLES;\n  var fixed = FIXED;\n\n  for (var i = 0; i < length - 1; ++i) {\n    !roles[names[i]] && (roles[names[i]] = {});\n    roles = roles[names[i]];\n\n    if (isFixedProperty) {\n      !fixed[names[i]] && (fixed[names[i]] = {});\n      fixed = fixed[names[i]];\n    }\n  }\n\n  isFixedProperty && (fixed[names[length - 1]] = true);\n  roles[names[length - 1]] = isProperty ? true : {};\n}\nfunction getType(value) {\n  var type = typeof value;\n\n  if (type === OBJECT) {\n    if (isArray(value)) {\n      return ARRAY;\n    } else if (isPropertyObject(value)) {\n      return PROPERTY;\n    }\n  } else if (type === STRING || type === NUMBER) {\n    return \"value\";\n  }\n\n  return type;\n}\nfunction isPureObject(obj) {\n  return isObject(obj) && obj.constructor === Object;\n}\nfunction getNames(names, stack) {\n  var arr = [];\n\n  if (isPureObject(names)) {\n    for (var name in names) {\n      stack.push(name);\n      arr = arr.concat(getNames(names[name], stack));\n      stack.pop();\n    }\n  } else {\n    arr.push(stack.slice());\n  }\n\n  return arr;\n}\nfunction updateFrame(names, properties) {\n  for (var name in properties) {\n    var value = properties[name];\n\n    if (!isPureObject(value)) {\n      names[name] = true;\n      continue;\n    }\n\n    if (!isObject(names[name])) {\n      names[name] = {};\n    }\n\n    updateFrame(names[name], properties[name]);\n  }\n\n  return names;\n}\nfunction toFixed(num) {\n  return Math.round(num * MAXIMUM) / MAXIMUM;\n}\nfunction getValueByNames(names, properties, length) {\n  if (length === void 0) {\n    length = names.length;\n  }\n\n  var value = properties;\n\n  for (var i = 0; i < length; ++i) {\n    if (!isObject(value) || value == null) {\n      return undefined;\n    }\n\n    value = value[names[i]];\n  }\n\n  return value;\n}\nfunction isInProperties(roles, args, isCheckTrue) {\n  var length = args.length;\n  var role = roles;\n\n  if (length === 0) {\n    return false;\n  }\n\n  for (var i = 0; i < length; ++i) {\n    if (role === true) {\n      return false;\n    }\n\n    role = role[args[i]];\n\n    if (!role || !isCheckTrue && role === true) {\n      return false;\n    }\n  }\n\n  return true;\n}\nfunction isRole(args, isCheckTrue) {\n  return isInProperties(ROLES, args, isCheckTrue);\n}\nfunction isFixed(args) {\n  return isInProperties(FIXED, args, true);\n}\nfunction setPlayCSS(item, isActivate) {\n  item.state[PLAY_CSS] = isActivate;\n}\nfunction isPausedCSS(item) {\n  return item.state[PLAY_CSS] && item.isPaused();\n}\nfunction isEndedCSS(item) {\n  return !item.isEnded() && item.state[PLAY_CSS];\n}\nfunction makeId(selector) {\n  for (;;) {\n    var id = \"\" + Math.floor(Math.random() * 10000000);\n\n    if (!IS_WINDOW || !selector) {\n      return id;\n    }\n\n    var checkElement = $(\"[data-scene-id=\\\"\" + id + \"\\\"]\");\n\n    if (!checkElement) {\n      return id;\n    }\n  }\n}\nfunction getRealId(item) {\n  return item.getId() || item.setId(makeId(false)).getId();\n}\nfunction toId(text) {\n  return (\"\" + text).match(/[0-9a-zA-Z]+/g).join(\"\");\n}\nfunction playCSS(item, isExportCSS, playClassName, properties) {\n  if (properties === void 0) {\n    properties = {};\n  }\n\n  if (!ANIMATION || item.getPlayState() === RUNNING) {\n    return;\n  }\n\n  var className = playClassName || START_ANIMATION;\n\n  if (isPausedCSS(item)) {\n    item.addPlayClass(true, className, properties);\n  } else {\n    if (item.isEnded()) {\n      item.setTime(0);\n    }\n\n    isExportCSS && item.exportCSS({\n      className: className\n    });\n    var el = item.addPlayClass(false, className, properties);\n\n    if (!el) {\n      return;\n    }\n\n    addAnimationEvent(item, el);\n    setPlayCSS(item, true);\n  }\n\n  item.setPlayState(RUNNING);\n}\nfunction addAnimationEvent(item, el) {\n  var state = item.state;\n  var duration = item.getDuration();\n  var isZeroDuration = !duration || !isFinite(duration);\n\n  var animationend = function () {\n    setPlayCSS(item, false);\n    item.finish();\n  };\n\n  var animationstart = function () {\n    item.trigger(PLAY);\n    addEvent(el, \"animationcancel\", animationend);\n    addEvent(el, \"animationend\", animationend);\n    addEvent(el, \"animationiteration\", animationiteration);\n  };\n\n  item.once(ENDED, function () {\n    removeEvent(el, \"animationcancel\", animationend);\n    removeEvent(el, \"animationend\", animationend);\n    removeEvent(el, \"animationiteration\", animationiteration);\n    removeEvent(el, \"animationstart\", animationstart);\n  });\n\n  var animationiteration = function (_a) {\n    var elapsedTime = _a.elapsedTime;\n    var currentTime = elapsedTime;\n    var iterationCount = isZeroDuration ? 0 : currentTime / duration;\n    state[CURRENT_TIME] = currentTime;\n    item.setIteration(iterationCount);\n  };\n\n  addEvent(el, \"animationstart\", animationstart);\n}\nfunction getEasing(curveArray) {\n  var easing;\n\n  if (isString(curveArray)) {\n    if (curveArray in EASINGS) {\n      easing = EASINGS[curveArray];\n    } else {\n      var obj = toPropertyObject(curveArray);\n\n      if (isString(obj)) {\n        return 0;\n      } else {\n        if (obj.model === \"cubic-bezier\") {\n          curveArray = obj.value.map(function (v) {\n            return parseFloat(v);\n          });\n          easing = bezier(curveArray[0], curveArray[1], curveArray[2], curveArray[3]);\n        } else if (obj.model === \"steps\") {\n          easing = steps(parseFloat(obj.value[0]), obj.value[1]);\n        } else {\n          return 0;\n        }\n      }\n    }\n  } else if (isArray(curveArray)) {\n    easing = bezier(curveArray[0], curveArray[1], curveArray[2], curveArray[3]);\n  } else {\n    easing = curveArray;\n  }\n\n  return easing;\n}\n\nfunction GetterSetter(getter, setter, parent) {\n  return function (constructor) {\n    var prototype = constructor.prototype;\n    getter.forEach(function (name) {\n      prototype[camelize(\"get \" + name)] = function () {\n        return this[parent][name];\n      };\n    });\n    setter.forEach(function (name) {\n      prototype[camelize(\"set \" + name)] = function (value) {\n        this[parent][name] = value;\n        return this;\n      };\n    });\n  };\n}\n\nfunction isDirectionReverse(iteration, iteraiontCount, direction) {\n  if (direction === REVERSE) {\n    return true;\n  } else if (iteraiontCount !== INFINITE && iteration === iteraiontCount && iteraiontCount % 1 === 0) {\n    return direction === (iteration % 2 >= 1 ? ALTERNATE_REVERSE : ALTERNATE);\n  }\n\n  return direction === (iteration % 2 >= 1 ? ALTERNATE : ALTERNATE_REVERSE);\n}\n/**\n* @typedef {Object} AnimatorState The Animator options. Properties used in css animation.\n* @property {number} [duration] The duration property defines how long an animation should take to complete one cycle.\n* @property {\"none\"|\"forwards\"|\"backwards\"|\"both\"} [fillMode] The fillMode property specifies a style for the element when the animation is not playing (before it starts, after it ends, or both).\n* @property {\"infinite\"|number} [iterationCount] The iterationCount property specifies the number of times an animation should be played.\n* @property {array|function} [easing] The easing(timing-function) specifies the speed curve of an animation.\n* @property {number} [delay] The delay property specifies a delay for the start of an animation.\n* @property {\"normal\"|\"reverse\"|\"alternate\"|\"alternate-reverse\"} [direction] The direction property defines whether an animation should be played forwards, backwards or in alternate cycles.\n*/\n\nvar setters = [\"id\", ITERATION_COUNT, DELAY, FILL_MODE, DIRECTION, PLAY_SPEED, DURATION, PLAY_SPEED, ITERATION_TIME, PLAY_STATE];\n\nvar getters = __spreadArrays(setters, [EASING, EASING_NAME]);\n/**\n* play video, animation, the others\n* @extends EventTrigger\n* @see {@link https://www.w3schools.com/css/css3_animations.asp|CSS3 Animation}\n*/\n\n\nvar Animator =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Animator, _super);\n  /**\n   * @param - animator's options\n   * @example\n  const animator = new Animator({\n    delay: 2,\n    diretion: \"alternate\",\n    duration: 2,\n    fillMode: \"forwards\",\n    iterationCount: 3,\n    easing: Scene.easing.EASE,\n  });\n   */\n\n\n  function Animator(options) {\n    var _this = _super.call(this) || this;\n\n    _this.timerId = 0;\n    _this.state = {\n      id: \"\",\n      easing: 0,\n      easingName: \"linear\",\n      iterationCount: 1,\n      delay: 0,\n      fillMode: \"forwards\",\n      direction: NORMAL,\n      playSpeed: 1,\n      currentTime: 0,\n      iterationTime: -1,\n      iteration: 0,\n      tickTime: 0,\n      prevTime: 0,\n      playState: PAUSED,\n      duration: 0\n    };\n\n    _this.setOptions(options);\n\n    return _this;\n  }\n  /**\n    * set animator's easing.\n    * @param curverArray - The speed curve of an animation.\n    * @return {Animator} An instance itself.\n    * @example\n  animator.({\n    delay: 2,\n    diretion: \"alternate\",\n    duration: 2,\n    fillMode: \"forwards\",\n    iterationCount: 3,\n    easing: Scene.easing.EASE,\n  });\n    */\n\n\n  var __proto = Animator.prototype;\n\n  __proto.setEasing = function (curveArray) {\n    var easing = getEasing(curveArray);\n    var easingName = easing && easing[EASING_NAME] || \"linear\";\n    var state = this.state;\n    state[EASING] = easing;\n    state[EASING_NAME] = easingName;\n    return this;\n  };\n  /**\n    * set animator's options.\n    * @see {@link https://www.w3schools.com/css/css3_animations.asp|CSS3 Animation}\n    * @param - animator's options\n    * @return {Animator} An instance itself.\n    * @example\n  animator.({\n    delay: 2,\n    diretion: \"alternate\",\n    duration: 2,\n    fillMode: \"forwards\",\n    iterationCount: 3,\n    easing: Scene.eaasing.EASE,\n  });\n    */\n\n\n  __proto.setOptions = function (options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    for (var name in options) {\n      var value = options[name];\n\n      if (name === EASING) {\n        this.setEasing(value);\n        continue;\n      } else if (name === DURATION) {\n        value && this.setDuration(value);\n        continue;\n      }\n\n      if (OPTIONS.indexOf(name) > -1) {\n        this.state[name] = value;\n      }\n    }\n\n    return this;\n  };\n  /**\n    * Get the animator's total duration including delay\n    * @return {number} Total duration\n    * @example\n  animator.getTotalDuration();\n    */\n\n\n  __proto.getTotalDuration = function () {\n    return this.getActiveDuration(true);\n  };\n  /**\n    * Get the animator's total duration excluding delay\n    * @return {number} Total duration excluding delay\n    * @example\n  animator.getActiveDuration();\n    */\n\n\n  __proto.getActiveDuration = function (delay) {\n    var state = this.state;\n    var count = state[ITERATION_COUNT];\n\n    if (count === INFINITE) {\n      return Infinity;\n    }\n\n    return (delay ? state[DELAY] : 0) + this.getDuration() * count;\n  };\n  /**\n    * Check if the animator has reached the end.\n    * @return {boolean} ended\n    * @example\n  animator.isEnded(); // true or false\n    */\n\n\n  __proto.isEnded = function () {\n    if (this.state[TICK_TIME] === 0 && this.state[PLAY_STATE] === PAUSED) {\n      return true;\n    } else if (this.getTime() < this.getActiveDuration()) {\n      return false;\n    }\n\n    return true;\n  };\n  /**\n    *Check if the animator is paused:\n    * @return {boolean} paused\n    * @example\n  animator.isPaused(); // true or false\n    */\n\n\n  __proto.isPaused = function () {\n    return this.state[PLAY_STATE] === PAUSED;\n  };\n\n  __proto.start = function (delay) {\n    if (delay === void 0) {\n      delay = this.state[DELAY];\n    }\n\n    var state = this.state;\n    state[PLAY_STATE] = RUNNING;\n\n    if (state[TICK_TIME] >= delay) {\n      /**\n       * This event is fired when play animator.\n       * @event Animator#play\n       */\n      this.trigger(PLAY);\n      return true;\n    }\n\n    return false;\n  };\n  /**\n    * play animator\n    * @return {Animator} An instance itself.\n    */\n\n\n  __proto.play = function (toTime) {\n    var _this = this;\n\n    var state = this.state;\n    var delay = state[DELAY];\n    var currentTime = this.getTime();\n    state[PLAY_STATE] = RUNNING;\n\n    if (this.isEnded() && (currentTime === 0 || currentTime >= this.getActiveDuration())) {\n      this.setTime(-delay, true);\n    }\n\n    this.timerId = requestAnimationFrame(function (time) {\n      state[PREV_TIME] = time;\n\n      _this.tick(time, toTime);\n    });\n    this.start();\n    return this;\n  };\n  /**\n    * pause animator\n    * @return {Animator} An instance itself.\n    */\n\n\n  __proto.pause = function () {\n    var state = this.state;\n\n    if (state[PLAY_STATE] !== PAUSED) {\n      state[PLAY_STATE] = PAUSED;\n      /**\n       * This event is fired when animator is paused.\n       * @event Animator#paused\n       */\n\n      this.trigger(PAUSED);\n    }\n\n    cancelAnimationFrame(this.timerId);\n    return this;\n  };\n  /**\n     * end animator\n     * @return {Animator} An instance itself.\n    */\n\n\n  __proto.finish = function () {\n    this.setTime(0);\n    this.state[TICK_TIME] = 0;\n    this.end();\n    return this;\n  };\n  /**\n     * end animator\n     * @return {Animator} An instance itself.\n    */\n\n\n  __proto.end = function () {\n    this.pause();\n    /**\n         * This event is fired when animator is ended.\n         * @event Animator#ended\n         */\n\n    this.trigger(ENDED);\n    return this;\n  };\n  /**\n    * set currentTime\n    * @param {Number|String} time - currentTime\n    * @return {Animator} An instance itself.\n    * @example\n  animator.setTime(\"from\"); // 0\n  animator.setTime(\"to\"); // 100%\n  animator.setTime(\"50%\");\n  animator.setTime(10);\n  animator.getTime() // 10\n    */\n\n\n  __proto.setTime = function (time, isTick, isParent) {\n    var activeDuration = this.getActiveDuration();\n    var state = this.state;\n    var prevTime = state[TICK_TIME];\n    var delay = state[DELAY];\n    var currentTime = isTick ? time : this.getUnitTime(time);\n    state[TICK_TIME] = delay + currentTime;\n\n    if (currentTime < 0) {\n      currentTime = 0;\n    } else if (currentTime > activeDuration) {\n      currentTime = activeDuration;\n    }\n\n    state[CURRENT_TIME] = currentTime;\n    this.calculate();\n\n    if (isTick && !isParent) {\n      var tickTime = state[TICK_TIME];\n\n      if (prevTime < delay && time >= 0) {\n        this.start(0);\n      }\n\n      if (tickTime < prevTime || this.isEnded()) {\n        this.end();\n        return;\n      }\n    }\n\n    if (this.isDelay()) {\n      return this;\n    }\n    /**\n         * This event is fired when the animator updates the time.\n         * @event Animator#timeupdate\n         * @param {Object} param The object of data to be sent to an event.\n         * @param {Number} param.currentTime The total time that the animator is running.\n         * @param {Number} param.time The iteration time during duration that the animator is running.\n         * @param {Number} param.iterationCount The iteration count that the animator is running.\n         */\n\n\n    this.trigger(TIMEUPDATE, {\n      currentTime: currentTime,\n      time: this.getIterationTime(),\n      iterationCount: state[ITERATION]\n    });\n    return this;\n  };\n  /**\n    * Get the animator's current time\n    * @return {number} current time\n    * @example\n  animator.getTime();\n    */\n\n\n  __proto.getTime = function () {\n    return this.state[CURRENT_TIME];\n  };\n\n  __proto.getUnitTime = function (time) {\n    if (isString(time)) {\n      var duration = this.getDuration() || 100;\n\n      if (time === \"from\") {\n        return 0;\n      } else if (time === \"to\") {\n        return duration;\n      }\n\n      var _a = splitUnit(time),\n          unit = _a.unit,\n          value = _a.value;\n\n      if (unit === \"%\") {\n        !this.getDuration() && this.setDuration(duration);\n        return toFixed(parseFloat(time) / 100 * duration);\n      } else if (unit === \">\") {\n        return value + THRESHOLD;\n      } else {\n        return value;\n      }\n    } else {\n      return toFixed(time);\n    }\n  };\n  /**\n     * Check if the current state of animator is delayed.\n     * @return {boolean} check delay state\n     */\n\n\n  __proto.isDelay = function () {\n    var state = this.state;\n    var delay = state[DELAY];\n    var tickTime = state[TICK_TIME];\n    return delay > 0 && tickTime < delay;\n  };\n\n  __proto.setIteration = function (iterationCount) {\n    var state = this.state;\n    var passIterationCount = Math.floor(iterationCount);\n    var maxIterationCount = state[ITERATION_COUNT] === INFINITE ? Infinity : state[ITERATION_COUNT];\n\n    if (state[ITERATION] < passIterationCount && passIterationCount < maxIterationCount) {\n      /**\n            * The event is fired when an iteration of an animation ends.\n            * @event Animator#iteration\n            * @param {Object} param The object of data to be sent to an event.\n            * @param {Number} param.currentTime The total time that the animator is running.\n            * @param {Number} param.iterationCount The iteration count that the animator is running.\n            */\n      this.trigger(ITERATION, {\n        currentTime: state[CURRENT_TIME],\n        iterationCount: passIterationCount\n      });\n    }\n\n    state[ITERATION] = iterationCount;\n    return this;\n  };\n\n  __proto.calculate = function () {\n    var state = this.state;\n    var iterationCount = state[ITERATION_COUNT];\n    var fillMode = state[FILL_MODE];\n    var direction = state[DIRECTION];\n    var duration = this.getDuration();\n    var time = this.getTime();\n    var iteration = duration === 0 ? 0 : time / duration;\n    var currentIterationTime = duration ? time % duration : 0;\n\n    if (!duration) {\n      this.setIterationTime(0);\n      return this;\n    }\n\n    this.setIteration(iteration); // direction : normal, reverse, alternate, alternate-reverse\n    // fillMode : forwards, backwards, both, none\n\n    var isReverse = isDirectionReverse(iteration, iterationCount, direction);\n    var isFiniteDuration = isFinite(duration);\n\n    if (isFiniteDuration && isReverse) {\n      currentIterationTime = duration - currentIterationTime;\n    }\n\n    if (isFiniteDuration && iterationCount !== INFINITE) {\n      var isForwards = fillMode === \"both\" || fillMode === \"forwards\"; // fill forwards\n\n      if (iteration >= iterationCount) {\n        currentIterationTime = duration * (isForwards ? iterationCount % 1 || 1 : 0);\n        isReverse && (currentIterationTime = duration - currentIterationTime);\n      }\n    }\n\n    this.setIterationTime(currentIterationTime);\n    return this;\n  };\n\n  __proto.tick = function (now, to) {\n    var _this = this;\n\n    if (this.isPaused()) {\n      return;\n    }\n\n    var state = this.state;\n    var playSpeed = state[PLAY_SPEED];\n    var prevTime = state[PREV_TIME];\n    var delay = state[DELAY];\n    var tickTime = state[TICK_TIME];\n    var currentTime = tickTime + Math.min(1000, now - prevTime) / 1000 * playSpeed;\n    state[PREV_TIME] = now;\n    this.setTime(currentTime - delay, true);\n\n    if (to && to * 1000 < now) {\n      this.pause();\n    }\n\n    if (state[PLAY_STATE] === PAUSED) {\n      return;\n    }\n\n    this.timerId = requestAnimationFrame(function (time) {\n      _this.tick(time, to);\n    });\n  };\n\n  Animator = __decorate([GetterSetter(getters, setters, \"state\")], Animator);\n  return Animator;\n}(EventEmitter);\n\nfunction toInnerProperties(obj, orders) {\n  if (orders === void 0) {\n    orders = [];\n  }\n\n  if (!obj) {\n    return \"\";\n  }\n\n  var arrObj = [];\n  var keys = getKeys(obj);\n  sortOrders(keys, orders);\n  keys.forEach(function (name) {\n    arrObj.push(name.replace(/\\d$/g, \"\") + \"(\" + obj[name] + \")\");\n  });\n  return arrObj.join(\" \");\n}\n/* eslint-disable */\n\n\nfunction clone(target, toValue) {\n  if (toValue === void 0) {\n    toValue = false;\n  }\n\n  return merge({}, target, toValue);\n}\n\nfunction merge(to, from, toValue) {\n  if (toValue === void 0) {\n    toValue = false;\n  }\n\n  for (var name in from) {\n    var value = from[name];\n    var type = getType(value);\n\n    if (type === PROPERTY) {\n      to[name] = toValue ? value.toValue() : value.clone();\n    } else if (type === FUNCTION) {\n      to[name] = toValue ? getValue([name], value) : value;\n    } else if (type === ARRAY) {\n      to[name] = value.slice();\n    } else if (type === OBJECT) {\n      if (isObject(to[name]) && !isPropertyObject(to[name])) {\n        merge(to[name], value, toValue);\n      } else {\n        to[name] = clone(value, toValue);\n      }\n    } else {\n      to[name] = from[name];\n    }\n  }\n\n  return to;\n}\n/* eslint-enable */\n\n\nfunction getPropertyName(args) {\n  return args[0] in ALIAS ? ALIAS[args[0]] : args;\n}\n\nfunction getValue(names, value) {\n  var type = getType(value);\n\n  if (type === PROPERTY) {\n    return value.toValue();\n  } else if (type === FUNCTION) {\n    if (names[0] !== TIMING_FUNCTION) {\n      return getValue(names, value());\n    }\n  } else if (type === OBJECT) {\n    return clone(value, true);\n  }\n\n  return value;\n}\n/**\n* Animation's Frame\n*/\n\n\nvar Frame =\n/*#__PURE__*/\nfunction () {\n  /**\n   * @param - properties\n   * @example\n  const frame = new Scene.Frame({\n    display: \"none\"\n    transform: {\n        translate: \"50px\",\n        scale: \"5, 5\",\n    }\n  });\n   */\n  function Frame(properties) {\n    if (properties === void 0) {\n      properties = {};\n    }\n\n    this.properties = {};\n    this.orderMap = new OrderMap(NAME_SEPARATOR);\n    this.properties = {}; // this.orders = [];\n\n    this.set(properties);\n  }\n  /**\n    * get property value\n    * @param {...Number|String|PropertyObject} args - property name or value\n    * @example\n    frame.get(\"display\") // => \"none\", \"block\", ....\n    frame.get(\"transform\", \"translate\") // => \"10px,10px\"\n    */\n\n\n  var __proto = Frame.prototype;\n\n  __proto.get = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var value = this.raw.apply(this, args);\n    return getValue(getPropertyName(args), value);\n  };\n  /**\n    * get properties orders\n    * @param - property names\n    * @example\n    frame.getOrders([\"display\"]) // => []\n    frame.getOrders([\"transform\"]) // => [\"translate\", \"scale\"]\n    */\n\n\n  __proto.getOrders = function (names) {\n    return this.orderMap.get(names);\n  };\n  /**\n    * set properties orders\n    * @param - property names\n    * @param - orders\n    * @example\n    frame.getOrders([\"transform\"]) // => [\"translate\", \"scale\"]\n    frame.setOrders([\"transform\"], [\"scale\", \"tralsate\"])\n    */\n\n\n  __proto.setOrders = function (names, orders) {\n    return this.orderMap.set(names, orders);\n  };\n  /**\n    * get properties order object\n    * @example\n    console.log(frame.getOrderObject());\n    */\n\n\n  __proto.getOrderObject = function () {\n    return this.orderMap.getObject();\n  };\n  /**\n    * set properties orders object\n    * @param - properties orders object\n    * @example\n    frame.setOrderObject({\n        \"\": [\"transform\"],\n        \"transform\": [\"scale\", \"tralsate\"],\n    });\n    */\n\n\n  __proto.setOrderObject = function (obj) {\n    this.orderMap.setObject(obj);\n  };\n  /**\n    * get property keys\n    * @param - property names\n    * @example\n    frame.gets(\"display\") // => []\n    frame.gets(\"transform\") // => [\"translate\"]\n    */\n\n\n  __proto.getKeys = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var value = this.raw.apply(this, args);\n    var keys = getType(value) === OBJECT ? getKeys(value) : [];\n    sortOrders(keys, this.orderMap.get(args));\n    return keys;\n  };\n  /**\n    * get properties array\n    * @param - property names\n    * @example\n    frame.gets(\"display\") // => []\n    frame.gets(\"transform\") // => [{ key: \"translate\", value: \"10px, 10px\", children: [] }]\n    */\n\n\n  __proto.gets = function () {\n    var _this = this;\n\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var values = this.get.apply(this, args);\n    var keys = this.getKeys.apply(this, args);\n    return keys.map(function (key) {\n      var nextValue = values[key];\n      return {\n        key: key,\n        value: nextValue,\n        children: _this.gets.apply(_this, __spreadArrays(args, [key]))\n      };\n    });\n  };\n\n  __proto.raw = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return getValueByNames(getPropertyName(args), this.properties);\n  };\n  /**\n    * remove property value\n    * @param {...String} args - property name\n    * @return {Frame} An instance itself\n    * @example\n    frame.remove(\"display\")\n    */\n\n\n  __proto.remove = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var params = getPropertyName(args);\n    var length = params.length;\n\n    if (!length) {\n      return this;\n    }\n\n    this.orderMap.remove(params);\n    var value = getValueByNames(params, this.properties, length - 1);\n\n    if (isObject(value)) {\n      delete value[params[length - 1]];\n    }\n\n    return this;\n  };\n  /**\n    * set property\n    * @param {...Number|String|PropertyObject} args - property names or values\n    * @return {Frame} An instance itself\n    * @example\n  // one parameter\n  frame.set({\n    display: \"none\",\n    transform: {\n        translate: \"10px, 10px\",\n        scale: \"1\",\n    },\n    filter: {\n        brightness: \"50%\",\n        grayscale: \"100%\"\n    }\n  });\n  // two parameters\n  frame.set(\"transform\", {\n    translate: \"10px, 10px\",\n    scale: \"1\",\n  });\n  // three parameters\n  frame.set(\"transform\", \"translate\", \"50px\");\n  */\n\n\n  __proto.set = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var self = this;\n    var length = args.length;\n    var params = args.slice(0, -1);\n    var value = args[length - 1];\n    var firstParam = params[0];\n\n    if (length === 1 && value instanceof Frame) {\n      self.merge(value);\n    } else if (firstParam in ALIAS) {\n      self._set(ALIAS[firstParam], value);\n    } else if (length === 2 && isArray(firstParam)) {\n      self._set(firstParam, value);\n    } else if (isPropertyObject(value)) {\n      if (isRole(params)) {\n        self.set.apply(self, __spreadArrays(params, [toObject(value)]));\n      } else {\n        self._set(params, value);\n      }\n    } else if (isArray(value)) {\n      self._set(params, value);\n    } else if (isObject(value)) {\n      if (!self.has.apply(self, params) && isRole(params)) {\n        self._set(params, {});\n      }\n\n      for (var name in value) {\n        self.set.apply(self, __spreadArrays(params, [name, value[name]]));\n      }\n    } else if (isString(value)) {\n      if (isRole(params, true)) {\n        if (isFixed(params) || !isRole(params)) {\n          this._set(params, value);\n        } else {\n          var obj = toPropertyObject(value);\n\n          if (isObject(obj)) {\n            self.set.apply(self, __spreadArrays(params, [obj]));\n          }\n        }\n\n        return this;\n      } else {\n        var _a = splitStyle(value),\n            styles = _a.styles,\n            stylesLength = _a.length;\n\n        for (var name in styles) {\n          self.set.apply(self, __spreadArrays(params, [name, styles[name]]));\n        }\n\n        if (stylesLength) {\n          return this;\n        }\n      }\n\n      self._set(params, value);\n    } else {\n      self._set(params, value);\n    }\n\n    return self;\n  };\n  /**\n    * Gets the names of properties.\n    * @return the names of properties.\n    * @example\n  // one parameter\n  frame.set({\n    display: \"none\",\n    transform: {\n        translate: \"10px, 10px\",\n        scale: \"1\",\n    },\n  });\n  // [[\"display\"], [\"transform\", \"translate\"], [\"transform\", \"scale\"]]\n  console.log(frame.getNames());\n  */\n\n\n  __proto.getNames = function () {\n    return getNames(this.properties, []);\n  };\n  /**\n    * check that has property.\n    * @param {...String} args - property name\n    * @example\n    frame.has(\"property\", \"display\") // => true or false\n    */\n\n\n  __proto.has = function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var params = getPropertyName(args);\n    var length = params.length;\n\n    if (!length) {\n      return false;\n    }\n\n    return !isUndefined(getValueByNames(params, this.properties, length));\n  };\n  /**\n    * clone frame.\n    * @return {Frame} An instance of clone\n    * @example\n    frame.clone();\n    */\n\n\n  __proto.clone = function () {\n    var frame = new Frame();\n    frame.setOrderObject(this.orderMap.orderMap);\n    return frame.merge(this);\n  };\n  /**\n    * merge one frame to other frame.\n    * @param - target frame.\n    * @return {Frame} An instance itself\n    * @example\n    frame.merge(frame2);\n    */\n\n\n  __proto.merge = function (frame) {\n    var properties = this.properties;\n    var frameProperties = frame.properties;\n\n    if (frameProperties) {\n      merge(properties, frameProperties);\n    }\n\n    return this;\n  };\n  /**\n    * Specifies an css object that coverted the frame.\n    * @return {object} cssObject\n    */\n\n\n  __proto.toCSSObject = function () {\n    var properties = this.get();\n    var cssObject = {};\n\n    for (var name in properties) {\n      if (isRole([name], true)) {\n        continue;\n      }\n\n      var value = properties[name];\n\n      if (name === TIMING_FUNCTION) {\n        cssObject[TIMING_FUNCTION.replace(\"animation\", ANIMATION)] = (isString(value) ? value : value[EASING_NAME]) || \"initial\";\n      } else {\n        cssObject[name] = value;\n      }\n    }\n\n    var transform = toInnerProperties(properties[TRANSFORM_NAME], this.orderMap.get([TRANSFORM_NAME]));\n    var filter = toInnerProperties(properties.filter, this.orderMap.get([FILTER]));\n    TRANSFORM && transform && (cssObject[TRANSFORM] = transform);\n    FILTER && filter && (cssObject[FILTER] = filter);\n    return cssObject;\n  };\n  /**\n    * Specifies an css text that coverted the frame.\n    * @return {string} cssText\n    */\n\n\n  __proto.toCSS = function () {\n    var cssObject = this.toCSSObject();\n    var cssArray = [];\n    var keys = getKeys(cssObject);\n    sortOrders(keys, this.orderMap.get([]));\n    keys.forEach(function (name) {\n      cssArray.push(name + \":\" + cssObject[name] + \";\");\n    });\n    return cssArray.join(\"\");\n  };\n  /**\n    * Remove All Properties\n    * @return {Frame} An instance itself\n    */\n\n\n  __proto.clear = function () {\n    this.properties = {};\n    this.orderMap.clear();\n    return this;\n  };\n\n  __proto._set = function (args, value) {\n    var properties = this.properties;\n    var length = args.length;\n\n    for (var i = 0; i < length - 1; ++i) {\n      var name = args[i];\n      !(name in properties) && (properties[name] = {});\n      properties = properties[name];\n    }\n\n    if (!length) {\n      return;\n    }\n\n    var lastParam = args[length - 1];\n    this.orderMap.add(args);\n\n    if (length === 1 && lastParam === TIMING_FUNCTION) {\n      properties[lastParam] = getEasing(value);\n    } else {\n      properties[lastParam] = isString(value) && !isFixed(args) ? toPropertyObject(value, lastParam) : value;\n    }\n  };\n\n  return Frame;\n}();\n\nfunction dotArray(a1, a2, b1, b2) {\n  var length = a2.length;\n  return a1.map(function (v1, i) {\n    if (i >= length) {\n      return v1;\n    } else {\n      return dot(v1, a2[i], b1, b2);\n    }\n  });\n}\n\nfunction dotColor(color1, color2, b1, b2) {\n  // convert array to PropertyObject(type=color)\n  var value1 = color1.value;\n  var value2 = color2.value; // If the model name is not same, the inner product is impossible.\n\n  var model1 = color1.model;\n  var model2 = color2.model;\n\n  if (model1 !== model2) {\n    // It is recognized as a string.\n    return dot(color1.toValue(), color2.toValue(), b1, b2);\n  }\n\n  if (value1.length === 3) {\n    value1[3] = 1;\n  }\n\n  if (value2.length === 3) {\n    value2[3] = 1;\n  }\n\n  var v = dotArray(value1, value2, b1, b2);\n  var colorModel = model1;\n\n  for (var i = 0; i < 3; ++i) {\n    v[i] = parseInt(v[i], 10);\n  }\n\n  var object = new PropertyObject(v, {\n    type: \"color\",\n    model: colorModel,\n    prefix: colorModel + \"(\",\n    suffix: \")\"\n  });\n  return object;\n}\n\nfunction dotObject(a1, a2, b1, b2) {\n  var a1Type = a1.type;\n\n  if (a1Type === \"color\") {\n    return dotColor(a1, a2, b1, b2);\n  }\n\n  var value1 = a1.value;\n  var value2 = a2.value;\n  var arr = dotArray(value1, value2, b1, b2);\n  return new PropertyObject(arr, {\n    type: a1Type,\n    separator: a1.separator || a2.separator,\n    prefix: a1.prefix || a2.prefix,\n    suffix: a1.suffix || a2.suffix,\n    model: a1.model || a2.model\n  });\n}\n/**\n* The dot product of a1 and a2 for the b1 and b2.\n* @memberof Dot\n* @function dot\n* @param {String|Number|PropertyObject} a1 value1\n* @param {String|Number|PropertyObject} a2 value2\n* @param {Number} b1 b1 ratio\n* @param {Number} b2 b2 ratio\n* @return {String} Not Array, Not Separator, Only Number & Unit\n* @return {PropertyObject} Array with Separator.\n* @example\ndot(1, 3, 0.3, 0.7);\n// => 1.6\n*/\n\n\nfunction dot(a1, a2, b1, b2) {\n  if (b2 === 0) {\n    return a2;\n  } else if (b1 === 0 || b1 + b2 === 0) {\n    // prevent division by zero.\n    return a1;\n  } // dot Object\n\n\n  var type1 = getType(a1);\n  var type2 = getType(a2);\n  var isFunction1 = type1 === FUNCTION;\n  var isFunction2 = type2 === FUNCTION;\n\n  if (isFunction1 || isFunction2) {\n    return function () {\n      return dot(isFunction1 ? toPropertyObject(a1()) : a1, isFunction2 ? toPropertyObject(a2()) : a2, b1, b2);\n    };\n  } else if (type1 === type2) {\n    if (type1 === PROPERTY) {\n      return dotObject(a1, a2, b1, b2);\n    } else if (type1 === ARRAY) {\n      return dotArray(a1, a2, b1, b2);\n    } else if (type1 !== \"value\") {\n      return a1;\n    }\n  } else {\n    return a1;\n  }\n\n  var v1 = splitUnit(\"\" + a1);\n  var v2 = splitUnit(\"\" + a2);\n  var v; // 숫자가 아닐경우 첫번째 값을 반환 b2가 0일경우 두번째 값을 반환\n\n  if (isNaN(v1.value) || isNaN(v2.value)) {\n    return a1;\n  } else {\n    v = dot$1(v1.value, v2.value, b1, b2);\n  }\n\n  var prefix = v1.prefix || v2.prefix;\n  var unit = v1.unit || v2.unit;\n\n  if (!prefix && !unit) {\n    return v;\n  }\n\n  return prefix + v + unit;\n}\nfunction dotValue(time, prevTime, nextTime, prevValue, nextValue, easing) {\n  if (time === prevTime) {\n    return prevValue;\n  } else if (time === nextTime) {\n    return nextValue;\n  } else if (!easing) {\n    return dot(prevValue, nextValue, time - prevTime, nextTime - time);\n  }\n\n  var ratio = easing((time - prevTime) / (nextTime - prevTime));\n  var value = dot(prevValue, nextValue, ratio, 1 - ratio);\n  return value;\n}\n\nfunction getNearTimeIndex(times, time) {\n  var length = times.length;\n\n  for (var i = 0; i < length; ++i) {\n    if (times[i] === time) {\n      return [i, i];\n    } else if (times[i] > time) {\n      return [i > 0 ? i - 1 : 0, i];\n    }\n  }\n\n  return [length - 1, length - 1];\n}\n\nfunction makeAnimationProperties(properties) {\n  var cssArray = [];\n\n  for (var name in properties) {\n    cssArray.push(ANIMATION + \"-\" + decamelize(name) + \":\" + properties[name] + \";\");\n  }\n\n  return cssArray.join(\"\");\n}\n\nfunction addTime(times, time) {\n  var length = times.length;\n\n  for (var i = 0; i < length; ++i) {\n    if (time < times[i]) {\n      times.splice(i, 0, time);\n      return;\n    }\n  }\n\n  times[length] = time;\n}\n\nfunction addEntry(entries, time, keytime) {\n  var prevEntry = entries[entries.length - 1];\n  (!prevEntry || prevEntry[0] !== time || prevEntry[1] !== keytime) && entries.push([toFixed(time), toFixed(keytime)]);\n}\n\nfunction getEntries(times, states) {\n  var entries = times.map(function (time) {\n    return [time, time];\n  });\n  var nextEntries = [];\n  states.forEach(function (state) {\n    var iterationCount = state[ITERATION_COUNT];\n    var delay = state[DELAY];\n    var playSpeed = state[PLAY_SPEED];\n    var direction = state[DIRECTION];\n    var intCount = Math.ceil(iterationCount);\n    var currentDuration = entries[entries.length - 1][0];\n    var length = entries.length;\n    var lastTime = currentDuration * iterationCount;\n\n    for (var i = 0; i < intCount; ++i) {\n      var isReverse = direction === REVERSE || direction === ALTERNATE && i % 2 || direction === ALTERNATE_REVERSE && !(i % 2);\n\n      for (var j = 0; j < length; ++j) {\n        var entry = entries[isReverse ? length - j - 1 : j];\n        var time = entry[1];\n        var currentTime = currentDuration * i + (isReverse ? currentDuration - entry[0] : entry[0]);\n        var prevEntry = entries[isReverse ? length - j : j - 1];\n\n        if (currentTime > lastTime) {\n          if (j !== 0) {\n            var prevTime = currentDuration * i + (isReverse ? currentDuration - prevEntry[0] : prevEntry[0]);\n            var divideTime = dot$1(prevEntry[1], time, lastTime - prevTime, currentTime - lastTime);\n            addEntry(nextEntries, (delay + currentDuration * iterationCount) / playSpeed, divideTime);\n          }\n\n          break;\n        } else if (currentTime === lastTime && nextEntries.length && nextEntries[nextEntries.length - 1][0] === lastTime + delay) {\n          break;\n        }\n\n        addEntry(nextEntries, (delay + currentTime) / playSpeed, time);\n      }\n    } // delay time\n\n\n    delay && nextEntries.unshift([0, nextEntries[0][1]]);\n    entries = nextEntries;\n    nextEntries = [];\n  });\n  return entries;\n}\n/**\n* manage Frame Keyframes and play keyframes.\n* @extends Animator\n* @example\nconst item = new SceneItem({\n    0: {\n        display: \"none\",\n    },\n    1: {\n        display: \"block\",\n        opacity: 0,\n    },\n    2: {\n        opacity: 1,\n    }\n});\n*/\n\nvar SceneItem =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(SceneItem, _super);\n  /**\n    * @param - properties\n    * @param - options\n    * @example\n    const item = new SceneItem({\n        0: {\n            display: \"none\",\n        },\n        1: {\n            display: \"block\",\n            opacity: 0,\n        },\n        2: {\n            opacity: 1,\n        }\n    });\n     */\n\n\n  function SceneItem(properties, options) {\n    var _this = _super.call(this) || this;\n\n    _this.times = [];\n    _this.items = {};\n    _this.nameMap = new OrderMap(NAME_SEPARATOR);\n    _this.elements = [];\n    _this.needUpdate = true;\n\n    _this.load(properties, options);\n\n    return _this;\n  }\n\n  var __proto = SceneItem.prototype;\n\n  __proto.getDuration = function () {\n    var times = this.times;\n    var length = times.length;\n    return (length === 0 ? 0 : times[length - 1]) || this.state[DURATION];\n  };\n  /**\n    * get size of list\n    * @return {Number} length of list\n    */\n\n\n  __proto.size = function () {\n    return this.times.length;\n  };\n\n  __proto.setDuration = function (duration) {\n    if (!duration) {\n      return this;\n    }\n\n    var originalDuration = this.getDuration();\n\n    if (originalDuration > 0) {\n      var ratio_1 = duration / originalDuration;\n\n      var _a = this,\n          times = _a.times,\n          items_1 = _a.items;\n\n      var obj_1 = {};\n      this.times = times.map(function (time) {\n        var time2 = toFixed(time * ratio_1);\n        obj_1[time2] = items_1[time];\n        return time2;\n      });\n      this.items = obj_1;\n    } else {\n      this.newFrame(duration);\n    }\n\n    return this;\n  };\n\n  __proto.setId = function (id) {\n    var state = this.state;\n    var elements = this.elements;\n    var length = elements.length;\n    state.id = id || makeId(!!length);\n\n    if (length && !state[SELECTOR]) {\n      var sceneId_1 = toId(this.getId());\n      state[SELECTOR] = \"[\" + DATA_SCENE_ID + \"=\\\"\" + sceneId_1 + \"\\\"]\";\n      elements.forEach(function (element) {\n        element.setAttribute(DATA_SCENE_ID, sceneId_1);\n      });\n    }\n\n    return this;\n  };\n  /**\n    * Set properties to the sceneItem at that time\n    * @param {Number} time - time\n    * @param {...String|Object} [properties] - property names or values\n    * @return {SceneItem} An instance itself\n    * @example\n  item.set(0, \"a\", \"b\") // item.getFrame(0).set(\"a\", \"b\")\n  console.log(item.get(0, \"a\")); // \"b\"\n    */\n\n\n  __proto.set = function (time) {\n    var _this = this;\n\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    if (time instanceof SceneItem) {\n      return this.set(0, time);\n    } else if (isArray(time)) {\n      var length = time.length;\n\n      for (var i = 0; i < length; ++i) {\n        var t = length === 1 ? 0 : this.getUnitTime(i / (length - 1) * 100 + \"%\");\n        this.set(t, time[i]);\n      }\n    } else if (isObject(time)) {\n      var _loop_1 = function (t) {\n        var value = time[t];\n        splitComma(t).forEach(function (eachTime) {\n          var realTime = _this.getUnitTime(eachTime);\n\n          if (isNaN(realTime)) {\n            getNames(value, [eachTime]).forEach(function (names) {\n              var _a;\n\n              var innerValue = getValueByNames(names.slice(1), value);\n              var arr = isArray(innerValue) ? innerValue : [getValueByNames(names, _this.target), innerValue];\n              var length = arr.length;\n\n              for (var i = 0; i < length; ++i) {\n                (_a = _this.newFrame(i / (length - 1) * 100 + \"%\")).set.apply(_a, __spreadArrays(names, [arr[i]]));\n              }\n            });\n          } else {\n            _this.set(realTime, value);\n          }\n        });\n      };\n\n      for (var t in time) {\n        _loop_1(t);\n      }\n    } else if (!isUndefined(time)) {\n      var value_1 = args[0];\n      splitComma(time + \"\").forEach(function (eachTime) {\n        var realTime = _this.getUnitTime(eachTime);\n\n        if (value_1 instanceof SceneItem) {\n          var delay = value_1.getDelay();\n          var frames = value_1.toObject(!_this.hasFrame(realTime + delay));\n          var duration = value_1.getDuration();\n          var direction = value_1.getDirection();\n          var isReverse = direction.indexOf(\"reverse\") > -1;\n\n          for (var frameTime in frames) {\n            var nextTime = isReverse ? duration - parseFloat(frameTime) : parseFloat(frameTime);\n\n            _this.set(realTime + nextTime, frames[frameTime]);\n          }\n        } else if (args.length === 1 && isArray(value_1)) {\n          value_1.forEach(function (item) {\n            _this.set(realTime, item);\n          });\n        } else {\n          var frame = _this.newFrame(realTime);\n\n          frame.set.apply(frame, args);\n        }\n      });\n    }\n\n    this.needUpdate = true;\n    return this;\n  };\n  /**\n    * Get properties of the sceneItem at that time\n    * @param {Number} time - time\n    * @param {...String|Object} args property's name or properties\n    * @return {Number|String|PropertyObejct} property value\n    * @example\n  item.get(0, \"a\"); // item.getFrame(0).get(\"a\");\n  item.get(0, \"transform\", \"translate\"); // item.getFrame(0).get(\"transform\", \"translate\");\n    */\n\n\n  __proto.get = function (time) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var frame = this.getFrame(time);\n    return frame && frame.get.apply(frame, args);\n  };\n  /**\n    * get properties orders\n    * @param - property names\n    * @example\n    item.getOrders([\"display\"]) // => []\n    item.getOrders([\"transform\"]) // => [\"translate\", \"scale\"]\n    */\n\n\n  __proto.getOrders = function (names) {\n    this.needUpdate && this.update();\n    return this.nameMap.get(names);\n  };\n  /**\n    * set properties orders\n    * @param - property names\n    * @param - orders\n    * @example\n    item.getOrders([\"transform\"]) // => [\"translate\", \"scale\"]\n    item.setOrders([\"transform\"], [\"scale\", \"tralsate\"])\n    */\n\n\n  __proto.setOrders = function (names, orders) {\n    this.needUpdate && this.update();\n    var result = this.nameMap.set(names, orders);\n    this.updateFrameOrders();\n    return result;\n  };\n  /**\n    * get properties order object\n    * @example\n    console.log(item.getOrderObject());\n    */\n\n\n  __proto.getOrderObject = function () {\n    return this.nameMap.getObject();\n  };\n  /**\n    * set properties orders object\n    * @param - properties orders object\n    * @example\n    item.setOrderObject({\n        \"\": [\"transform\"],\n        \"transform\": [\"scale\", \"tralsate\"],\n    });\n    */\n\n\n  __proto.setOrderObject = function (obj) {\n    this.nameMap.setObject(obj);\n    this.updateFrameOrders();\n  };\n  /**\n    * remove properties to the sceneItem at that time\n    * @param {Number} time - time\n    * @param {...String|Object} [properties] - property names or values\n    * @return {SceneItem} An instance itself\n    * @example\n  item.remove(0, \"a\");\n    */\n\n\n  __proto.remove = function (time) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    if (args.length) {\n      var frame = this.getFrame(time);\n      frame && frame.remove.apply(frame, args);\n    } else {\n      this.removeFrame(time);\n    }\n\n    this.needUpdate = true;\n    return this;\n  };\n  /**\n    * Append the item or object at the last time.\n    * @param - the scene item or item object\n    * @return An instance itself\n    * @example\n  item.append(new SceneItem({\n    0: {\n        opacity: 0,\n    },\n    1: {\n        opacity: 1,\n    }\n  }));\n  item.append({\n    0: {\n        opacity: 0,\n    },\n    1: {\n        opacity: 1,\n    }\n  });\n  item.set(item.getDuration(), {\n    0: {\n        opacity: 0,\n    },\n    1: {\n        opacity: 1,\n    }\n  });\n    */\n\n\n  __proto.append = function (item) {\n    if (item instanceof SceneItem) {\n      this.set(this.getDuration(), item);\n    } else {\n      this.append(new SceneItem(item));\n    }\n\n    return this;\n  };\n  /**\n    * Push the front frames for the time and prepend the scene item or item object.\n    * @param - the scene item or item object\n    * @return An instance itself\n    */\n\n\n  __proto.prepend = function (item) {\n    if (item instanceof SceneItem) {\n      var unshiftTime = item.getDuration() + item.getDelay();\n      var firstFrame = this.getFrame(0); // remove first frame\n\n      this.removeFrame(0);\n      this.unshift(unshiftTime);\n      this.set(0, item);\n      this.set(unshiftTime + THRESHOLD, firstFrame);\n    } else {\n      this.prepend(new SceneItem(item));\n    }\n\n    return this;\n  };\n  /**\n   * Push out the amount of time.\n   * @param - time to push\n   * @example\n  item.get(0); // frame 0\n  item.unshift(3);\n  item.get(3) // frame 0\n   */\n\n\n  __proto.unshift = function (time) {\n    var _a = this,\n        times = _a.times,\n        items = _a.items;\n\n    var obj = {};\n    this.times = times.map(function (t) {\n      var time2 = toFixed(time + t);\n      obj[time2] = items[t];\n      return time2;\n    });\n    this.items = obj;\n    return this;\n  };\n  /**\n   * Get the frames in the item in object form.\n   * @return {}\n   * @example\n  item.toObject();\n  // {0: {display: \"none\"}, 1: {display: \"block\"}}\n   */\n\n\n  __proto.toObject = function (isStartZero) {\n    if (isStartZero === void 0) {\n      isStartZero = true;\n    }\n\n    var obj = {};\n    var delay = this.getDelay();\n    this.forEach(function (frame, time) {\n      obj[(!time && !isStartZero ? THRESHOLD : 0) + delay + time] = frame.clone();\n    });\n    return obj;\n  };\n  /**\n   * Specifies an element to synchronize items' keyframes.\n   * @param {string} selectors - Selectors to find elements in items.\n   * @return {SceneItem} An instance itself\n   * @example\n  item.setSelector(\"#id.class\");\n   */\n\n\n  __proto.setSelector = function (target) {\n    if (isFunction(target)) {\n      this.setElement(target(this.getId()));\n    } else {\n      this.setElement(target);\n    }\n\n    return this;\n  };\n  /**\n   * Get the elements connected to SceneItem.\n   */\n\n\n  __proto.getElements = function () {\n    return this.elements;\n  };\n  /**\n   * Specifies an element to synchronize item's keyframes.\n   * @param - elements to synchronize item's keyframes.\n   * @param - Make sure that you have peusdo.\n   * @return {SceneItem} An instance itself\n   * @example\n  item.setElement(document.querySelector(\"#id.class\"));\n  item.setElement(document.querySelectorAll(\".class\"));\n   */\n\n\n  __proto.setElements = function (target) {\n    return this.setElement(target);\n  };\n  /**\n   * Specifies an element to synchronize item's keyframes.\n   * @param - elements to synchronize item's keyframes.\n   * @param - Make sure that you have peusdo.\n   * @return {SceneItem} An instance itself\n   * @example\n  item.setElement(document.querySelector(\"#id.class\"));\n  item.setElement(document.querySelectorAll(\".class\"));\n   */\n\n\n  __proto.setElement = function (target) {\n    var state = this.state;\n    var elements = [];\n\n    if (!target) {\n      return this;\n    } else if (target === true || isString(target)) {\n      var selector = target === true ? \"\" + state.id : target;\n      var matches = /([\\s\\S]+)(:+[a-zA-Z]+)$/g.exec(selector);\n      elements = toArray($(matches ? matches[1] : selector, true));\n      state[SELECTOR] = selector;\n    } else {\n      elements = target instanceof Element ? [target] : toArray(target);\n    }\n\n    if (!elements.length) {\n      return this;\n    }\n\n    this.elements = elements;\n    this.setId(this.getId());\n    this.target = elements[0].style;\n\n    this.targetFunc = function (frame) {\n      var attributes = frame.get(\"attribute\");\n\n      if (attributes) {\n        var _loop_2 = function (name) {\n          elements.forEach(function (el) {\n            el.setAttribute(name, attributes[name]);\n          });\n        };\n\n        for (var name in attributes) {\n          _loop_2(name);\n        }\n      }\n\n      if (frame.has(\"html\")) {\n        var html_1 = frame.get(\"html\");\n        elements.forEach(function (el) {\n          el.innerHTML = html_1;\n        });\n      }\n\n      var cssText = frame.toCSS();\n\n      if (state.cssText !== cssText) {\n        state.cssText = cssText;\n        elements.forEach(function (el) {\n          el.style.cssText += cssText;\n        });\n        return frame;\n      }\n    };\n\n    return this;\n  };\n\n  __proto.setTarget = function (target) {\n    this.target = target;\n\n    this.targetFunc = function (frame) {\n      var obj = frame.get();\n\n      for (var name in obj) {\n        target[name] = obj[name];\n      }\n    };\n\n    return this;\n  };\n  /**\n    * add css styles of items's element to the frame at that time.\n    * @param - Time to synchronize and set css\n    * @param - elements to synchronize item's keyframes.\n    * @return {SceneItem} An instance itself\n    * @example\n  item.setElement(document.querySelector(\"#id.class\"));\n  item.setCSS(0, [\"opacity\"]);\n  item.setCSS(0, [\"opacity\", \"width\", \"height\"]);\n    */\n\n\n  __proto.setCSS = function (time, properties) {\n    if (properties === void 0) {\n      properties = [];\n    }\n\n    this.set(time, fromCSS(this.elements, properties));\n    return this;\n  };\n\n  __proto.setTime = function (time, isTick, isParent, parentEasing) {\n    _super.prototype.setTime.call(this, time, isTick, isParent);\n\n    var iterationTime = this.getIterationTime();\n    var easing = this.getEasing() || parentEasing;\n    var frame = this.getNowFrame(iterationTime, easing);\n    var currentTime = this.getTime();\n    this.temp = frame;\n    /**\n     * This event is fired when timeupdate and animate.\n     * @event SceneItem#animate\n     * @param {Number} param.currentTime The total time that the animator is running.\n     * @param {Number} param.time The iteration time during duration that the animator is running.\n     * @param {Frame} param.frame frame of that time.\n     */\n\n    this.trigger(\"animate\", {\n      frame: frame,\n      currentTime: currentTime,\n      time: iterationTime\n    });\n    this.targetFunc && this.targetFunc(frame);\n    return this;\n  };\n  /**\n    * update property names used in frames.\n    * @return {SceneItem} An instance itself\n    * @example\n  item.update();\n    */\n\n\n  __proto.update = function () {\n    var prevNameMap = this.nameMap;\n    var names = {};\n    this.forEach(function (frame) {\n      updateFrame(names, frame.properties);\n    });\n    var nameMap = new OrderMap(NAME_SEPARATOR);\n\n    function pushKeys(map, stack) {\n      var keys = getKeys(map);\n      sortOrders(keys, prevNameMap.get(stack));\n      nameMap.set(stack, keys);\n      keys.forEach(function (key) {\n        var nextMap = map[key];\n\n        if (isObject(nextMap)) {\n          pushKeys(nextMap, __spreadArrays(stack, [key]));\n        }\n      });\n    }\n\n    pushKeys(names, []);\n    this.nameMap = nameMap;\n    this.forEach(function (frame) {\n      frame.setOrderObject(nameMap.orderMap);\n    });\n    this.needUpdate = false;\n    return this;\n  };\n  /**\n    * Create and add a frame to the sceneItem at that time\n    * @param {Number} time - frame's time\n    * @return {Frame} Created frame.\n    * @example\n  item.newFrame(time);\n    */\n\n\n  __proto.newFrame = function (time) {\n    var frame = this.getFrame(time);\n\n    if (frame) {\n      return frame;\n    }\n\n    frame = new Frame();\n    this.setFrame(time, frame);\n    return frame;\n  };\n  /**\n    * Add a frame to the sceneItem at that time\n    * @param {Number} time - frame's time\n    * @return {SceneItem} An instance itself\n    * @example\n  item.setFrame(time, frame);\n    */\n\n\n  __proto.setFrame = function (time, frame) {\n    var realTime = this.getUnitTime(time);\n    this.items[realTime] = frame;\n    addTime(this.times, realTime);\n    this.needUpdate = true;\n    return this;\n  };\n  /**\n    * get sceneItem's frame at that time\n    * @param {Number} time - frame's time\n    * @return {Frame} sceneItem's frame at that time\n    * @example\n  const frame = item.getFrame(time);\n    */\n\n\n  __proto.getFrame = function (time) {\n    return this.items[this.getUnitTime(time)];\n  };\n  /**\n    * remove sceneItem's frame at that time\n    * @param - frame's time\n    * @return {SceneItem} An instance itself\n    * @example\n  item.removeFrame(time);\n    */\n\n\n  __proto.removeFrame = function (time) {\n    var realTime = this.getUnitTime(time);\n    var items = this.items;\n    var index = this.times.indexOf(realTime);\n    delete items[realTime]; // remove time\n\n    if (index > -1) {\n      this.times.splice(index, 1);\n    }\n\n    this.needUpdate = true;\n    return this;\n  };\n  /**\n    * check if the item has a frame at that time\n    * @param {Number} time - frame's time\n    * @return {Boolean} true: the item has a frame // false: not\n    * @example\n  if (item.hasFrame(10)) {\n    // has\n  } else {\n    // not\n  }\n    */\n\n\n  __proto.hasFrame = function (time) {\n    return this.getUnitTime(time) in this.items;\n  };\n  /**\n    * Check if keyframes has propery's name\n    * @param - property's time\n    * @return {boolean} true: if has property, false: not\n    * @example\n  item.hasName([\"transform\", \"translate\"]); // true or not\n    */\n\n\n  __proto.hasName = function (args) {\n    this.needUpdate && this.update();\n    return !!this.nameMap.get(args);\n  };\n  /**\n    * merge frame of the previous time at the next time.\n  * @param - The time of the frame to merge\n  * @param - The target frame\n    * @return {SceneItem} An instance itself\n    * @example\n  // getFrame(1) contains getFrame(0)\n  item.merge(0, 1);\n    */\n\n\n  __proto.mergeFrame = function (time, frame) {\n    if (frame) {\n      var toFrame = this.newFrame(time);\n      toFrame.merge(frame);\n    }\n\n    return this;\n  };\n  /**\n    * Get frame of the current time\n    * @param {Number} time - the current time\n    * @param {function} easing - the speed curve of an animation\n    * @return {Frame} frame of the current time\n    * @example\n  let item = new SceneItem({\n    0: {\n        display: \"none\",\n    },\n    1: {\n        display: \"block\",\n        opacity: 0,\n    },\n    2: {\n        opacity: 1,\n    }\n  });\n  // opacity: 0.7; display:\"block\";\n  const frame = item.getNowFrame(1.7);\n    */\n\n\n  __proto.getNowFrame = function (time, easing, isAccurate) {\n    var _this = this;\n\n    this.needUpdate && this.update();\n    var frame = new Frame();\n\n    var _a = getNearTimeIndex(this.times, time),\n        left = _a[0],\n        right = _a[1];\n\n    var realEasing = this.getEasing() || easing;\n    var nameMap = this.nameMap;\n\n    if (this.hasName([TIMING_FUNCTION])) {\n      var nowEasing = this.getNowValue(time, [TIMING_FUNCTION], left, right, false, 0, true);\n      isFunction(nowEasing) && (realEasing = nowEasing);\n    }\n\n    if (isAccurate) {\n      var prevFrame_1 = this.getFrame(time);\n      var prevOrderMap = prevFrame_1.orderMap.filter([], function (orders) {\n        return prevFrame_1.has.apply(prevFrame_1, orders);\n      });\n\n      for (var name in ROLES) {\n        var orders = nameMap.get([name]);\n\n        if (prevOrderMap.get([name]) && orders) {\n          prevOrderMap.set([name], orders);\n        }\n      }\n\n      nameMap = prevOrderMap;\n    }\n\n    var names = nameMap.gets([]);\n    frame.setOrderObject(nameMap.orderMap);\n    names.forEach(function (properties) {\n      var value = _this.getNowValue(time, properties, left, right, isAccurate, realEasing, isFixed(properties));\n\n      if (isUndefined(value)) {\n        return;\n      }\n\n      frame.set(properties, value);\n    });\n    return frame;\n  };\n\n  __proto.load = function (properties, options) {\n    var _a;\n\n    if (properties === void 0) {\n      properties = {};\n    }\n\n    if (options === void 0) {\n      options = properties.options;\n    }\n\n    options && this.setOptions(options);\n\n    if (isArray(properties)) {\n      this.set(properties);\n    } else if (properties.keyframes) {\n      this.set(properties.keyframes);\n    } else {\n      for (var time in properties) {\n        if (time !== \"options\") {\n          this.set((_a = {}, _a[time] = properties[time], _a));\n        }\n      }\n    }\n\n    if (options && options[DURATION]) {\n      this.setDuration(options[DURATION]);\n    }\n\n    return this;\n  };\n  /**\n     * clone SceneItem.\n     * @return {SceneItem} An instance of clone\n     * @example\n     * item.clone();\n     */\n\n\n  __proto.clone = function () {\n    var item = new SceneItem();\n    item.setOptions(this.state);\n    item.setOrderObject(this.nameMap.orderMap);\n    this.forEach(function (frame, time) {\n      item.setFrame(time, frame.clone());\n    });\n    return item;\n  };\n  /**\n     * executes a provided function once for each scene item.\n     * @param - Function to execute for each element, taking three arguments\n     * @return {Keyframes} An instance itself\n     */\n\n\n  __proto.forEach = function (callback) {\n    var times = this.times;\n    var items = this.items;\n    times.forEach(function (time) {\n      callback(items[time], time, items);\n    });\n    return this;\n  };\n\n  __proto.setOptions = function (options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    _super.prototype.setOptions.call(this, options);\n\n    var id = options.id,\n        selector = options.selector,\n        elements = options.elements,\n        element = options.element,\n        target = options.target;\n    id && this.setId(id);\n\n    if (target) {\n      this.setTarget(target);\n    } else if (selector) {\n      this.setSelector(selector);\n    } else if (elements || element) {\n      this.setElement(elements || element);\n    }\n\n    return this;\n  };\n\n  __proto.toCSS = function (playCondition, parentDuration, states) {\n    if (playCondition === void 0) {\n      playCondition = {\n        className: START_ANIMATION\n      };\n    }\n\n    if (parentDuration === void 0) {\n      parentDuration = this.getDuration();\n    }\n\n    if (states === void 0) {\n      states = [];\n    }\n\n    var itemState = this.state;\n    var selector = itemState[SELECTOR];\n\n    if (!selector) {\n      return \"\";\n    }\n\n    var originalDuration = this.getDuration();\n    itemState[DURATION] = originalDuration;\n    states.push(itemState);\n    var reversedStates = toArray(states).reverse();\n    var id = toId(getRealId(this));\n    var superParent = states[0];\n    var infiniteIndex = findIndex(reversedStates, function (state) {\n      return state[ITERATION_COUNT] === INFINITE || !isFinite(state[DURATION]);\n    }, states.length - 1);\n    var finiteStates = reversedStates.slice(0, infiniteIndex);\n    var duration = parentDuration || finiteStates.reduce(function (prev, cur) {\n      return (cur[DELAY] + prev * cur[ITERATION_COUNT]) / cur[PLAY_SPEED];\n    }, originalDuration);\n    var delay = reversedStates.slice(infiniteIndex).reduce(function (prev, cur) {\n      return (prev + cur[DELAY]) / cur[PLAY_SPEED];\n    }, 0);\n    var easingName = find(reversedStates, function (state) {\n      return state[EASING] && state[EASING_NAME];\n    }, itemState)[EASING_NAME];\n    var iterationCount = reversedStates[infiniteIndex][ITERATION_COUNT];\n    var fillMode = superParent[FILL_MODE];\n    var direction = reversedStates[infiniteIndex][DIRECTION];\n    var cssText = makeAnimationProperties({\n      fillMode: fillMode,\n      direction: direction,\n      iterationCount: iterationCount,\n      delay: delay + \"s\",\n      name: PREFIX + \"KEYFRAMES_\" + id,\n      duration: duration / superParent[PLAY_SPEED] + \"s\",\n      timingFunction: easingName\n    });\n    var selectors = splitComma(selector).map(function (sel) {\n      var matches = /([\\s\\S]+)(:+[a-zA-Z]+)$/g.exec(sel);\n\n      if (matches) {\n        return [matches[1], matches[2]];\n      } else {\n        return [sel, \"\"];\n      }\n    });\n    var className = playCondition.className;\n    var selectorCallback = playCondition.selector;\n    var preselector = isFunction(selectorCallback) ? selectorCallback(this, selector) : selectorCallback;\n    return \"\\n    \" + (preselector || selectors.map(function (_a) {\n      var sel = _a[0],\n          peusdo = _a[1];\n      return sel + \".\" + className + peusdo;\n    })) + \" {\" + cssText + \"}\\n    \" + selectors.map(function (_a) {\n      var sel = _a[0],\n          peusdo = _a[1];\n      return sel + \".\" + PAUSE_ANIMATION + peusdo;\n    }) + \" {\" + ANIMATION + \"-play-state: paused;}\\n    @\" + KEYFRAMES + \" \" + PREFIX + \"KEYFRAMES_\" + id + \"{\" + this._toKeyframes(duration, finiteStates, direction) + \"}\";\n  };\n  /**\n   * Export the CSS of the items to the style.\n   * @param - Add a selector or className to play.\n   * @return {SceneItem} An instance itself\n   */\n\n\n  __proto.exportCSS = function (playCondition, duration, options) {\n    if (!this.elements.length) {\n      return \"\";\n    }\n\n    var css = this.toCSS(playCondition, duration, options);\n    var isParent = options && !isUndefined(options[ITERATION_COUNT]);\n\n    if (!isParent) {\n      if (this.styledInjector) {\n        this.styledInjector.destroy();\n        this.styledInjector = null;\n      }\n\n      this.styled = styled(css);\n      this.styledInjector = this.styled.inject(this.getAnimationElement(), {\n        original: true\n      });\n    }\n\n    return this;\n  };\n\n  __proto.pause = function () {\n    _super.prototype.pause.call(this);\n\n    isPausedCSS(this) && this.pauseCSS();\n    return this;\n  };\n\n  __proto.pauseCSS = function () {\n    this.elements.forEach(function (element) {\n      addClass(element, PAUSE_ANIMATION);\n    });\n    return this;\n  };\n\n  __proto.endCSS = function () {\n    this.elements.forEach(function (element) {\n      removeClass(element, PAUSE_ANIMATION);\n      removeClass(element, START_ANIMATION);\n    });\n    setPlayCSS(this, false);\n    return this;\n  };\n\n  __proto.end = function () {\n    isEndedCSS(this) && this.endCSS();\n\n    _super.prototype.end.call(this);\n\n    return this;\n  };\n  /**\n    * Play using the css animation and keyframes.\n    * @param - Check if you want to export css.\n    * @param [playClassName=\"startAnimation\"] - Add a class name to play.\n    * @param - The shorthand properties for six of the animation properties.\n    * @see {@link https://www.w3schools.com/cssref/css3_pr_animation.asp}\n    * @example\n  item.playCSS();\n  item.playCSS(false, \"startAnimation\", {\n    direction: \"reverse\",\n    fillMode: \"forwards\",\n  });\n    */\n\n\n  __proto.playCSS = function (isExportCSS, playClassName, properties) {\n    if (isExportCSS === void 0) {\n      isExportCSS = true;\n    }\n\n    if (properties === void 0) {\n      properties = {};\n    }\n\n    playCSS(this, isExportCSS, playClassName, properties);\n    return this;\n  };\n\n  __proto.getAnimationElement = function () {\n    return this.elements[0];\n  };\n\n  __proto.addPlayClass = function (isPaused, playClassName, properties) {\n    if (properties === void 0) {\n      properties = {};\n    }\n\n    var elements = this.elements;\n    var length = elements.length;\n    var cssText = makeAnimationProperties(properties);\n\n    if (!length) {\n      return;\n    }\n\n    if (isPaused) {\n      elements.forEach(function (element) {\n        removeClass(element, PAUSE_ANIMATION);\n      });\n    } else {\n      elements.forEach(function (element) {\n        element.style.cssText += cssText;\n\n        if (hasClass(element, START_ANIMATION)) {\n          removeClass(element, START_ANIMATION);\n        }\n      });\n      elements.forEach(function (element) {\n        element.clientWidth;\n      });\n      elements.forEach(function (element) {\n        addClass(element, START_ANIMATION);\n      });\n    }\n\n    return elements[0];\n  };\n  /**\n    * Clear All Frames\n    * @return {SceneItem} An instance itself\n    */\n\n\n  __proto.clear = function () {\n    this.times = [];\n    this.items = {};\n    this.nameMap = new OrderMap(NAME_SEPARATOR);\n\n    if (this.styledInjector) {\n      this.styledInjector.destroy();\n    }\n\n    this.styled = null;\n    this.styledInjector = null;\n    this.temp = null;\n    this.needUpdate = true;\n    return this;\n  };\n\n  __proto.getNowValue = function (time, properties, left, right, isAccurate, easing, usePrevValue) {\n    var times = this.times;\n    var length = times.length;\n    var prevTime;\n    var nextTime;\n    var prevFrame;\n    var nextFrame;\n    var isUndefinedLeft = isUndefined(left);\n    var isUndefinedRight = isUndefined(right);\n\n    if (isUndefinedLeft || isUndefinedRight) {\n      var indicies = getNearTimeIndex(times, time);\n      isUndefinedLeft && (left = indicies[0]);\n      isUndefinedRight && (right = indicies[1]);\n    }\n\n    for (var i = left; i >= 0; --i) {\n      var frame = this.getFrame(times[i]);\n\n      if (frame.has.apply(frame, properties)) {\n        prevTime = times[i];\n        prevFrame = frame;\n        break;\n      }\n    }\n\n    var prevValue = prevFrame && prevFrame.raw.apply(prevFrame, properties);\n\n    if (isAccurate && !isRole([properties[0]])) {\n      return prevTime === time ? prevValue : undefined;\n    }\n\n    if (usePrevValue) {\n      return prevValue;\n    }\n\n    for (var i = right; i < length; ++i) {\n      var frame = this.getFrame(times[i]);\n\n      if (frame.has.apply(frame, properties)) {\n        nextTime = times[i];\n        nextFrame = frame;\n        break;\n      }\n    }\n\n    var nextValue = nextFrame && nextFrame.raw.apply(nextFrame, properties);\n\n    if (!prevFrame || isUndefined(prevValue)) {\n      return nextValue;\n    }\n\n    if (!nextFrame || isUndefined(nextValue) || prevValue === nextValue) {\n      return prevValue;\n    }\n\n    return dotValue(time, Math.max(prevTime, 0), nextTime, prevValue, nextValue, easing);\n  };\n\n  __proto._toKeyframes = function (duration, states, direction) {\n    var _this = this;\n\n    var frames = {};\n    var times = this.times.slice();\n\n    if (!times.length) {\n      return \"\";\n    }\n\n    var originalDuration = this.getDuration();\n    !this.getFrame(0) && times.unshift(0);\n    !this.getFrame(originalDuration) && times.push(originalDuration);\n    var entries = getEntries(times, states);\n    var lastEntry = entries[entries.length - 1]; // end delay time\n\n    lastEntry[0] < duration && addEntry(entries, duration, lastEntry[1]);\n    var prevTime = -1;\n    return entries.map(function (_a) {\n      var time = _a[0],\n          keytime = _a[1];\n\n      if (!frames[keytime]) {\n        frames[keytime] = (!_this.hasFrame(keytime) || keytime === 0 || keytime === originalDuration ? _this.getNowFrame(keytime) : _this.getNowFrame(keytime, 0, true)).toCSS();\n      }\n\n      var frameTime = time / duration * 100;\n\n      if (frameTime - prevTime < THRESHOLD) {\n        frameTime += THRESHOLD;\n      }\n\n      prevTime = frameTime;\n      return Math.min(frameTime, 100) + \"%{\\n                \" + (time === 0 && !isDirectionReverse(0, 1, direction) ? \"\" : frames[keytime]) + \"\\n            }\";\n    }).join(\"\");\n  };\n\n  __proto.updateFrameOrders = function () {\n    var nameMap = this.nameMap.orderMap;\n    this.forEach(function (frame) {\n      frame.setOrderObject(nameMap);\n    });\n  };\n\n  return SceneItem;\n}(Animator);\n\n/**\n * manage sceneItems and play Scene.\n * @sort 1\n */\n\nvar Scene =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Scene, _super);\n  /**\n  * @param - properties\n  * @param - options\n  * @example\n  const scene = new Scene({\n    item1: {\n      0: {\n        display: \"none\",\n      },\n      1: {\n        display: \"block\",\n        opacity: 0,\n      },\n      2: {\n        opacity: 1,\n      },\n    },\n    item2: {\n      2: {\n        opacity: 1,\n      },\n    }\n  });\n    */\n\n\n  function Scene(properties, options) {\n    var _this = _super.call(this) || this;\n\n    _this.items = {};\n    _this.orderMap = new OrderMap(NAME_SEPARATOR);\n\n    _this.load(properties, options);\n\n    return _this;\n  }\n\n  var __proto = Scene.prototype;\n\n  __proto.getDuration = function () {\n    var time = 0;\n    this.forEach(function (item) {\n      time = Math.max(time, item.getTotalDuration() / item.getPlaySpeed());\n    });\n    return time || this.state[DURATION];\n  };\n\n  __proto.setDuration = function (duration) {\n    var items = this.items;\n    var sceneDuration = this.getDuration();\n\n    if (duration === 0 || !isFinite(sceneDuration)) {\n      return this;\n    }\n\n    if (sceneDuration === 0) {\n      this.forEach(function (item) {\n        item.setDuration(duration);\n      });\n    } else {\n      var ratio_1 = duration / sceneDuration;\n      this.forEach(function (item) {\n        item.setDelay(item.getDelay() * ratio_1);\n        item.setDuration(item.getDuration() * ratio_1);\n      });\n    }\n\n    _super.prototype.setDuration.call(this, duration);\n\n    return this;\n  };\n  /**\n  * get item in scene by name\n  * @param - The item's name\n  * @return {Scene | SceneItem} item\n  * @example\n  const item = scene.getItem(\"item1\")\n  */\n\n\n  __proto.getItem = function (name) {\n    return this.items[name];\n  };\n  /**\n  * create item in scene\n  * @param {} name - name of item to create\n  * @param {} options - The option object of SceneItem\n  * @return {} Newly created item\n  * @example\n  const item = scene.newItem(\"item1\")\n  */\n\n\n  __proto.newItem = function (name, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    if (this.items[name]) {\n      return this.items[name];\n    }\n\n    var item = new SceneItem();\n    this.setItem(name, item);\n    item.setOptions(options);\n    return item;\n  };\n  /**\n  * remove item in scene\n  * @param - name of item to remove\n  * @return  An instance itself\n  * @example\n  const item = scene.newItem(\"item1\")\n   scene.removeItem(\"item1\");\n  */\n\n\n  __proto.removeItem = function (name) {\n    delete this.items[name];\n    this.orderMap.remove([name]);\n    return this;\n  };\n  /**\n  * add a sceneItem to the scene\n  * @param - name of item to create\n  * @param - sceneItem\n  * @example\n  const item = scene.newItem(\"item1\")\n  */\n\n\n  __proto.setItem = function (name, item) {\n    item.setId(name);\n    this.items[name] = item;\n    this.orderMap.add([name]);\n    return this;\n  };\n\n  __proto.setTime = function (time, isTick, isParent, parentEasing) {\n    _super.prototype.setTime.call(this, time, isTick, isParent);\n\n    var iterationTime = this.getIterationTime();\n    var easing = this.getEasing() || parentEasing;\n    var frames = {};\n    this.forEach(function (item) {\n      item.setTime(iterationTime * item.getPlaySpeed() - item.getDelay(), isTick, true, easing);\n      frames[item.getId()] = item.temp;\n    });\n    this.temp = frames;\n    /**\n     * This event is fired when timeupdate and animate.\n     * @event Scene#animate\n     * @param {object} param The object of data to be sent to an event.\n     * @param {number} param.currentTime The total time that the animator is running.\n     * @param {number} param.time The iteration time during duration that the animator is running.\n     * @param {object} param.frames frames of that time.\n     * @example\n    const scene = new Scene({\n    a: {\n    0: {\n        opacity: 0,\n    },\n    1: {\n        opacity: 1,\n    }\n    },\n    b: {\n    0: {\n        opacity: 0,\n    },\n    1: {\n        opacity: 1,\n    }\n    }\n    }).on(\"animate\", e => {\n    console.log(e.frames);\n    // {a: Frame, b: Frame}\n    console.log(e.frames.a.get(\"opacity\"));\n    });\n         */\n\n    this.trigger(\"animate\", {\n      frames: frames,\n      currentTime: this.getTime(),\n      time: iterationTime\n    });\n    return this;\n  };\n  /**\n   * executes a provided function once for each scene item.\n   * @param - Function to execute for each element, taking three arguments\n   * @return {Scene} An instance itself\n   */\n\n\n  __proto.forEach = function (func) {\n    var items = this.items;\n    this.getOrders().forEach(function (id, index) {\n      func(items[id], id, index, items);\n    });\n    return this;\n  };\n\n  __proto.toCSS = function (playCondition, duration, parentStates) {\n    if (duration === void 0) {\n      duration = this.getDuration();\n    }\n\n    if (parentStates === void 0) {\n      parentStates = [];\n    }\n\n    var totalDuration = !duration || !isFinite(duration) ? 0 : duration;\n    var styles = [];\n    var state = this.state;\n    state[DURATION] = this.getDuration();\n    this.forEach(function (item) {\n      styles.push(item.toCSS(playCondition, totalDuration, parentStates.concat(state)));\n    });\n    return styles.join(\"\");\n  };\n  /**\n   * Export the CSS of the items to the style.\n   * @param - Add a selector or className to play.\n   * @return {Scene} An instance itself\n   */\n\n\n  __proto.exportCSS = function (playCondition, duration, parentStates) {\n    var css = this.toCSS(playCondition, duration, parentStates);\n\n    if (!parentStates || !parentStates.length) {\n      if (this.styledInjector) {\n        this.styledInjector.destroy();\n        this.styledInjector = null;\n      }\n\n      this.styled = styled(css);\n      this.styledInjector = this.styled.inject(this.getAnimationElement(), {\n        original: true\n      }); // && exportCSS(getRealId(this), css);\n    }\n\n    return this;\n  };\n\n  __proto.append = function (item) {\n    item.setDelay(item.getDelay() + this.getDuration());\n    this.setItem(getRealId(item), item);\n  };\n\n  __proto.pauseCSS = function () {\n    return this.forEach(function (item) {\n      item.pauseCSS();\n    });\n  };\n\n  __proto.pause = function () {\n    _super.prototype.pause.call(this);\n\n    isPausedCSS(this) && this.pauseCSS();\n    this.forEach(function (item) {\n      item.pause();\n    });\n    return this;\n  };\n\n  __proto.endCSS = function () {\n    this.forEach(function (item) {\n      item.endCSS();\n    });\n    setPlayCSS(this, false);\n  };\n\n  __proto.end = function () {\n    isEndedCSS(this) && this.endCSS();\n\n    _super.prototype.end.call(this);\n\n    return this;\n  };\n  /**\n  * get item orders\n  * @example\n  scene.getOrders() // => [\"item1\", \"item2\"]\n  */\n\n\n  __proto.getOrders = function () {\n    return this.orderMap.get([]) || [];\n  };\n  /**\n    * set item orders\n    * @param - orders\n    * @example\n    frame.setOrders([\"item2\", \"item1\"]) // => [\"item2\", \"item1\"]\n    */\n\n\n  __proto.setOrders = function (orders) {\n    return this.orderMap.set([], orders);\n  };\n\n  __proto.getAnimationElement = function () {\n    var animtionElement;\n    this.forEach(function (item) {\n      var el = item.getAnimationElement();\n      !animtionElement && (animtionElement = el);\n    });\n    return animtionElement;\n  };\n\n  __proto.addPlayClass = function (isPaused, playClassName, properties) {\n    if (properties === void 0) {\n      properties = {};\n    }\n\n    var animtionElement;\n    this.forEach(function (item) {\n      var el = item.addPlayClass(isPaused, playClassName, properties);\n      !animtionElement && (animtionElement = el);\n    });\n    return animtionElement;\n  };\n  /**\n  * Play using the css animation and keyframes.\n  * @param - Check if you want to export css.\n  * @param [playClassName=\"startAnimation\"] - Add a class name to play.\n  * @param - The shorthand properties for six of the animation properties.\n  * @return {Scene} An instance itself\n  * @see {@link https://www.w3schools.com/cssref/css3_pr_animation.asp}\n  * @example\n  scene.playCSS();\n  scene.playCSS(false, {\n  direction: \"reverse\",\n  fillMode: \"forwards\",\n  });\n  */\n\n\n  __proto.playCSS = function (isExportCSS, playClassName, properties) {\n    if (isExportCSS === void 0) {\n      isExportCSS = true;\n    }\n\n    if (properties === void 0) {\n      properties = {};\n    }\n\n    playCSS(this, isExportCSS, playClassName, properties);\n    return this;\n  };\n  /**\n    * Set properties to the Scene.\n    * @param - properties\n    * @return An instance itself\n    * @example\n  scene.set({\n  \".a\": {\n      0: {\n          opacity: 0,\n      },\n      1: {\n          opacity: 1,\n      },\n  },\n  });\n  // 0\n  console.log(scene.getItem(\".a\").get(0, \"opacity\"));\n  // 1\n  console.log(scene.getItem(\".a\").get(1, \"opacity\"));\n    */\n\n\n  __proto.set = function (properties) {\n    this.load(properties);\n    return this;\n  };\n  /**\n    * Clear All Items\n    * @return {Scene} An instance itself\n    */\n\n\n  __proto.clear = function () {\n    this.finish();\n    this.items = {};\n    this.orderMap = new OrderMap(NAME_SEPARATOR);\n\n    if (this.styledInjector) {\n      this.styledInjector.destroy();\n    }\n\n    this.styled = null;\n    this.styledInjector = null;\n  };\n\n  __proto.load = function (properties, options) {\n    if (properties === void 0) {\n      properties = {};\n    }\n\n    if (options === void 0) {\n      options = properties.options;\n    }\n\n    if (!properties) {\n      return this;\n    }\n\n    var selector = options && options[SELECTOR] || this.state[SELECTOR];\n\n    for (var name in properties) {\n      if (name === \"options\") {\n        continue;\n      }\n\n      var object = properties[name];\n      var item = void 0;\n\n      if (object instanceof Scene || object instanceof SceneItem) {\n        this.setItem(name, object);\n        item = object;\n      } else if (isFunction(object) && selector) {\n        var elements = IS_WINDOW ? $(\"\" + (isFunction(selector) ? selector(name) : name), true) : [];\n        var length = elements.length;\n        var scene = new Scene();\n\n        for (var i = 0; i < length; ++i) {\n          scene.newItem(i).setId().setElement(elements[i]).load(object(i, elements[i]));\n        }\n\n        this.setItem(name, scene);\n        continue;\n      } else {\n        item = this.newItem(name);\n        item.load(object);\n      }\n\n      selector && item.setSelector(selector);\n    }\n\n    this.setOptions(options);\n  };\n\n  __proto.setOptions = function (options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    _super.prototype.setOptions.call(this, options);\n\n    var selector = options.selector;\n\n    if (selector) {\n      this.state[SELECTOR] = selector;\n    }\n\n    return this;\n  };\n\n  __proto.setSelector = function (target) {\n    var state = this.state;\n    var selector = target || state[SELECTOR];\n    state[SELECTOR] = selector;\n    var isItFunction = isFunction(target);\n\n    if (selector) {\n      this.forEach(function (item, name) {\n        item.setSelector(isItFunction ? target(name) : selector);\n      });\n    }\n\n    return this;\n  };\n\n  __proto.start = function (delay) {\n    if (delay === void 0) {\n      delay = this.state[DELAY];\n    }\n\n    var result = _super.prototype.start.call(this, delay);\n\n    if (result) {\n      this.forEach(function (item) {\n        item.start(0);\n      });\n    } else {\n      this.forEach(function (item) {\n        item.setPlayState(RUNNING);\n      });\n    }\n\n    return result;\n  };\n  /**\n  * version info\n  * @type {string}\n  * @example\n  * Scene.VERSION // 1.4.3\n  */\n\n\n  Scene.VERSION = \"1.4.3\";\n  return Scene;\n}(Animator);\n\nfunction animate(properties, options) {\n  return new Scene(properties, options).play();\n}\nfunction animateItem(properties, options) {\n  return new SceneItem(properties, options).play();\n}\n\nexport default Scene;\nexport { Animator, EASE, EASE_IN, EASE_IN_OUT, EASE_OUT, EVENTS, FIXED, Frame, LINEAR, NAME_SEPARATOR, OPTIONS, ROLES, STEP_END, STEP_START, SceneItem, animate, animateItem, bezier, setAlias, setRole, steps };\n//# sourceMappingURL=scene.esm.js.map\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-planning-report',\n  templateUrl: './planning-report.component.html',\n  styleUrls: ['./planning-report.component.scss']\n})\nexport class PlanningReportComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<h2 class=\"inline-block\">規劃報告</h2>\n\n<mat-button-toggle-group class=\"inline-block\">\n  <mat-button-toggle [routerLink]=\"['/site/result']\" value=\"back\">回上頁</mat-button-toggle>\n  <mat-button-toggle value=\"report\">匯出設置</mat-button-toggle>\n  <mat-button-toggle value=\"report\">匯出報告</mat-button-toggle>\n  <mat-button-toggle value=\"report\">儲存</mat-button-toggle>\n</mat-button-toggle-group>\n<div class=\"leftArea\">\n  \n</div>\n<div class=\"rightArea\">\n  <h5>場域設定資訊</h5>\n  <ul>\n    <li>\n    <span><label>專案名稱</label>eaaaaa</span>\n    <span><label>規劃時間</label>2020-12-19 12:17:13</span>\n  </li>\n  <li>\n    <span><label>規劃目標</label>\n    <span>不限制增加基站數量，以達到UE平均下行throughput最大.</span>\n    </span>\n  </li>\n  <li>\n    <span><label>場域大小</label>長 104 公尺/ 寬 26 公尺／高 2 公尺</span>\n    <span><label>地圖切面(高度)</label>1 公尺／1.5 公尺</span>\n  </li>\n  <hr>\n  <h5>基站資訊</h5>\n  <li>\n    <span><label>待選基站位置</label>(共6處)</span>\n    <span><label>現有基站</label>(共0台)</span>\n    <span><label>發射功率範圍</label>\t-5 dBm ~ 21 dBm</span>\n    <span><label>可分配波束編號範圍</label>\t0 ~ 30</span>\n    <span><label>LTE系統頻寬(MHz)</label>\t20 MHz</span>\n    <span><label>LTE系統頻率(MHz)</label>\t1900 MHz</span>\n  </li>\n</ul>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PlanningReportComponent } from './planning-report.component';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { RouterModule } from '@angular/router';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatButtonToggleModule,\n    RouterModule\n  ],\n  declarations: [PlanningReportComponent]\n})\nexport class PlanningReportModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-result',\n  templateUrl: './result.component.html',\n  styleUrls: ['./result.component.scss']\n})\nexport class ResultComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","\n\n  <h2 class=\"inline-block\">規劃結果</h2>\n\n  <mat-button-toggle-group class=\"inline-block\">\n    <mat-button-toggle [routerLink]=\"['/site/site-planning']\" value=\"back\">回上頁</mat-button-toggle>\n    <!--<mat-button-toggle [routerLink]=\"['/site/planning-report']\" value=\"report\">規劃報告</mat-button-toggle>-->\n   <mat-button-toggle  value=\"3d\">3D 顯示</mat-button-toggle>\n    <mat-button-toggle value=\"export\">匯出</mat-button-toggle>\n  </mat-button-toggle-group>\n\n    <div class=\"box\">\n        <div class=\"leftArea\">\n\n        <!--<div class=\"ds\">\n            <i class=\"fas fa-info-circle\"></i>\n            規劃目標 : 不限制增加基站數量，以達到 UE 平均下行 Throughput 最大\n        </div>-->\n\n        <table>\n            <tbody>\n                <tr>\n                    <th class=\"panel center\" colspan=\"7\"><label class=\"bold\">建議方案</label>待選基站位置 ( 共6處 )</th>\n                </tr>\n                <tr>\n                    <th>基站編號</th>\n                    <td>1</td>\n                    <td>2</td>\n                    <td>3</td>\n                    <td>4</td>\n                    <td>5</td>\n                    <td>6</td>\n                </tr>\n                <tr>\n                    <th>發射功率(dBm)</th>\n                    <td>10</td>\n                    <td>20</td>\n                    <td>19</td>\n                    <td>18</td>\n                    <td>11</td>\n                    <td>2</td>\n                </tr>\n                <tr>\n                    <th>波束編號</th>\n                    <td>32</td>\n                    <td>288</td>\n                    <td>704</td>\n                    <td>480</td>\n                    <td>448</td>\n                    <td>640</td>\n                </tr>\n            </tbody>\n        </table>\n\n        <table class=\"thCenter\">\n            <tbody>\n                <tr>\n                    <th class=\"panel\" colspan=\"4\"><label class=\"bold\">預估效能</label></th>\n                </tr>\n                <tr>\n                    <th>場域覆蓋率</th>\n                    <th>場域平均 SINR</th>\n                    <th>場域平均 RSRP</th>\n                    <th></th>\n                </tr>\n                <tr>\n                    <td>100%</td>\n                    <td>13.66dB</td>\n                    <td>-68.17dBm</td>\n                    <td></td>\n                </tr>\n            </tbody>\n            <tbody>\n                <tr>\n                    <th>UE 覆蓋率</th>\n                    <th>UE 平均 SINR</th>\n                    <th>UE 平均 RSRP</th>\n                    <th>UE 平均 Throughput</th>\n                </tr>\n                <tr>\n                    <td>13.9dB</td>\n                    <td>100%</td>\n                    <td>-60.16dBm</td>\n                    <td>0Mb/s</td>\n                </tr>\n            </tbody>\n            <tbody>\n                <tr>\n                    <th>地圖切面(高度)</th>\n                    <th>切面覆蓋率</th>\n                    <th>切面平均 SINR</th>\n                    <th>切面平均 RSRP</th>\n                </tr>\n                <tr>\n                    <td>1公尺</td>\n                    <td>98%</td>\n                    <td>12.38dB</td>\n                    <td>-83.58dBm</td>\n                </tr>\n                <tr>\n                    <td>1.5公尺</td>\n                    <td>98%</td>\n                    <td>12.38dB</td>\n                    <td>-83.58dBm</td>\n                </tr>\n            </tbody>\n        </table>\n\n        <table>\n            <tbody>\n                <tr>\n                    <th colspan=\"2\" class=\"panel center\"><label class=\"bold\">統計資訊</label></th>\n                </tr>\n                <tr>\n                    <td>\n                        <div>UE Modulation統計</div>\n                    </td>\n                    <td>\n                        <div>UE Modulation CDF圖</div>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <div>UE訊號強度統計</div>\n                    </td>\n                    <td>\n                        <div>UE訊號強度CDF圖</div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n\n        <table>\n            <tbody>\n                <tr>\n                    <th colspan=\"2\" class=\"panel center\"><label>圖面資訊</label></th>\n                </tr>\n                <tr>\n                    <td class=\"mapType\">\n                            <label>切面高度</label>\n                            <mat-button-toggle-group>\n                                <mat-button-toggle  value=\"\" selected> 1 公尺</mat-button-toggle>\n                                <mat-button-toggle  value=\"\"> 1.5 公尺</mat-button-toggle>\n                            </mat-button-toggle-group>\n                \n                            <label class=\"mL_1\">分布圖切換</label>\n                            <mat-button-toggle-group>\n                                <mat-button-toggle  value=\"SINR\" selected>SINR</mat-button-toggle>\n                                <mat-button-toggle  value=\"PCI\">PCI</mat-button-toggle>\n                                <mat-button-toggle  value=\"RSRP\">RSRP</mat-button-toggle>\n                            </mat-button-toggle-group>\n                            <img class=\"map\" src=\"assets/img/map.png\">           \n                    </td>\n                </tr>\n            </tbody>\n        </table>\n\n\n        <!-- <mat-form-field>\n            <mat-label>地圖切面(高度):</mat-label>\n            <mat-select>\n                <mat-option1>1公尺</mat-option>\n                <mat-option1>1.5公尺</mat-option>\n            </mat-select>\n        </mat-form-field> -->\n        \n    <!--\n        <div class=\"res_1\">\n            <ul>\n                <li>\n                    <label>場域數據</label>\n                    <span><label>場域覆蓋率</label>98.04</span>\n                    <span><label>場域平均SINR</label>13dB</span>\n                    <span><label>場域平均RSRP</label>-82.75dBm</span>\n                    <span><label>UE覆蓋率</label>100</span>\n                    <span><label>UE平均SINR</label>18.58dB</span>\n                    <span><label>UE平均RSRP</label>-77.4dBm</span>\n                    <span><label>UE平均throughput</label>5.29Mb/s</span>\n                </li>\n                <li>\n                    <label>切面數據</label>\n                    <span><label>切面覆蓋率</label>98</span>\n                    <span><label>切面平均SINR</label>12.38dB</span>\n                    <span><label>切面平均RSRP</label>-83.58dBm</span>\n                </li>\n            </ul>\n        </div>\n        <div class=\"res_1\">\n            <ul>\n                <li>\n                    <label>預估場域效能</label>\n                    <span><label>場域覆蓋率</label>98.04</span>\n                    <span><label>場域平均SINR</label>13dB</span>\n                    <span><label>場域平均RSRP</label>-82.75dBm</span>\n                    <span><label>UE覆蓋率</label>100</span>\n                    <span><label>UE平均SINR</label>18.58dB</span>\n                    <span><label>UE平均RSRP</label>-77.4dBm</span>\n                    <span><label>UE平均throughput</label>5.29Mb/s</span>\n                </li>\n                <li></li>\n            </ul>\n        </div>\n    <div class=\"box\">\n        <h3>統計圖表</h3>\n        <ul>\n            <li>場域 Modulation 統計\n                <img src=\"\">\n            </li>\n            <li>場域Modulation CDF 圖\n                <img src=\"\">\n            </li>\n            <li>場域訊號強度\n                <img src=\"\">\n            </li>\n            <li>場域訊號強度 CDF 圖\n                <img src=\"\">\n            </li>\n            \n        </ul>\n        \n    </div>\n    -->\n    </div>\n    \n    <div class=\"rightArea ds\">\n        <h5><i class=\"fas fa-info-circle\"></i>場域設定資訊</h5>\n        <ul>\n          <li>\n          <span><label>專案名稱</label>eaaaaa</span>\n          <span><label>規劃時間</label>2020-12-19 12:17:13</span>\n        </li>\n        <li>\n          <span><label>規劃目標</label>\n          <span>不限制增加基站數量，以達到UE平均下行throughput最大.</span>\n          </span>\n        </li>\n        <li>\n          <span><label>場域大小</label>長 104 公尺/ 寬 26 公尺／高 2 公尺</span>\n          <span><label>切面高度</label>1 公尺／1.5 公尺</span>\n        </li>\n        <hr>\n        <h5><i class=\"fas fa-info-circle\"></i>基站資訊</h5>\n        <li>\n          <span><label>待選基站位置</label>(共6處)</span>\n          <span><label>現有基站</label>(共0台)</span>\n          <span><label>發射功率範圍</label>\t-5 dBm ~ 21 dBm</span>\n          <span><label>可分配波束編號範圍</label>\t0 ~ 30</span>\n          <span><label>LTE系統頻寬(MHz)</label>\t20 MHz</span>\n          <span><label>LTE系統頻率(MHz)</label>\t1900 MHz</span>\n        </li>\n      </ul>\n      </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ResultComponent } from './result.component';\nimport { RouterModule } from '@angular/router';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    MatButtonToggleModule,\n  ],\n  declarations: [ResultComponent]\n})\nexport class ResultModule {\n}\n","import { Component, OnInit, HostListener, ViewChild, ElementRef, AfterViewInit, OnDestroy, Input } from '@angular/core';\nimport { OnPinch, OnScale, OnDrag, OnRotate, OnResize, OnWarp, MoveableGroupInterface, BeforeRenderableProps } from 'moveable';\nimport { Frame } from 'scenejs';\nimport { NgxMoveableComponent } from 'ngx-moveable';\nimport { TaskFormService } from '../task-form.service';\nimport { Router } from '@angular/router';\nimport { MatDialog } from '@angular/material/dialog';\nimport { HttpClient } from '@angular/common/http';\nimport { CalculateForm } from '../../form/CalculateForm';\nimport * as _ from 'lodash';\nimport { MatTooltip } from '@angular/material/tooltip';\n\ndeclare var Plotly: any;\n\ninterface PlotHTMLElement extends HTMLElement {\n  on(eventName: string, handler: any): void;\n}\n\n@Component({\n  selector: 'app-site-planning',\n  templateUrl: './site-planning.component.html',\n  styleUrls: ['./site-planning.component.scss']\n})\nexport class SitePlanningComponent implements OnInit, AfterViewInit {\n\n  constructor(\n    private taskFormService: TaskFormService,\n    private router: Router,\n    private matDialog: MatDialog,\n    private http: HttpClient) { }\n\n  @ViewChild('moveable') moveable: NgxMoveableComponent;\n  // @ViewChildren(TemplateRef) templateList: QueryList<TemplateRef<any>>;\n\n  target;\n  scalable = true;\n  resizable = false;\n  warpable = false;\n  frame = new Frame({\n    width: '50px',\n    height: '50px',\n    left: '0px',\n    top: '0px',\n    transform: {\n      rotate: '0deg',\n      scaleX: 1.64,\n      scaleY: 1,\n      matrix3d: [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]\n    }\n  });\n  iconList = [1, 2, 3];\n  // target;\n\n  opened = true;\n  panelOpenState = false;\n  matrix;\n  live = false;\n  /** calculate form */\n  calculateForm: CalculateForm;\n  /** upload image src */\n  imageSrc;\n  /** subitem class */\n  subitemClass = {\n    obstacle: 'subitem active',\n    ue: 'subitem active'\n  };\n  /** 平面高度 */\n  zValues = ['', '', ''];\n  /** 障礙物 */\n  obstacleList = [];\n  dragObject = {};\n  /** 現有基站 */\n  defaultBSList = [];\n  /** 新增基站 */\n  newBSList = [];\n  /** 新增ＵＥ */\n  ueList = [];\n  // 比例尺公式\n  xLinear;\n  yLinear;\n  // chart邊界\n  chartLeft = 0;\n  chartRight = 0;\n  chartTop = 0;\n  chartBottom = 0;\n  svgMap = {\n    svg_01: {\n      id: 'svg_1',\n      title: '障礙物',\n      type: 'obstacle'\n    },\n    svg_02: {\n      id: 'svg_2',\n      title: '障礙物',\n      type: 'obstacle'\n    },\n    svg_03: {\n      id: 'svg_3',\n      title: '障礙物',\n      type: 'obstacle'\n    },\n    svg_04: {\n      id: 'svg_4',\n      title: '現有基站',\n      type: 'defaultBS'\n    },\n    svg_05: {\n      id: 'svg_5',\n      title: '新增基站',\n      type: 'newBS'\n    },\n    svg_06: {\n      id: 'svg_6',\n      title: '新增ＵＥ',\n      type: 'UE'\n    }\n  };\n  // select svg id\n  svgId;\n  scalex;\n  scaley;\n  tooltipStr = '';\n  // round\n  roundFormat = Plotly.d3.format('.1f');\n  // 預設無線模型 list\n  pathLossModelIdList = [];\n  // bounds = {\n  //   left: 150,\n  //   top: 0,\n  //   right: 300,\n  //   bottom: 500\n  // };\n  @Input() public bounds!: { left?: 10, top?: 20, right?: 70, bottom?: 50 };\n  @Input() public container!: SVGElement | HTMLElement | null;\n\n  @ViewChild('msgLabel') label: ElementRef;\n  @ViewChild('tooltip') tooltip: MatTooltip;\n  @ViewChild('chart') chart: ElementRef;\n\n  @HostListener('document:click', ['$event'])\n  clickout(event) {\n    if (typeof this.target !== 'undefined') {\n      if (this.target.contains(event.target)) {\n        this.live = true;\n      } else {\n        this.live = false;\n        try {\n          this.moveable.destroy();\n        } catch (error) {\n          this.moveable.ngOnInit();\n          this.moveable.destroy();\n        }\n      }\n    }\n  }\n\n  ngOnInit() {\n    for (let i = 0; i < 9; i++) {\n      this.pathLossModelIdList.push(i);\n    }\n    this.calculateForm = JSON.parse(sessionStorage.getItem('calculateForm'));\n    // console.log(this.taskFormService.calculateForm);\n    this.initData();\n  }\n\n  ngAfterViewInit(): void {\n    // this.tools = _.cloneDeep(document.querySelector('.tool').innerHTML);\n    // this.moveable.destroy();\n  }\n\n  /**\n   * init data\n   */\n  initData() {\n    if (this.calculateForm.mapImage != null) {\n      const reader = new FileReader();\n      reader.readAsDataURL(this.dataURLtoBlob(this.calculateForm.mapImage));\n      reader.onload = (e) => {\n\n        // draw background image chart\n        const defaultPlotlyConfiguration = {\n          displaylogo: false,\n          showTips: false,\n          editable: false,\n          scrollZoom: false,\n          displayModeBar: false\n        };\n\n        const pLayout = {\n          autosize: true,\n          xaxis: {\n            linewidth: 1,\n            mirror: 'all',\n            range: [0, this.calculateForm.width],\n            showgrid: false,\n            zeroline: false,\n            fixedrange: true\n          },\n          yaxis: {\n            linewidth: 1,\n            mirror: 'all',\n            range: [0, this.calculateForm.height],\n            showgrid: false,\n            zeroline: false,\n            fixedrange: true\n          },\n          margin: { t: 20, b: 20, l: 40},\n          images: [{\n            source: reader.result,\n            x: 0,\n            y: 0,\n            sizex: this.calculateForm.width,\n            sizey: this.calculateForm.height,\n            xref: 'x',\n            yref: 'y',\n            xanchor: 'left',\n            yanchor: 'bottom',\n            sizing: 'stretch',\n            hover: 'x+y'\n          }]\n        };\n\n        Plotly.newPlot('chart', {\n          data: [],\n          layout: pLayout,\n          config: defaultPlotlyConfiguration\n        }).then((gd) => {\n          // 比例尺計算\n          const xy: SVGRectElement = gd.querySelector('.xy').querySelectorAll('rect')[0];\n          const rect = xy.getBoundingClientRect();\n          this.chartLeft = rect.left;\n          this.chartRight = rect.right;\n          this.chartTop = rect.top;\n          this.chartBottom = rect.bottom;\n\n          this.xLinear = Plotly.d3.scale.linear()\n            .domain([0, rect.width])\n            .range([0, this.calculateForm.width]);\n\n          this.yLinear = Plotly.d3.scale.linear()\n            .domain([0, rect.height])\n            .range([0, this.calculateForm.height]);\n\n        });\n      };\n    }\n  }\n\n  /**\n   * dataURI to blob\n   * @param dataURI\n   */\n  dataURLtoBlob(dataURI) {\n    let byteString;\n    if (dataURI.split(',')[0].indexOf('base64') >= 0) {\n      byteString = atob(dataURI.split(',')[1]);\n    } else {\n      byteString = unescape(dataURI.split(',')[1]);\n    }\n    // separate out the mime component\n    const mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n    // write the bytes of the string to a typed array\n    const ia = new Uint8Array(byteString.length);\n    for (let i = 0; i < byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ia], {type: mimeString});\n  }\n\n  moveClick(event, typeName) {\n    try {\n      this.moveable.destroy();\n    } catch (error) {}\n\n    this.live = !this.live;\n    if (event.target.closest('span').querySelector('.drag_rect') == null) {\n      let svg = event.target;\n      if (event.target.tagName !== 'svg') {\n        svg = event.target.closest('svg');\n      }\n      this.svgId = svg.id;\n      const titleName = this.svgMap[this.svgId].title;\n      if (this.svgMap[this.svgId].type === 'obstacle') {\n        this.svgId = `${this.svgId}_${this.obstacleList.length}`;\n        this.obstacleList.push(this.svgId);\n      } else if (this.svgMap[this.svgId].type === 'defaultBS') {\n        this.svgId = `${this.svgId}_${this.defaultBSList.length}`;\n        this.defaultBSList.push(this.svgId);\n      } else if (this.svgMap[this.svgId].type === 'newBS') {\n        this.svgId = `${this.svgId}_${this.newBSList.length}`;\n        this.newBSList.push(this.svgId);\n      } else if (this.svgMap[this.svgId].type === 'UE') {\n        this.svgId = `${this.svgId}_${this.ueList.length}`;\n        this.ueList.push(this.svgId);\n      }\n\n      this.dragObject[this.svgId] = {\n        x: 0,\n        y: 0,\n        z: 0,\n        width: 0,\n        height: 0,\n        altitude: this.calculateForm.altitude,\n        rotate: 0,\n        title: titleName,\n        type: typeName\n      };\n\n      this.frame = new Frame({\n        width: '30px',\n        height: '30px',\n        left: '200px',\n        top: '250px',\n        transform: {\n          rotate: '0deg',\n          scaleX: 1,\n          scaleY: 1,\n          matrix3d: [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]\n        }\n      });\n\n      window.setTimeout(() => {\n\n        const span = document.querySelectorAll(`.${typeName}`);\n        const rect = svg.querySelector('.target');\n        rect.setAttribute('fill', 'green');\n        rect.setAttribute('class', 'drag_rect');\n        span[span.length - 1].innerHTML += svg.outerHTML;\n        this.target = span[span.length - 1];\n\n        this.target.bounds = this.bounds;\n        this.target.dragArea = document.getElementById('chart');\n\n        // 還原來源顏色 & class\n        if (event.target.tagName !== 'svg') {\n          event.target.setAttribute('fill', '#ffffff');\n          event.target.setAttribute('class', 'target');\n        } else {\n          event.target.querySelector('.drag_rect').setAttribute('fill', '#ffffff');\n          event.target.querySelector('.drag_rect').setAttribute('class', 'target');\n        }\n\n        if (typeName === 'obstacle') {\n          this.moveable.rotatable = true;\n          this.moveable.scalable = true;\n        } else {\n          this.moveable.rotatable = false;\n          this.moveable.scalable = false;\n        }\n        this.moveable.ngOnInit();\n        this.setTooltip();\n        this.tooltip.show();\n      }, 0);\n    } else {\n\n      this.target = event.target.closest('span');\n      if (typeName === 'obstacle') {\n        this.moveable.rotatable = true;\n        this.moveable.scalable = true;\n      } else {\n        this.moveable.rotatable = false;\n        this.moveable.scalable = false;\n      }\n      this.moveable.ngOnInit();\n      this.setTooltip();\n      this.tooltip.show();\n    }\n  }\n\n  newElementClick(event) {\n    if (this.live) {\n      this.moveable.destroy();\n    }\n    this.live = !this.live;\n    this.target = event.target;\n    this.moveable.ngOnInit();\n  }\n\n  onWindowReisze = () => {\n    this.moveable.updateRect();\n  }\n  clickScalable() {\n    this.scalable = true;\n    this.resizable = false;\n    this.warpable = false;\n  }\n  clickResizable() {\n    this.scalable = false;\n    this.resizable = true;\n    this.warpable = false;\n  }\n  clickWarpable() {\n    this.scalable = false;\n    this.resizable = false;\n    this.warpable = true;\n  }\n\n  setTransform(target) {\n    target.style.cssText = this.frame.toCSS();\n  }\n\n  setLabel(clientX, clientY, text) {\n    this.label.nativeElement.style.cssText =\n      `display: block; transform: translate(${clientX}px,\n      ${clientY - 10}px) translate(-100%, -100%) translateZ(-100px);`;\n\n    this.label.nativeElement.innerHTML = text;\n  }\n\n  onPinch({ target, clientX, clientY }: OnPinch) {\n    setTimeout(() => {\n      this.setLabel(\n        clientX,\n        clientY,\n          `X: ${this.frame.get('left')}\n          <br/>Y: ${this.frame.get('top')}\n          <br/>W: ${this.frame.get('width')}\n          <br/>H: ${this.frame.get('height')}\n          <br/>S: ${this.frame.get('transform', 'scaleX').toFixed(2)}, ${this.frame.get('transform', 'scaleY').toFixed(2)}\n          <br/>R: ${parseFloat(this.frame.get('transform', 'rotate')).toFixed(1)}deg`\n      );\n    });\n  }\n\n  setTooltip() {\n    const rect = this.target.closest('span').getBoundingClientRect();\n    const rectLeft = rect.left - this.chartLeft;\n    const rectBottom = this.chartBottom - rect.bottom;\n    let xVal = this.roundFormat(this.xLinear(rectLeft));\n    if (xVal < 0) {\n      xVal = 0;\n    }\n    const yVal = this.roundFormat(this.yLinear(rectBottom));\n    const wVal = this.roundFormat(this.xLinear(rect.width));\n    const hVal = this.roundFormat(this.yLinear(rect.height));\n    this.tooltipStr = `${this.dragObject[this.svgId].title}\n      X: ${xVal}\n      Y: ${yVal}\n      長: ${wVal}\n      寬: ${hVal}\n      高: ${this.calculateForm.altitude}`;\n\n\n    this.dragObject[this.svgId] = {\n      x: xVal,\n      y: yVal,\n      z: this.dragObject[this.svgId].z,\n      width: wVal,\n      height: hVal,\n      altitude: this.calculateForm.altitude,\n      rotate: 0,\n      title: this.dragObject[this.svgId].title,\n      type: this.dragObject[this.svgId].type\n    };\n  }\n\n  dragStart(moveable: MoveableGroupInterface<BeforeRenderableProps>, e: any) {\n\n    e.bounds = this.bounds;\n  }\n\n  onDrag({ target, clientX, clientY, top, left, isPinch }: OnDrag) {\n\n    const rect = target.getBoundingClientRect();\n    const rectLeft = rect.left;\n    const rectRight = rect.right;\n    const rectTop = rect.top;\n    const rectBottom = rect.bottom;\n\n    if (rectLeft > this.chartLeft - 1 && rectRight < this.chartRight\n      && rectTop > this.chartTop && rectBottom < this.chartBottom) {\n      this.frame.set('left', `${left}px`);\n      this.frame.set('top', `${top}px`);\n      this.setTransform(target);\n      if (!isPinch) {\n        this.setLabel(clientX, clientY, `X: ${left}px<br/>Y: ${top}px`);\n      }\n\n    } else {\n      if (rectLeft < this.chartLeft) {\n        this.frame.set('left', `${this.chartLeft}px`);\n        this.setTransform(target);\n        target.closest('span').style.left = `${152}px`;\n      } else if (rectTop <= this.chartTop) {\n        this.frame.set('top', `${this.chartTop + 1}px`);\n        this.setTransform(target);\n        const t = Number(target.closest('span').style.top.replace('px', ''));\n        target.closest('span').style.top = `${t + 1}px`;\n      } else if (rectRight >= this.chartRight) {\n        this.frame.set('left', `${rectLeft - 1}px`);\n        this.setTransform(target);\n        const t = Number(target.closest('span').style.left.replace('px', ''));\n        target.closest('span').style.left = `${t - 1}px`;\n      } else if (rectBottom >= this.chartBottom) {\n        this.frame.set('top', `${rectTop - 1}px`);\n        this.setTransform(target);\n        const t = Number(target.closest('span').style.top.replace('px', ''));\n        target.closest('span').style.top = `${t - 1}px`;\n      }\n    }\n    this.setTooltip();\n  }\n\n  onScale({ target, delta, clientX, clientY, isPinch }: OnScale) {\n    const scaleX = this.frame.get('transform', 'scaleX') * delta[0];\n    const scaleY = this.frame.get('transform', 'scaleY') * delta[1];\n    this.frame.set('transform', 'scaleX', scaleX);\n    this.frame.set('transform', 'scaleY', scaleY);\n    this.setTransform(target);\n    if (!isPinch) {\n      this.setLabel(\n        clientX,\n        clientY,\n        `S: ${scaleX.toFixed(2)}, ${scaleY.toFixed(2)}`\n      );\n    }\n    this.scalex = scaleX;\n  }\n\n  onRotate({ target, clientX, clientY, beforeDelta, isPinch }: OnRotate) {\n    const deg = parseFloat(this.frame.get('transform', 'rotate')) + beforeDelta;\n\n    this.frame.set('transform', 'rotate', `${deg}deg`);\n    this.setTransform(target);\n    if (!isPinch) {\n      this.setLabel(clientX, clientY, `R: ${deg.toFixed(1)}`);\n    }\n    this.dragObject[this.svgId].rotate = Math.ceil(deg);\n  }\n\n  onResize({ target, clientX, clientY, width, height, isPinch }: OnResize) {\n    this.frame.set('width', `${width}px`);\n    this.frame.set('height', `${height}px`);\n    this.setTransform(target);\n    if (!isPinch) {\n      this.setLabel(clientX, clientY, `W: ${width}px<br/>H: ${height}px`);\n    }\n  }\n\n  onWarp({ target, clientX, clientY, delta, multiply }: OnWarp) {\n    this.frame.set(\n      'transform',\n      'matrix3d',\n      multiply(this.frame.get('transform', 'matrix3d'), delta)\n    );\n    this.setTransform(target);\n    this.setLabel(clientX, clientY, `X: ${clientX}px<br/>Y: ${clientY}px`);\n  }\n\n  onEnd() {\n    this.label.nativeElement.style.display = 'none';\n    // this.target.style.left = this.frame.get('left');\n    // this.target.style.top = this.frame.get('top')\n  }\n\n  moveableDestroy() {\n    this.moveable.destroy();\n  }\n\n  arrowUpDown(event, type) {\n    const target = event.target;\n    if (target.innerHTML === 'keyboard_arrow_down') {\n      target.innerHTML = 'keyboard_arrow_up';\n      this.subitemClass[type] = 'subitem active';\n    } else {\n      target.innerHTML = 'keyboard_arrow_down';\n      this.subitemClass[type] = 'subitem';\n    }\n  }\n\n  /**\n   * 開始運算\n   */\n  calculate() {\n    if (typeof this.calculateForm.isAvgThroughput === 'undefined') {\n      this.calculateForm.isAvgThroughput = false;\n    }\n    console.log(this.calculateForm);\n  }\n\n\n}\n","<div class=\"tool\">\n  <span class=\"svg\" matTooltip=\"障礙物\" (click)=\"moveClick($event, 'obstacle')\">\n    <svg id=\"svg_01\" width=\"30\" height=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g>\n       <rect x=\"-1\" y=\"-1\" width=\"32\" height=\"32\" id=\"canvas_background\" fill=\"#fff\"/>\n       <g id=\"canvasGrid\" display=\"none\">\n        <rect width=\"100%\" height=\"100%\" x=\"0\" y=\"0\" stroke-width=\"0\" fill=\"url(#gridpattern)\"/>\n       </g>\n      </g>\n      <g>\n       <rect fill=\"#000000\" stroke-width=\"1.5\" x=\"111\" y=\"151\" width=\"41\" height=\"28\" stroke=\"#000\"/>\n       <rect class=\"target\" fill=\"#ffffff\" stroke-width=\"1.5\" x=\"0\" y=\"0\" width=\"30\" height=\"30\" id=\"svg_1\"/>\n      </g>\n    </svg>\n  </span>\n\n  <span class=\"svg\" matTooltip=\"障礙物\" (click)=\"moveClick($event, 'obstacle')\">\n    <svg id=\"svg_02\" width=\"30\" height=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g>\n       <rect fill=\"none\" id=\"canvas_background\" height=\"32\" width=\"20\" y=\"-1\" x=\"-1\"/>\n       <g display=\"none\" id=\"canvasGrid\">\n        <rect fill=\"url(#gridpattern)\" stroke-width=\"0\" y=\"0\" x=\"0\" height=\"100%\" width=\"100%\"/>\n       </g>\n      </g>\n      <g>\n       <rect stroke=\"#000\" id=\"svg_3\" height=\"28\" width=\"41\" y=\"151\" x=\"111\" stroke-width=\"1.5\" fill=\"#000000\"/>\n       <ellipse class=\"target\" ry=\"15\" rx=\"15\" id=\"svg_2\" cy=\"15\" cx=\"15\" stroke-width=\"1.5\" fill=\"#ffffff\"/>\n      </g>\n     </svg>\n  </span>\n\n  <span class=\"svg\" matTooltip=\"障礙物\" (click)=\"moveClick($event, 'obstacle')\">\n    <svg id=\"svg_03\" width=\"30\" height=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g>\n       <rect x=\"-1\" y=\"-1\" width=\"32\" height=\"32\" id=\"canvas_background\" fill=\"none\"/>\n       <g id=\"canvasGrid\" display=\"none\">\n        <rect id=\"svg_1\" width=\"100%\" height=\"100%\" x=\"0\" y=\"0\" stroke-width=\"0\" fill=\"url(#gridpattern)\"/>\n       </g>\n      </g>\n      <g>\n       <rect fill=\"#000000\" stroke-width=\"1.5\" x=\"111\" y=\"151\" width=\"41\" height=\"28\" stroke=\"#000\"/>\n       <path class=\"target\" fill=\"#ffffff\" stroke-width=\"1.5\" d=\"m1.75,28.69313l13.5,-25.625l13.5,25.625l-27,0z\" id=\"svg_3\"/>\n      </g>\n     </svg>\n  </span>\n  <hr>\n  <span class=\"svg\" matTooltip=\"現有基站\" (click)=\"moveClick($event, 'defaultBS')\" >\n    <svg id=\"svg_04\" class=\"s\" width=\"30\" height=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g>\n       <rect fill=\"none\" height=\"32\" width=\"32\" y=\"-1\" x=\"-1\"/>\n      </g>\n      <g>\n       <path class=\"target\" fill=\"#ffffff\" id=\"svg_4\" d=\"m26.45453,3l-22.90908,0c-1.4,0 -2.54545,1.14545 -2.54545,2.54545l0,15.27272c0,1.4 1.14545,2.54545 2.54545,2.54545l8.90909,0l0,2.54545l-2.54545,0l0,2.54545l10.18181,0l0,-2.54545l-2.54545,0l0,-2.54545l8.90909,0c1.4,0 2.54545,-1.14545 2.54545,-2.54545l0,-15.27272c0,-1.4 -1.14545,-2.54545 -2.54545,-2.54545zm0,17.81817l-22.90908,0l0,-15.27272l22.90908,0l0,15.27272z\"/>\n      </g>\n     </svg>\n  </span>\n\n  <span class=\"svg\" matTooltip=\"新增基站\" (click)=\"moveClick($event, 'newBS')\" >\n    <svg id=\"svg_05\" class=\"s\" width=\"30\" height=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g>\n        <rect fill=\"none\" id=\"canvas_background\" height=\"32\" width=\"32\" y=\"-1\" x=\"-1\"/>\n      </g>\n      <g>\n        <g>\n          <rect  x=\"0\" width=\"24\" height=\"24\" fill=\"none\"/>\n        </g>\n        <g>\n          <g stroke=\"null\">\n            <g stroke=\"null\">\n              <path class=\"target\" fill=\"#ffffff\" stroke=\"null\" id=\"svg_5\" d=\"m26.60334,2.83059l-23.16898,0c-1.60735,0 -2.88164,1.28877 -2.88164,2.89612l-0.01448,17.37673c0,1.60735 1.28877,2.89612 2.89612,2.89612l23.16898,0c1.60735,0 2.89612,-1.28877 2.89612,-2.89612l0,-17.37673c0,-1.60735 -1.28877,-2.89612 -2.89612,-2.89612zm-16.6527,15.92867l-1.73767,0l-3.69256,-5.06821l0,5.06821l-1.81008,0l0,-8.68837l1.81008,0l3.62015,5.06821l0,-5.06821l1.81008,0l0,8.68837zm7.2403,-6.86381l-3.62015,0l0,1.62183l3.62015,0l0,1.82456l-3.62015,0l0,1.60735l3.62015,0l0,1.81008l-5.79224,0l0,-8.68837l5.79224,0l0,1.82456zm10.13643,5.41575c0,0.79643 -0.65163,1.44806 -1.44806,1.44806l-5.79224,0c-0.79643,0 -1.44806,-0.65163 -1.44806,-1.44806l0,-7.2403l1.81008,0l0,6.53075l1.63631,0l0,-5.09717l1.81008,0l0,5.08269l1.62183,0l0,-6.51627l1.81008,0l0,7.2403z\"/>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  </span>\n  <hr>\n  <span class=\"svg\" matTooltip=\"新增ＵＥ\" (click)=\"moveClick($event, 'UE')\" >\n    <svg id=\"svg_06\" class=\"s\" width=\"30\" height=\"30\" xmlns=\"http://www.w3.org/2000/svg\">\n      <g>\n        <rect fill=\"none\" id=\"canvas_background\" height=\"32\" width=\"32\" y=\"-1\" x=\"-1\"/>\n      </g>\n      <g>\n        <path fill=\"none\" d=\"m0,0l24,0l0,24l-24,0l0,-24z\"/>\n        <path class=\"target\" fill=\"#ffffff\" stroke=\"null\" id=\"svg_6\" d=\"m27.1373,5.80872l1.19321,-1.19321c-2.08811,-2.08811 -4.77283,-3.13217 -7.45754,-3.13217s-5.36943,1.04406 -7.45754,3.13217l1.19321,1.19321c1.78981,-1.64066 4.02707,-2.53556 6.26434,-2.53556s4.47453,0.89491 6.26434,2.53556zm-1.34236,1.19321c-1.34236,-1.34236 -3.13217,-2.08811 -4.92198,-2.08811s-3.57962,0.74575 -4.92198,2.08811l1.19321,1.19321c1.04406,-1.04406 2.38641,-1.49151 3.72877,-1.49151c1.34236,0 2.68472,0.44745 3.72877,1.49151l1.19321,-1.19321zm-0.44745,9.39651l-2.98302,0l0,-5.96604l-2.98302,0l0,5.96604l-14.91509,0c-1.64066,0 -2.98302,1.34236 -2.98302,2.98302l0,5.96604c0,1.64066 1.34236,2.98302 2.98302,2.98302l20.88112,0c1.64066,0 2.98302,-1.34236 2.98302,-2.98302l0,-5.96604c0,-1.64066 -1.34236,-2.98302 -2.98302,-2.98302zm-16.4066,7.45754l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302z\"/>\n      </g>\n     </svg>\n  </span>\n</div>\n\n<mat-sidenav-container class=\"example-container\">\n  <mat-sidenav-content>\n    \n\n  <div id=\"d_area\">\n    <button class=\"toggle\" mat-button (click)=\"sidenav.toggle()\"><span class=\"material-icons\">tune</span></button>\n    <h2 class=\"inline-block\">場域規劃</h2>\n    <mat-button-toggle-group class=\"inline-block\">\n      <mat-button-toggle value=\"save\" selected>儲存</mat-button-toggle>\n      <mat-button-toggle value=\"export\">匯出</mat-button-toggle>\n      <mat-button-toggle value=\"go\" (click)=\"calculate()\" [routerLink]=\"['/site/result']\">開始運算</mat-button-toggle>\n      <mat-button-toggle value=\"result\" [routerLink]=\"['/site/result']\">運算結果</mat-button-toggle>\n      <mat-button-toggle value=\"export\">3Ｄ顯示</mat-button-toggle>\n    </mat-button-toggle-group>\n    <!-- <div class=\"dropDown_area\" style=\"background-image:url({{imageSrc}})\">\n      \n    </div> -->\n    <div #container id=\"chart\">\n      <span *ngFor=\"let item of obstacleList\" #tooltip=\"matTooltip\" class=\"obstacle\" [matTooltip]=\"tooltipStr\" (click)=\"moveClick($event, 'obstacle');\" ></span>\n      <span *ngFor=\"let item of defaultBSList\" #tooltip=\"matTooltip\" class=\"defaultBS\" [matTooltip]=\"tooltipStr\" (click)=\"moveClick($event, 'defaultBS');\" ></span>\n      <span *ngFor=\"let item of newBSList\" #tooltip=\"matTooltip\" class=\"newBS\" [matTooltip]=\"tooltipStr\" (click)=\"moveClick($event, 'newBS');\" ></span>\n      <span *ngFor=\"let item of ueList\" #tooltip=\"matTooltip\" class=\"UE\" [matTooltip]=\"tooltipStr\" (click)=\"moveClick($event, 'UE');\" ></span>\n      <div class=\"msg_label\" #msgLabel></div>\n    </div>\n\n  </div>\n\n  <ngx-moveable\n    #moveable\n    [target]=\"target\"\n    [draggable]=\"true\"\n    [origin]=\"false\"\n    [rotatable]=\"true\"\n    [pinchable]=\"true\"\n    [scalable]=\"scalable\"\n    [resizable]=\"resizable\"\n    [warpable]=\"warpable\"\n    [keepRatio]=\"false\"\n    [throttleDrag]=\"1\"\n    [throttleScale]=\"0.01\"\n    [throttleRotate]=\"0.2\"\n    [throttleResize]=\"1\"\n    (drag)=\"onDrag($event)\"\n    (resize)=\"onResize($event)\"\n    (scale)=\"onScale($event)\"\n    (warp)=\"onWarp($event)\"\n    (rotate)=\"onRotate($event)\"\n    (pinch)=\"onPinch($event)\"\n    (dragEnd)=\"onEnd()\"\n    (resizeEnd)=\"onEnd()\"\n    (scaleEnd)=\"onEnd()\"\n    (warpEnd)=\"onEnd()\"\n    (rotateEnd)=\"onEnd()\"\n    (pinchEnd)=\"onEnd()\"\n  ></ngx-moveable>\n\n\n  </mat-sidenav-content>\n  <mat-sidenav #sidenav mode=\"side\" position=\"end\" [(opened)]=\"opened\" >\n    <mat-accordion>\n      <mat-expansion-panel (opened)=\"panelOpenState = true\"\n                           (closed)=\"panelOpenState = false\">\n        <mat-expansion-panel-header>\n          <mat-panel-title>規劃目標設定</mat-panel-title>\n        </mat-expansion-panel-header>\n        <div class=\"pannel-content\">\n          <div><mat-checkbox [(ngModel)]=\"calculateForm.isAverageSinr\">平均 SINR</mat-checkbox><input type=\"text\" [(ngModel)]=\"calculateForm.sinrRatio\" ></div>\n          <div><mat-checkbox [(ngModel)]=\"calculateForm.isAvgThroughput\">平均 Throughput</mat-checkbox><input type=\"text\" [(ngModel)]=\"calculateForm.throughputRatio\"></div>\n          <div><mat-checkbox [(ngModel)]=\"calculateForm.isCoverage\">場域Coverage</mat-checkbox><input type=\"text\" [(ngModel)]=\"calculateForm.coverageRatio\"></div>\n          <div><mat-checkbox [(ngModel)]=\"calculateForm.isUeAvgSinr\">UE 平均 SINR</mat-checkbox><input type=\"text\" [(ngModel)]=\"calculateForm.ueAvgSinrRatio\"></div>\n          <div><mat-checkbox [(ngModel)]=\"calculateForm.isUeAvgThroughput\">UE平均Throughput</mat-checkbox><input type=\"text\" [(ngModel)]=\"calculateForm.ueAvgThroughputRatio\" ></div>\n          <div><mat-checkbox [(ngModel)]=\"calculateForm.isUeTpByDistance\">UE平均Throughput最大(依距離)</mat-checkbox><input type=\"text\" [(ngModel)]=\"calculateForm.ueTpByDistanceRatio\"></div>\n        </div>\n      </mat-expansion-panel>\n      <mat-expansion-panel>\n        <mat-expansion-panel-header>\n          <mat-panel-title>場域設定</mat-panel-title>\n        </mat-expansion-panel-header>\n        <ul>\n          <li>\n            <p>平面高度<span> ( 單位:公分，最多可設定3組高度 ) </span></p>\n            <ol class=\"inline-block\">\n              <li><input type=\"text\" [(ngModel)]=\"zValues[0]\"></li>\n              <li><input type=\"text\" [(ngModel)]=\"zValues[1]\"></li>\n              <li><input type=\"text\" [(ngModel)]=\"zValues[2]\"></li>\n            </ol>\n          </li>\n\n          <li>\n            <p [class]=\"subitemClass['obstacle']\">障礙物資訊<label class=\"matBadge\">{{ obstacleList.length }}</label>\n              <span class=\"material-icons\" (click)=\"arrowUpDown($event, 'obstacle')\" >keyboard_arrow_up</span>\n            </p>\n            <ol>\n              <li *ngFor=\"let item of obstacleList\">\n                <span>\n                  <label>X</label>\n                  <input type=\"text\" [value]=\"dragObject[item].x\">\n                </span>\n                <span>\n                  <label>Y</label>\n                  <input type=\"text\" [value]=\"dragObject[item].y\">\n                </span>\n                <span>\n                  <label>角度</label>\n                  <input type=\"text\" [value]=\"dragObject[item].rotate\">\n                </span>\n                <br>\n                <span>\n                  <label>長</label>\n                  <input type=\"text\" [value]=\"dragObject[item].width\">\n                </span>\n                <span>\n                  <label>寬</label>\n                  <input type=\"text\" [value]=\"dragObject[item].height\">\n                </span>\n                <span>\n                  <label>高</label>\n                  <input type=\"text\" [value]=\"dragObject[item].altitude\">\n                </span>\n              </li>\n            </ol>\n          </li>\n        \n          <li>\n            <p [class]=\"subitemClass['ue']\">UE 設定<label class=\"matBadge\">{{ ueList.length }}</label>\n              <span (click)=\"arrowUpDown($event, 'ue')\" class=\"material-icons\">keyboard_arrow_up</span>\n            </p>\n            <ol>\n              <li *ngFor=\"let item of ueList\">\n                <span>\n                  <label>X</label>\n                  <input type=\"text\" [value]=\"dragObject[item].x\">\n                </span>\n                <span>\n                  <label>Y</label>\n                  <input type=\"text\" [value]=\"dragObject[item].y\">\n                </span>\n                <span>\n                  <label>Z</label>\n                  <select class=\"zAxis\" [(ngModel)]=\"dragObject[item].z\">\n                    <option *ngFor=\"let z of zValues\" [value]=\"z\">{{ z }}</option>\n                  </select>\n                </span>\n              </li>\n            </ol>\n          </li>\n        </ul>\n        \n      </mat-expansion-panel>\n      <mat-expansion-panel>\n        <mat-expansion-panel-header>\n          <mat-panel-title>基站設定</mat-panel-title>\n        </mat-expansion-panel-header>\n        <ul>\n          <li>\n            <p>參數設定</p>\n            <ul>\n              <li>\n                <label>傳輸功率</label>\n                <span>\n                  <input type=\"text\" [(ngModel)]=\"calculateForm.powerMinRange\" placeholder=\"下限\">~<input [(ngModel)]=\"calculateForm.powerMaxRange\" type=\"text\" placeholder=\"上限\">dBm\n                </span>\n              </li>\n              <li>\n                <label>新基站數量</label>\n                <span>\n                  <input type=\"text\" [(ngModel)]=\"calculateForm.availableNewBsNumber\">\n                </span>\n              </li>\n                <label>基站頻率</label>\n                <span>\n                  <select [(ngModel)]=\"calculateForm.objectiveIndex\">\n                    <option value=\"1\">4G</option>\n                    <option value=\"2\">5G</option>\n                    <option value=\"3\">Wifi</option>\n                  </select>\n                </span>\n              <li>\n                <label>系統頻寬 / 頻率</label>\n                <span>\n                  <select [(ngModel)]=\"calculateForm.bandwidth\">\n                    <option value=\"\"></option>\n                  </select>\n                  /\n                  <input type=\"text\" [(ngModel)]=\"calculateForm.Frequency\">\n                </span>\n              </li>\n            </ul>\n          </li>\n          <li>\n            <p>現有基站<label class=\"matBadge\">{{ defaultBSList.length }}</label></p>\n            <ol>\n              <li *ngFor=\"let item of defaultBSList\">\n                <span>\n                  <label>X</label>\n                  <input type=\"text\" [value]=\"dragObject[item].x\">\n                </span>\n                <span>\n                  <label>Y</label>\n                  <input type=\"text\" [value]=\"dragObject[item].y\">\n                </span>\n                <span>\n                  <label>Z</label>\n                  <select class=\"zAxis\" [(ngModel)]=\"dragObject[item].z\">\n                    <option *ngFor=\"let z of zValues\" [value]=\"z\">{{ z }}</option>\n                  </select>\n                </span>\n              </li>\n            </ol>\n          </li>\n        </ul>\n      </mat-expansion-panel>\n      <mat-expansion-panel>\n        <mat-expansion-panel-header>\n          <mat-panel-title>待選基站位置<label class=\"matBadge\">{{ newBSList.length }}</label></mat-panel-title>\n        </mat-expansion-panel-header>\n          <ol>\n            <li *ngFor=\"let item of newBSList\">\n              <span>\n                <label>X</label>\n                <input type=\"text\" [value]=\"dragObject[item].x\">\n              </span>\n              <span>\n                <label>Y</label>\n                <input type=\"text\" [value]=\"dragObject[item].y\">\n              </span>\n              <span>\n                <label>Z</label>\n                <select class=\"zAxis\" [(ngModel)]=\"dragObject[item].z\">\n                  <option *ngFor=\"let z of zValues\" [value]=\"z\">{{ z }}</option>\n                </select>\n              </span>\n            </li>\n          </ol>\n      </mat-expansion-panel>\n      <mat-expansion-panel>\n        <mat-expansion-panel-header>\n          <mat-panel-title>無線模型參數</mat-panel-title>\n        </mat-expansion-panel-header>\n        <ul>\n          <li>\n            <label>預設無線模型</label>\n            <span>\n              <select [(ngModel)]=\"calculateForm.pathLossModelId\">\n                <option *ngFor=\"let i of pathLossModelIdList\" [value]=\"i\"></option>\n              </select>\n            </span>\n          </li>\n          <li>\n            <label>自訂無線模型(@jane要再給)</label>\n            <span>\n              a<input type=\"text\" [(ngModel)]=\"calculateForm.modelname\">\n              b<input type=\"text\" [(ngModel)]=\"calculateForm.distanceFactor\">\n              c<input type=\"text\" [(ngModel)]=\"calculateForm.contantFactor\">\n            </span>\n          </li>\n          <li>\n            <span>Path Loss Model</span>\n            <select class=\"widthAuto\">\n              <option>台中智機場域</option>\n            </select>\n          </li>\n        </ul>\n      </mat-expansion-panel>\n      <mat-expansion-panel>\n        <mat-expansion-panel-header>\n          <mat-panel-title>演算法設定</mat-panel-title>\n        </mat-expansion-panel-header>\n        <ul>\n          <li>\n            <span>C值</span>\n            <input type=\"text\" [(ngModel)]=\"calculateForm.mctsC\">\n          </li>\n          <li>\n            <span>天線數</span>\n            <input type=\"text\" [(ngModel)]=\"calculateForm.mctsMimo\">\n          </li>\n          <li>\n            <span>氣溫</span>\n            <input type=\"text\" [(ngModel)]=\"calculateForm.mctsTemperature\">\n          </li> \n          <li>\n            <span>節點模擬時間限制</span>\n            <input type=\"text\" [(ngModel)]=\"calculateForm.mctsTime\">\n          </li> \n          <li>\n            <span>本次規劃之時間限制</span>\n            <input type=\"text\" [(ngModel)]=\"calculateForm.mctsTestTime\">\n          </li>\n          <li>\n            <span>本次規劃之模擬次數上限</span>\n            <input type=\"text\" [(ngModel)]=\"calculateForm.mctsTotalTime\">\n          </li>\n        </ul>\n      </mat-expansion-panel>\n \n    </mat-accordion>    \n  </mat-sidenav>\n</mat-sidenav-container>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SitePlanningComponent } from './site-planning.component';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { RouterModule } from '@angular/router';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { NgxMoveableModule } from 'ngx-moveable';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatIconModule } from '@angular/material/icon';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    RouterModule,\n    MatSidenavModule,\n    MatButtonToggleModule,\n    MatIconModule,\n    MatExpansionModule,\n    MatTabsModule,\n    MatCheckboxModule,\n    MatTooltipModule,\n    NgxMoveableModule\n  ],\n  declarations: [SitePlanningComponent],\n  exports: [SitePlanningComponent]\n})\nexport class SitePlanningModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PlanningReportComponent } from './planning-report/planning-report.component';\nimport { ResultComponent } from './result/result.component';\nimport { SitePlanningComponent } from './site-planning/site-planning.component';\nimport { View3dComponent } from './view3d/view3d.component';\n\nconst routes: Routes = [\n  { path: 'site-planning', component: SitePlanningComponent },\n  { path: 'view3d', component: View3dComponent },\n  { path: 'result', component: ResultComponent },\n  { path: 'planning-report', component: PlanningReportComponent }\n\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SiteRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SiteRoutingModule } from './site-routing.module';\nimport { SitePlanningModule } from './site-planning/site-planning.module';\nimport { View3dModule } from './view3d/view3d.module';\nimport { ResultModule } from './result/result.module';\nimport { PlanningReportModule } from './planning-report/planning-report.module';\nimport { RouterModule } from '@angular/router';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule,\n    SiteRoutingModule,\n    SitePlanningModule,\n    View3dModule,\n    ResultModule,\n    PlanningReportModule\n  ],\n  declarations: []\n})\nexport class SiteModule { }\n","import { Injectable } from '@angular/core';\nimport { CalculateForm } from '../form/CalculateForm';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TaskFormService {\n\n  constructor() { }\n\n  calculateForm: CalculateForm;\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-view3d',\n  templateUrl: './view3d.component.html',\n  styleUrls: ['./view3d.component.scss']\n})\nexport class View3dComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<h1>3D顯示</h1>\n\n<a href=\"javascript:void(0)\" [routerLink]=\"['/site/site-planning']\">場域規劃</a>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { View3dComponent } from './view3d.component';\nimport { RouterModule } from '@angular/router';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule\n  ],\n  declarations: [View3dComponent],\n  exports: [View3dComponent]\n})\nexport class View3dModule { }\n"]}