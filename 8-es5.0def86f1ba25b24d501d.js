function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(l){r=!0,a=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"A/ap":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,e),window.removeEventListener("testPassiveEventSupport",n,e),i.hasSupport=t}}};i.update(),e.default=i},"CFj+":function(t,e,n){"use strict";n.r(e),n.d(e,"SiteModule",(function(){return kh}));var i=n("ofXK"),r=n("tyNb"),a=n("fXoL"),o=n("jaxi"),s=function(){return["/site/result"]},l=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=a.ac({type:l,selectors:[["app-planning-report"]],decls:68,vars:2,consts:[[1,"inline-block"],["value","back",3,"routerLink"],["value","report"],[1,"leftArea"],[1,"rightArea"]],template:function(t,e){1&t&&(a.lc(0,"h2",0),a.Xc(1,"\u898f\u5283\u5831\u544a"),a.kc(),a.lc(2,"mat-button-toggle-group",0),a.lc(3,"mat-button-toggle",1),a.Xc(4,"\u56de\u4e0a\u9801"),a.kc(),a.lc(5,"mat-button-toggle",2),a.Xc(6,"\u532f\u51fa\u8a2d\u7f6e"),a.kc(),a.lc(7,"mat-button-toggle",2),a.Xc(8,"\u532f\u51fa\u5831\u544a"),a.kc(),a.lc(9,"mat-button-toggle",2),a.Xc(10,"\u5132\u5b58"),a.kc(),a.kc(),a.hc(11,"div",3),a.lc(12,"div",4),a.lc(13,"h5"),a.Xc(14,"\u5834\u57df\u8a2d\u5b9a\u8cc7\u8a0a"),a.kc(),a.lc(15,"ul"),a.lc(16,"li"),a.lc(17,"span"),a.lc(18,"label"),a.Xc(19,"\u5c08\u6848\u540d\u7a31"),a.kc(),a.Xc(20,"eaaaaa"),a.kc(),a.lc(21,"span"),a.lc(22,"label"),a.Xc(23,"\u898f\u5283\u6642\u9593"),a.kc(),a.Xc(24,"2020-12-19 12:17:13"),a.kc(),a.kc(),a.lc(25,"li"),a.lc(26,"span"),a.lc(27,"label"),a.Xc(28,"\u898f\u5283\u76ee\u6a19"),a.kc(),a.lc(29,"span"),a.Xc(30,"\u4e0d\u9650\u5236\u589e\u52a0\u57fa\u7ad9\u6578\u91cf\uff0c\u4ee5\u9054\u5230UE\u5e73\u5747\u4e0b\u884cthroughput\u6700\u5927."),a.kc(),a.kc(),a.kc(),a.lc(31,"li"),a.lc(32,"span"),a.lc(33,"label"),a.Xc(34,"\u5834\u57df\u5927\u5c0f"),a.kc(),a.Xc(35,"\u9577 104 \u516c\u5c3a/ \u5bec 26 \u516c\u5c3a\uff0f\u9ad8 2 \u516c\u5c3a"),a.kc(),a.lc(36,"span"),a.lc(37,"label"),a.Xc(38,"\u5730\u5716\u5207\u9762(\u9ad8\u5ea6)"),a.kc(),a.Xc(39,"1 \u516c\u5c3a\uff0f1.5 \u516c\u5c3a"),a.kc(),a.kc(),a.hc(40,"hr"),a.lc(41,"h5"),a.Xc(42,"\u57fa\u7ad9\u8cc7\u8a0a"),a.kc(),a.lc(43,"li"),a.lc(44,"span"),a.lc(45,"label"),a.Xc(46,"\u5f85\u9078\u57fa\u7ad9\u4f4d\u7f6e"),a.kc(),a.Xc(47,"(\u51716\u8655)"),a.kc(),a.lc(48,"span"),a.lc(49,"label"),a.Xc(50,"\u73fe\u6709\u57fa\u7ad9"),a.kc(),a.Xc(51,"(\u51710\u53f0)"),a.kc(),a.lc(52,"span"),a.lc(53,"label"),a.Xc(54,"\u767c\u5c04\u529f\u7387\u7bc4\u570d"),a.kc(),a.Xc(55,"\t-5 dBm ~ 21 dBm"),a.kc(),a.lc(56,"span"),a.lc(57,"label"),a.Xc(58,"\u53ef\u5206\u914d\u6ce2\u675f\u7de8\u865f\u7bc4\u570d"),a.kc(),a.Xc(59,"\t0 ~ 30"),a.kc(),a.lc(60,"span"),a.lc(61,"label"),a.Xc(62,"Channel\u983b\u5bec(MHz)"),a.kc(),a.Xc(63,"\t20 MHz"),a.kc(),a.lc(64,"span"),a.lc(65,"label"),a.Xc(66,"\u4e2d\u5fc3\u983b\u7387(MHz)"),a.kc(),a.Xc(67,"\t1900 MHz"),a.kc(),a.kc(),a.kc(),a.kc()),2&t&&(a.Tb(3),a.Cc("routerLink",a.Fc(1,s)))},directives:[o.b,o.a,r.c],styles:['.mat-button-toggle-group[_ngcontent-%COMP%]{margin-left:1em}.leftArea[_ngcontent-%COMP%], .rightArea[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding:1em}.leftArea[_ngcontent-%COMP%]{width:75%}.rightArea[_ngcontent-%COMP%]{font-size:.9em;width:25%;border:1px solid #ddd;background-color:#eee}.rightArea[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1em}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:.9}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:inline;line-height:1;margin-bottom:.5em}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;font-size:.95em;margin-right:.2em}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:" :"}']});var c=n("mrSG"),u=n("0IaG"),h=n("LVmW"),d=n("jYCk"),p=n("oUye"),f=n("6uu6"),g=n("JqCM"),v=n("0Wct"),m=n("sYmb"),b=n("9F8z"),y=n("tk/3"),w=n("k4ix"),x=n("3Pt+"),_=n("XNiG"),O=n("7o/Q"),C=n("D0XW"),k=n("l7GE");n("ZUHj");var S={leading:!0,trailing:!1};function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return function(i){return i.lift(new E(t,e,n.leading,n.trailing))}}k.a;var E=function(){function t(e,n,i,r){_classCallCheck(this,t),this.duration=e,this.scheduler=n,this.leading=i,this.trailing=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new T(t,this.duration,this.scheduler,this.leading,this.trailing))}}]),t}(),T=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o){var s;return _classCallCheck(this,n),(s=e.call(this,t)).duration=i,s.scheduler=r,s.leading=a,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return _createClass(n,[{key:"_next",value:function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(P,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}]),n}(O.a);function P(t){t.subscriber.clearThrottle()}var L=n("vkgz"),R=n("/uUt"),I=n("pLZG"),D=n("A/ap"),z=n.n(D),A=["tooltipTemplate"],j=["leftOuterSelectionBar"],F=["rightOuterSelectionBar"],B=["fullBar"],V=["selectionBar"],N=["minHandle"],H=["maxHandle"],X=["floorLabel"],G=["ceilLabel"],U=["minHandleLabel"],Y=["maxHandleLabel"],q=["combinedLabel"],W=["ticksElement"];function $(t,e){if(1&t&&a.hc(0,"ngx-slider-tooltip-wrapper",31),2&t){var n=a.xc().$implicit,i=a.xc();a.Cc("template",i.tooltipTemplate)("tooltip",n.valueTooltip)("placement",n.valueTooltipPlacement)("content",n.value)}}function Z(t,e){if(1&t&&a.hc(0,"span",32),2&t){var n=a.xc().$implicit;a.Cc("innerHTML",n.legend,a.Pc)}}var J=function(t){return{"ngx-slider-selected":t}};function K(t,e){if(1&t&&(a.lc(0,"span",27),a.hc(1,"ngx-slider-tooltip-wrapper",28),a.Vc(2,$,1,4,"ngx-slider-tooltip-wrapper",29),a.Vc(3,Z,1,1,"span",30),a.kc()),2&t){var n=e.$implicit,i=a.xc();a.Cc("ngClass",a.Gc(7,J,n.selected))("ngStyle",n.style),a.Tb(1),a.Cc("template",i.tooltipTemplate)("tooltip",n.tooltip)("placement",n.tooltipPlacement),a.Tb(1),a.Cc("ngIf",null!=n.value),a.Tb(1),a.Cc("ngIf",null!=n.legend)}}function Q(t,e){}function tt(t,e){1&t&&a.Vc(0,Q,0,0,"ng-template")}var et=function(t,e,n){return{tooltip:t,placement:e,content:n}};function nt(t,e){if(1&t&&(a.jc(0),a.Vc(1,tt,1,0,void 0,1),a.ic()),2&t){var n=a.xc();a.Tb(1),a.Cc("ngTemplateOutlet",n.template)("ngTemplateOutletContext",a.Ic(2,et,n.tooltip,n.placement,n.content))}}function it(t,e){if(1&t&&(a.jc(0),a.lc(1,"div",2),a.Xc(2),a.kc(),a.ic()),2&t){var n=a.xc();a.Tb(1),a.Ub("title",n.tooltip)("data-tooltip-placement",n.placement),a.Tb(1),a.Zc(" ",n.content," ")}}var rt={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};rt[rt.Low]="Low",rt[rt.High]="High",rt[rt.Floor]="Floor",rt[rt.Ceil]="Ceil",rt[rt.TickValue]="TickValue";var at=function t(){_classCallCheck(this,t),this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.mouseEventsInterval=50,this.touchEventsInterval=50,this.inputEventsInterval=100,this.outputEventsInterval=100,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaLabelHigh=null,this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1},ot={Min:0,Max:1};ot[ot.Min]="Min",ot[ot.Max]="Max";var st=function t(){_classCallCheck(this,t)},lt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"isNullOrUndefined",value:function(t){return null==t}},{key:"areArraysEqual",value:function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}},{key:"linearValueToPosition",value:function(t,e,n){return(t-e)/(n-e)}},{key:"logValueToPosition",value:function(t,e,n){return((t=Math.log(t))-(e=Math.log(e)))/((n=Math.log(n))-e)}},{key:"linearPositionToValue",value:function(t,e,n){return t*(n-e)+e}},{key:"logPositionToValue",value:function(t,e,n){e=Math.log(e);var i=t*((n=Math.log(n))-e)+e;return Math.exp(i)}},{key:"findStepIndex",value:function(t,e){for(var n=e.map((function(e){return Math.abs(t-e.value)})),i=0,r=0;r<e.length;r++)n[r]!==n[i]&&n[r]<n[i]&&(i=r);return i}}]),t}(),ct=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"isTouchEvent",value:function(t){return void 0!==window.TouchEvent?t instanceof TouchEvent:void 0!==t.touches}},{key:"isResizeObserverAvailable",value:function(){return void 0!==window.ResizeObserver}}]),t}(),ut=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"roundToPrecisionLimit",value:function(t,e){return+t.toPrecision(e)}},{key:"isModuloWithinPrecisionLimit",value:function(t,e,n){var i=Math.pow(10,-n);return Math.abs(t%e)<=i||Math.abs(Math.abs(t%e)-e)<=i}},{key:"clampToRange",value:function(t,e,n){return Math.min(Math.max(t,e),n)}}]),t}(),ht=function t(){_classCallCheck(this,t),this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null},dt=function(){function t(e){_classCallCheck(this,t),this.renderer=e}return _createClass(t,[{key:"attachPassiveEventListener",value:function(t,e,n,i){if(!0!==z.a.hasSupport)return this.attachEventListener(t,e,n,i);var r=new ht;r.eventName=e,r.events=new _.a;var a=function(t){r.events.next(t)};return t.addEventListener(e,a,{passive:!0,capture:!1}),r.teardownCallback=function(){t.removeEventListener(e,a,{passive:!0,capture:!1})},r.eventsSubscription=r.events.pipe(lt.isNullOrUndefined(i)?Object(L.a)((function(){})):M(i,void 0,{leading:!0,trailing:!0})).subscribe((function(t){n(t)})),r}},{key:"detachEventListener",value:function(t){lt.isNullOrUndefined(t.eventsSubscription)||(t.eventsSubscription.unsubscribe(),t.eventsSubscription=null),lt.isNullOrUndefined(t.events)||(t.events.complete(),t.events=null),lt.isNullOrUndefined(t.teardownCallback)||(t.teardownCallback(),t.teardownCallback=null)}},{key:"attachEventListener",value:function(t,e,n,i){var r=new ht;return r.eventName=e,r.events=new _.a,r.teardownCallback=this.renderer.listen(t,e,(function(t){r.events.next(t)})),r.eventsSubscription=r.events.pipe(lt.isNullOrUndefined(i)?Object(L.a)((function(){})):M(i,void 0,{leading:!0,trailing:!0})).subscribe((function(t){n(t)})),r}}]),t}(),pt=function(){function t(e,n,i){_classCallCheck(this,t),this.elemRef=e,this.renderer=n,this.changeDetectionRef=i,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.eventListeners=[],this.eventListenerHelper=new dt(this.renderer)}return _createClass(t,[{key:"setAlwaysHide",value:function(t){this._alwaysHide=t,this.visibility=t?"hidden":"visible"}},{key:"hide",value:function(){this.opacity=0}},{key:"show",value:function(){this.alwaysHide||(this.opacity=1)}},{key:"isVisible",value:function(){return!this.alwaysHide&&0!==this.opacity}},{key:"setVertical",value:function(t){this._vertical=t,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}},{key:"setScale",value:function(t){this._scale=t}},{key:"setPosition",value:function(t){this._position===t||this.isRefDestroyed()||this.changeDetectionRef.markForCheck(),this._position=t,this._vertical?this.bottom=Math.round(t)+"px":this.left=Math.round(t)+"px"}},{key:"calculateDimension",value:function(){var t=this.getBoundingClientRect();this.vertical?this._dimension=(t.bottom-t.top)*this.scale:this._dimension=(t.right-t.left)*this.scale}},{key:"setDimension",value:function(t){this._dimension===t||this.isRefDestroyed()||this.changeDetectionRef.markForCheck(),this._dimension=t,this._vertical?this.height=Math.round(t)+"px":this.width=Math.round(t)+"px"}},{key:"getBoundingClientRect",value:function(){return this.elemRef.nativeElement.getBoundingClientRect()}},{key:"on",value:function(t,e,n){var i=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,t,e,n);this.eventListeners.push(i)}},{key:"onPassive",value:function(t,e,n){var i=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,t,e,n);this.eventListeners.push(i)}},{key:"off",value:function(t){var e,n;lt.isNullOrUndefined(t)?(e=[],n=this.eventListeners):(e=this.eventListeners.filter((function(e){return e.eventName!==t})),n=this.eventListeners.filter((function(e){return e.eventName===t})));var i,r=_createForOfIteratorHelper(n);try{for(r.s();!(i=r.n()).done;){var a=i.value;this.eventListenerHelper.detachEventListener(a)}}catch(o){r.e(o)}finally{r.f()}this.eventListeners=e}},{key:"isRefDestroyed",value:function(){return lt.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}},{key:"position",get:function(){return this._position}},{key:"dimension",get:function(){return this._dimension}},{key:"alwaysHide",get:function(){return this._alwaysHide}},{key:"vertical",get:function(){return this._vertical}},{key:"scale",get:function(){return this._scale}}]),t}();pt.\u0275fac=function(t){return new(t||pt)(a.gc(a.r),a.gc(a.T),a.gc(a.j))},pt.\u0275dir=a.bc({type:pt,selectors:[["","ngxSliderElement",""]],hostVars:12,hostBindings:function(t,e){2&t&&a.Uc("opacity",e.opacity)("visibility",e.visibility)("left",e.left)("bottom",e.bottom)("height",e.height)("width",e.width)}}),pt.ctorParameters=function(){return[{type:a.r},{type:a.T},{type:a.j}]},pt.propDecorators={opacity:[{type:a.v,args:["style.opacity"]}],visibility:[{type:a.v,args:["style.visibility"]}],left:[{type:a.v,args:["style.left"]}],bottom:[{type:a.v,args:["style.bottom"]}],height:[{type:a.v,args:["style.height"]}],width:[{type:a.v,args:["style.width"]}]};var ft=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t,i,r)).active=!1,a.role="",a.tabindex="",a.ariaOrientation="",a.ariaLabel="",a.ariaLabelledBy="",a.ariaValueNow="",a.ariaValueText="",a.ariaValueMin="",a.ariaValueMax="",a}return _createClass(n,[{key:"focus",value:function(){this.elemRef.nativeElement.focus()}}]),n}(pt);ft.\u0275fac=function(t){return new(t||ft)(a.gc(a.r),a.gc(a.T),a.gc(a.j))},ft.\u0275dir=a.bc({type:ft,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(t,e){2&t&&(a.Ub("role",e.role)("tabindex",e.tabindex)("aria-orientation",e.ariaOrientation)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-valuenow",e.ariaValueNow)("aria-valuetext",e.ariaValueText)("aria-valuemin",e.ariaValueMin)("aria-valuemax",e.ariaValueMax),a.Xb("ngx-slider-active",e.active))},features:[a.Qb]}),ft.ctorParameters=function(){return[{type:a.r},{type:a.T},{type:a.j}]},ft.propDecorators={active:[{type:a.v,args:["class.ngx-slider-active"]}],role:[{type:a.v,args:["attr.role"]}],tabindex:[{type:a.v,args:["attr.tabindex"]}],ariaOrientation:[{type:a.v,args:["attr.aria-orientation"]}],ariaLabel:[{type:a.v,args:["attr.aria-label"]}],ariaLabelledBy:[{type:a.v,args:["attr.aria-labelledby"]}],ariaValueNow:[{type:a.v,args:["attr.aria-valuenow"]}],ariaValueText:[{type:a.v,args:["attr.aria-valuetext"]}],ariaValueMin:[{type:a.v,args:["attr.aria-valuemin"]}],ariaValueMax:[{type:a.v,args:["attr.aria-valuemax"]}]};var gt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t,i,r))._value=null,a}return _createClass(n,[{key:"setValue",value:function(t){var e=!1;!this.alwaysHide&&(lt.isNullOrUndefined(this.value)||this.value.length!==t.length||this.value.length>0&&0===this.dimension)&&(e=!0),this._value=t,this.elemRef.nativeElement.innerHTML=t,e&&this.calculateDimension()}},{key:"value",get:function(){return this._value}}]),n}(pt);gt.\u0275fac=function(t){return new(t||gt)(a.gc(a.r),a.gc(a.T),a.gc(a.j))},gt.\u0275dir=a.bc({type:gt,selectors:[["","ngxSliderLabel",""]],features:[a.Qb]}),gt.ctorParameters=function(){return[{type:a.r},{type:a.T},{type:a.j}]};var vt=function t(){_classCallCheck(this,t),this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null},mt=function t(){_classCallCheck(this,t),this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0},bt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"compare",value:function(t,e){return!(lt.isNullOrUndefined(t)&&lt.isNullOrUndefined(e)||lt.isNullOrUndefined(t)!==lt.isNullOrUndefined(e)||t.value!==e.value||t.highValue!==e.highValue)}}]),t}(),yt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,null,[{key:"compare",value:function(t,e){return!(lt.isNullOrUndefined(t)&&lt.isNullOrUndefined(e)||lt.isNullOrUndefined(t)!==lt.isNullOrUndefined(e)||t.value!==e.value||t.highValue!==e.highValue||t.forceChange!==e.forceChange)}}]),n}(bt),wt={provide:x.i,useExisting:Object(a.kb)((function(){return xt})),multi:!0},xt=function(){function t(e,n,i,r){_classCallCheck(this,t),this.renderer=e,this.elementRef=n,this.changeDetectionRef=i,this.zone=r,this.value=null,this.valueChange=new a.t,this.highValue=null,this.highValueChange=new a.t,this.options=new at,this.userChangeStart=new a.t,this.userChange=new a.t,this.userChangeEnd=new a.t,this.initHasRun=!1,this.inputModelChangeSubject=new _.a,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new _.a,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new at,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new mt,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new dt(this.renderer)}return _createClass(t,[{key:"ngOnInit",value:function(){this.viewOptions=new at,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState()}},{key:"ngAfterViewInit",value:function(){this.applyOptions(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval),this.subscribeOutputModelChangeSubject(this.viewOptions.outputEventsInterval),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.range?this.viewHighValue=this.modelValueToViewValue(this.highValue):this.viewHighValue=null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}},{key:"ngOnChanges",value:function(t){lt.isNullOrUndefined(t.options)||this.onChangeOptions(),lt.isNullOrUndefined(t.value)&&lt.isNullOrUndefined(t.highValue)||this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}},{key:"ngOnDestroy",value:function(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}},{key:"writeValue",value:function(t){t instanceof Array?(this.value=t[0],this.highValue=t[1]):this.value=t,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}},{key:"registerOnChange",value:function(t){this.onChangeCallback=t}},{key:"registerOnTouched",value:function(t){this.onTouchedCallback=t}},{key:"setDisabledState",value:function(t){this.viewOptions.disabled=t,this.updateDisabledState()}},{key:"onResize",value:function(t){this.calculateViewDimensionsAndDetectChanges()}},{key:"subscribeInputModelChangeSubject",value:function(t){var e=this;this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(Object(R.a)(yt.compare),Object(I.a)((function(t){return!t.forceChange&&!t.internalChange})),lt.isNullOrUndefined(t)?Object(L.a)((function(){})):M(t,void 0,{leading:!0,trailing:!0})).subscribe((function(t){return e.applyInputModelChange(t)}))}},{key:"subscribeOutputModelChangeSubject",value:function(t){var e=this;this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(Object(R.a)(yt.compare),lt.isNullOrUndefined(t)?Object(L.a)((function(){})):M(t,void 0,{leading:!0,trailing:!0})).subscribe((function(t){return e.publishOutputModelChange(t)}))}},{key:"subscribeResizeObserver",value:function(){var t=this;ct.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver((function(){return t.calculateViewDimensionsAndDetectChanges()})),this.resizeObserver.observe(this.elementRef.nativeElement))}},{key:"unsubscribeResizeObserver",value:function(){ct.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"unsubscribeOnMove",value:function(){lt.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}},{key:"unsubscribeOnEnd",value:function(){lt.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}},{key:"unsubscribeInputModelChangeSubject",value:function(){lt.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}},{key:"unsubscribeOutputModelChangeSubject",value:function(){lt.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}},{key:"unsubscribeManualRefresh",value:function(){lt.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}},{key:"unsubscribeTriggerFocus",value:function(){lt.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}},{key:"getPointerElement",value:function(t){return t===ot.Min?this.minHandleElement:t===ot.Max?this.maxHandleElement:null}},{key:"getCurrentTrackingValue",value:function(){return this.currentTrackingPointer===ot.Min?this.viewLowValue:this.currentTrackingPointer===ot.Max?this.viewHighValue:null}},{key:"modelValueToViewValue",value:function(t){return lt.isNullOrUndefined(t)?NaN:lt.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+t:lt.findStepIndex(+t,this.viewOptions.stepsArray)}},{key:"viewValueToModelValue",value:function(t){return lt.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?t:this.getStepValue(t)}},{key:"getStepValue",value:function(t){var e=this.viewOptions.stepsArray[t];return lt.isNullOrUndefined(e)?NaN:e.value}},{key:"applyViewChange",value:function(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}},{key:"applyInputModelChange",value:function(t){var e=this.normaliseModelValues(t),n=!bt.compare(t,e);n&&(this.value=e.value,this.highValue=e.highValue),this.viewLowValue=this.modelValueToViewValue(e.value),this.range?this.viewHighValue=this.modelValueToViewValue(e.highValue):this.viewHighValue=null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:e.value,highValue:e.highValue,forceChange:n,userEventInitiated:!1})}},{key:"publishOutputModelChange",value:function(t){var e=this,n=function(){e.valueChange.emit(t.value),e.range&&e.highValueChange.emit(t.highValue),lt.isNullOrUndefined(e.onChangeCallback)||(e.range?e.onChangeCallback([t.value,t.highValue]):e.onChangeCallback(t.value)),lt.isNullOrUndefined(e.onTouchedCallback)||(e.range?e.onTouchedCallback([t.value,t.highValue]):e.onTouchedCallback(t.value))};t.userEventInitiated?(n(),this.userChange.emit(this.getChangeContext())):setTimeout((function(){n()}))}},{key:"normaliseModelValues",value:function(t){var e=new bt;if(e.value=t.value,e.highValue=t.highValue,!lt.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){var n=lt.findStepIndex(e.value,this.viewOptions.stepsArray);if(e.value=this.viewOptions.stepsArray[n].value,this.range){var i=lt.findStepIndex(e.highValue,this.viewOptions.stepsArray);e.highValue=this.viewOptions.stepsArray[i].value}}return e}if(this.viewOptions.enforceStep&&(e.value=this.roundStep(e.value),this.range&&(e.highValue=this.roundStep(e.highValue))),this.viewOptions.enforceRange&&(e.value=ut.clampToRange(e.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(e.highValue=ut.clampToRange(e.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&t.value>t.highValue))if(this.viewOptions.noSwitching)e.value=e.highValue;else{var r=t.value;e.value=t.highValue,e.highValue=r}return e}},{key:"renormaliseModelValues",value:function(){var t={value:this.value,highValue:this.highValue},e=this.normaliseModelValues(t);bt.compare(e,t)||(this.value=e.value,this.highValue=e.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}},{key:"onChangeOptions",value:function(){if(this.initHasRun){var t=this.viewOptions.inputEventsInterval,e=this.viewOptions.outputEventsInterval,n=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();var i=this.getOptionsInfluencingEventBindings(this.viewOptions),r=!lt.areArraysEqual(n,i);t!==this.viewOptions.inputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval)),e!==this.viewOptions.outputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.outputEventsInterval)),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.range?this.viewHighValue=this.modelValueToViewValue(this.highValue):this.viewHighValue=null,this.resetSlider(r)}}},{key:"applyOptions",value:function(){if(this.viewOptions=new at,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!lt.isNullOrUndefined(this.viewOptions.ticksArray),!this.viewOptions.showTicks||lt.isNullOrUndefined(this.viewOptions.tickStep)&&lt.isNullOrUndefined(this.viewOptions.ticksArray)||(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!lt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),lt.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),lt.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=function(t,e){return t+" - "+e}),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}},{key:"applyStepsArrayOptions",value:function(){var t=this;this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,lt.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=function(e){return t.viewOptions.bindIndexForStepsArray?String(t.getStepValue(e)):String(e)})}},{key:"applyFloorCeilOptions",value:function(){if(lt.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),lt.isNullOrUndefined(this.viewOptions.ceil)||lt.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,lt.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=function(t){return String(t)})}},{key:"resetSlider",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),t&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}},{key:"focusPointer",value:function(t){t!==ot.Min&&t!==ot.Max&&(t=ot.Min),t===ot.Min?this.minHandleElement.focus():this.range&&t===ot.Max&&this.maxHandleElement.focus()}},{key:"refocusPointerIfNeeded",value:function(){lt.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}},{key:"manageElementsStyle",value:function(){var t=this;this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);var e=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(e||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout((function(){t.resetSlider()}))),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout((function(){t.sliderElementAnimateClass=t.viewOptions.animate}))}},{key:"manageEventsBindings",value:function(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}},{key:"updateDisabledState",value:function(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}},{key:"updateVerticalState",value:function(){this.sliderElementVerticalClass=this.viewOptions.vertical;var t,e=_createForOfIteratorHelper(this.getAllSliderElements());try{for(e.s();!(t=e.n()).done;){var n=t.value;lt.isNullOrUndefined(n)||n.setVertical(this.viewOptions.vertical)}}catch(i){e.e(i)}finally{e.f()}}},{key:"updateScale",value:function(){var t,e=_createForOfIteratorHelper(this.getAllSliderElements());try{for(e.s();!(t=e.n()).done;){t.value.setScale(this.viewOptions.scale)}}catch(n){e.e(n)}finally{e.f()}}},{key:"getAllSliderElements",value:function(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}},{key:"initHandles",value:function(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}},{key:"addAccessibility",value:function(){this.updateAriaAttributes(),this.minHandleElement.role="slider",!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?this.minHandleElement.tabindex="":this.minHandleElement.tabindex="0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",lt.isNullOrUndefined(this.viewOptions.ariaLabel)?lt.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?this.maxHandleElement.tabindex="":this.maxHandleElement.tabindex="0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",lt.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?lt.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}},{key:"updateAriaAttributes",value:function(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,rt.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,rt.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}},{key:"calculateViewDimensions",value:function(){lt.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);var t=this.minHandleElement.dimension;this.handleHalfDimension=t/2,lt.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-t,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}},{key:"calculateViewDimensionsAndDetectChanges",value:function(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}},{key:"isRefDestroyed",value:function(){return this.changeDetectionRef.destroyed}},{key:"updateTicksScale",value:function(){var t=this;if(this.viewOptions.showTicks){var e=lt.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,n=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&e.reverse();var i=lt.isNullOrUndefined(this.viewOptions.tickValueStep)?lt.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep,r=!1,a=e.map((function(e){var a=t.valueToPosition(e);t.viewOptions.vertical&&(a=t.maxHandlePosition-a);var o=n+"("+Math.round(a)+"px)",s=new vt;s.selected=t.isTickSelected(e),s.style={"-webkit-transform":o,"-moz-transform":o,"-o-transform":o,"-ms-transform":o,transform:o},s.selected&&!lt.isNullOrUndefined(t.viewOptions.getSelectionBarColor)&&(s.style["background-color"]=t.getSelectionBarColor()),s.selected||lt.isNullOrUndefined(t.viewOptions.getTickColor)||(s.style["background-color"]=t.getTickColor(e)),lt.isNullOrUndefined(t.viewOptions.ticksTooltip)||(s.tooltip=t.viewOptions.ticksTooltip(e),s.tooltipPlacement=t.viewOptions.vertical?"right":"top"),t.viewOptions.showTicksValues&&!lt.isNullOrUndefined(i)&&ut.isModuloWithinPrecisionLimit(e,i,t.viewOptions.precisionLimit)&&(s.value=t.getDisplayValue(e,rt.TickValue),lt.isNullOrUndefined(t.viewOptions.ticksValuesTooltip)||(s.valueTooltip=t.viewOptions.ticksValuesTooltip(e),s.valueTooltipPlacement=t.viewOptions.vertical?"right":"top"));var l=null;if(lt.isNullOrUndefined(t.viewOptions.stepsArray))lt.isNullOrUndefined(t.viewOptions.getLegend)||(l=t.viewOptions.getLegend(e));else{var c=t.viewOptions.stepsArray[e];lt.isNullOrUndefined(c)||(l=c.legend)}return lt.isNullOrUndefined(l)||(s.legend=l,r=!0),s}));if(setTimeout((function(){t.sliderElementWithLegendClass=r})),lt.isNullOrUndefined(this.ticks)||this.ticks.length!==a.length)this.ticks=a;else for(var o=0;o<a.length;++o)Object.assign(this.ticks[o],a[o]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}else setTimeout((function(){t.sliderElementWithLegendClass=!1}))}},{key:"getTicksArray",value:function(){for(var t=lt.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,e=[],n=1+Math.floor(ut.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/t,this.viewOptions.precisionLimit)),i=0;i<n;++i)e.push(ut.roundToPrecisionLimit(this.viewOptions.floor+t*i,this.viewOptions.precisionLimit));return e}},{key:"isTickSelected",value:function(t){if(!this.range)if(lt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(t>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&t<=this.viewLowValue)return!0}else{var e=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>e&&t>=e&&t<=this.viewLowValue)return!0;if(this.viewLowValue<e&&t<=e&&t>=this.viewLowValue)return!0}return!!(this.range&&t>=this.viewLowValue&&t<=this.viewHighValue)}},{key:"updateFloorLabel",value:function(){if(!this.floorLabelElement.alwaysHide){this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,rt.Floor)),this.floorLabelElement.calculateDimension();var t=this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0;this.floorLabelElement.setPosition(t)}}},{key:"updateCeilLabel",value:function(){if(!this.ceilLabelElement.alwaysHide){this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,rt.Ceil)),this.ceilLabelElement.calculateDimension();var t=this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension;this.ceilLabelElement.setPosition(t)}}},{key:"updateHandles",value:function(t,e){t===ot.Min?this.updateLowHandle(e):t===ot.Max&&this.updateHighHandle(e),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}},{key:"getHandleLabelPos",value:function(t,e){var n=t===ot.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,i=e-n/2+this.handleHalfDimension,r=this.fullBarElement.dimension-n;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&t===ot.Min||!this.viewOptions.rightToLeft&&t===ot.Max?Math.min(i,r):Math.min(Math.max(i,0),r):i}},{key:"updateLowHandle",value:function(t){this.minHandleElement.setPosition(t),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,rt.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(ot.Min,t)),lt.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(ot.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}},{key:"updateHighHandle",value:function(t){this.maxHandleElement.setPosition(t),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,rt.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(ot.Max,t)),lt.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(ot.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}},{key:"updateFloorAndCeilLabelsVisibility",value:function(){if(!this.viewOptions.hidePointerLabels){var t=!1,e=!1,n=this.isLabelBelowFloorLabel(this.minHandleLabelElement),i=this.isLabelAboveCeilLabel(this.minHandleLabelElement),r=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),a=this.isLabelBelowFloorLabel(this.combinedLabelElement),o=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(n?(t=!0,this.floorLabelElement.hide()):(t=!1,this.floorLabelElement.show()),i?(e=!0,this.ceilLabelElement.hide()):(e=!1,this.ceilLabelElement.show()),this.range){var s=this.combinedLabelElement.isVisible()?o:r,l=this.combinedLabelElement.isVisible()?a:n;s?this.ceilLabelElement.hide():e||this.ceilLabelElement.show(),l?this.floorLabelElement.hide():t||this.floorLabelElement.show()}}}},{key:"isLabelBelowFloorLabel",value:function(t){var e=t.position,n=t.dimension,i=this.floorLabelElement.position,r=this.floorLabelElement.dimension;return this.viewOptions.rightToLeft?e+n>=i-2:e<=i+r+2}},{key:"isLabelAboveCeilLabel",value:function(t){var e=t.position,n=t.dimension,i=this.ceilLabelElement.position,r=this.ceilLabelElement.dimension;return this.viewOptions.rightToLeft?e<=i+r+2:e+n>=i-2}},{key:"updateSelectionBar",value:function(){var t=0,e=0,n=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,i=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)e=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),t=i;else if(lt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))n?(e=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),t=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(e=this.minHandleElement.position+this.handleHalfDimension,t=0);else{var r=this.viewOptions.showSelectionBarFromValue,a=this.valueToPosition(r);(this.viewOptions.rightToLeft?this.viewLowValue<=r:this.viewLowValue>r)?(e=this.minHandleElement.position-a,t=a+this.handleHalfDimension):(e=a-this.minHandleElement.position,t=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(e),this.selectionBarElement.setPosition(t),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(t),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+e)),this.leftOuterSelectionBarElement.setPosition(t+e)):(this.leftOuterSelectionBarElement.setDimension(t),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+e)),this.rightOuterSelectionBarElement.setPosition(t+e))),lt.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!lt.isNullOrUndefined(this.viewOptions.selectionBarGradient)){var o=lt.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),s=o-t>0&&!n||o-t<=0&&n,l=this.viewOptions.vertical?s?"bottom":"top":s?"left":"right";this.barStyle={backgroundImage:"linear-gradient(to "+l+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(o+e+t+(s?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=o-t+(s?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{var c=this.getSelectionBarColor();this.barStyle={backgroundColor:c}}}},{key:"getSelectionBarColor",value:function(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}},{key:"getPointerColor",value:function(t){return t===ot.Max?this.viewOptions.getPointerColor(this.highValue,t):this.viewOptions.getPointerColor(this.value,t)}},{key:"getTickColor",value:function(t){return this.viewOptions.getTickColor(t)}},{key:"updateCombinedLabel",value:function(){if(this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position){var t=this.getDisplayValue(this.viewLowValue,rt.Low),e=this.getDisplayValue(this.viewHighValue,rt.High),n=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(e,t):this.viewOptions.combineLabels(t,e);this.combinedLabelElement.setValue(n);var i=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(i),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}},{key:"getDisplayValue",value:function(t,e){return lt.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray||(t=this.getStepValue(t)),this.viewOptions.translate(t,e)}},{key:"roundStep",value:function(t,e){var n=lt.isNullOrUndefined(e)?this.viewOptions.step:e,i=ut.roundToPrecisionLimit((t-this.viewOptions.floor)/n,this.viewOptions.precisionLimit);return i=Math.round(i)*n,ut.roundToPrecisionLimit(this.viewOptions.floor+i,this.viewOptions.precisionLimit)}},{key:"valueToPosition",value:function(t){var e=lt.linearValueToPosition;lt.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(e=lt.logValueToPosition):e=this.viewOptions.customValueToPosition;var n=e(t=ut.clampToRange(t,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return lt.isNullOrUndefined(n)&&(n=0),this.viewOptions.rightToLeft&&(n=1-n),n*this.maxHandlePosition}},{key:"positionToValue",value:function(t){var e=t/this.maxHandlePosition;this.viewOptions.rightToLeft&&(e=1-e);var n=lt.linearPositionToValue;lt.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(n=lt.logPositionToValue):n=this.viewOptions.customPositionToValue;var i=n(e,this.viewOptions.floor,this.viewOptions.ceil);return lt.isNullOrUndefined(i)?0:i}},{key:"getEventXY",value:function(t,e){if(t instanceof MouseEvent)return this.viewOptions.vertical?t.clientY:t.clientX;var n=0,i=t.touches;if(!lt.isNullOrUndefined(e))for(var r=0;r<i.length;r++)if(i[r].identifier===e){n=r;break}return this.viewOptions.vertical?i[n].clientY:i[n].clientX}},{key:"getEventPosition",value:function(t,e){var n=this.elementRef.nativeElement.getBoundingClientRect(),i=this.viewOptions.vertical?n.bottom:n.left;return(this.viewOptions.vertical?-this.getEventXY(t,e)+i:this.getEventXY(t,e)-i)*this.viewOptions.scale-this.handleHalfDimension}},{key:"getNearestHandle",value:function(t){if(!this.range)return ot.Min;var e=this.getEventPosition(t),n=Math.abs(e-this.minHandleElement.position),i=Math.abs(e-this.maxHandleElement.position);return n<i?ot.Min:n>i?ot.Max:this.viewOptions.rightToLeft?e>this.minHandleElement.position?ot.Min:ot.Max:e<this.minHandleElement.position?ot.Min:ot.Max}},{key:"bindEvents",value:function(){var t=this,e=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",(function(n){return t.onBarStart(null,e,n,!0,!0,!0)})),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",(function(n){return t.onBarStart(ot.Min,e,n,!0,!0)})),this.maxHandleElement.on("mousedown",(function(n){return t.onBarStart(ot.Max,e,n,!0,!0)}))):(this.minHandleElement.on("mousedown",(function(e){return t.onStart(ot.Min,e,!0,!0)})),this.range&&this.maxHandleElement.on("mousedown",(function(e){return t.onStart(ot.Max,e,!0,!0)})),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",(function(e){return t.onStart(null,e,!0,!0,!0)})),this.ticksElement.on("mousedown",(function(e){return t.onStart(null,e,!0,!0,!0,!0)})))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",(function(n){return t.onBarStart(null,e,n,!0,!0,!0)})),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",(function(n){return t.onBarStart(ot.Min,e,n,!0,!0)})),this.maxHandleElement.onPassive("touchstart",(function(n){return t.onBarStart(ot.Max,e,n,!0,!0)}))):(this.minHandleElement.onPassive("touchstart",(function(e){return t.onStart(ot.Min,e,!0,!0)})),this.range&&this.maxHandleElement.onPassive("touchstart",(function(e){return t.onStart(ot.Max,e,!0,!0)})),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",(function(e){return t.onStart(null,e,!0,!0,!0)})),this.ticksElement.onPassive("touchstart",(function(e){return t.onStart(null,e,!1,!1,!0,!0)})))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",(function(){return t.onPointerFocus(ot.Min)})),this.range&&this.maxHandleElement.on("focus",(function(){return t.onPointerFocus(ot.Max)})))}},{key:"getOptionsInfluencingEventBindings",value:function(t){return[t.disabled,t.readOnly,t.draggableRange,t.draggableRangeOnly,t.onlyBindHandles,t.keyboardSupport]}},{key:"unbindEvents",value:function(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();var t,e=_createForOfIteratorHelper(this.getAllSliderElements());try{for(e.s();!(t=e.n()).done;){var n=t.value;lt.isNullOrUndefined(n)||n.off()}}catch(i){e.e(i)}finally{e.f()}}},{key:"onBarStart",value:function(t,e,n,i,r,a,o){e?this.onDragStart(t,n,i,r):this.onStart(t,n,i,r,a,o)}},{key:"onStart",value:function(t,e,n,i,r,a){var o=this;e.stopPropagation(),ct.isTouchEvent(e)&&z.a.hasSupport||e.preventDefault(),this.moving=!1,this.calculateViewDimensions(),lt.isNullOrUndefined(t)&&(t=this.getNearestHandle(e)),this.currentTrackingPointer=t;var s=this.getPointerElement(t);if(s.active=!0,this.viewOptions.keyboardSupport&&s.focus(),n){this.unsubscribeOnMove();var l=function(t){return o.dragging.active?o.onDragMove(t):o.onMove(t)};ct.isTouchEvent(e)?this.onMoveEventListener=this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",l,this.viewOptions.touchEventsInterval):this.onMoveEventListener=this.eventListenerHelper.attachEventListener(document,"mousemove",l,this.viewOptions.mouseEventsInterval)}if(i){this.unsubscribeOnEnd();var c=function(t){return o.onEnd(t)};ct.isTouchEvent(e)?this.onEndEventListener=this.eventListenerHelper.attachPassiveEventListener(document,"touchend",c):this.onEndEventListener=this.eventListenerHelper.attachEventListener(document,"mouseup",c)}this.userChangeStart.emit(this.getChangeContext()),ct.isTouchEvent(e)&&!lt.isNullOrUndefined(e.changedTouches)&&lt.isNullOrUndefined(this.touchId)&&(this.touchId=e.changedTouches[0].identifier),r&&this.onMove(e,!0),a&&this.onEnd(e)}},{key:"onMove",value:function(t,e){var n=null;if(ct.isTouchEvent(t)){for(var i=t.changedTouches,r=0;r<i.length;r++)if(i[r].identifier===this.touchId){n=i[r];break}if(lt.isNullOrUndefined(n))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;var a,o=lt.isNullOrUndefined(n)?this.getEventPosition(t):this.getEventPosition(t,n.identifier),s=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil,l=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor;o<=0?a=l:o>=this.maxHandlePosition?a=s:(a=this.positionToValue(o),a=e&&!lt.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(a,this.viewOptions.tickStep):this.roundStep(a)),this.positionTrackingHandle(a)}},{key:"onEnd",value:function(t){ct.isTouchEvent(t)&&t.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}},{key:"onPointerFocus",value:function(t){var e=this,n=this.getPointerElement(t);n.on("blur",(function(){return e.onPointerBlur(n)})),n.on("keydown",(function(t){return e.onKeyboardEvent(t)})),n.on("keyup",(function(){return e.onKeyUp()})),n.active=!0,this.currentTrackingPointer=t,this.currentFocusPointer=t,this.firstKeyDown=!0}},{key:"onKeyUp",value:function(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}},{key:"onPointerBlur",value:function(t){t.off("blur"),t.off("keydown"),t.off("keyup"),t.active=!1,lt.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}},{key:"getKeyActions",value:function(t){var e=this.viewOptions.ceil-this.viewOptions.floor,n=t+this.viewOptions.step,i=t-this.viewOptions.step,r=t+e/10,a=t-e/10;this.viewOptions.reversedControls&&(n=t-this.viewOptions.step,i=t+this.viewOptions.step,r=t-e/10,a=t+e/10);var o={UP:n,DOWN:i,LEFT:i,RIGHT:n,PAGEUP:r,PAGEDOWN:a,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(o.LEFT=n,o.RIGHT=i,this.viewOptions.vertical&&(o.UP=i,o.DOWN=n)),o}},{key:"onKeyboardEvent",value:function(t){var e=this.getCurrentTrackingValue(),n=lt.isNullOrUndefined(t.keyCode)?t.which:t.keyCode,i=this.getKeyActions(e)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[n]];if(!lt.isNullOrUndefined(i)&&!lt.isNullOrUndefined(this.currentTrackingPointer)){t.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));var r=ut.clampToRange(i,this.viewOptions.floor,this.viewOptions.ceil),a=this.roundStep(r);if(this.viewOptions.draggableRangeOnly){var o,s,l=this.viewHighValue-this.viewLowValue;this.currentTrackingPointer===ot.Min?(o=a,(s=a+l)>this.viewOptions.ceil&&(o=(s=this.viewOptions.ceil)-l)):this.currentTrackingPointer===ot.Max&&(s=a,(o=a-l)<this.viewOptions.floor&&(s=(o=this.viewOptions.floor)+l)),this.positionTrackingBar(o,s)}else this.positionTrackingHandle(a)}}},{key:"onDragStart",value:function(t,e,n,i){var r=this.getEventPosition(e);this.dragging=new mt,this.dragging.active=!0,this.dragging.value=this.positionToValue(r),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-r:r-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?r-this.maxHandleElement.position:this.maxHandleElement.position-r,this.onStart(t,e,n,i)}},{key:"getMinValue",value:function(t,e,n){var i,r=this.viewOptions.rightToLeft;return i=e?n?r?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:r?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:r?this.positionToValue(t+this.dragging.lowLimit):this.positionToValue(t-this.dragging.lowLimit),this.roundStep(i)}},{key:"getMaxValue",value:function(t,e,n){var i,r=this.viewOptions.rightToLeft;return i=e?n?r?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:r?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:r?this.positionToValue(t+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(t-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(i)}},{key:"onDragMove",value:function(t){var e,n,i,r,a=this.getEventPosition(t);this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(e=this.dragging.lowLimit,n=this.dragging.highLimit,i=this.maxHandleElement,r=this.minHandleElement):(e=this.dragging.highLimit,n=this.dragging.lowLimit,i=this.minHandleElement,r=this.maxHandleElement);var o,s,l=a<=n,c=a>=this.maxHandlePosition-e;if(l){if(0===i.position)return;o=this.getMinValue(a,!0,!1),s=this.getMaxValue(a,!0,!1)}else if(c){if(r.position===this.maxHandlePosition)return;s=this.getMaxValue(a,!0,!0),o=this.getMinValue(a,!0,!0)}else o=this.getMinValue(a,!1,!1),s=this.getMaxValue(a,!1,!1);this.positionTrackingBar(o,s)}},{key:"positionTrackingBar",value:function(t,e){!lt.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit&&(t=this.viewOptions.minLimit,e=ut.roundToPrecisionLimit(t+this.dragging.difference,this.viewOptions.precisionLimit)),!lt.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit&&(e=this.viewOptions.maxLimit,t=ut.roundToPrecisionLimit(e-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=t,this.viewHighValue=e,this.applyViewChange(),this.updateHandles(ot.Min,this.valueToPosition(t)),this.updateHandles(ot.Max,this.valueToPosition(e))}},{key:"positionTrackingHandle",value:function(t){t=this.applyMinMaxLimit(t),this.range&&(this.viewOptions.pushRange?t=this.applyPushRange(t):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===ot.Min&&t>this.viewHighValue?t=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===ot.Max&&t<this.viewLowValue&&(t=this.applyMinMaxRange(this.viewLowValue))),t=this.applyMinMaxRange(t),this.currentTrackingPointer===ot.Min&&t>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(ot.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=ot.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===ot.Max&&t<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(ot.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=ot.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==t&&(this.currentTrackingPointer===ot.Min?(this.viewLowValue=t,this.applyViewChange()):this.currentTrackingPointer===ot.Max&&(this.viewHighValue=t,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(t)),this.updateAriaAttributes())}},{key:"applyMinMaxLimit",value:function(t){return!lt.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit?this.viewOptions.minLimit:!lt.isNullOrUndefined(this.viewOptions.maxLimit)&&t>this.viewOptions.maxLimit?this.viewOptions.maxLimit:t}},{key:"applyMinMaxRange",value:function(t){var e=this.currentTrackingPointer===ot.Min?this.viewHighValue:this.viewLowValue,n=Math.abs(t-e);if(!lt.isNullOrUndefined(this.viewOptions.minRange)&&n<this.viewOptions.minRange){if(this.currentTrackingPointer===ot.Min)return ut.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===ot.Max)return ut.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!lt.isNullOrUndefined(this.viewOptions.maxRange)&&n>this.viewOptions.maxRange){if(this.currentTrackingPointer===ot.Min)return ut.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===ot.Max)return ut.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return t}},{key:"applyPushRange",value:function(t){var e=this.currentTrackingPointer===ot.Min?this.viewHighValue-t:t-this.viewLowValue,n=lt.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,i=this.viewOptions.maxRange;return e<n?(this.currentTrackingPointer===ot.Min?(this.viewHighValue=ut.roundToPrecisionLimit(Math.min(t+n,this.viewOptions.ceil),this.viewOptions.precisionLimit),t=ut.roundToPrecisionLimit(this.viewHighValue-n,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ot.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===ot.Max&&(this.viewLowValue=ut.roundToPrecisionLimit(Math.max(t-n,this.viewOptions.floor),this.viewOptions.precisionLimit),t=ut.roundToPrecisionLimit(this.viewLowValue+n,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ot.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!lt.isNullOrUndefined(i)&&e>i&&(this.currentTrackingPointer===ot.Min?(this.viewHighValue=ut.roundToPrecisionLimit(t+i,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ot.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===ot.Max&&(this.viewLowValue=ut.roundToPrecisionLimit(t-i,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ot.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),t}},{key:"getChangeContext",value:function(){var t=new st;return t.pointerType=this.currentTrackingPointer,t.value=+this.value,this.range&&(t.highValue=+this.highValue),t}},{key:"manualRefresh",set:function(t){var e=this;this.unsubscribeManualRefresh(),this.manualRefreshSubscription=t.subscribe((function(){setTimeout((function(){return e.calculateViewDimensionsAndDetectChanges()}))}))}},{key:"triggerFocus",set:function(t){var e=this;this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=t.subscribe((function(t){e.focusPointer(t)}))}},{key:"range",get:function(){return!lt.isNullOrUndefined(this.value)&&!lt.isNullOrUndefined(this.highValue)}},{key:"showTicks",get:function(){return this.viewOptions.showTicks}}]),t}();xt.\u0275fac=function(t){return new(t||xt)(a.gc(a.T),a.gc(a.r),a.gc(a.j),a.gc(a.L))},xt.\u0275cmp=a.ac({type:xt,selectors:[["ngx-slider"]],contentQueries:function(t,e,n){var i;1&t&&a.Zb(n,A,!0),2&t&&a.Jc(i=a.uc())&&(e.tooltipTemplate=i.first)},viewQuery:function(t,e){var n;1&t&&(a.ed(j,!0,pt),a.ed(F,!0,pt),a.ed(B,!0,pt),a.ed(V,!0,pt),a.ed(N,!0,ft),a.ed(H,!0,ft),a.ed(X,!0,gt),a.ed(G,!0,gt),a.ed(U,!0,gt),a.ed(Y,!0,gt),a.ed(q,!0,gt),a.ed(W,!0,pt)),2&t&&(a.Jc(n=a.uc())&&(e.leftOuterSelectionBarElement=n.first),a.Jc(n=a.uc())&&(e.rightOuterSelectionBarElement=n.first),a.Jc(n=a.uc())&&(e.fullBarElement=n.first),a.Jc(n=a.uc())&&(e.selectionBarElement=n.first),a.Jc(n=a.uc())&&(e.minHandleElement=n.first),a.Jc(n=a.uc())&&(e.maxHandleElement=n.first),a.Jc(n=a.uc())&&(e.floorLabelElement=n.first),a.Jc(n=a.uc())&&(e.ceilLabelElement=n.first),a.Jc(n=a.uc())&&(e.minHandleLabelElement=n.first),a.Jc(n=a.uc())&&(e.maxHandleLabelElement=n.first),a.Jc(n=a.uc())&&(e.combinedLabelElement=n.first),a.Jc(n=a.uc())&&(e.ticksElement=n.first))},hostAttrs:[1,"ngx-slider"],hostVars:7,hostBindings:function(t,e){1&t&&a.tc("resize",(function(t){return e.onResize(t)}),!1,a.Nc),2&t&&(a.Ub("disabled",e.sliderElementDisabledAttr),a.Xb("vertical",e.sliderElementVerticalClass)("animate",e.sliderElementAnimateClass)("with-legend",e.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[a.Sb([wt]),a.Rb],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(t,e){1&t&&(a.lc(0,"span",0,1),a.hc(2,"span",2),a.kc(),a.lc(3,"span",3,4),a.hc(5,"span",2),a.kc(),a.lc(6,"span",5,6),a.hc(8,"span",2),a.kc(),a.lc(9,"span",7,8),a.hc(11,"span",9),a.kc(),a.hc(12,"span",10,11),a.hc(14,"span",12,13),a.hc(16,"span",14,15),a.hc(18,"span",16,17),a.hc(20,"span",18,19),a.hc(22,"span",20,21),a.hc(24,"span",22,23),a.lc(26,"span",24,25),a.Vc(28,K,4,9,"span",26),a.kc()),2&t&&(a.Tb(6),a.Xb("ngx-slider-transparent",e.fullBarTransparentClass),a.Tb(3),a.Xb("ngx-slider-draggable",e.selectionBarDraggableClass),a.Tb(2),a.Cc("ngStyle",e.barStyle),a.Tb(1),a.Cc("ngStyle",e.minPointerStyle),a.Tb(2),a.Uc("display",e.range?"inherit":"none"),a.Cc("ngStyle",e.maxPointerStyle),a.Tb(12),a.Xb("ngx-slider-ticks-values-under",e.ticksUnderValuesClass),a.Cc("hidden",!e.showTicks),a.Tb(2),a.Cc("ngForOf",e.ticks))},directives:function(){return[pt,i.m,ft,gt,i.k,i.j,_t,i.l]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),xt.ctorParameters=function(){return[{type:a.T},{type:a.r},{type:a.j},{type:a.L}]},xt.propDecorators={value:[{type:a.C}],valueChange:[{type:a.N}],highValue:[{type:a.C}],highValueChange:[{type:a.N}],options:[{type:a.C}],userChangeStart:[{type:a.N}],userChange:[{type:a.N}],userChangeEnd:[{type:a.N}],manualRefresh:[{type:a.C}],triggerFocus:[{type:a.C}],leftOuterSelectionBarElement:[{type:a.eb,args:["leftOuterSelectionBar",{read:pt}]}],rightOuterSelectionBarElement:[{type:a.eb,args:["rightOuterSelectionBar",{read:pt}]}],fullBarElement:[{type:a.eb,args:["fullBar",{read:pt}]}],selectionBarElement:[{type:a.eb,args:["selectionBar",{read:pt}]}],minHandleElement:[{type:a.eb,args:["minHandle",{read:ft}]}],maxHandleElement:[{type:a.eb,args:["maxHandle",{read:ft}]}],floorLabelElement:[{type:a.eb,args:["floorLabel",{read:gt}]}],ceilLabelElement:[{type:a.eb,args:["ceilLabel",{read:gt}]}],minHandleLabelElement:[{type:a.eb,args:["minHandleLabel",{read:gt}]}],maxHandleLabelElement:[{type:a.eb,args:["maxHandleLabel",{read:gt}]}],combinedLabelElement:[{type:a.eb,args:["combinedLabel",{read:gt}]}],ticksElement:[{type:a.eb,args:["ticksElement",{read:pt}]}],tooltipTemplate:[{type:a.n,args:["tooltipTemplate"]}],sliderElementVerticalClass:[{type:a.v,args:["class.vertical"]}],sliderElementAnimateClass:[{type:a.v,args:["class.animate"]}],sliderElementWithLegendClass:[{type:a.v,args:["class.with-legend"]}],sliderElementDisabledAttr:[{type:a.v,args:["attr.disabled"]}],onResize:[{type:a.w,args:["window:resize",["$event"]]}]};var _t=function t(){_classCallCheck(this,t)};_t.\u0275fac=function(t){return new(t||_t)},_t.\u0275cmp=a.ac({type:_t,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(t,e){1&t&&(a.Vc(0,nt,2,6,"ng-container",0),a.Vc(1,it,3,3,"ng-container",0)),2&t&&(a.Cc("ngIf",e.template),a.Tb(1),a.Cc("ngIf",!e.template))},directives:[i.l,i.q],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),_t.propDecorators={template:[{type:a.C}],tooltip:[{type:a.C}],placement:[{type:a.C}],content:[{type:a.C}]};var Ot=function t(){_classCallCheck(this,t)};Ot.\u0275mod=a.ec({type:Ot}),Ot.\u0275inj=a.dc({factory:function(t){return new(t||Ot)},imports:[[i.c]]});var Ct=n("F6rt"),kt=n("5PSO"),St=n("WvoJ"),Mt=n("XrEJ"),Et=n("bSwM"),Tt=n("OYez"),Pt=n("sLYL"),Lt=n("2LqC"),Rt=["pdf"],It=["propose"],Dt=["quality"],zt=["cover"],At=["strength"],jt=["performance"],Ft=["statistics"],Bt=["siteInfo"];function Vt(t,e){if(1&t&&(a.lc(0,"mat-button-toggle",27),a.Xc(1),a.yc(2,"translate"),a.kc()),2&t){var n=e.$implicit;a.Cc("value",n),a.Tb(1),a.ad("",n," ",a.zc(2,3,"meter"),"")}}function Nt(t,e){if(1&t){var n=a.mc();a.jc(0),a.lc(1,"label",28),a.lc(2,"mat-checkbox",29),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().showUE=t}))("ngModelChange",(function(){return a.Oc(n),a.xc().switchShowUE()})),a.Xc(3),a.yc(4,"translate"),a.kc(),a.kc(),a.ic()}if(2&t){var i=a.xc();a.Tb(2),a.Cc("ngModel",i.showUE)("color","primary"),a.Tb(1),a.Zc(" ",a.zc(4,3,"show.ue")," ")}}function Ht(t,e){if(1&t){var n=a.mc();a.jc(0),a.lc(1,"label",28),a.lc(2,"mat-checkbox",29),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().showObstacle=t}))("ngModelChange",(function(){return a.Oc(n),a.xc().switchShowObstacle()})),a.Xc(3),a.yc(4,"translate"),a.kc(),a.kc(),a.ic()}if(2&t){var i=a.xc();a.Tb(2),a.Cc("ngModel",i.showObstacle)("color","primary"),a.Tb(1),a.Zc(" ",a.zc(4,3,"show.obstacle")," ")}}function Xt(t,e){if(1&t){var n=a.mc();a.jc(0),a.lc(1,"label",28),a.lc(2,"mat-checkbox",29),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().showCandidate=t}))("ngModelChange",(function(){return a.Oc(n),a.xc().switchShowCandidate()})),a.Xc(3),a.yc(4,"translate"),a.kc(),a.kc(),a.ic()}if(2&t){var i=a.xc();a.Tb(2),a.Cc("ngModel",i.showCandidate)("color","primary"),a.Tb(1),a.Zc(" ",a.zc(4,3,"show.candidate")," ")}}function Gt(t,e){1&t&&a.hc(0,"app-signal-quality",null,30)}function Ut(t,e){1&t&&a.hc(0,"app-signal-cover",null,31)}function Yt(t,e){1&t&&a.hc(0,"app-signal-strength",null,32)}var qt=function(){function t(e,n,i,r,a,o,s,l,c){_classCallCheck(this,t),this.route=e,this.authService=n,this.router=i,this.matDialog=r,this.spinner=a,this.pdfService=o,this.translateService=s,this.formService=l,this.http=c,this.result={},this.calculateForm=new h.a,this.showQuality=!0,this.showCover=!1,this.showStrength=!1,this.zValues=[],this.chartType="SINR",this.msgDialogConfig=new u.e,this.view3dDialogConfig=new u.e,this.defaultBSList=[],this.candidateList=[],this.obstacleList=[],this.ueList=[],this.dragObject={},this.isHst=!1,this.showUE=!0,this.hstOutput={},this.showUEArea=!1,this.showObstacleArea=!1,this.showCandidateArea=!1,this.showObstacle=!0,this.showCandidate=!0,this.opacityValue=.8,this.opacityOptions={showSelectionBar:!0,showTicks:!0,stepsArray:[{value:0},{value:.1},{value:.2},{value:.3},{value:.4},{value:.5},{value:.6},{value:.7},{value:.8},{value:.9},{value:1}]}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.view3dDialogConfig.autoFocus=!1,this.view3dDialogConfig.width="80%",this.view3dDialogConfig.hasBackdrop=!1,this.msgDialogConfig.autoFocus=!1,this.route.queryParams.subscribe((function(e){t.taskId=e.taskId,"true"===e.isHst&&(t.isHst=!0),t.getResult()}))}},{key:"getResult",value:function(){var t,e=this;this.isHst?(t="".concat(this.authService.API_URL,"/historyDetail/").concat(this.authService.userId,"/"),t+="".concat(this.authService.userToken,"/").concat(this.taskId)):t="".concat(this.authService.API_URL,"/completeCalcResult/").concat(this.taskId,"/").concat(this.authService.userToken),this.http.get(t).subscribe((function(t){if(e.isHst?(e.result=e.formService.setHstOutputToResultOutput(t.output),e.calculateForm=e.formService.setHstToForm(t)):(e.calculateForm=t.input,e.result=t.output),console.log(e.result),""!==e.calculateForm.defaultBs){var n,i=_createForOfIteratorHelper(e.calculateForm.defaultBs.split("|"));try{for(i.s();!(n=i.n()).done;){var r=n.value,a=JSON.parse(r);e.defaultBSList.push({x:a[0],y:a[1],z:a[2]})}}catch(x){i.e(x)}finally{i.f()}}var o=[];if(""!==e.calculateForm.candidateBs){e.showCandidateArea=!0;var s,l=_createForOfIteratorHelper(o=e.calculateForm.candidateBs.split("|"));try{for(l.s();!(s=l.n()).done;){var c=s.value,u=JSON.parse(c);e.candidateList.push({x:u[0],y:u[1],z:u[2]})}}catch(x){l.e(x)}finally{l.f()}}if(""!==e.calculateForm.obstacleInfo){e.showObstacleArea=!0;var h,d=_createForOfIteratorHelper(e.calculateForm.obstacleInfo.split("|"));try{for(d.s();!(h=d.n()).done;){var p=h.value,f=JSON.parse(p);e.obstacleList.push({x:f[0],y:f[1],width:f[2],height:f[3],altitude:f[4]})}}catch(x){d.e(x)}finally{d.f()}}if(""!==e.calculateForm.ueCoordinate){e.showUEArea=!0;var g,v=_createForOfIteratorHelper(e.calculateForm.ueCoordinate.split("|"));try{for(v.s();!(g=v.n()).done;){var m=g.value,b=JSON.parse(m);e.ueList.push({x:b[0],y:b[1],z:b[2]})}}catch(x){v.e(x)}finally{v.f()}}e.propose.calculateForm=e.calculateForm,e.propose.result=e.result,e.propose.drawLayout(!1),e.zValues=JSON.parse(e.calculateForm.zValue),e.zValue=e.zValues[0],e.drawQuality(),e.performance.calculateForm=e.calculateForm,e.performance.result=e.result,e.performance.setData(),e.statistics.calculateForm=e.calculateForm,e.statistics.result=e.result,e.statistics.drawChart(!1),e.siteInfo.calculateForm=e.calculateForm,e.siteInfo.result=e.result,window.setTimeout((function(){e.siteInfo.inputBsListCount=o.length,e.siteInfo.defaultBsCount=e.result.defaultBs.length}),0),e.hstOutput.gaResult={},e.hstOutput.gaResult.chosenCandidate=e.result.chosenCandidate,e.hstOutput.gaResult.sinrMap=e.result.sinrMap,e.hstOutput.gaResult.connectionMapAll=e.result.connectionMapAll,e.hstOutput.gaResult.rsrpMap=e.result.rsrpMap;var y=[];e.result.sinrMap.map((function(t){t.map((function(t){t.map((function(t){y.push(t)}))}))}));var w=[];e.result.rsrpMap.map((function(t){t.map((function(t){t.map((function(t){w.push(t)}))}))})),e.hstOutput.sinrMax=Plotly.d3.max(y),e.hstOutput.sinrMin=Plotly.d3.min(y),e.hstOutput.rsrpMax=Plotly.d3.max(w),e.hstOutput.rsrpMin=Plotly.d3.min(w)}))}},{key:"exportPDF",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.pdf.export(this.taskId,this.isHst);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"drawQuality",value:function(){var t=this;this.showQuality=!0,this.showCover=!1,this.showStrength=!1,window.setTimeout((function(){t.quality.showUE=t.showUE,t.quality.calculateForm=t.calculateForm,t.quality.result=t.result,t.quality.showObstacle=t.showObstacle?"visible":"hidden",t.quality.showCandidate=t.showCandidate?"visible":"hidden",t.quality.opacityValue=t.opacityValue,t.quality.draw(!1,t.zValue)}),0)}},{key:"drawCover",value:function(){var t=this;this.showQuality=!1,this.showCover=!0,this.showStrength=!1,window.setTimeout((function(){t.cover.showUE=t.showUE,t.cover.calculateForm=t.calculateForm,t.cover.result=t.result,t.cover.showObstacle=t.showObstacle?"visible":"hidden",t.cover.showCandidate=t.showCandidate?"visible":"hidden",t.cover.opacityValue=t.opacityValue,t.cover.draw(!1,t.zValue)}),0)}},{key:"drawStrength",value:function(){var t=this;this.showQuality=!1,this.showCover=!1,this.showStrength=!0,window.setTimeout((function(){t.strength.showUE=t.showUE,t.strength.calculateForm=t.calculateForm,t.strength.result=t.result,t.strength.showObstacle=t.showObstacle?"visible":"hidden",t.strength.showCandidate=t.showCandidate?"visible":"hidden",t.strength.opacityValue=t.opacityValue,t.strength.draw(!1,t.zValue)}),0)}},{key:"changeZvalue",value:function(){"SINR"===this.chartType?this.drawQuality():"PCI"===this.chartType?this.drawCover():"RSRP"===this.chartType&&this.drawStrength()}},{key:"back",value:function(){this.save(!0)}},{key:"save",value:function(t){var e=this,n={id:this.authService.userId,taskid:this.taskId,sessionid:this.authService.userToken},i=this.authService.API_URL+"/storeResult";this.http.post(i,JSON.stringify(n)).subscribe((function(n){t?e.router.navigate(["/site/site-planning"],{queryParams:{taskId:e.taskId,isHst:!0}}):(e.msgDialogConfig.data={type:"success",infoMessage:e.translateService.instant("save.success")},e.matDialog.open(d.a,e.msgDialogConfig))}),(function(t){e.msgDialogConfig.data={type:"error",infoMessage:e.translateService.instant("save.failed")},e.matDialog.open(d.a,e.msgDialogConfig)}))}},{key:"view3D",value:function(){this.view3dDialogConfig.data={calculateForm:this.calculateForm,obstacleList:this.obstacleList,defaultBSList:this.defaultBSList,candidateList:this.candidateList,ueList:this.ueList,zValue:this.zValues,result:this.hstOutput},this.matDialog.open(p.a,this.view3dDialogConfig)}},{key:"switchShowUE",value:function(){"SINR"===this.chartType?this.quality.switchUE(this.showUE):"PCI"===this.chartType?this.cover.switchUE(this.showUE):"RSRP"===this.chartType&&this.strength.switchUE(this.showUE)}},{key:"switchShowObstacle",value:function(){var t=this.showObstacle?"visible":"hidden";"SINR"===this.chartType?this.quality.switchShowObstacle(t):"PCI"===this.chartType?this.cover.switchShowObstacle(t):"RSRP"===this.chartType&&this.strength.switchShowObstacle(t)}},{key:"switchShowCandidate",value:function(){var t=this.showCandidate?"visible":"hidden";"SINR"===this.chartType?this.quality.switchShowCandidate(t):"PCI"===this.chartType?this.cover.switchShowCandidate(t):"RSRP"===this.chartType&&this.strength.switchShowCandidate(t)}},{key:"changeOpacity",value:function(){"SINR"===this.chartType?(this.quality.opacityValue=this.opacityValue,this.quality.changeOpacity()):"PCI"===this.chartType?(this.cover.opacityValue=this.opacityValue,this.cover.changeOpacity()):"RSRP"===this.chartType&&(this.strength.opacityValue=this.opacityValue,this.strength.changeOpacity())}}]),t}();qt.\u0275fac=function(t){return new(t||qt)(a.gc(r.a),a.gc(f.a),a.gc(r.b),a.gc(u.b),a.gc(g.c),a.gc(v.a),a.gc(m.d),a.gc(b.a),a.gc(y.b))},qt.\u0275cmp=a.ac({type:qt,selectors:[["app-result"]],viewQuery:function(t,e){var n;1&t&&(a.ed(Rt,!0),a.ed(It,!0),a.ed(Dt,!0),a.ed(zt,!0),a.ed(At,!0),a.ed(jt,!0),a.ed(Ft,!0),a.ed(Bt,!0)),2&t&&(a.Jc(n=a.uc())&&(e.pdf=n.first),a.Jc(n=a.uc())&&(e.propose=n.first),a.Jc(n=a.uc())&&(e.quality=n.first),a.Jc(n=a.uc())&&(e.cover=n.first),a.Jc(n=a.uc())&&(e.strength=n.first),a.Jc(n=a.uc())&&(e.performance=n.first),a.Jc(n=a.uc())&&(e.statistics=n.first),a.Jc(n=a.uc())&&(e.siteInfo=n.first))},decls:68,vars:47,consts:[[1,"inline-block"],["value","back",3,"click"],["value","3d",3,"click"],["value","export",3,"click"],["value","save",3,"click"],[1,"box"],[1,"leftArea"],["propose",""],[2,"table-layout","fixed"],["colspan","2",1,"panel","center"],["colspan","2",1,"mapType"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"mL_1"],[3,"ngModel","ngModelChange"],["value","SINR","selected","",3,"click"],["value","PCI",3,"click"],["value","RSRP",3,"click"],[4,"ngIf"],[1,"m-0"],[3,"value","options","valueChange","userChange"],["performance",""],["statistics",""],[1,"rightArea","ds"],["siteInfo",""],["id","pdf_area",2,"display","none"],["pdf",""],[3,"value"],[1,"mL_1","displayType"],[3,"ngModel","color","ngModelChange"],["quality",""],["cover",""],["strength",""]],template:function(t,e){1&t&&(a.lc(0,"h2",0),a.Xc(1),a.yc(2,"translate"),a.kc(),a.lc(3,"mat-button-toggle-group"),a.lc(4,"mat-button-toggle",1),a.tc("click",(function(){return e.back()})),a.Xc(5),a.yc(6,"translate"),a.kc(),a.lc(7,"mat-button-toggle",2),a.tc("click",(function(){return e.view3D()})),a.Xc(8),a.yc(9,"translate"),a.kc(),a.lc(10,"mat-button-toggle",3),a.tc("click",(function(){return e.exportPDF()})),a.Xc(11),a.yc(12,"translate"),a.kc(),a.lc(13,"mat-button-toggle",4),a.tc("click",(function(){return e.save(!1)})),a.Xc(14),a.yc(15,"translate"),a.kc(),a.kc(),a.lc(16,"div",5),a.lc(17,"div",6),a.hc(18,"app-propose",null,7),a.lc(20,"table",8),a.lc(21,"tbody"),a.lc(22,"tr"),a.lc(23,"th",9),a.lc(24,"label"),a.Xc(25),a.yc(26,"translate"),a.kc(),a.kc(),a.kc(),a.lc(27,"tr"),a.lc(28,"td",10),a.lc(29,"label"),a.Xc(30),a.yc(31,"translate"),a.kc(),a.lc(32,"mat-button-toggle-group",11),a.tc("ngModelChange",(function(t){return e.zValue=t}))("change",(function(){return e.changeZvalue()})),a.Vc(33,Vt,3,5,"mat-button-toggle",12),a.kc(),a.lc(34,"label",13),a.Xc(35),a.yc(36,"translate"),a.kc(),a.lc(37,"mat-button-toggle-group",14),a.tc("ngModelChange",(function(t){return e.chartType=t})),a.lc(38,"mat-button-toggle",15),a.tc("click",(function(){return e.drawQuality()})),a.Xc(39),a.yc(40,"translate"),a.kc(),a.lc(41,"mat-button-toggle",16),a.tc("click",(function(){return e.drawCover()})),a.Xc(42),a.yc(43,"translate"),a.kc(),a.lc(44,"mat-button-toggle",17),a.tc("click",(function(){return e.drawStrength()})),a.Xc(45),a.yc(46,"translate"),a.kc(),a.kc(),a.Vc(47,Nt,5,5,"ng-container",18),a.Vc(48,Ht,5,5,"ng-container",18),a.Vc(49,Xt,5,5,"ng-container",18),a.Vc(50,Gt,2,0,"app-signal-quality",18),a.Vc(51,Ut,2,0,"app-signal-cover",18),a.Vc(52,Yt,2,0,"app-signal-strength",18),a.lc(53,"div"),a.lc(54,"label",19),a.Xc(55),a.yc(56,"translate"),a.kc(),a.lc(57,"ngx-slider",20),a.tc("valueChange",(function(t){return e.opacityValue=t}))("userChange",(function(){return e.changeOpacity()})),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.hc(58,"app-performance",null,21),a.hc(60,"app-statistics",null,22),a.kc(),a.lc(62,"div",23),a.hc(63,"app-site-info",null,24),a.kc(),a.kc(),a.lc(65,"div",25),a.hc(66,"app-pdf",null,26),a.kc()),2&t&&(a.Tb(1),a.Yc(a.zc(2,23,"result.title")),a.Tb(4),a.Yc(a.zc(6,25,"result.back")),a.Tb(3),a.Yc(a.zc(9,27,"view.3d")),a.Tb(3),a.Yc(a.zc(12,29,"result.export")),a.Tb(3),a.Yc(a.zc(15,31,"save")),a.Tb(11),a.Yc(a.zc(26,33,"result.sinr_result")),a.Tb(5),a.Yc(a.zc(31,35,"zValue")),a.Tb(2),a.Cc("ngModel",e.zValue),a.Tb(1),a.Cc("ngForOf",e.zValues),a.Tb(2),a.Yc(a.zc(36,37,"result.img.change")),a.Tb(2),a.Cc("ngModel",e.chartType),a.Tb(2),a.Yc(a.zc(40,39,"sinrMap")),a.Tb(3),a.Yc(a.zc(43,41,"connectionMap")),a.Tb(3),a.Yc(a.zc(46,43,"rsrpMap")),a.Tb(2),a.Cc("ngIf",e.showUEArea),a.Tb(1),a.Cc("ngIf",e.showObstacleArea),a.Tb(1),a.Cc("ngIf",e.showCandidateArea),a.Tb(1),a.Cc("ngIf",e.showQuality),a.Tb(1),a.Cc("ngIf",e.showCover),a.Tb(1),a.Cc("ngIf",e.showStrength),a.Tb(3),a.Yc(a.zc(56,45,"result.opacity")),a.Tb(2),a.Cc("value",e.opacityValue)("options",e.opacityOptions))},directives:[o.b,o.a,w.a,x.k,x.n,i.k,i.l,xt,Ct.a,kt.a,St.a,Mt.a,Et.a,Tt.a,Pt.a,Lt.a],pipes:[m.c],styles:['@charset "UTF-8";.box[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;padding:0;width:100%}.box[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{display:block;width:100%;height:auto;margin:auto}.panel[_ngcontent-%COMP%]{padding:.4em .8em;background-color:#5aa5e2!important;color:#fff!important;font-size:.8em;border-right:1px solid #fff!important}.panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.1em}.leftArea[_ngcontent-%COMP%]   .leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:0 0 2em;display:table;width:100%;border:1.5px solid #5aa5e2;vertical-align:top;background-color:#fff}.leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-right:1px solid #5aa5e2}.leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center}.leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, .leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-right:none}.mapType[_ngcontent-%COMP%]{border-right:1px solid #5aa5e2!important}.leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#eaf3f8;border-top:1.5px solid #5aa5e2;font-size:.95em;color:#1760af;text-align:center}.leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1.5px solid #5aa5e2}.leftArea[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.res_1[_ngcontent-%COMP%]{display:inline-block;width:100%;padding:0 1% 1%;margin-top:1%;background-color:#d8ebfb;border:1px solid #92b4d2}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;width:30%;margin-right:2%}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > label[_ngcontent-%COMP%], .res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin:1em 0 .3em}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px solid #92b4d2;padding:.5em .7em}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"\uff0e";font-weight:bolder;font-size:1em;display:inline-block;margin-right:.2em;vertical-align:super}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400;margin:0}.res_1[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:":";display:inline-block}.mapType[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9em}.mapType[_ngcontent-%COMP%]   mat-button-toggle-group[_ngcontent-%COMP%]{margin:.5em 0 0 .5em}.ds[_ngcontent-%COMP%]{display:block;width:98.5%;font-size:.9em;margin:0;padding:0 1em;background-color:#e9f3f8;line-height:2.5;border-top:3px solid #5aa5e2}.ds[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#5aa5e2;margin-right:.3em}.leftArea[_ngcontent-%COMP%], .rightArea[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.leftArea[_ngcontent-%COMP%]{width:81%;padding:0 1em 0 0}table[_ngcontent-%COMP%]{margin:0 0 1.5em}.rightArea[_ngcontent-%COMP%]{padding:1em;font-size:.9em;width:19%}.rightArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{content:" :"}.thCenter[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}.choose[_ngcontent-%COMP%]{background-color:#fff;color:#333;position:relative}.choose[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#ce1a21;color:#fff;width:1.6em;height:1.6em;line-height:1.6em;text-align:center;margin:0!important;border-radius:50em;font-weight:400!important}.choose[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{background-color:#fff;color:#5aa5e2;width:1em;height:1em;border-radius:3em;display:inline-block;margin-left:.3em;vertical-align:middle;font-size:16px}.mat-button-toggle-group[_ngcontent-%COMP%]{margin-left:1em}.mat-button-toggle-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto!important}[_nghost-%COMP%]     #performace, [_nghost-%COMP%]     #propose{background-color:#fff;color:#333}[_nghost-%COMP%]     .mat-button-toggle-group button{width:auto!important;font-size:.95em}.mat-button-toggle-group-appearance-standard[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.12)}h2[_ngcontent-%COMP%] + mat-button-toggle-group[_ngcontent-%COMP%]{vertical-align:middle;margin-bottom:1em}.displayType[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1em;height:1em;margin-right:.3em;vertical-align:middle}']});var Wt=["rgb","rgba","hsl","hsla"],$t="undefined"!=typeof document&&document,Zt=["webkit","ms","moz","o"],Jt=function(t){if(!$t)return"";var e=($t.body||$t.documentElement).style,n=Zt.length;if(void 0!==e[t])return t;for(var i=0;i<n;++i){var r="-"+Zt[i]+"-"+t;if(void 0!==e[r])return r}return""},Kt=Jt("transform"),Qt=Jt("filter"),te=Jt("animation"),ee=['"',"'",'\\"',"\\'"],ne={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return void 0===e&&(e=window.innerWidth),t/100*e},vh:function(t,e){return void 0===e&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return void 0===e&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return void 0===e&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};function ie(t){return void 0===t}function re(t){return t&&"object"==typeof t}function ae(t){return Array.isArray(t)}function oe(t){return"string"==typeof t}function se(t){return"function"==typeof t}function le(t,e,n,i){for(var r=n;r<i;++r){var a=e[r].trim();if(a===t)return r;var o=r;if("("===a?o=le(")",e,r+1,i):ee.indexOf(a)>-1&&(o=le(a,e,r+1,i)),-1===o)break;r=o}return-1}function ce(t,e){for(var n=new RegExp("(\\s*"+(e||",")+"\\s*|\\(|\\)|\"|'|\\\\\"|\\\\'|\\s+)","g"),i=t.split(n).filter(Boolean),r=i.length,a=[],o=[],s=0;s<r;++s){var l=i[s].trim(),c=s;if("("===l)c=le(")",i,s+1,r);else{if(")"===l)throw new Error("invalid format");if(ee.indexOf(l)>-1)c=le(l,i,s+1,r);else if(l===e){o.length&&(a.push(o.join("")),o=[]);continue}}-1===c&&(c=r-1),o.push(i.slice(s,c+1).join("")),s=c}return o.length&&a.push(o.join("")),a}function ue(t){return ce(t,"")}function he(t){return ce(t,",")}function de(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function pe(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],i=e[2];return{prefix:n,unit:e[3],value:parseFloat(i)}}function fe(t,e){return void 0===e&&(e="-"),t.replace(/([a-z])([A-Z])/g,(function(t,n,i){return""+n+e+i.toLowerCase()}))}function ge(){return Date.now?Date.now():(new Date).getTime()}function ve(t,e,n){void 0===n&&(n=-1);for(var i=t.length,r=0;r<i;++r)if(e(t[r],r,t))return r;return n}function me(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in e)e.push(n);return e}function be(t,e){void 0===e&&(e=[]),t.sort((function(t,n){var i=e.indexOf(t),r=e.indexOf(n);return-1===r&&-1===i?0:-1===i?1:-1===r?-1:i-r}))}function ye(t,e){var n=pe(t),i=n.value,r=n.unit;if(re(e)){var a=e[r];if(a){if(se(a))return a(i);if(ne[r])return ne[r](i,a)}}else if("%"===r)return i*e/100;return ne[r]?ne[r](i):i}function we(t,e,n){return Math.max(e,Math.min(t,n))}function xe(t,e){return e?Math.round(t/e)*e:t}function _e(t,e,n){return[[xe(e[0],1e-7),xe(e[0]*t[1]/t[0],1e-7)],[xe(e[1]*t[0]/t[1],1e-7),xe(e[1],1e-7)]].filter((function(t){return t.every((function(t,i){return n?t<=e[i]:t>=e[i]}))}))[0]||t}function Oe(t){for(var e=t.length,n=0,i=e-1;i>=0;--i)n+=t[i];return e?n/e:0}function Ce(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=Math.atan2(i,n);return r>=0?r:r+2*Math.PI}function ke(t){var e=function(t){return[0,1].map((function(e){return Oe(t.map((function(t){return t[e]})))}))}(t),n=Ce(e,t[0]),i=Ce(e,t[1]);return n<i&&i-n<Math.PI||n>i&&i-n<-Math.PI?1:-1}function Se(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function Me(t){var e=function(t){return t.replace("#","")}(t),n=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16),a=parseInt(e.substring(6,8),16)/255;return isNaN(a)&&(a=1),[n,i,r,a]}function Ee(t){if("#"===t.charAt(0))return 4===t.length||5===t.length?Me(["#",c=(l=t).charAt(1),c,u=l.charAt(2),u,h=l.charAt(3),h,d=l.charAt(4),d].join("")):Me(t);if(-1!==t.indexOf("(")){var e=de(t),n=e.prefix,i=e.value;if(!n||!i)return;var r=he(i),a=[0,0,0,1],o=r.length;switch(n){case"rgb":case"rgba":for(var s=0;s<o;++s)a[s]=parseFloat(r[s]);return a;case"hsl":case"hsla":for(s=0;s<o;++s)-1!==r[s].indexOf("%")?a[s]=parseFloat(r[s])/100:a[s]=parseFloat(r[s]);return function(t){var e,n=t[0],i=t[1],r=t[2];n<0&&(n+=360*Math.floor((Math.abs(n)+360)/360)),n%=360;var a,o=(1-Math.abs(2*r-1))*i,s=o*(1-Math.abs(n/60%2-1)),l=r-o/2;return a=n<60?[o,s,0]:n<120?[s,o,0]:n<180?[0,o,s]:n<240?[0,s,o]:n<300?[s,0,o]:n<360?[o,0,s]:[0,0,0],[Math.round(255*(a[0]+l)),Math.round(255*(a[1]+l)),Math.round(255*(a[2]+l)),null!==(e=t[3])&&void 0!==e?e:1]}(a)}}var l,c,u,h,d}function Te(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function Pe(t,e,n,i){t.addEventListener(e,n,i)}function Le(t,e,n){t.removeEventListener(e,n)}var Re=function(){return(Re=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ie=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(re(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(re(t))for(var n in t)this.off(n);else if(e){var i=this._events[t];if(i){var r=ve(i,(function(t){return t.listener===e}));r>-1&&i.splice(r,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this;void 0===e&&(e={});var i=this._events[t];if(!t||!i)return!0;var r=!1;return e.eventType=t,e.stop=function(){r=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}(i).forEach((function(i){i.listener(e),i.once&&n.off(t,i.listener)})),!r},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,n){var i=this._events;i[t]=i[t]||[],i[t].push(Re({listener:e},n))},t}(),De=function(){function t(t){this.separator=t,this.orderMap={}}var e=t.prototype;return e.getFullName=function(t){return t.join(this.separator)},e.get=function(t){return this.orderMap[this.getFullName(t)]},e.gets=function(t,e){void 0===e&&(e=!0);var n=[],i=this;return function t(e,r){var a=i.get(e);if(a)return a.forEach((function(i){var a=r.concat([i]),o=t(e.concat([i]),a);o&&o.length||n.push(r.concat([i]))})),a}(t,e?t:[]),n},e.set=function(t,e){var n=this;return t.forEach((function(e,i){n.addName(t.slice(0,i),e)})),this.orderMap[this.getFullName(t)]=e,e},e.add=function(t){var e=t.length;return e?this.addName(t.slice(0,-1),t[e-1]):[]},e.addName=function(t,e){var n=this.get(t)||this.set(t,[]);return-1===n.indexOf(e)&&n.push(e),n},e.findIndex=function(t,e){var n=this.orderMap[this.getFullName(t)];return n?n.indexOf(e):-1},e.remove=function(t){var e=this.getFullName(t),n=this.orderMap;for(var i in n)0===i.indexOf(e)&&delete n[i];var r=t.length;if(r){var a=t.slice(0,-1),o=t[r-1];this.splice(a,this.findIndex(a,o),1)}return this},e.filter=function(e,n,i){void 0===i&&(i=!0);var r=this.gets(e,i).filter(n),a=new t(this.separator),o=i?[]:e;return r.forEach((function(t){a.add(o.concat(t))})),a},e.splice=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var a=this.get(t)||this.set(t,[]);return a.splice.apply(a,[e,n].concat(i)),this},e.clear=function(){this.orderMap={}},e.setObject=function(t){var e=this.orderMap;for(var n in t)e[n]=t[n].slice()},e.getObject=function(){var t={},e=this.orderMap;for(var n in e)t[n]=e[n].slice();return t},e.clone=function(){var e=new t(this.separator);return e.setObject(e.orderMap),e},t}();var ze=function(t){var e,n="rCS"+function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(t).toString(36),i=0;return{className:n,inject:function(r,a){void 0===a&&(a={});var o,s=function(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(r),l=0===i;return(s||l)&&(o=function(t,e,n,i){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.setAttribute("data-styled-id",t),n.nonce&&r.setAttribute("nonce",n.nonce),r.innerHTML=function(t,e,n){return n.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/gm,(function(e,n){var i=n.trim();return(i?he(i):[""]).map((function(e){var n=e.trim();return 0===n.indexOf("@")?n:n.indexOf(":global")>-1?n.replace(/\:global/g,""):n.indexOf(":host")>-1?""+n.replace(/\:host/g,"."+t):n?"."+t+" "+n:"."+t})).join(", ")+" {"}))}(t,e,n),(i||document.head||document.body).appendChild(r),r}(n,t,a,s)),l&&(e=o),s||++i,{destroy:function(){s?(r.removeChild(o),o=null):(i>0&&--i,0===i&&e&&(e.parentNode.removeChild(e),e=null))}}}}};function Ae(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}function je(t,e,n){var i=1-n;return n*n*n+3*n*n*i*e+3*n*i*i*t}function Fe(t,e,n,i){var r=function(r){var a=function(t,e,n){for(var i=n,r=1;Math.abs(r)>.001;){if(r=je(t,e,i)-n,Math.abs(r)<.001)return i;i-=r/2}return i}(t,n,we(r,0,1));return je(e,i,a)};return r.easingName="cubic-bezier("+t+","+e+","+n+","+i+")",r}function Be(t,e){var n=function(n){var i=1/t;return n>=1?1:("start"===e?i:0)+Math.floor(n/i)*i};return n.easingName="steps("+t+", "+e+")",n}var Ve,Ne=Be(1,"start"),He=Be(1,"end"),Xe=Fe(0,0,1,1),Ge=Fe(.25,.1,.25,1),Ue=Fe(.42,0,1,1),Ye=Fe(0,0,.58,1),qe=Fe(.42,0,.58,1),We="animation-timing-function",$e={transform:{},filter:{},attribute:{},html:!0},Ze={easing:[We]},Je=((Ve={})[We]=!0,Ve.contents=!0,Ve.html=!0,Ve),Ke={linear:Xe,ease:Ge,"ease-in":Ue,"ease-out":Ye,"ease-in-out":qe,"step-start":Ne,"step-end":He},Qe=function(){function t(t,e){this.prefix="",this.suffix="",this.model="",this.type="",this.separator=",",e&&this.setOptions(e),this.value=oe(t)?t.split(this.separator):t}var e=t.prototype;return e.setOptions=function(t){for(var e in t)this[e]=t[e];return this},e.size=function(){return this.value.length},e.get=function(t){return this.value[t]},e.set=function(t,e){return this.value[t]=e,this},e.clone=function(){var e=this,n=e.separator,i=e.prefix,r=e.suffix,a=e.model,o=e.type;return new t(this.value.map((function(e){return e instanceof t?e.clone():e})),{separator:n,prefix:i,suffix:r,model:a,type:o})},e.toValue=function(){return this.prefix+this.join()+this.suffix},e.join=function(){return this.value.map((function(e){return e instanceof t?e.toValue():e})).join(this.separator)},e.forEach=function(t){return this.value.forEach(t),this},t}();function tn(t){for(var e=ce(t,";"),n={},i=e.length,r=i,a=0;a<i;++a){var o=ce(e[a],":");o.length<2||!o[1]?--r:n[o[0].trim()]=rn(o[1].trim())}return{styles:n,length:r}}function en(t){return 3===t.length&&(t[3]=1),new Qe(t,{model:"rgba",separator:",",type:"color",prefix:"rgba(",suffix:")"})}function nn(t,e){return new Qe(t,{type:"array",separator:e})}function rn(t,e){if(!oe(t))return ae(t)?nn(t,","):t;var n=he(t);return n.length>1?nn(n.map((function(t){return rn(t)})),","):(n=ue(t)).length>1?nn(n.map((function(t){return rn(t)}))," "):(n=/^(['"])([^'"]*)(['"])$/g.exec(t))&&n[1]===n[3]?new Qe([rn(n[2])],{prefix:n[1],suffix:n[1]}):-1!==t.indexOf("(")?function(t){var e=de(t),n=e.prefix,i=e.value,r=e.suffix;if(void 0===i)return t;if(Wt.indexOf(n)>-1)return en(Ee(t));var a=rn(i,n),o=[i],s=",",l=n+"(",c=")"+r;return a instanceof Qe&&(s=a.separator,o=a.value,l+=a.prefix,c=a.suffix+c),new Qe(o,{separator:s,model:n,prefix:l,suffix:c})}(t):"#"===t.charAt(0)&&"url"!==e?function(t){var e=Ee(t);return e?en(e):t}(t):t}function an(t,e){void 0===e&&(e={});var n=t.model;if(n){t.setOptions({model:"",suffix:"",prefix:""});var i=t.size()>1?t:t.get(0);e[n]=i}else t.forEach((function(t){an(t,e)}));return e}function on(t){return t instanceof Qe}function sn(t){var e=typeof t;if("object"===e){if(ae(t))return"array";if(on(t))return"property"}else if("string"===e||"number"===e)return"value";return e}function ln(t,e){var n,i=[];if(re(n=t)&&n.constructor===Object)for(var r in t)e.push(r),i=i.concat(ln(t[r],e)),e.pop();else i.push(e.slice());return i}function cn(t,e,n){void 0===n&&(n=t.length);for(var i=e,r=0;r<n;++r){if(!re(i)||null==i)return;i=i[t[r]]}return i}function un(t,e,n){var i=e.length,r=t;if(0===i)return!1;for(var a=0;a<i;++a){if(!0===r)return!1;if(!(r=r[e[a]])||!n&&!0===r)return!1}return!0}function hn(t,e){return un($e,t,e)}function dn(t){return un(Je,t,!0)}function pn(t,e){if(void 0===e&&(e=[]),!t)return"";var n=[],i=me(t);return be(i,e),i.forEach((function(e){n.push(e.replace(/\d$/g,"")+"("+t[e]+")")})),n.join(" ")}function fn(t,e){return void 0===e&&(e=!1),gn({},t,e)}function gn(t,e,n){for(var i in void 0===n&&(n=!1),e){var r=e[i],a=sn(r);"property"===a?t[i]=n?r.toValue():r.clone():"function"===a?t[i]=n?mn([i],r):r:"array"===a?t[i]=r.slice():"object"===a?re(t[i])&&!on(t[i])?gn(t[i],r,n):t[i]=fn(r,n):t[i]=e[i]}return t}function vn(t){return t[0]in Ze?Ze[t[0]]:t}function mn(t,e){var n=sn(e);if("property"===n)return e.toValue();if("function"===n){if(t[0]!==We)return mn(t,e())}else if("object"===n)return fn(e,!0);return e}Ae(["id","iterationCount","delay","fillMode","direction","playSpeed","duration","playSpeed","iterationTime","playState"],["easing","easingName"]);var bn=function(){function t(t){void 0===t&&(t={}),this.properties={},this.orderMap=new De("_///_"),this.properties={},this.set(t)}var e=t.prototype;return e.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.raw.apply(this,t);return mn(vn(t),n)},e.getOrders=function(t){return this.orderMap.get(t)},e.setOrders=function(t,e){return this.orderMap.set(t,e)},e.getOrderObject=function(){return this.orderMap.getObject()},e.setOrderObject=function(t){this.orderMap.setObject(t)},e.getKeys=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.raw.apply(this,t),i="object"===sn(n)?me(n):[];return be(i,this.orderMap.get(t)),i},e.gets=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this.get.apply(this,e),r=this.getKeys.apply(this,e);return r.map((function(n){return{key:n,value:i[n],children:t.gets.apply(t,Ae(e,[n]))}}))},e.raw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return cn(vn(t),this.properties)},e.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=vn(t),i=n.length;if(!i)return this;this.orderMap.remove(n);var r=cn(n,this.properties,i-1);return re(r)&&delete r[n[i-1]],this},e.set=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this,r=e.length,a=e.slice(0,-1),o=e[r-1],s=a[0];if(1===r&&o instanceof t)i.merge(o);else if(s in Ze)i._set(Ze[s],o);else if(2===r&&ae(s))i._set(s,o);else if(on(o))hn(a)?i.set.apply(i,Ae(a,[an(o)])):i._set(a,o);else if(ae(o))i._set(a,o);else if(re(o))for(var l in!i.has.apply(i,a)&&hn(a)&&i._set(a,{}),o)i.set.apply(i,Ae(a,[l,o[l]]));else if(oe(o)){if(hn(a,!0)){if(dn(a)||!hn(a))this._set(a,o);else{var c=rn(o);re(c)&&i.set.apply(i,Ae(a,[c]))}return this}var u=tn(o),h=u.styles,d=u.length;for(var l in h)i.set.apply(i,Ae(a,[l,h[l]]));if(d)return this;i._set(a,o)}else i._set(a,o);return i},e.getNames=function(){return ln(this.properties,[])},e.has=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=vn(t),i=n.length;return!!i&&!ie(cn(n,this.properties,i))},e.clone=function(){var e=new t;return e.setOrderObject(this.orderMap.orderMap),e.merge(this)},e.merge=function(t){var e=this.properties,n=t.properties;return n&&gn(e,n),this},e.toCSSObject=function(){var t=this.get(),e={};for(var n in t)if(!hn([n],!0)){var i=t[n];n===We?e[We.replace("animation",te)]=(oe(i)?i:i.easingName)||"initial":e[n]=i}var r=pn(t.transform,this.orderMap.get(["transform"])),a=pn(t.filter,this.orderMap.get([Qt]));return Kt&&r&&(e[Kt]=r),Qt&&a&&(e[Qt]=a),e},e.toCSS=function(){var t=this.toCSSObject(),e=[],n=me(t);return be(n,this.orderMap.get([])),n.forEach((function(n){e.push(n+":"+t[n]+";")})),e.join("")},e.clear=function(){return this.properties={},this.orderMap.clear(),this},e._set=function(t,e){for(var n=this.properties,i=t.length,r=0;r<i-1;++r){var a=t[r];!(a in n)&&(n[a]={}),n=n[a]}if(i){var o=t[i-1];this.orderMap.add(t),n[o]=1===i&&o===We?function(t){var e;if(oe(t))if(t in Ke)e=Ke[t];else{var n=rn(t);if(oe(n))return 0;if("cubic-bezier"===n.model)e=Fe((t=n.value.map((function(t){return parseFloat(t)})))[0],t[1],t[2],t[3]);else{if("steps"!==n.model)return 0;e=Be(parseFloat(n.value[0]),n.value[1])}}else e=ae(t)?Fe(t[0],t[1],t[2],t[3]):t;return e}(e):oe(e)&&!dn(t)?rn(e,o):e}},t}(),yn=n("LvDl"),wn=n("u47x"),xn=n("8LU1"),_n=n("FtGj"),On=n("quSY"),Cn=n("VRyK"),kn=n("LRne"),Sn=n("7Hc7"),Mn=n("JX91"),En=n("eIep"),Tn=n("IzEk"),Pn=n("1G5W"),Ln=n("WMd4");function Rn(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.a,i=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new In(i,n))}}var In=function(){function t(e,n){_classCallCheck(this,t),this.delay=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Dn(t,this.delay,this.scheduler))}}]),t}(),Dn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t)).delay=i,a.scheduler=r,a.queue=[],a.active=!1,a.errored=!1,a}return _createClass(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new zn(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(Ln.a.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(Ln.a.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var a=Math.max(0,n[0].time-i.now());this.schedule(t,a)}else this.unsubscribe(),e.active=!1}}]),n}(O.a),zn=function t(e,n){_classCallCheck(this,t),this.time=e,this.notification=n},An=n("R0Ic"),jn=n("+rOU"),Fn=n("FKr1"),Bn=n("cH1L"),Vn=n("rDax"),Nn=n("nLfN"),Hn=n("vxfF"),Xn=["*"];function Gn(t,e){if(1&t){var n=a.mc();a.lc(0,"div",0),a.tc("keydown",(function(t){return a.Oc(n),a.xc()._handleKeydown(t)}))("click",(function(){return a.Oc(n),a.xc().closed.emit("click")}))("@transformMenu.start",(function(t){return a.Oc(n),a.xc()._onAnimationStart(t)}))("@transformMenu.done",(function(t){return a.Oc(n),a.xc()._onAnimationDone(t)})),a.lc(1,"div",1),a.Ac(2),a.kc(),a.kc()}if(2&t){var i=a.xc();a.Cc("id",i.panelId)("ngClass",i._classList)("@transformMenu",i._panelAnimationState),a.Ub("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}var Un={transformMenu:Object(An.n)("transformMenu",[Object(An.k)("void",Object(An.l)({opacity:0,transform:"scale(0.8)"})),Object(An.m)("void => enter",Object(An.g)([Object(An.i)(".mat-menu-content, .mat-mdc-menu-content",Object(An.e)("100ms linear",Object(An.l)({opacity:1}))),Object(An.e)("120ms cubic-bezier(0, 0, 0.2, 1)",Object(An.l)({transform:"scale(1)"}))])),Object(An.m)("* => void",Object(An.e)("100ms 25ms linear",Object(An.l)({opacity:0})))]),fadeInItems:Object(An.n)("fadeInItems",[Object(An.k)("showing",Object(An.l)({opacity:1})),Object(An.m)("void => *",[Object(An.l)({opacity:0}),Object(An.e)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Yn=function(){function t(e,n,i,r,a,o,s){_classCallCheck(this,t),this._template=e,this._componentFactoryResolver=n,this._appRef=i,this._injector=r,this._viewContainerRef=a,this._document=o,this._changeDetectorRef=s,this._attached=new _.a}return _createClass(t,[{key:"attach",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._portal||(this._portal=new jn.h(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new jn.e(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));var e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}},{key:"detach",value:function(){this._portal.isAttached&&this._portal.detach()}},{key:"ngOnDestroy",value:function(){this._outlet&&this._outlet.dispose()}}]),t}();Yn.\u0275fac=function(t){return new(t||Yn)(a.gc(a.bb),a.gc(a.m),a.gc(a.g),a.gc(a.B),a.gc(a.fb),a.gc(i.d),a.gc(a.j))},Yn.\u0275dir=a.bc({type:Yn,selectors:[["ng-template","matMenuContent",""]]}),Yn.ctorParameters=function(){return[{type:a.bb},{type:a.m},{type:a.g},{type:a.B},{type:a.fb},{type:void 0,decorators:[{type:a.y,args:[i.d]}]},{type:a.j}]};var qn=new a.A("MAT_MENU_PANEL"),Wn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var o;return _classCallCheck(this,n),(o=e.call(this))._elementRef=t,o._focusMonitor=r,o._parentMenu=a,o.role="menuitem",o._hovered=new _.a,o._focused=new _.a,o._highlighted=!1,o._triggersSubmenu=!1,r&&r.monitor(o._elementRef,!1),a&&a.addItem&&a.addItem(_assertThisInitialized(o)),o._document=i,o}return _createClass(n,[{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_checkDisabled",value:function(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}},{key:"_handleMouseEnter",value:function(){this._hovered.next(this)}},{key:"getLabel",value:function(){var t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3,n="";if(t.childNodes)for(var i=t.childNodes.length,r=0;r<i;r++)t.childNodes[r].nodeType===e&&(n+=t.childNodes[r].textContent);return n.trim()}}]),n}(Object(Fn.o)(Object(Fn.p)(function(){return function t(){_classCallCheck(this,t)}}())));Wn.\u0275fac=function(t){return new(t||Wn)(a.gc(a.r),a.gc(i.d),a.gc(wn.f),a.gc(qn,8))},Wn.\u0275cmp=a.ac({type:Wn,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&a.tc("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(){return e._handleMouseEnter()})),2&t&&(a.Ub("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),a.Xb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.Qb],attrs:["mat-menu-item",""],ngContentSelectors:Xn,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(a.Bc(),a.Ac(0),a.hc(1,"div",0)),2&t&&(a.Tb(1),a.Cc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[Fn.i],encapsulation:2,changeDetection:0}),Wn.ctorParameters=function(){return[{type:a.r},{type:void 0,decorators:[{type:a.y,args:[i.d]}]},{type:wn.f},{type:void 0,decorators:[{type:a.y,args:[qn]},{type:a.M}]}]},Wn.propDecorators={role:[{type:a.C}],_checkDisabled:[{type:a.w,args:["click",["$event"]]}],_handleMouseEnter:[{type:a.w,args:["mouseenter"]}]};var $n=new a.A("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),Zn=0,Jn=function(){function t(e,n,i){_classCallCheck(this,t),this._elementRef=e,this._ngZone=n,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new a.R,this._tabSubscription=On.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new _.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new a.t,this.close=this.closed,this.panelId="mat-menu-panel-"+Zn++}return _createClass(t,[{key:"ngOnInit",value:function(){this.setPositionClasses()}},{key:"ngAfterContentInit",value:function(){var t=this;this._updateDirectDescendants(),this._keyManager=new wn.e(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe((function(){return t.closed.emit("tab")})),this._directDescendantItems.changes.pipe(Object(Mn.a)(this._directDescendantItems),Object(En.a)((function(t){return Object(Cn.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._focused}))))}))).subscribe((function(e){return t._keyManager.updateActiveItem(e)}))}},{key:"ngOnDestroy",value:function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}},{key:"_hovered",value:function(){return this._directDescendantItems.changes.pipe(Object(Mn.a)(this._directDescendantItems),Object(En.a)((function(t){return Object(Cn.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._hovered}))))})))}},{key:"addItem",value:function(t){}},{key:"removeItem",value:function(t){}},{key:"_handleKeydown",value:function(t){var e=t.keyCode,n=this._keyManager;switch(e){case _n.e:Object(_n.o)(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case _n.g:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case _n.i:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case _n.f:case _n.c:Object(_n.o)(t)||(e===_n.f?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:e!==_n.l&&e!==_n.b||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}},{key:"focusFirstItem",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program";this.lazyContent?this._ngZone.onStable.asObservable().pipe(Object(Tn.a)(1)).subscribe((function(){return t._focusFirstItem(e)})):this._focusFirstItem(e)}},{key:"_focusFirstItem",value:function(t){var e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length)for(var n=this._directDescendantItems.first._getHostElement().parentElement;n;){if("menu"===n.getAttribute("role")){n.focus();break}n=n.parentElement}}},{key:"resetActiveItem",value:function(){this._keyManager.setActiveItem(-1)}},{key:"setElevation",value:function(t){var e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find((function(t){return t.startsWith("mat-elevation-z")}));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}},{key:"setPositionClasses",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xPosition,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.yPosition,n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}},{key:"_startAnimation",value:function(){this._panelAnimationState="enter"}},{key:"_resetAnimation",value:function(){this._panelAnimationState="void"}},{key:"_onAnimationDone",value:function(t){this._animationDone.next(t),this._isAnimating=!1}},{key:"_onAnimationStart",value:function(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}},{key:"_updateDirectDescendants",value:function(){var t=this;this._allItems.changes.pipe(Object(Mn.a)(this._allItems)).subscribe((function(e){t._directDescendantItems.reset(e.filter((function(e){return e._parentMenu===t}))),t._directDescendantItems.notifyOnChanges()}))}},{key:"xPosition",get:function(){return this._xPosition},set:function(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}},{key:"yPosition",get:function(){return this._yPosition},set:function(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}},{key:"overlapTrigger",get:function(){return this._overlapTrigger},set:function(t){this._overlapTrigger=Object(xn.b)(t)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=Object(xn.b)(t)}},{key:"panelClass",set:function(t){var e=this,n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach((function(t){e._classList[t]=!1})),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach((function(t){e._classList[t]=!0})),this._elementRef.nativeElement.className="")}},{key:"classList",get:function(){return this.panelClass},set:function(t){this.panelClass=t}}]),t}();Jn.\u0275fac=function(t){return new(t||Jn)(a.gc(a.r),a.gc(a.L),a.gc($n))},Jn.\u0275dir=a.bc({type:Jn,contentQueries:function(t,e,n){var i;1&t&&(a.Zb(n,Yn,!0),a.Zb(n,Wn,!0),a.Zb(n,Wn,!1)),2&t&&(a.Jc(i=a.uc())&&(e.lazyContent=i.first),a.Jc(i=a.uc())&&(e._allItems=i),a.Jc(i=a.uc())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&a.ed(a.bb,!0),2&t&&a.Jc(n=a.uc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),Jn.ctorParameters=function(){return[{type:a.r},{type:a.L},{type:void 0,decorators:[{type:a.y,args:[$n]}]}]},Jn.propDecorators={_allItems:[{type:a.o,args:[Wn,{descendants:!0}]}],backdropClass:[{type:a.C}],ariaLabel:[{type:a.C,args:["aria-label"]}],ariaLabelledby:[{type:a.C,args:["aria-labelledby"]}],ariaDescribedby:[{type:a.C,args:["aria-describedby"]}],xPosition:[{type:a.C}],yPosition:[{type:a.C}],templateRef:[{type:a.eb,args:[a.bb]}],items:[{type:a.o,args:[Wn,{descendants:!1}]}],lazyContent:[{type:a.n,args:[Yn]}],overlapTrigger:[{type:a.C}],hasBackdrop:[{type:a.C}],panelClass:[{type:a.C,args:["class"]}],classList:[{type:a.C}],closed:[{type:a.N}],close:[{type:a.N}]};var Kn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(Jn);Kn.\u0275fac=function(t){return Qn(t||Kn)},Kn.\u0275dir=a.bc({type:Kn,features:[a.Qb]});var Qn=a.nc(Kn),ti=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){return _classCallCheck(this,n),e.call(this,t,i,r)}return n}(Kn);ti.\u0275fac=function(t){return new(t||ti)(a.gc(a.r),a.gc(a.L),a.gc($n))},ti.\u0275cmp=a.ac({type:ti,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[a.Sb([{provide:qn,useExisting:Kn},{provide:Kn,useExisting:ti}]),a.Qb],ngContentSelectors:Xn,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(a.Bc(),a.Vc(0,Gn,3,6,"ng-template"))},directives:[i.j],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[Un.transformMenu,Un.fadeInItems]},changeDetection:0}),ti.ctorParameters=function(){return[{type:a.r},{type:a.L},{type:void 0,decorators:[{type:a.y,args:[$n]}]}]};var ei=new a.A("mat-menu-scroll-strategy"),ni={provide:ei,deps:[Vn.c],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},ii=Object(Nn.f)({passive:!0}),ri=function(){function t(e,n,i,r,o,s,l,c){var u=this;_classCallCheck(this,t),this._overlay=e,this._element=n,this._viewContainerRef=i,this._parentMenu=o,this._menuItemInstance=s,this._dir=l,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=On.a.EMPTY,this._hoverSubscription=On.a.EMPTY,this._menuCloseSubscription=On.a.EMPTY,this._handleTouchStart=function(){return u._openedBy="touch"},this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new a.t,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.t,this.onMenuClose=this.menuClosed,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,ii),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=r}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._checkMenu(),this._handleHover()}},{key:"ngOnDestroy",value:function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,ii),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}},{key:"triggersSubmenu",value:function(){return!(!this._menuItemInstance||!this._parentMenu)}},{key:"toggleMenu",value:function(){return this._menuOpen?this.closeMenu():this.openMenu()}},{key:"openMenu",value:function(){var t=this;if(!this._menuOpen){this._checkMenu();var e=this._createOverlay(),n=e.getConfig();this._setPosition(n.positionStrategy),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe((function(){return t.closeMenu()})),this._initMenu(),this.menu instanceof Kn&&this.menu._startAnimation()}}},{key:"closeMenu",value:function(){this.menu.close.emit()}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}},{key:"_destroyMenu",value:function(){var t=this;if(this._overlayRef&&this.menuOpen){var e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),e instanceof Kn?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(Object(I.a)((function(t){return"void"===t.toState})),Object(Tn.a)(1),Object(Pn.a)(e.lazyContent._attached)).subscribe({next:function(){return e.lazyContent.detach()},complete:function(){return t._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach())}}},{key:"_initMenu",value:function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}},{key:"_setMenuElevation",value:function(){if(this.menu.setElevation){for(var t=0,e=this.menu.parentMenu;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}},{key:"_restoreFocus",value:function(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}},{key:"_setIsMenuOpen",value:function(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}},{key:"_checkMenu",value:function(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}},{key:"_createOverlay",value:function(){if(!this._overlayRef){var t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}},{key:"_getOverlayConfig",value:function(){return new Vn.d({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}},{key:"_subscribeToPositions",value:function(t){var e=this;this.menu.setPositionClasses&&t.positionChanges.subscribe((function(t){var n="start"===t.connectionPair.overlayX?"after":"before",i="top"===t.connectionPair.overlayY?"below":"above";e.menu.setPositionClasses(n,i)}))}},{key:"_setPosition",value:function(t){var e=_slicedToArray("before"===this.menu.xPosition?["end","start"]:["start","end"],2),n=e[0],i=e[1],r=_slicedToArray("above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],2),a=r[0],o=r[1],s=a,l=o,c=n,u=i,h=0;this.triggersSubmenu()?(u=n="before"===this.menu.xPosition?"start":"end",i=c="end"===n?"start":"end",h="bottom"===a?8:-8):this.menu.overlapTrigger||(s="top"===a?"bottom":"top",l="top"===o?"bottom":"top"),t.withPositions([{originX:n,originY:s,overlayX:c,overlayY:a,offsetY:h},{originX:i,originY:s,overlayX:u,overlayY:a,offsetY:h},{originX:n,originY:l,overlayX:c,overlayY:o,offsetY:-h},{originX:i,originY:l,overlayX:u,overlayY:o,offsetY:-h}])}},{key:"_menuClosingActions",value:function(){var t=this,e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments(),i=this._parentMenu?this._parentMenu.closed:Object(kn.a)(),r=this._parentMenu?this._parentMenu._hovered().pipe(Object(I.a)((function(e){return e!==t._menuItemInstance})),Object(I.a)((function(){return t._menuOpen}))):Object(kn.a)();return Object(Cn.a)(e,i,r,n)}},{key:"_handleMousedown",value:function(t){Object(wn.j)(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}},{key:"_handleKeydown",value:function(t){var e=t.keyCode;this.triggersSubmenu()&&(e===_n.i&&"ltr"===this.dir||e===_n.g&&"rtl"===this.dir)&&this.openMenu()}},{key:"_handleClick",value:function(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}},{key:"_handleHover",value:function(){var t=this;this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Object(I.a)((function(e){return e===t._menuItemInstance&&!e.disabled})),Rn(0,Sn.a)).subscribe((function(){t._openedBy="mouse",t.menu instanceof Kn&&t.menu._isAnimating?t.menu._animationDone.pipe(Object(Tn.a)(1),Rn(0,Sn.a),Object(Pn.a)(t._parentMenu._hovered())).subscribe((function(){return t.openMenu()})):t.openMenu()})))}},{key:"_getPortal",value:function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new jn.h(this.menu.templateRef,this._viewContainerRef)),this._portal}},{key:"_deprecatedMatMenuTriggerFor",get:function(){return this.menu},set:function(t){this.menu=t}},{key:"menu",get:function(){return this._menu},set:function(t){var e=this;t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe((function(t){e._destroyMenu(),"click"!==t&&"tab"!==t||!e._parentMenu||e._parentMenu.closed.emit(t)}))))}},{key:"menuOpen",get:function(){return this._menuOpen}},{key:"dir",get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}}]),t}();ri.\u0275fac=function(t){return new(t||ri)(a.gc(Vn.c),a.gc(a.r),a.gc(a.fb),a.gc(ei),a.gc(Kn,8),a.gc(Wn,10),a.gc(Bn.b,8),a.gc(wn.f))},ri.\u0275dir=a.bc({type:ri,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&a.tc("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&a.Ub("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),ri.ctorParameters=function(){return[{type:Vn.c},{type:a.r},{type:a.fb},{type:void 0,decorators:[{type:a.y,args:[ei]}]},{type:Kn,decorators:[{type:a.M}]},{type:Wn,decorators:[{type:a.M},{type:a.Y}]},{type:Bn.b,decorators:[{type:a.M}]},{type:wn.f}]},ri.propDecorators={_deprecatedMatMenuTriggerFor:[{type:a.C,args:["mat-menu-trigger-for"]}],menu:[{type:a.C,args:["matMenuTriggerFor"]}],menuData:[{type:a.C,args:["matMenuTriggerData"]}],restoreFocus:[{type:a.C,args:["matMenuTriggerRestoreFocus"]}],menuOpened:[{type:a.N}],onMenuOpen:[{type:a.N}],menuClosed:[{type:a.N}],onMenuClose:[{type:a.N}]};var ai=function t(){_classCallCheck(this,t)};ai.\u0275mod=a.ec({type:ai}),ai.\u0275inj=a.dc({factory:function(t){return new(t||ai)},providers:[ni],imports:[Fn.e]});var oi=function t(){_classCallCheck(this,t)};oi.\u0275mod=a.ec({type:oi}),oi.\u0275inj=a.dc({factory:function(t){return new(t||oi)},providers:[ni],imports:[[i.c,Fn.e,Fn.j,Vn.f,ai],Hn.b,Fn.e,ai]});var si=n("EUZL"),li=n("Qu3c"),ci=n("XhcP");function ui(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map((function(e){return e.split(" ").map((function(e){return e?""+t+e:""})).join(" ")})).join(" ")}function hi(t,e){return function(n){n&&(t[e]=n)}}function di(t,e,n){return function(i){i&&(t[e][n]=i)}}function pi(t,e){return function(n){var i=n.prototype;t.forEach((function(t){e(i,t)}))}}function fi(t,e){return void 0===e&&(e={}),function(n,i){t.forEach((function(t){var r=e[t]||t;n[r]||(n[r]=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=(e=this[i])[t].apply(e,n);return a===this[i]?this:a})}))}}var gi=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,i=this.values,r=n.indexOf(t),a=-1===r?n.length:r;n[a]=t,i[a]=e},t}(),vi=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),mi="function"==typeof Map,bi=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}(),yi=function(){function t(t,e,n,i,r,a,o,s){this.prevList=t,this.list=e,this.added=n,this.removed=i,this.changed=r,this.maintained=a,this.changedBeforeAdded=o,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t=function(t,e){var n=[],i=[];return t.forEach((function(t){var e=t[0],r=t[1],a=new bi;n[e]=a,i[r]=a})),n.forEach((function(t,e){t.connect(n[e-1])})),t.filter((function(t,n){return!e[n]})).map((function(t,e){var r=t[0],a=t[1];if(r===a)return[0,0];var o=n[r],s=i[a-1],l=o.getIndex();return o.disconnect(),s?o.connect(s,s.next):o.connect(void 0,n[0]),[l,o.getIndex()]}))}(this.changedBeforeAdded,this.fixed),e=this.changed,n=[];this.cacheOrdered=t.filter((function(t,i){var r=t[0],a=t[1],o=e[i],s=o[0],l=o[1];if(r!==a)return n.push([s,l]),!0})),this.cachePureChanged=n},t}();function wi(t,e,n){var i=mi?Map:n?vi:gi,r=n||function(t){return t},a=[],o=[],s=[],l=t.map(r),c=e.map(r),u=new i,h=new i,d=[],p=[],f={},g=[],v=0,m=0;return l.forEach((function(t,e){u.set(t,e)})),c.forEach((function(t,e){h.set(t,e)})),l.forEach((function(t,e){var n=h.get(t);void 0===n?(++m,o.push(e)):f[n]=m})),c.forEach((function(t,e){var n=u.get(t);void 0===n?(a.push(e),++v):(s.push([n,e]),m=f[e]||0,d.push([n-m,e-v]),p.push(e===n),n!==e&&g.push([n,e]))})),o.reverse(),new yi(t,e,a,o,g,s,d,p)}var xi=function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}return t.prototype.update=function(t){var e=[].slice.call(t),n=wi(this.list,e,this.findKeyCallback);return this.list=e,n},t}(),_i=function(t,e){return(_i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Oi(t,e){function n(){this.constructor=t}_i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ci=function(){return(Ci=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function ki(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function Si(t,e){if(t===e)return!1;for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1}function Mi(t,e){var n=Object.keys(t),i=Object.keys(e),r=wi(n,i,(function(t){return t})),a={},o={},s={};return r.added.forEach((function(t){var n=i[t];a[n]=e[n]})),r.removed.forEach((function(e){var i=n[e];o[i]=t[i]})),r.maintained.forEach((function(i){var r=i[0],a=n[r],o=[t[a],e[a]];t[a]!==e[a]&&(s[a]=o)})),{added:a,removed:o,changed:s}}function Ei(t){t.forEach((function(t){t()}))}function Ti(t){var e=0;return t.map((function(t){return null==t?"$compat"+ ++e:""+t}))}function Pi(t,e,n,i){return oe(t)?new ji("text_"+t,e,n,i,null,{}):new("string"==typeof t.type?Fi:t.type.prototype.render?Hi:Vi)(t.type,e,n,i,t.ref,t.props)}function Li(t){var e=[];return t.forEach((function(t){e=e.concat(ae(t)?Li(t):t)})),e}function Ri(t){var e=t.className,n=ki(t,["className"]);return null!=e&&(n.class=e),delete n.style,delete n.children,n}function Ii(t,e){if(!e)return t;for(var n in e)ie(t[n])&&(t[n]=e[n]);return t}function Di(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=e||{},a=r.key,o=r.ref,s=ki(r,["key","ref"]);return{type:t,key:a,ref:o,props:Ci(Ci({},s),{children:Li(n).filter((function(t){return null!=t&&!1!==t}))})}}var zi=function(){function t(t,e,n,i,r,a){void 0===a&&(a={}),this.type=t,this.key=e,this.index=n,this.container=i,this.ref=r,this.props=a,this._providers=[]}var e=t.prototype;return e._should=function(t,e){return!0},e._update=function(t,e,n,i){if(this.base&&!oe(e)&&!i&&!this._should(e.props,n))return!1;this.original=e,this._setState(n);var r=this.props;return oe(e)||(this.props=e.props,this.ref=e.ref),this._render(t,this.base?r:{},n),!0},e._mounted=function(){var t=this.ref;t&&t(this.base)},e._setState=function(t){},e._updated=function(){var t=this.ref;t&&t(this.base)},e._destroy=function(){var t=this.ref;t&&t(null)},t}();function Ai(t){var e={},n={};for(var i in t)0===i.indexOf("on")?n[i.replace("on","").toLowerCase()]=t[i]:e[i]=t[i];return{attributes:e,events:n}}var ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Oi(e,t);var n=e.prototype;return n._render=function(t){var e=this,n=!this.base;return n&&(this.base=document.createTextNode(this.type.replace("text_",""))),t.push((function(){n?e._mounted():e._updated()})),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(zi),Fi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.events={},e}Oi(e,t);var n=e.prototype;return n.addEventListener=function(t,e){var n=this.events;n[t]=function(t){t.nativeEvent=t,e(t)},this.base.addEventListener(t,n[t])},n.removeEventListener=function(t){var e=this.events;this.base.removeEventListener(t,e[t]),delete e[t]},n._should=function(t){return Si(this.props,t)},n._render=function(t,e){var n=this,i=!this.base;i&&(this.base=document.createElement(this.type)),Yi(this,this._providers,this.props.children,t,null);var r=this.base,a=Ai(e),o=a.attributes,s=a.events,l=Ai(this.props),c=l.attributes,u=l.events;return function(t,e,n){var i=Mi(t,e),r=i.added,a=i.removed,o=i.changed;for(var s in r)n.setAttribute(s,r[s]);for(var s in o)n.setAttribute(s,o[s][1]);for(var s in a)n.removeAttribute(s)}(Ri(o),Ri(c),r),function(t,e,n){var i=Mi(t,e),r=i.added,a=i.removed,o=i.changed;for(var s in a)n.removeEventListener(s);for(var s in r)n.addEventListener(s,r[s]);for(var s in o)n.removeEventListener(s),n.addEventListener(s,o[s][1]);for(var s in a)n.removeEventListener(s)}(s,u,this),function(t,e,n){var i=n.style,r=Mi(t,e),a=r.added,o=r.removed,s=r.changed;for(var l in a){var c=fe(l,"-");i.setProperty?i.setProperty(c,a[l]):i[c]=a[l]}for(var l in s)c=fe(l,"-"),i.setProperty?i.setProperty(c,s[l][1]):i[c]=s[l][1];for(var l in o)c=fe(l,"-"),i.removeProperty?i.removeProperty(c):i[c]=""}(e.style||{},this.props.style||{},r),t.push((function(){i?n._mounted():n._updated()})),!0},n._unmount=function(){var t=this.events,e=this.base;for(var n in t)e.removeEventListener(n,t[n]);this._providers.forEach((function(t){t._unmount()})),this.events={},e.parentNode.removeChild(e)},e}(zi);function Bi(t){if(!t)return null;if(t instanceof Node)return t;var e=t._provider._providers;return e.length?Bi(e[0].base):null}var Vi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Oi(e,t);var n=e.prototype;return n._render=function(t){var e=this.type(this.props);return Yi(this,this._providers,e?[e]:[],t),!0},n._unmount=function(){this._providers.forEach((function(t){t._unmount()}))},e}(zi),Ni=function(t){function e(e){var n=t.call(this,"container","container",0,null)||this;return n.base=e,n}Oi(e,t);var n=e.prototype;return n._render=function(){return!0},n._unmount=function(){},e}(zi),Hi=function(t){function e(e,n,i,r,a,o){return void 0===o&&(o={}),t.call(this,e,n,i,r,a,Ii(o,e.defaultProps))||this}Oi(e,t);var n=e.prototype;return n._should=function(t,e){return this.base.shouldComponentUpdate(Ii(t,this.type.defaultProps),e||this.base.state)},n._render=function(t,e,n){var i=this;this.props=Ii(this.props,this.type.defaultProps);var r=!this.base;r?(this.base=new this.type(this.props),this.base._provider=this):this.base.props=this.props;var a=this.base,o=a.state,s=a.render();s&&s.props&&!s.props.children.length&&(s.props.children=this.props.children),Yi(this,this._providers,s?[s]:[],t,n,null),t.push((function(){r?(i._mounted(),a.componentDidMount()):(i._updated(),a.componentDidUpdate(e,o))}))},n._setState=function(t){t&&(this.base.state=t)},n._unmount=function(){this._providers.forEach((function(t){t._unmount()})),this.base.componentWillUnmount()},e}(zi),Xi=function(){function t(t){void 0===t&&(t={}),this.props=t,this.state={}}var e=t.prototype;return e.shouldComponentUpdate=function(t,e){return!0},e.render=function(){return null},e.setState=function(t,e,n){var i=[],r=this._provider;Yi(r.container,[r],[r.original],i,Ci(Ci({},this.state),t),n)&&(e&&i.push(e),Ei(i))},e.forceUpdate=function(t){this.setState(this.state,t,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(t,e){},e.componentWillUnmount=function(){},t}(),Gi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Oi(e,t),e.prototype.shouldComponentUpdate=function(t,e){return Si(this.props,t)||Si(this.state,e)},e}(Xi),Ui=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Oi(e,t);var n=e.prototype;return n.componentDidMount=function(){var t=this.props,e=t.element,n=t.container;this._portalProvider=new Ni(n),qi(e,n,this._portalProvider)},n.componentDidUpdate=function(){var t=this.props;qi(t.element,t.container,this._portalProvider)},n.componentWillUnmount=function(){qi(null,this.props.container,this._portalProvider),this._portalProvider=null},e}(Gi);function Yi(t,e,n,i,r,a){var o=function(t,e,n){var i=n.map((function(t){return oe(t)?null:t.key})),r=wi(Ti(e.map((function(t){return t.key}))),Ti(i),(function(t){return t}));r.removed.forEach((function(t){e.splice(t,1)[0]._unmount()})),r.ordered.forEach((function(t){var n=t[0],i=t[1],r=e.splice(n,1)[0];e.splice(i,0,r);var a=Bi(r.base),o=Bi(e[i+1]&&e[i+1].base);a&&a.parentNode.insertBefore(a,o)})),r.added.forEach((function(r){e.splice(r,0,Pi(n[r],i[r],r,t))}));var a=r.maintained.filter((function(r){r[0];var a=r[1],o=n[a],s=e[a];return(oe(o)?"text_"+o:o.type)!==s.type?(s._unmount(),e.splice(a,1,Pi(o,i[a],a,t)),!0):(s.index=a,!1)}));return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}(r.added,a.map((function(t){return t[0],t[1]})))}(t,e,n),s=e.filter((function(t,e){return t._update(i,n[e],r,a)})),l=function t(e){if(!e)return null;var n=e.base;return n instanceof Node?n:t(e.container)}(t);return l&&o.reverse().forEach((function(n){var i=e[n],r=Bi(i.base);if(r&&l!==r&&!r.parentNode){var a=function(t,e){for(var n=t._providers,i=n.length,r=e.index+1;r<i;++r){var a=Bi(n[r].base);if(a)return a}return null}(t,i);l.insertBefore(r,a)}})),s.length>0}function qi(t,e,n){void 0===n&&(n=e.__REACT_COMPAT__);var i=!!n;return n||(n=new Ni(e)),function(t,e,n){var i=[];Yi(t,t._providers,e,i,void 0),Ei(i)}(n,t?[t]:[]),i||(e.__REACT_COMPAT__=n),n}function Wi(t,e,n){var i=e.__REACT_COMPAT__;t&&!i&&(e.innerHTML=""),qi(t,e,i),n&&n()}function $i(t,e){for(var n=t.length,i=0;i<n;++i)if(e(t[i],i))return!0;return!1}function Zi(t,e){for(var n=t.length,i=0;i<n;++i)if(e(t[i],i))return t[i];return null}function Ji(t,e){try{return new RegExp(t,"g").exec(e)}catch(n){return null}}function Ki(t){return t.replace(/_/g,".")}function Qi(t,e){var n=null,i="-1";return $i(t,(function(t){var r=Ji("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!(!r||t.brand||(n=t,i=r[3]||"-1",t.versionAlias?i=t.versionAlias:t.versionTest&&(i=function(t,e){var n=Ji("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return n?n[3]:""}(t.versionTest.toLowerCase(),e)||i),i=Ki(i),0))})),{preset:n,version:i}}function tr(t,e){return Zi(t,(function(t){var n=t.brand;return Ji(""+e.test,n.toLowerCase())}))}var er=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],nr=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",brand:!0}],ir=[{test:"applewebkit",id:"webkit"}],rr=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],ar=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"mac os x",id:"mac"},{test:"android",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];var or=function(t){return void 0===t&&function(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!(!e||!e.length)}()?function(t){var e=navigator.userAgentData,n=(e.uaList||e.brands).slice(),i=e.mobile||!1,r=n[0],a={name:r.brand,version:r.version,majorVersion:-1,webkit:!1,webview:$i(rr,(function(t){return tr(n,t)})),chromium:$i(nr,(function(t){return tr(n,t)}))},o={name:"unknown",version:"-1",majorVersion:-1};if(a.webkit=!a.chromium&&$i(ir,(function(t){return tr(n,t)})),t){var s=t.platform.toLowerCase(),l=Zi(ar,(function(t){return new RegExp(""+t.test,"g").exec(s)}));o.name=l?l.id:s,o.version=t.platformVersion}return $i(er,(function(e){var i=tr(n,e);return!!i&&(a.name=e.id,a.version=t?t.uaFullVersion:i.version,!0)})),"Linux armv8l"===navigator.platform?o.name="android":a.webkit&&(o.name=i?"ios":"mac"),"ios"===o.name&&a.webview&&(a.version="-1"),o.version=Ki(o.version),a.version=Ki(a.version),o.majorVersion=parseInt(o.version,10),a.majorVersion=parseInt(a.version,10),{browser:a,os:o,isMobile:i,isHints:!0}}():function(t){var e=function(t){var e=t;if(void 0===e){if("undefined"==typeof navigator||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}(t),n=!!/mobi/g.exec(e),i={name:"unknown",version:"-1",majorVersion:-1,webview:!!Qi(rr,e).preset,chromium:!!Qi(nr,e).preset,webkit:!1},r={name:"unknown",version:"-1",majorVersion:-1},a=Qi(er,e),o=a.preset,s=a.version,l=Qi(ar,e),c=l.preset,u=l.version;return i.webkit=!i.chromium&&!!Qi(ir,e).preset,c&&(r.name=c.id,r.version=u,r.majorVersion=parseInt(u,10)),o&&(i.name=o.id,i.version=s,i.webview&&"ios"===r.name&&"safari"!==i.name&&(i.webview=!1)),i.majorVersion=parseInt(i.version,10),{browser:i,os:r,isMobile:n,isHints:!1}}(t)};function sr(t,e,n,i,r,a){for(var o=0;o<r;++o){var s=n+o*r,l=i+o*r;t[s]+=t[l]*a,e[s]+=e[l]*a}}function lr(t,e,n,i,r){for(var a=0;a<r;++a){var o=n+a*r,s=i+a*r,l=t[o],c=e[o];t[o]=t[s],t[s]=l,e[o]=e[s],e[s]=c}}function cr(t,e,n,i,r){for(var a=0;a<i;++a){var o=n+a*i;t[o]/=r,e[o]/=r}}function ur(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var i=t.slice(),r=0;r<n;++r)i[r*n+e-1]=0,i[(e-1)*n+r]=0;return i[(e-1)*(n+1)]=1,i}function hr(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),i=Er(e),r=0;r<e;++r){var a=e*r+r;if(!xe(n[a],1e-7))for(var o=r+1;o<e;++o)if(n[e*r+o]){lr(n,i,r,o,e);break}if(!xe(n[a],1e-7))return[];for(cr(n,i,r,e,n[a]),o=0;o<e;++o){var s=o,l=n[o+r*e];xe(l,1e-7)&&r!==o&&sr(n,i,s,r,e,-l)}}return i}function dr(t,e){for(var n=t.slice(),i=t.length;i<e-1;++i)n[i]=0;return n[e-1]=1,n}function pr(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var i=Er(n),r=Math.min(e,n),a=0;a<r-1;++a){for(var o=0;o<r-1;++o)i[a*n+o]=t[a*e+o];i[(a+1)*n-1]=t[(a+1)*e-1],i[(n-1)*n+a]=t[(e-1)*e+a]}return i[n*n-1]=t[e*e-1],i}function fr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Er(t);return e.forEach((function(e){i=gr(i,e,t)})),i}function gr(t,e,n){void 0===n&&(n=Math.sqrt(t.length));var i=[],r=t.length/n,a=e.length/r;if(!r)return e;if(!a)return t;for(var o=0;o<n;++o)for(var s=0;s<a;++s){i[s*n+o]=0;for(var l=0;l<r;++l)i[s*n+o]+=t[l*n+o]*e[s*r+l]}return i}function vr(t,e){for(var n=Math.min(t.length,e.length),i=t.slice(),r=0;r<n;++r)i[r]=i[r]+e[r];return i}function mr(t,e){for(var n=Math.min(t.length,e.length),i=t.slice(),r=0;r<n;++r)i[r]=i[r]-e[r];return i}function br(t,e){return void 0===e&&(e=9===t.length),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function yr(t,e,n){void 0===n&&(n=e.length);var i=gr(t,e,n),r=i[n-1];return i.map((function(t){return t/r}))}function wr(t,e){return gr(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function xr(t,e){return gr(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function _r(t,e){return gr(t,Mr(e,4))}function Or(t,e){var n=e[0],i=void 0===n?1:n,r=e[1],a=void 0===r?1:r,o=e[2];return gr(t,[i,0,0,0,0,a,0,0,0,0,void 0===o?1:o,0,0,0,0,1],4)}function Cr(t,e){return yr(Mr(e,3),dr(t,3))}function kr(t,e){var n=e[0],i=void 0===n?0:n,r=e[1],a=void 0===r?0:r,o=e[2];return gr(t,[1,0,0,0,0,1,0,0,0,0,1,0,i,a,void 0===o?0:o,1],4)}function Sr(t,e){return gr(t,e,4)}function Mr(t,e){var n=Math.cos(t),i=Math.sin(t),r=Er(e);return r[0]=n,r[1]=i,r[e]=-i,r[e+1]=n,r}function Er(t){for(var e=t*t,n=[],i=0;i<e;++i)n[i]=i%(t+1)?0:1;return n}function Tr(t,e){for(var n=Er(e),i=Math.min(t.length,e-1),r=0;r<i;++r)n[(e+1)*r]=t[r];return n}function Pr(t,e){for(var n=Er(e),i=Math.min(t.length,e-1),r=0;r<i;++r)n[e*(e-1)+r]=t[r];return n}function Lr(t,e,n,i,r,a,o,s){var l=t[0],c=t[1],u=e[0],h=e[1],d=n[0],p=n[1],f=i[0],g=i[1],v=r[0],m=r[1],b=a[0],y=a[1],w=o[0],x=o[1],_=s[0],O=s[1],C=hr([l,0,u,0,d,0,f,0,c,0,h,0,p,0,g,0,1,0,1,0,1,0,1,0,0,l,0,u,0,d,0,f,0,c,0,h,0,p,0,g,0,1,0,1,0,1,0,1,-v*l,-m*l,-b*u,-y*u,-w*d,-x*d,-_*f,-O*f,-v*c,-m*c,-b*h,-y*h,-w*p,-x*p,-_*g,-O*g],8);if(!C.length)return[];var k=gr(C,[v,m,b,y,w,x,_,O],8);return k[8]=1,pr(function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],i=0;i<e;++i)for(var r=0;r<e;++r)n[r*e+i]=t[e*i+r];return n}(k),3,4)}function Rr(t){var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach((function(t){var n=t.matrixFunction,i=t.functionValue;n&&(e=n(e,i))})),e}function Ir(t){return(ae(t)?t:ue(t)).map((function(t){var e=de(t),n=e.prefix,i=e.value,r=null,a=n,o="";if("translate"===n||"translateX"===n||"translate3d"===n){var s=he(i).map((function(t){return parseFloat(t)})),l=s[0],c=s[1],u=void 0===c?0:c,h=s[2];r=kr,o=[l,u,void 0===h?0:h]}else if("translateY"===n)r=kr,o=[0,u=parseFloat(i),0];else if("translateZ"===n)r=kr,o=[0,0,parseFloat(i)];else if("scale"===n||"scale3d"===n){var d=he(i).map((function(t){return parseFloat(t)})),p=d[0],f=d[1],g=void 0===f?p:f,v=d[2];r=Or,o=[p,g,void 0===v?1:v]}else if("scaleX"===n)r=Or,o=[p=parseFloat(i),1,1];else if("scaleY"===n)r=Or,o=[1,g=parseFloat(i),1];else if("scaleZ"===n)r=Or,o=[1,1,parseFloat(i)];else if("rotate"===n||"rotateZ"===n||"rotateX"===n||"rotateY"===n){var m=pe(i),b=m.unit,y=m.value;"rotate"===n||"rotateZ"===n?(a="rotateZ",r=_r):"rotateX"===n?r=wr:"rotateY"===n&&(r=xr),o="rad"===b?y:y*Math.PI/180}else if("matrix3d"===n)r=Sr,o=he(i).map((function(t){return parseFloat(t)}));else if("matrix"===n){var w=he(i).map((function(t){return parseFloat(t)}));r=Sr,o=[w[0],w[1],0,0,w[2],w[3],0,0,0,0,1,0,w[4],w[5],0,1]}else a="";return{name:n,functionName:a,value:i,matrixFunction:r,functionValue:o}}))}function Dr(t){return t.length<3?0:Math.abs(function(t){for(var e=0,n=t.length-1;n>=0;--n)e+=t[n];return e}(t.map((function(e,n){var i=t[n+1]||t[0];return e[0]*i[1]-i[0]*e[1]}))))/2}function zr(t,e){var n=e.width,i=e.height,r=e.left,a=e.top,o=Ar(t),s=o.minX,l=o.minY,c=o.maxX,u=o.maxY,h=n/(c-s),d=i/(u-l);return t.map((function(t){return[r+(t[0]-s)*h,a+(t[1]-l)*d]}))}function Ar(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]}));return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,n)}}function jr(t,e,n){var i=t[0],r=t[1],a=Ar(e),o=a.minX,s=a.minY,l=a.maxX,c=a.maxY,u=[[o,r],[l,r]],h=[[i,s],[i,c]],d=Fr(u[0],u[1]),p=Fr(h[0],h[1]),f=Nr(e),g=[],v=[];return f.forEach((function(t){var e=Fr(t[0],t[1]),n=Vr(Br(d,e),[u,t]),a=Vr(Br(p,e),[h,t]);1===n.length&&t[0][1]===r||g.push.apply(g,n),1===a.length&&t[0][0]===i||v.push.apply(v,a),e[0]||g.push.apply(g,n),e[1]||v.push.apply(v,a)})),!n&&(ve(g,(function(t){return t[0]===i}))>-1||ve(v,(function(t){return t[1]===r}))>-1)||!!(g.filter((function(t){return t[0]>i})).length%2&&v.filter((function(t){return t[1]>r})).length%2)}function Fr(t,e){var n=t[0],i=t[1],r=e[0],a=e[1];if(n===r&&i===a)return[0,0,0];if(n===r)return[1,0,-n];if(i===a)return[0,1,-i];var o=(r-n)/(i-a);return[1,o,-n-o*i]}function Br(t,e){var n,i,r=t[0],a=t[1],o=t[2],s=e[0],l=e[1],c=e[2],u=0===r&&0===s,h=0===a&&0===l;if(u&&h)return[];if(u){var d=-o/a;return d!==-c/l?[]:[[-1/0,d],[1/0,d]]}if(h){var p=-o/r;return p!==-c/s?[]:[[p,-1/0],[p,1/0]]}return 0===r?[[n=-(l*(i=-o/a)+c)/s,i]]:0===s?[[n=-(a*(i=-c/l)+o)/r,i]]:0===a?[[n=-o/r,i=-(s*n+c)/l]]:0===l?[[n=-c/s,i=-(r*n+o)/a]]:[[n=(a*c-l*o)/(l*r-a*s),i=-(r*n+o)/a]]}function Vr(t,e){var n=e.map((function(t){return[0,1].map((function(e){return[Math.min(t[0][e],t[1][e]),Math.max(t[0][e],t[1][e])]}))}));if(2===t.length){var i=t[0],r=i[0],a=i[1];if(r===t[1][0]){var o=Math.max.apply(Math,n.map((function(t){return t[1][0]}))),s=Math.min.apply(Math,n.map((function(t){return t[1][1]})));return o>s?[]:[[r,o],[r,s]]}if(a===t[1][1]){var l=Math.max.apply(Math,n.map((function(t){return t[0][0]}))),c=Math.min.apply(Math,n.map((function(t){return t[0][1]})));return l>c?[]:[[l,a],[c,a]]}}return t.filter((function(t){return n.every((function(e){return e[0][0]<=t[0]&&t[0]<=e[0][1]&&e[1][0]<=t[1]&&t[1]<=e[1][1]}))}))}function Nr(t){return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}(t.slice(1),[t[0]]).map((function(e,n){return[t[n],e]}))}var Hr=function(t,e){return(Hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Xr(t){var e=t.container;return[e.scrollLeft,e.scrollTop]}var Gr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startRect=null,e.startPos=[],e.prevTime=0,e.timer=0,e}!function(t,e){function n(){this.constructor=t}Hr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.dragStart=function(t,e){var n=e.container.getBoundingClientRect(),i=n.top,r=n.left,a=n.width,o=n.height;this.startPos=[t.clientX,t.clientY],this.startRect={top:i,left:r,width:a,height:o}},n.drag=function(t,e){var n=this,i=t.clientX,r=t.clientY,a=e.container,o=e.threshold,s=void 0===o?0:o,l=e.throttleTime,c=void 0===l?0:l,u=e.getScrollPosition,h=void 0===u?Xr:u,d=this.startRect,p=this.startPos,f=ge(),g=Math.max(c+this.prevTime-f,0),v=[0,0];if(d.top>r-s?(p[1]>d.top||r<p[1])&&(v[1]=-1):d.top+d.height<r+s&&(p[1]<d.top+d.height||r>p[1])&&(v[1]=1),d.left>i-s?(p[0]>d.left||i<p[0])&&(v[0]=-1):d.left+d.width<i+s&&(p[0]<d.left+d.width||i>p[0])&&(v[0]=1),clearTimeout(this.timer),!v[0]&&!v[1])return!1;if(g>0)return this.timer=window.setTimeout((function(){n.drag(t,e)}),g),!1;this.prevTime=f;var m=h({container:a,direction:v});this.trigger("scroll",{container:a,direction:v,inputEvent:t});var b=h({container:a,direction:v}),y=b[0]-m[0],w=b[1]-m[1];return!(!y&&!w||(this.trigger("move",{offsetX:v[0]?y:0,offsetY:v[1]?w:0,inputEvent:t}),c&&(this.timer=window.setTimeout((function(){n.drag(t,e)}),c)),0))},n.dragEnd=function(){clearTimeout(this.timer)},e}(Ie),Ur=function(t,e){return(Ur=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},Yr=function(){return(Yr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function qr(t){return 180*(e=[t[0].clientX,t[0].clientY],i=(n=[t[1].clientX,t[1].clientY])[0]-e[0],r=n[1]-e[1],((a=Math.atan2(r,i))>=0?a:a+2*Math.PI)/Math.PI);var e,n,i,r,a}function Wr(t){return t.touches?function(t){for(var e=Math.min(t.length,2),n=[],i=0;i<e;++i)n.push(Jr(t[i]));return n}(t.touches):[Jr(t)]}function $r(t,e,n){var i=n.length,r=Kr(t,i),a=r.clientX,o=r.clientY,s=r.originalClientX,l=r.originalClientY,c=Kr(e,i),u=c.clientX,h=c.clientY,d=Kr(n,i);return{clientX:s,clientY:l,deltaX:a-u,deltaY:o-h,distX:a-d.clientX,distY:o-d.clientY}}function Zr(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Jr(t){return{clientX:t.clientX,clientY:t.clientY}}function Kr(t,e){void 0===e&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},i=0;i<e;++i){var r=t[i];n.originalClientX+="originalClientX"in r?r.originalClientX:r.clientX,n.originalClientY+="originalClientY"in r?r.originalClientY:r.clientY,n.clientX+=r.clientX,n.clientY+=r.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var Qr=function(){function t(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}var e=t.prototype;return e.addClients=function(t){void 0===t&&(t=this.prevClients);var e=this.getPosition(t),n=e.deltaX,i=e.deltaY;return this.movement+=Math.sqrt(n*n+i*i),this.prevClients=t,e},e.getAngle=function(t){return void 0===t&&(t=this.prevClients),qr(t)},e.getRotation=function(t){return void 0===t&&(t=this.prevClients),qr(t)-qr(this.startClients)},e.getPosition=function(t){return $r(t||this.prevClients,this.prevClients,this.startClients)},e.getPositions=function(t){void 0===t&&(t=this.prevClients);var e=this.prevClients;return this.startClients.map((function(n,i){return $r([t[i]],[e[i]],[n])}))},e.getMovement=function(t){var e=this.movement;if(!t)return e;var n=Kr(t,this.length),i=Kr(this.prevClients,this.length),r=n.clientX-i.clientX,a=n.clientY-i.clientY;return Math.sqrt(r*r+a*a)+e},e.getDistance=function(t){return void 0===t&&(t=this.prevClients),Zr(t)},e.getScale=function(t){return void 0===t&&(t=this.prevClients),Zr(t)/Zr(this.startClients)},e.move=function(t,e){this.startClients.forEach((function(n){n.clientX-=t,n.clientY-=e})),this.prevClients.forEach((function(n){n.clientX-=t,n.clientY-=e}))},t}(),ta=["textarea","input"],ea=function(t){function e(e,n){void 0===n&&(n={});var i=t.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.datas={},i.isDrag=!1,i.isPinch=!1,i.isMouse=!1,i.isTouch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i.onDragStart=function(t,e){if(void 0===e&&(e=!0),i.flag||!1!==t.cancelable){var n=i.options,r=n.container,a=n.pinchOutside,o=n.preventRightClick,s=n.preventDefault,l=n.checkInput,c=i.isTouch,u=!i.flag;if(u){var h=document.activeElement,d=t.target,p=d.tagName.toLowerCase(),f=ta.indexOf(p)>-1,g=d.isContentEditable;if(f||g){if(l||h===d)return!1;if(h&&g&&h.isContentEditable&&h.contains(d))return!1}else if((s||"touchstart"===t.type)&&h){var v=h.tagName;(h.isContentEditable||ta.indexOf(v)>-1)&&h.blur()}if(i.clientStores=[new Qr(Wr(t))],i.flag=!0,i.isDrag=!1,i.datas={},o&&(3===t.which||2===t.button))return i.initDrag(),!1;i.doubleFlag=ge()-i.prevTime<200,!1===i.emit("dragStart",Yr({datas:i.datas,inputEvent:t,isTrusted:e,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()))&&i.initDrag(),i.flag&&s&&t.preventDefault()}if(!i.flag)return!1;var m=0;if(u&&c&&a&&(m=setTimeout((function(){Pe(r,"touchstart",i.onDragStart,{passive:!1})}))),!u&&c&&a&&Le(r,"touchstart",i.onDragStart),i.flag&&function(t){return t.touches&&t.touches.length>=2}(t)){if(clearTimeout(m),u&&t.touches.length!==t.changedTouches.length)return;i.pinchFlag||i.onPinchStart(t)}}},i.onDrag=function(t,e){if(i.flag){var n=Wr(t),r=i.moveClients(n,t,!1);(i.pinchFlag||r.deltaX||r.deltaY)&&i.emit("drag",Yr({},r,{isScroll:!!e,inputEvent:t})),i.pinchFlag&&i.onPinch(t,n),i.getCurrentStore().addClients(n)}},i.onDragEnd=function(t){if(i.flag){var e=i.options,n=e.pinchOutside,r=e.container;i.isTouch&&n&&Le(r,"touchstart",i.onDragStart),i.flag=!1;var a=i.getCurrentStore().getPosition(),o=ge(),s=!i.isDrag&&i.doubleFlag;i.prevTime=i.isDrag||s?0:o,i.emit("dragEnd",Yr({datas:i.datas,isDouble:s,isDrag:i.isDrag,inputEvent:t},a)),i.pinchFlag&&i.onPinchEnd(t),i.clientStores=[]}},i.onBlur=function(){i.onDragEnd()};var r=[].concat(e);i.options=Yr({checkInput:!1,container:r.length>1?window:r[0],preventRightClick:!0,preventDefault:!0,checkWindowBlur:!1,pinchThreshold:0,events:["touch","mouse"]},n);var a=i.options,o=a.container,s=a.events,l=a.checkWindowBlur;if(i.isTouch=s.indexOf("touch")>-1,i.isMouse=s.indexOf("mouse")>-1,i.targets=r,i.isMouse&&(r.forEach((function(t){Pe(t,"mousedown",i.onDragStart)})),Pe(o,"mousemove",i.onDrag),Pe(o,"mouseup",i.onDragEnd),Pe(o,"contextmenu",i.onDragEnd)),l&&Pe(window,"blur",i.onBlur),i.isTouch){var c={passive:!1};r.forEach((function(t){Pe(t,"touchstart",i.onDragStart,c)})),Pe(o,"touchmove",i.onDrag,c),Pe(o,"touchend",i.onDragEnd,c),Pe(o,"touchcancel",i.onDragEnd,c)}return i}!function(t,e){function n(){this.constructor=t}Ur(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.getMovement=function(t){return this.getCurrentStore().getMovement(t)+this.clientStores.slice(1).reduce((function(t,e){return t+e.movement}),0)},n.isDragging=function(){return this.isDrag},n.isFlag=function(){return this.flag},n.isPinchFlag=function(){return this.pinchFlag},n.isDoubleFlag=function(){return this.doubleFlag},n.isPinching=function(){return this.isPinch},n.scrollBy=function(t,e,n,i){void 0===i&&(i=!0),this.flag&&(this.clientStores[0].move(t,e),i&&this.onDrag(n,!0))},n.move=function(t,e){var n=t[0],i=t[1],r=this.getCurrentStore().prevClients;return this.moveClients(r.map((function(t){var e=t.clientX,r=t.clientY;return{clientX:e+n,clientY:r+i,originalClientX:e,originalClientY:r}})),e,!0)},n.triggerDragStart=function(t){this.onDragStart(t,!1)},n.setEventDatas=function(t){var e=this.datas;for(var n in t)e[n]=t[n];return this},n.getEventDatas=function(){return this.datas},n.unset=function(){var t=this,e=this.targets,n=this.options.container;this.off(),Le(window,"blur",this.onBlur),this.isMouse&&(e.forEach((function(e){Le(e,"mousedown",t.onDragStart)})),Le(n,"mousemove",this.onDrag),Le(n,"mouseup",this.onDragEnd),Le(n,"contextmenu",this.onDragEnd)),this.isTouch&&(e.forEach((function(e){Le(e,"touchstart",t.onDragStart)})),Le(n,"touchstart",this.onDragStart),Le(n,"touchmove",this.onDrag),Le(n,"touchend",this.onDragEnd),Le(n,"touchcancel",this.onDragEnd))},n.onPinchStart=function(t){var e=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>e)){var n=new Qr(Wr(t));this.pinchFlag=!0,this.clientStores.splice(0,0,n),!1===this.emit("pinchStart",Yr({datas:this.datas,angle:n.getAngle(),touches:this.getCurrentStore().getPositions()},n.getPosition(),{inputEvent:t}))&&(this.pinchFlag=!1)}},n.onPinch=function(t,e){if(this.flag&&this.pinchFlag&&!(e.length<2)){var n=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Yr({datas:this.datas,movement:this.getMovement(e),angle:n.getAngle(e),rotation:n.getRotation(e),touches:n.getPositions(e),scale:n.getScale(e),distance:n.getDistance(e)},n.getPosition(e),{inputEvent:t}))}},n.onPinchEnd=function(t){if(this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.getCurrentStore();this.emit("pinchEnd",Yr({datas:this.datas,isPinch:e,touches:n.getPositions()},n.getPosition(),{inputEvent:t})),this.isPinch=!1,this.pinchFlag=!1}},n.initDrag=function(){this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1},n.getCurrentStore=function(){return this.clientStores[0]},n.moveClients=function(t,e,n){var i=this.getCurrentStore()[n?"addClients":"getPosition"](t);return this.isDrag=!0,Yr({datas:this.datas},i,{movement:this.getMovement(t),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},e}(Ie),na=function(t,e){return(na=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function ia(t,e){function n(){this.constructor=t}na(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ra,aa=function(){return(aa=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},oa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.injectResult=null,e.tag="div",e}ia(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=t.className,n=void 0===e?"":e,i=(t.cspNonce,function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(t,["className","cspNonce"])),r=this.injector.className;return Di(this.tag,aa({ref:hi(this,"element"),"data-styled-id":r,className:n+" "+r},i))},n.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},n.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},n.getElement=function(){return this.element},e}(Xi),sa=function(t,e){var n=ze(e);return function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.injector=n,i.tag=t,i}return ia(i,e),i}(oa)},la=function(t,e){return(la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},ca="function"==typeof Map?void 0:(ra=0,function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++ra)}),ua=function(t){function e(e){return void 0===e&&(e=[]),t.call(this,e,ca)||this}return function(t,e){function n(){this.constructor=t}la(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(xi),ha=function(t,e){return(ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function da(t,e){function n(){this.constructor=t}ha(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var pa=function(){return(pa=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function fa(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}function ga(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+32*t+'px" height="'+32*t+'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate('+e+'deg);transform-origin: 16px 16px"></path></svg>'}var va,ma=or().browser.webkit,ba=ma&&!!(va=/applewebkit\/([^\s]+)/g.exec(navigator.userAgent.toLowerCase()))&&parseFloat(va[1])<605,ya="\n{\n\tposition: absolute;\n\twidth: 1px;\n\theight: 1px;\n\tleft: 0;\n\ttop: 0;\n    z-index: 3000;\n    --moveable-color: #4af;\n    --zoom: 1;\n    --zoompx: 1px;\n    will-change: transform;\n}\n.control-box {\n    z-index: 0;\n}\n.line, .control {\n\tleft: 0;\n    top: 0;\n    will-change: transform;\n}\n.control {\n\tposition: absolute;\n\twidth: 14px;\n\theight: 14px;\n\tborder-radius: 50%;\n\tborder: 2px solid #fff;\n\tbox-sizing: border-box;\n    background: #4af;\n    background: var(--moveable-color);\n\tmargin-top: -7px;\n    margin-left: -7px;\n    border: 2px solid #fff;\n    z-index: 10;\n}\n.padding {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    width: 100px;\n    height: 100px;\n    transform-origin: 0 0;\n}\n.line {\n\tposition: absolute;\n\twidth: 1px;\n    height: 1px;\n    background: #4af;\n    background: var(--moveable-color);\n\ttransform-origin: 0px 50%;\n}\n.line.dashed {\n    box-sizing: border-box;\n    background: transparent;\n}\n.line.dashed.horizontal {\n    border-top: 1px dashed #4af;\n    border-top-color: #4af;\n    border-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\n    border-left: 1px dashed #4af;\n    border-left-color: #4af;\n    border-left-color: var(--moveable-color);\n}\n.line.vertical {\n    transform: translateX(-50%);\n}\n.line.horizontal {\n    transform: translateY(-50%);\n}\n.line.vertical.bold {\n    width: 2px;\n}\n.line.horizontal.bold {\n    height: 2px;\n}\n\n.control.origin {\n\tborder-color: #f55;\n\tbackground: #fff;\n\twidth: 12px;\n\theight: 12px;\n\tmargin-top: -6px;\n    margin-left: -6px;\n\tpointer-events: none;\n}\n"+[0,15,30,45,60,75,90,105,120,135,150,165].map((function(t){return'\n.direction[data-rotation="'+t+'"] {\n\t'+function(t){var e=ga(1,t),n=ga(2,t),i=45*Math.round(t/45)%180,r=135===i?"nwse-resize":45===i?"nesw-resize":90===i?"ew-resize":"ns-resize";return"cursor:"+r+";cursor: url('"+e+"') 16 16, "+r+";cursor: -webkit-image-set(url('"+e+"') 1x, url('"+n+"') 2x) 16 16, "+r+";"}(t)+"\n}\n"})).join("\n")+"\n.group {\n    z-index: -1;\n}\n.area {\n    position: absolute;\n}\n.area-pieces {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: none;\n}\n.area.avoid, .area.pass {\n    pointer-events: none;\n}\n.area.avoid+.area-pieces {\n    display: block;\n}\n.area-piece {\n    position: absolute;\n}\n\n"+(ba?':global svg *:before {\n\tcontent:"";\n\ttransform-origin: inherit;\n}':"")+"\n",wa=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],xa=Math.pow(10,10),_a=-xa,Oa=["n","w","s","e","nw","ne","sw","se"],Ca={n:[0,1],s:[2,3],w:[2,0],e:[1,3],nw:[0],ne:[1],sw:[2],se:[3]},ka={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},Sa=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager"];function Ma(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ui.apply(void 0,fa(["moveable-"],t))}function Ea(t,e,n){return fr(e,Pr(n,e),t,Pr(n.map((function(t){return-t})),e))}function Ta(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function Pa(t,e,n){for(var i=document.body,r=!t||n?t:t.parentElement,a=!1,o="relative";r&&r!==i;){e===r&&(a=!0);var s=ao(r),l=s.transform;if("static"!==(o=s.position)||l&&"none"!==l)break;r=r.parentElement,o="relative"}return{isStatic:"static"===o,isEnd:a||!r||r===i,offsetParent:r||i}}function La(t,e,n,i){var r,a=t.tagName.toLowerCase(),o=t.offsetLeft,s=t.offsetTop;if(i){var l=(e||document.documentElement).getBoundingClientRect();o-=l.left,s-=l.top}var c,u,h=ie(o),d=!h;return d||"svg"===a?u=(c=Ta(n).map((function(t){return parseFloat(t)}))).slice():(u=(c=ba?function(t){return Ta(ao(t,":before")).map((function(e,n){var i=pe(e),r=i.value,a=i.unit;return r*function(t,e,n){return"%"===e?za(t.ownerSVGElement)[n?"width":"height"]/100:1}(t,a,0===n)}))}(t):Ta(n).map((function(t){return parseFloat(t)}))).slice(),d=!0,"g"===a?(o=0,s=0):(o=(r=function(t,e){if(!t.getBBox)return[0,0];var n=t.getBBox(),i=za(t.ownerSVGElement),r=n.x-i.x,a=n.y-i.y;return[r,a,e[0]-r,e[1]-a]}(t,c))[0],s=r[1],c[0]=r[2],c[1]=r[3])),{isSVG:h,hasOffset:d,offset:[o||0,s||0],origin:c,targetOrigin:u}}function Ra(t,e,n){void 0===n&&(n=window.getComputedStyle(t));var i=window.getComputedStyle(document.body),r=i.position;if(!(e||r&&"static"!==r))return[0,0];var a=parseInt(i.marginLeft,10),o=parseInt(i.marginTop,10);return"absolute"===n.position&&("auto"===n.top&&"auto"===n.bottom||(o=0),"auto"===n.left&&"auto"===n.right||(a=0)),[a,o]}function Ia(t,e){for(var n,i,r,a,o,s,l=t,c=[],u=!1,h=!1,d=3,p=Pa(e,e,!0).offsetParent;l&&!u;){var f=ao(l),g=l.tagName.toLowerCase(),v=f.position,m="fixed"===v,b=(a=(s=f.transform)&&"none"!==s?re(s)?s:de(s).value.split(/s*,\s*/g).map((function(t){return parseFloat(t)})):[1,0,0,1,0,0],void 0===(o=void 0)&&(o=6===a.length),o?[a[0],a[1],0,a[2],a[3],0,a[4],a[5],1]:a),y=b.length;if(!h&&16===y){h=!0,d=4;for(var w=c.length,x=0;x<w;++x)c[x]=pr(c[x],3,4)}h&&9===y&&(b=pr(b,3,4));var _=La(l,e,f,m),O=_.hasOffset,C=_.isSVG,k=_.origin,S=_.targetOrigin,M=_.offset,E=M[0],T=M[1];"svg"===g&&r&&c.push(Aa(l,d),Er(d));var P=Pa(l,e),L=P.offsetParent,R=P.isEnd,I=P.isStatic;ma&&O&&!C&&I&&("relative"===v||"static"===v)&&(E-=L.offsetLeft,T-=L.offsetTop,u=u||R);var D=0,z=0;if(O&&p!==L&&(D=L.clientLeft,z=L.clientTop),O&&L===document.body){var A=Ra(l,!1,f);E+=A[0],T+=A[1]}if(c.push(Ea(b,d,k),Pr(O?[E-l.scrollLeft+D,T-l.scrollTop+z]:[l,k],d)),r||(r=b),n||(n=k),i||(i=S),u||m)break;l=L,u=R}return r||(r=Er(d)),n||(n=[0,0]),i||(i=[0,0]),{offsetContainer:p,matrixes:c,targetMatrix:r,transformOrigin:n,targetOrigin:i,is3d:h}}function Da(t,e){return void 0===e&&(e=t.length>9),(e?"matrix3d":"matrix")+"("+br(t,!e).join(",")+")"}function za(t){if(!t)return{x:0,y:0,width:0,height:0};var e=t.clientWidth,n=t.clientHeight,i=t.viewBox,r=i&&i.baseVal||{x:0,y:0,width:0,height:0};return{x:r.x,y:r.y,width:r.width||e,height:r.height||n}}function Aa(t,e){var n=t.clientWidth,i=t.clientHeight,r=za(t),a=r.width,o=r.height,s=n/a,l=i/o,c=t.preserveAspectRatio.baseVal,u=c.align,h=c.meetOrSlice,d=[0,0],p=[s,l],f=[0,0];if(1!==u){var g=(u-2)%3,v=Math.floor((u-2)/3);d[0]=a*g/2,d[1]=o*v/2;var m=2===h?Math.max(l,s):Math.min(s,l);p[0]=m,p[1]=m,f[0]=(n-a)/2*g,f[1]=(i-o)/2*v}var b=Tr(p,e);return b[e*(e-1)]=f[0],b[e*(e-1)+1]=f[1],Ea(b,e,d)}function ja(t,e,n){return yr(t,dr(e,n),n)}function Fa(t,e,n,i){return[[0,0],[e,0],[0,n],[e,n]].map((function(e){return ja(t,e,i)}))}function Ba(t){var e=t.map((function(t){return t[0]})),n=t.map((function(t){return t[1]})),i=Math.min.apply(Math,e),r=Math.min.apply(Math,n),a=Math.max.apply(Math,e),o=Math.max.apply(Math,n);return{left:i,top:r,right:a,bottom:o,width:a-i,height:o-r}}function Va(t,e,n,i){return Ba(Fa(t,e,n,i))}function Na(t,e,n,i){var r=16===t.length?4:3,a=Fa(t,n,i,r),o=a[0],s=o[0],l=o[1],c=a[1],u=c[0],h=c[1],d=a[2],p=d[0],f=d[1],g=a[3],v=g[0],m=g[1],b=ja(t,e,r),y=b[0],w=b[1],x=Math.min(s,u,p,v),_=Math.min(l,h,f,m),O=Math.max(s,u,p,v);return s=s-x||0,{left:x,top:_,right:O,bottom:Math.max(l,h,f,m),origin:[y=y-x||0,w=w-_||0],pos1:[s,l=l-_||0],pos2:[u=u-x||0,h=h-_||0],pos3:[p=p-x||0,f=f-_||0],pos4:[v=v-x||0,m=m-_||0],direction:ke(a)}}function Ha(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Xa(t,e){return Ha([e[0]-t[0],e[1]-t[1]])}function Ga(t,e,n,i){void 0===n&&(n=1),void 0===i&&(i=Ce(t,e));var r=Xa(t,e);return{transform:"translateY(-50%) translate("+t[0]+"px, "+t[1]+"px) rotate("+i+"rad) scaleY("+n+")",width:r+"px"}}function Ua(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=n.length,a=n.reduce((function(t,e){return t+e[0]}),0)/r,o=n.reduce((function(t,e){return t+e[1]}),0)/r;return{transform:"translateZ(0px) translate("+a+"px, "+o+"px) rotate("+t+"rad) scale("+e+")"}}function Ya(t,e,n,i){void 0===e&&(e=window.getComputedStyle(t)),void 0===i&&(i=n||"border-box"===e.boxSizing);var r=t.offsetWidth,a=t.offsetHeight,o=!ie(r);if((n||i)&&o)return[r,a];if(!o&&"svg"!==t.tagName.toLowerCase()){var s=t.getBBox();return[s.width,s.height]}return r=t.clientWidth,a=t.clientHeight,n||i?[r+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),a+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0)]:[r-(parseFloat(e.paddingLeft)||0)-(parseFloat(e.paddingRight)||0),a-(parseFloat(e.paddingTop)||0)-(parseFloat(e.paddingBottom)||0)]}function qa(t,e){return Ce(e>0?t[0]:t[1],e>0?t[1]:t[0])}function Wa(t,e,n,i,r){var a=1,o=[0,0],s={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},l={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},c={left:0,right:0,top:0,bottom:0,width:0,height:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},u=function(t,e,n,i){var r;void 0===n&&(n=e);var a=0,o=0,s=0,l={};if(t){var c=ao(t);a=t.offsetWidth,o=t.offsetHeight,ie(a)&&(a=(r=Ya(t,c,!0))[0],o=r[1])}if(t){var u=function(t,e,n,i){void 0===n&&(n=e);var r=Ia(t,e),a=r.matrixes,o=r.is3d,s=r.targetMatrix,l=r.transformOrigin,c=r.targetOrigin,u=Ia(r.offsetContainer,n),h=u.matrixes,d=u.is3d,p=i||d||o,f=p?4:3,g="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,v=e||document.body,m=s,b=Er(f),y=Er(f),w=Er(f),x=Er(f),_=a.length,O=Pa(v,v,!0).offsetParent;h.reverse(),a.reverse(),!o&&p&&(m=pr(m,3,4),a.forEach((function(t,e){a[e]=pr(t,3,4)}))),!d&&p&&h.forEach((function(t,e){h[e]=pr(t,3,4)})),h.forEach((function(t){y=gr(y,t,f)})),a.forEach((function(t,e){var n;_-2===e&&(w=b.slice()),_-1===e&&(x=b.slice()),re(t[f*(f-1)])&&(n=function(t,e,n,i,r,a){var o,s=Ya(t,void 0,!0),l=s[0],c=s[1],u=e.getBoundingClientRect(),h=[0,0];e===document.body&&(h=Ra(t,!0));for(var d=t.getBoundingClientRect(),p=d.left-u.left+e.scrollLeft-(e.clientLeft||0)+h[0],f=d.top-u.top+e.scrollTop-(e.clientTop||0)+h[1],g=d.width,v=d.height,m=fr(n,r,a),b=Va(m,l,c,n),y=b.left,w=b.top,x=b.width,_=b.height,O=ja(m,i,n),C=mr(O,[y,w]),k=[p+C[0]*g/x,f+C[1]*v/_],S=[0,0],M=0;++M<10;){var E=hr(r,n);o=mr(ja(E,k,n),ja(E,O,n)),S[0]=o[0],S[1]=o[1];var T=Va(fr(n,r,Pr(S,n),a),l,c,n),P=T.left-p,L=T.top-f;if(Math.abs(P)<2&&Math.abs(L)<2)break;k[0]-=P,k[1]-=L}return S.map((function(t){return Math.round(t)}))}(t[f*(f-1)],O,f,t[f*(f-1)+1],b,a[e+1]),t[f*(f-1)]=n[0],t[f*(f-1)+1]=n[1]),b=gr(b,t,f)}));var C=!g&&o;m||(m=Er(C?4:3));var k=Da(g&&16===m.length?pr(m,4,3):m,C);return{rootMatrix:y=ur(y,f,f),beforeMatrix:w,offsetMatrix:x,allMatrix:b,targetMatrix:m,targetTransform:k,transformOrigin:l,targetOrigin:c,is3d:p}}(t,e,n,i),h=Na(u.allMatrix,u.transformOrigin,a,o);l=pa(pa({},u),h);var d=Na(u.allMatrix,[50,50],100,100);s=qa([d.pos1,d.pos2],d.direction)}var p=i?4:3;return pa({width:a,height:o,rotation:s,rootMatrix:Er(p),beforeMatrix:Er(p),offsetMatrix:Er(p),allMatrix:Er(p),targetMatrix:Er(p),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!i,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1},l)}(e,n,r,!1);if(e){var h=u.is3d?4:3,d=Na(u.offsetMatrix,vr(u.transformOrigin,function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],i=t[e*e-1],r=0;r<e-1;++r)n[r]=t[e*(e-1)+r]/i;return n[e-1]=0,n}(u.targetMatrix,h)),u.width,u.height);a=d.direction,o=vr(d.origin,[d.left-u.left,d.top-u.top]),s=$a(e),l=$a(Pa(i,i,!0).offsetParent||document.body,!0),t&&(c=$a(t))}return pa({targetClientRect:s,containerClientRect:l,moveableClientRect:c,beforeDirection:a,beforeOrigin:o,originalBeforeOrigin:o,target:e},u)}function $a(t,e){var n=t.getBoundingClientRect(),i=n.left,r=n.width,a=n.top,o=n.bottom,s={left:i,right:n.right,top:a,bottom:o,width:r,height:n.height};return e&&(s.clientLeft=t.clientLeft,s.clientTop=t.clientTop,s.clientWidth=t.clientWidth,s.clientHeight=t.clientHeight,s.scrollWidth=t.scrollWidth,s.scrollHeight=t.scrollHeight,s.overflow="visible"!==ao(t).overflow),s}function Za(t){if(t){var e=t.getAttribute("data-direction");if(e){var n=[0,0];return e.indexOf("w")>-1&&(n[0]=-1),e.indexOf("e")>-1&&(n[0]=1),e.indexOf("n")>-1&&(n[1]=-1),e.indexOf("s")>-1&&(n[1]=1),n}}}function Ja(t,e){return[vr(e,t[0]),vr(e,t[1]),vr(e,t[2]),vr(e,t[3])]}function Ka(t){var e=t.left,n=t.top;return Ja([t.pos1,t.pos2,t.pos3,t.pos4],[e,n])}function Qa(t,e){return e?Math.round(t/e)*e:t}function to(t,e){return t.forEach((function(n,i){t[i]=Qa(t[i],e)})),t}function eo(t,e){t[e]&&(t[e].unset(),t[e]=null)}function no(t,e,n){var i=e.datas;i.datas||(i.datas={});var r=pa(pa({},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas});return i.isStartEvent?i.lastEvent=r:i.isStartEvent=!0,r}function io(t,e,n){var i=e.datas,r="isDrag"in n?n.isDrag:e.isDrag;return i.datas||(i.datas={}),pa(pa({isDrag:r},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:i.lastEvent,isDouble:e.isDouble,datas:i.datas})}function ro(t,e,n,i){return t.triggerEvent(e,n,i)}function ao(t,e){return window.getComputedStyle(t,e)}function oo(t,e,n){var i={},r={};return t.filter((function(t){var a=t.name;if(i[a]||!e.some((function(e){return t[e]})))return!1;if(!n&&t.ableGroup){if(r[t.ableGroup])return!1;r[t.ableGroup]=!0}return i[a]=!0,!0}))}function so(t,e){return t===e||null==t&&null==e}function lo(t,e){var n=[],i=[];return t.forEach((function(r,a){var o=e(r,a,t),s=i.indexOf(o),l=n[s]||[];-1===s&&(i.push(o),n.push(l)),l.push(r)})),n}function co(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function uo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return Math.abs(e)-Math.abs(t)})),t[0]}function ho(t,e,n){return yr(hr(t,n),dr(e,n),n)}function po(t,e){var n,i=t.is3d?4:3;return n=ho(t.rootMatrix,[e.distX,e.distY],i),e.distX=n[0],e.distY=n[1],e}function fo(t,e,n,i,r){return mr(ja(t,vr(n,e),r),i)}function go(t,e,n){return n?t/e*100+"%":t+"px"}function vo(t){return Math.abs(t)<=1e-7?0:t}function mo(t){return t.isRequest?("resizable"===t.requestAble||"scalable"===t.requestAble)&&t.parentDirection:Te(t.inputEvent.target,Ma("direction"))}function bo(t,e){return t?oe(t)?e?document.querySelector(t):t:se(t)?t():"current"in t?t.current:t:null}function yo(t){return t?((e=t)&&re(e)&&(ae(e)||"length"in e)?[].slice.call(t):[t]).map((function(t){return bo(t)})):[];var e}var wo={name:"pinchable",updateRect:!0,props:{pinchable:Boolean},events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(t,e){var n=e.datas,i=e.targets,r=e.angle,a=e.originalDatas,o=t.props,s=o.pinchable,l=o.ables;if(!s)return!1;var c="onPinch"+(i?"Group":"")+"Start",u="drag"+(i?"Group":"")+"ControlStart",h=(!0===s?t.controlAbles:l.filter((function(t){return s.indexOf(t.name)>-1}))).filter((function(t){return t.canPinch&&t[u]})),d=no(t,e,{});i&&(d.targets=i);var p=ro(t,c,d);n.isPinch=!1!==p,n.ables=h;var f=n.isPinch;return!!f&&(h.forEach((function(n){if(a[n.name]=a[n.name]||{},n[u]){var i=pa(pa({},e),{datas:a[n.name],parentRotate:r,isPinch:!0});n[u](t,i)}})),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},f)},pinch:function(t,e){var n=e.datas,i=e.scale,r=e.distance,a=e.originalDatas,o=e.inputEvent,s=e.targets,l=e.angle;if(n.isPinch){var c=r*(1-1/i),u=no(t,e,{});s&&(u.targets=s),ro(t,"onPinch"+(s?"Group":""),u);var h=n.ables,d="drag"+(s?"Group":"")+"Control";return h.forEach((function(n){n[d]&&n[d](t,pa(pa({},e),{datas:a[n.name],inputEvent:o,parentDistance:c,parentRotate:l,isPinch:!0}))})),u}},pinchEnd:function(t,e){var n=e.datas,i=e.isPinch,r=e.inputEvent,a=e.targets,o=e.originalDatas;if(n.isPinch){var s="onPinch"+(a?"Group":"")+"End",l=io(t,e,{isDrag:i});a&&(l.targets=a),ro(t,s,l);var c=n.ables,u="drag"+(a?"Group":"")+"ControlEnd";return c.forEach((function(n){n[u]&&n[u](t,pa(pa({},e),{isDrag:i,datas:o[n.name],inputEvent:r,isPinch:!0}))})),i}},pinchGroupStart:function(t,e){return this.pinchStart(t,pa(pa({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,pa(pa({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,pa(pa({},e),{targets:t.props.targets}))}};function xo(t,e,n,i,r){var a=e.gesto.move(n,t.inputEvent),o=a.originalDatas||a.datas,s=o.draggable||(o.draggable={});return pa(pa({},r?po(e,a):a),{isDrag:!0,isPinch:!!i,parentEvent:!0,datas:s,originalDatas:t.originalDatas})}var _o=function(){function t(){this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}}}var e=t.prototype;return e.dragStart=function(t,e){this.isDrag=!1,this.isFlag=!1;var n=e.originalDatas;return this.datas=n,n.draggable||(n.draggable={}),pa(pa({},this.move(t,e.inputEvent)),{type:"dragstart"})},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var n,i;return this.isFlag?(n=this.prevX+t[0],i=this.prevY+t[1],this.isDrag=!0):(this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],i=t[1],this.isFlag=!0),this.prevX=n,this.prevY=i,{type:"drag",clientX:n,clientY:i,inputEvent:e,isDrag:this.isDrag,distX:n-this.startX,distY:i-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas.draggable,originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function Oo(t,e,n){var i=n.originalDatas;i.groupable=i.groupable||{};var r=i.groupable;r.childDatas=r.childDatas||[];var a=r.childDatas,o=n.inputEvent,s=n.isPinch,l=n.clientX,c=n.clientY,u=n.distX,h=n.distY;return t.moveables.map((function(t,n){return a[n]=a[n]||{},a[n][e]=a[n][e]||{},{inputEvent:o,datas:a[n][e],originalDatas:a[n],isPinch:s,clientX:l,clientY:c,distX:u,distY:h}}))}function Co(t,e,n,i,r,a){var o=!!n.match(/Start$/g),s=!!n.match(/End$/g),l=r.isPinch,c=r.datas,u=Oo(t,e.name,r),h=t.moveables,d=u.map((function(t,r){var u=h[r],d=t;o?d=(new _o).dragStart(i,t):(u.state.gesto||(u.state.gesto=c.childGestos[r]),d=xo(t,u.state,i,l,a));var p=e[n](u,pa(pa({},d),{parentFlag:!0}));return s&&(u.state.gesto=null),p}));return o&&(c.childGestos=h.map((function(t){return t.state.gesto}))),d}function ko(t,e,n,i,r,a){void 0===r&&(r=function(t,e){return e});var o=!!n.match(/End$/g),s=Oo(t,e.name,i),l=t.moveables;return s.map((function(t,i){var s,c=l[i];s=r(c,t);var u=e[n](c,pa(pa({},s),{parentFlag:!0}));return u&&a&&a(c,t,u,i),o&&(c.state.gesto=null),u}))}function So(t,e){var n=e.clientX,i=e.clientY,r=e.datas,a=t.state,o=a.moveableClientRect,s=a.rootMatrix,l=a.is3d,c=a.pos1,u=mr(ho(s,[n-o.left,i-o.top],l?4:3),c),h=Ro({datas:r,distX:u[0],distY:u[1]});return[h[0],h[1]]}function Mo(t,e){var n=e.datas,i=t.state,r=i.allMatrix,a=i.beforeMatrix,o=i.is3d,s=i.left,l=i.top,c=i.origin,u=i.offsetMatrix,h=i.targetMatrix,d=i.transformOrigin,p=o?4:3;n.is3d=o,n.matrix=r,n.targetMatrix=h,n.beforeMatrix=a,n.offsetMatrix=u,n.transformOrigin=d,n.inverseMatrix=hr(r,p),n.inverseBeforeMatrix=hr(a,p),n.absoluteOrigin=dr(vr([s,l],c),p),n.startDragBeforeDist=yr(n.inverseBeforeMatrix,n.absoluteOrigin,p),n.startDragDist=yr(n.inverseMatrix,n.absoluteOrigin,p)}function Eo(t,e){var n=t.datas,i=t.originalDatas.beforeRenderable,r=n.transformIndex,a=i.nextTransforms,o=i.nextTransformAppendedIndexes,s=-1===r?a.length:r+o.filter((function(t){return t<r})).length,l=function(t,e){var n=t.slice(0,e<0?void 0:e),i=t[e]||"",r=e<0?[]:t.slice(e),a=Ir(n),o=Ir([i]),s=Ir(r),l=Rr(a),c=Rr(s),u=gr(l,c,4);return{transforms:t,beforeFunctionMatrix:l,targetFunctionMatrix:Rr(o),afterFunctionMatrix:c,allFunctionMatrix:u,beforeFunctions:a,targetFunction:o[0],afterFunctions:s,beforeFunctionTexts:n,targetFunctionText:i,afterFunctionTexts:r}}(a,s),c=l.targetFunction,u="rotate"===e?"rotateZ":e;n.beforeFunctionTexts=l.beforeFunctionTexts,n.afterFunctionTexts=l.afterFunctionTexts,n.beforeTransform=l.beforeFunctionMatrix,n.targetTansform=l.targetFunctionMatrix,n.afterTransform=l.afterFunctionMatrix,n.targetAllTransform=l.allFunctionMatrix,c.functionName===u?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):(n.isAppendTransform=!0,i.nextTransformAppendedIndexes=fa(o,[s]))}function To(t,e,n){return t.beforeFunctionTexts.join(" ")+" "+(t.isAppendTransform?n:e)+" "+t.afterFunctionTexts.join(" ")}function Po(t,e,n){var i=t.beforeTransform,r=t.afterTransform,a=t.targetAllTransform,o=n?gr(a,e,4):gr(e,a,4),s=gr(hr(i,4),o,4);return gr(s,hr(r,4),4)}function Lo(t){var e=t.datas,n=t.distX,i=t.distY,r=e.inverseBeforeMatrix,a=e.is3d,o=e.startDragBeforeDist,s=a?4:3;return mr(yr(r,vr(e.absoluteOrigin,[n,i]),s),o)}function Ro(t,e){var n=t.datas,i=t.distX,r=t.distY,a=n.inverseBeforeMatrix,o=n.inverseMatrix,s=n.is3d,l=n.startDragBeforeDist,c=n.startDragDist,u=s?4:3;return mr(yr(e?a:o,vr(n.absoluteOrigin,[i,r]),u),e?l:c)}function Io(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function Do(t,e){return Io(e).map((function(e){return t[e]}))}function zo(t,e){var n=Do(t,e);return[Oe(n.map((function(t){return t[0]}))),Oe(n.map((function(t){return t[1]})))]}function Ao(t,e,n,i){return gr(t,Ea(e,i,n),i)}function jo(t){var e=t.originalDatas.beforeRenderable;return{setTransform:function(n,i){void 0===i&&(i=-1),e.startTransforms=ae(n)?n:ue(n),Bo(t,i)},setTransformIndex:function(e){Bo(t,e)}}}function Fo(t){Bo(t,-1)}function Bo(t,e){var n=t.originalDatas.beforeRenderable,i=t.datas;if(i.transformIndex=e,-1!==e){var r=n.startTransforms[e];if(r){var a=Ir([r]);i.startValue=a[0].functionValue}}}function Vo(t,e){t.originalDatas.beforeRenderable.nextTransforms=ue(e)}function No(t,e,n,i,r){return Vo(r,e),{transform:e,drag:Ns.drag(t,xo(r,t.state,n,i,!1))}}function Ho(t,e,n,i,r){var a=t.state,o=a.left,s=a.top,l=t.props.groupable,c=l?o:0,u=l?s:0,h=mr(i,Go(t,n,function(t,e,n){var i=t.transformOrigin,r=t.offsetMatrix,a=t.is3d,o=e.beforeTransform,s=e.afterTransform,l=a?4:3;return Ao(r,pr(gr(gr(o,function(t){return Rr(Ir(t))}([n]),4),s,4),4,l),i,l)}(t.state,r,e)));return mr(h,[c,u])}function Xo(t){var e=t.state,n=e.width,i=e.height,r=e.transformOrigin;return[r[0]/(n/2)-1,r[1]/(i/2)-1]}function Go(t,e,n){void 0===n&&(n=t.state.allMatrix);var i=t.state,r=i.width,a=i.height,o=i.is3d?4:3;return ja(n,[r/2*(1+e[0]),a/2*(1+e[1])],o)}function Uo(t,e){return zo(Ka(t.state),e)}function Yo(t,e,n){var i=ja(t,[e.clientLeft,e.clientTop],n);return[e.left+i[0],e.top+i[1]]}function qo(t,e,n,i,r,a){var o=r[0],s=r[1],l=a[0],c=a[1],u=[],h=i?0:1,d="vertical"===e?"horizontal":"vertical",p=lo(t.filter((function(t){return t.type===e})),(function(t){return t.element})).map((function(t){return t[0]})).filter((function(t){var e=t.pos,n=t.sizes;return e[h]<=c&&l<=e[h]+n[h]}));return p.forEach((function(t){var e=t.pos[i],r=e+t.sizes[i];p.forEach((function(t){var a=t.pos,l=t.sizes,c=t.element,h=a[i],f=h+l[i],g=0,v=0,m=!0;if(r<=h)o<(g=f-(v=r-h))-n&&(m=!1);else{if(!(f<=e))return;s>(g=h-(v=e-f))+n&&(m=!1)}if(m&&u.push({pos:"vertical"===d?[g,a[1]]:[a[0],g],element:c,sizes:l,size:0,type:d,gap:v,gapGuidelines:p}),r<=o&&s<=h){var b=(h+r-(s-o))/2;Qa(o-(b-n),.1)>=0&&u.push({pos:"vertical"===d?[b,a[1]]:[a[0],b],element:c,sizes:l,size:0,type:d,gap:r-o,gapGuidelines:p})}}))})),u}function Wo(t,e,n,i,r,a,o){return void 0===a&&(a=0),void 0===o&&(o=0),i&&i.forEach((function(n){t.push({type:"horizontal",pos:[0,Qa(n-o,.1)],size:e})})),r&&r.forEach((function(e){t.push({type:"vertical",pos:[Qa(e-a,.1),0],size:n})})),t}function $o(t,e){var n=[],i=t.state;if(e&&i.guidelines&&i.guidelines.length)return n;var r=t.props,a=r.elementGuidelines,o=void 0===a?[]:a,s=r.snapCenter;if(!o.length)return n;var l=i.containerClientRect,c=i.targetClientRect,u=c.top,h=c.left,d=i.rootMatrix,p=i.is3d?4:3,f=Yo(d,l,p),g=f[0],v=f[1],m=Ar(Ka(i)),b=mr([m.minX,m.minY],ho(d,[h-g,u-v],p)).map((function(t){return e=t,Math.round(e%1==-.5?e-1:e);var e})),y=b[0],w=b[1];return o.map((function(t){return"parentElement"in t?{element:t}:t})).filter((function(t){return t.refresh&&e||!t.refresh&&!e})).forEach((function(t){var e=t.element,i=t.top,r=t.left,a=t.right,o=t.bottom,l=e.getBoundingClientRect(),c=l.left-g,u=l.top-v,h=u+l.height,f=c+l.width,m=ho(d,[c,u],p),b=m[0],x=m[1],_=ho(d,[f,h],p),O=_[0],C=_[1],k=O-b,S=C-x,M=[k,S];!1!==i&&n.push({type:"vertical",element:e,pos:[Qa(b+y,.1),x],size:S,sizes:M}),!1!==o&&n.push({type:"vertical",element:e,pos:[Qa(O+y,.1),x],size:S,sizes:M}),!1!==r&&n.push({type:"horizontal",element:e,pos:[b,Qa(x+w,.1)],size:k,sizes:M}),!1!==a&&n.push({type:"horizontal",element:e,pos:[b,Qa(C+w,.1)],size:k,sizes:M}),s&&(n.push({type:"vertical",element:e,pos:[Qa((b+O)/2+y,.1),x],size:S,sizes:M,center:!0}),n.push({type:"horizontal",element:e,pos:[b,Qa((x+C)/2+w,.1)],size:k,sizes:M,center:!0}))})),n}function Zo(t){var e=t.state,n=e.staticGuidelines,i=e.containerClientRect,r=i.scrollHeight,a=i.scrollWidth,o=i.clientHeight,s=i.clientWidth,l=i.overflow,c=i.clientLeft,u=i.clientTop,h=t.props,d=h.snapHorizontal,p=void 0===d||d,f=h.snapVertical,g=void 0===f||f,v=h.snapGap,m=void 0===v||v,b=h.verticalGuidelines,y=h.horizontalGuidelines,w=h.snapThreshold,x=void 0===w?5:w,_=fa(n,$o(t,!0));if(m){var O=Ba(Ka(t.state)),C=O.top,k=O.left,S=O.bottom,M=O.right,E=n.filter((function(t){return t.element}));_.push.apply(_,fa(qo(E,"horizontal",x,0,[k,M],[C,S]),qo(E,"vertical",x,1,[C,S],[k,M])))}return Wo(_,l?a:s,l?r:o,p&&y,g&&b,c,u),_}function Jo(t,e,n,i,r){var a=t.props,o=a.snapElement,s=void 0===o||o,l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,i=0;i<n;++i){var r=t[i];if(!ie(r))return r}return t[n]}(r,a.snapThreshold,5);return Ko(t.state.guidelines,e,n,{snapThreshold:l,snapCenter:i,snapElement:s})}function Ko(t,e,n,i){return{vertical:es(t,"vertical",e,i),horizontal:es(t,"horizontal",n,i)}}function Qo(t,e,n,i){var r=t.props.snapCenter&&n,a=["left","right"],o=["top","bottom"];return r&&(a.push("center"),o.push("middle")),a=a.filter((function(t){return t in e})),o=o.filter((function(t){return t in e})),Jo(t,a.map((function(t){return e[t]})),o.map((function(t){return e[t]})),r,i)}function ts(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],i=n.guidelineInfos[0],r=i.offset,a=i.dist,o=i.guideline;return{isSnap:e,offset:r,dist:a,pos:n.pos,guideline:o}}function es(t,e,n,i){var r=void 0===i?{}:i,a=r.snapThreshold,o=void 0===a?5:a,s=r.snapElement,l=r.snapCenter;if(!t||!t.length)return{isSnap:!1,index:-1,posInfos:[]};var c="vertical"===e?0:1,u=n.map((function(n,i){var r=t.map((function(t){var e=t.pos,i=n-e[c];return{offset:i,dist:Math.abs(i),guideline:t}})).filter((function(t){var n=t.guideline,i=t.dist,r=n.type,a=n.center,c=n.element;return!(!s&&c||!l&&a||r!==e||i>o)})).sort((function(t,e){return t.dist-e.dist}));return{pos:n,index:i,guidelineInfos:r}})).filter((function(t){return t.guidelineInfos.length>0})).sort((function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist})),h=u.length>0;return{isSnap:h,index:h?u[0].index:-1,posInfos:u}}function ns(t,e){var n=Math.abs(t.offset),i=Math.abs(e.offset);return t.isBound&&e.isBound?i-n:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?i-n:t.isSnap?-1:e.isSnap||n<1e-7?1:i<1e-7?-1:n-i}function is(t,e){return t.slice().sort((function(t,n){var i=t.sign[e],r=n.sign[e],a=t.offset[e],o=n.offset[e];return i?r?ns({isBound:t.isBound,isSnap:t.isSnap,offset:a},{isBound:n.isBound,isSnap:n.isSnap,offset:o}):-1:1}))[0]}function rs(t,e){var n=Oe([e[0][0],e[1][0]]),i=Oe([e[0][1],e[1][1]]);return{vertical:n<=t[0],horizontal:i<=t[1]}}function as(t,e){var n,i,r=e[0],a=e[1],o=a[0]-r[0],s=a[1]-r[1];return Math.abs(o)<1e-7&&(o=0),Math.abs(s)<1e-7&&(s=0),o?s?(n=s/o*(t[0]-r[0])+r[1],i=t[1]):(n=r[1],i=t[1]):(n=r[0],i=t[0]),n-i}function os(t,e,n){void 0===n&&(n=1e-7);var i=as(t[0],e)<=0;return t.slice(1).every((function(t){var r=as(t,e);return r<=0===i||Math.abs(r)<=n}))}function ss(t,e,n,i,r){return void 0===r&&(r=0),i&&e-r<=t||!i&&t<=n+r?{isBound:!0,offset:i?e-t:n-t}:{isBound:!1,offset:0}}function ls(t,e,n,i,r){var a,o=t[0],s=t[1],l=e[0],c=e[1],u=vo(s[1]-o[1]),h=vo(s[0]-o[0]),d=vo(c[1]-l[1]);if(!vo(c[0]-l[0])){if(r&&!u)return{isBound:!1,offset:0};if(h)return ss(u/h*(l[0]-o[0])+o[1],l[1],c[1],n,i);var p=l[0]-o[0];return{isBound:a=Math.abs(p)<=(i||0),offset:a?p:0}}return d||r&&!h?{isBound:!1,offset:0}:u?ss((l[1]-o[1])/(u/h)+o[0],l[0],c[0],n,i):(p=l[1]-o[1],{isBound:a=Math.abs(p)<=(i||0),offset:a?p:0})}function cs(t,e,n,i){return e.map((function(e){var r=e[0],a=e[1],o=e[2],s=function(t,e,n){var i=t.props.innerBounds;if(!i)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var r=i.left,a=i.top,o=i.width,s=i.height,l=[[r,a],[r,a+s]],c=[[r,a],[r+o,a]],u=[[r+o,a],[r+o,a+s]],h=[[r,a+s],[r+o,a+s]],d=rs(n,e),p=d.horizontal,f=d.vertical;if(os([n,[r,a],[r+o,a],[r,a+s],[r+o,a+s]],e))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=ls(e,c,f),v=ls(e,h,f),m=ls(e,l,p),b=ls(e,u,p),y=g.isBound&&v.isBound,w=g.isBound||v.isBound,x=m.isBound&&b.isBound,_=m.isBound||b.isBound,O=uo(g.offset,v.offset),C=uo(m.offset,b.offset),k=[0,0],S=!1,M=!1;return Math.abs(C)<Math.abs(O)?(k=[O,0],S=w,M=y):(k=[0,C],S=_,M=x),{isAllBound:M,isVerticalBound:w,isHorizontalBound:_,isBound:S,offset:k}}(t,[a,o],n),l=s.isBound,c=s.offset,u=s.isVerticalBound,h=s.isHorizontalBound,d=Ro({datas:i,distX:c[0],distY:c[1]}).map((function(t,e){return t*(r[e]?2/r[e]:0)}));return{sign:r,isBound:l,isVerticalBound:u,isHorizontalBound:h,isSnap:!1,offset:d}}))}function us(t,e,n){return function(t,e){var n=[],i=t[0],r=t[1];return i&&r?n.push([[0,2*r],t,[-i,r]],[[2*i,0],t,[i,-r]]):i?(n.push([[2*i,0],[i,1],[i,-1]]),e&&n.push([[0,-1],[i,-1],[-i,-1]],[[0,1],[i,1],[-i,1]])):r?(n.push([[0,2*r],[1,r],[-1,r]]),e&&n.push([[-1,0],[-1,r],[-1,-r]],[[1,0],[1,r],[1,-r]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}(e,n).map((function(e){var n=e[0],i=e[1],r=e[2];return[n,zo(t,i),zo(t,r)]}))}function hs(t,e,n,i){var r=i?t.map((function(t){return Cr(t,i)})):t,a=fa([n],e);return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].some((function(t,e){return!os(a,t)}))}function ds(t,e,n){var i=t||{},r=i.left,a=void 0===r?-1/0:r,o=i.top,s=void 0===o?-1/0:o,l=i.right,c=void 0===l?1/0:l,u=i.bottom,h={left:a,top:s,right:c,bottom:void 0===u?1/0:u};return{vertical:ps(h,e,!0),horizontal:ps(h,n,!1)}}function ps(t,e,n){var i=t[n?"left":"top"],r=t[n?"right":"bottom"],a=Math.min.apply(Math,e),o=Math.max.apply(Math,e),s=[];return i+1>a&&s.push({isBound:!0,offset:a-i,pos:i}),r-1<o&&s.push({isBound:!0,offset:o-r,pos:r}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort((function(t,e){return Math.abs(e.offset)-Math.abs(t.offset)}))}function fs(t,e,n){return(n?t.map((function(t){return Cr(t,n)})):t).some((function(t){return t[0]<e.left&&Math.abs(t[0]-e.left)>.1||t[0]>e.right&&Math.abs(t[0]-e.right)>.1||t[1]<e.top&&Math.abs(t[1]-e.top)>.1||t[1]>e.bottom&&Math.abs(t[1]-e.bottom)>.1}))}var gs=["horizontal","left","top","width","Y","X"],vs=["vertical","top","left","height","X","Y"];function ms(t){var e=t.state;e.guidelines&&e.guidelines.length||(e.staticGuidelines=$o(t,!1),e.guidelines=Zo(t),e.enableSnap=!0)}function bs(t,e){var n=t.props,i=n.snappable,r=n.bounds,a=n.innerBounds,o=n.verticalGuidelines,s=n.horizontalGuidelines,l=t.state,c=l.guidelines,u=l.enableSnap;return!(!i||!u||e&&!0!==i&&i.indexOf(e)<0||!(r||a||c&&c.length||o&&o.length||s&&s.length))}function ys(t,e,n,i,r){var a=function(t,e,n,i){var r=e[0]-t[0],a=e[1]-t[1];if(Math.abs(r)<1e-7&&(r=0),Math.abs(a)<1e-7&&(a=0),!r)return i?[0,0]:[0,n];if(!a)return i?[n,0]:[0,0];var o=a/r,s=t[1]-o*t[0];return i?[n,o*(e[0]+n)+s-e[1]]:[(e[1]+n-s)/o-e[0],n]}(t,e,n,i);if(!a)return[0,0];var o=Ro({datas:r,distX:a[0],distY:a[1]});return[o[0],o[1]]}function ws(t,e,n,i,r,a){var o=Fa(t,e,n,a?4:3);return Ja(o,mr(i,function(t,e){return zo(t,e.map((function(t){return-t})))}(o,r)))}function xs(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function _s(t,e){return t.isBound?t.offset:e.isSnap?ts(e).offset:0}function Os(t,e,n,i){void 0===i&&(i=n);var r=ds(t.props.bounds,i.map((function(t){return t[0]})),i.map((function(t){return t[1]}))),a=r.horizontal,o=r.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Jo(t,n.map((function(t){return t[0]})),n.map((function(t){return t[1]})),t.props.snapCenter),l=s.horizontal,c=s.vertical,u=_s(a[0],l),h=_s(o[0],c),d=Math.abs(u),p=Math.abs(h);return{horizontal:{isBound:a[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:u,dist:d,bounds:a,snap:l},vertical:{isBound:o[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:h,dist:p,bounds:o,snap:c}}}function Cs(t,e,n,i,r){void 0===r&&(r={});var a=ds(e,n,i),o=a.horizontal,s=a.vertical,l=r.isRequest?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Ko(t,n,i,r),c=l.horizontal,u=l.vertical,h=_s(o[0],c),d=_s(s[0],u),p=Math.abs(h),f=Math.abs(d);return{horizontal:{isBound:o[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:h,dist:p,bounds:o,snap:c},vertical:{isBound:s[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:d,dist:f,bounds:s,snap:u}}}function ks(t){return t?t/Math.abs(t):0}function Ss(t,e,n,i,r,a){return n.map((function(n){var o=n[0],s=n[1],l=zo(e,o),c=zo(e,s),u=i?function(t,e,n,i){var r=function(t,e,n){var i=t.props.bounds||{},r=i.left,a=void 0===r?-1/0:r,o=i.top,s=void 0===o?-1/0:o,l=i.right,c=void 0===l?1/0:l,u=i.bottom,h=void 0===u?1/0:u,d=n[0],p=n[1],f=mr(n,e),g=f[0],v=f[1];Math.abs(g)<1e-7&&(g=0),Math.abs(v)<1e-7&&(v=0);var m=v>0,b=g>0,y={isBound:!1,offset:0,pos:0},w={isBound:!1,offset:0,pos:0};if(0===g&&0===v)return{vertical:y,horizontal:w};if(0===g)m?h<p&&(w.pos=h,w.offset=p-h):s>p&&(w.pos=s,w.offset=p-s);else if(0===v)b?c<d&&(y.pos=c,y.offset=d-c):a>d&&(y.pos=a,y.offset=d-a);else{var x=v/g,_=n[1]-x*d,O=0,C=0,k=!1;b&&c<=d?(O=x*c+_,C=c,k=!0):!b&&d<=a&&(O=x*a+_,C=a,k=!0),k&&(O<s||O>h)&&(k=!1),k||(m&&h<=p?(C=((O=h)-_)/x,k=!0):!m&&p<=s&&(C=((O=s)-_)/x,k=!0)),k&&(y.isBound=!0,y.pos=C,y.offset=d-C,w.isBound=!0,w.pos=O,w.offset=p-O)}return{vertical:y,horizontal:w}}(t,e,n),a=r.horizontal,o=r.vertical,s=i?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(t,e,n){var i=n[0],r=n[1],a=e[0],o=e[1],s=mr(n,e),l=s[0],c=s[1],u=c>0,h=l>0;l=vo(l),c=vo(c);var d={isSnap:!1,offset:0,pos:0},p={isSnap:!1,offset:0,pos:0};if(0===l&&0===c)return{vertical:d,horizontal:p};var f=Jo(t,l?[i]:[],c?[r]:[]),g=f.vertical,v=f.horizontal;g.posInfos.filter((function(t){var e=t.pos;return h?e>=a:e<=a})),v.posInfos.filter((function(t){var e=t.pos;return u?e>=o:e<=o})),g.isSnap=g.posInfos.length>0,v.isSnap=v.posInfos.length>0;var m=ts(g),b=m.isSnap,y=m.guideline,w=ts(v),x=w.isSnap,_=w.guideline,O=x?_.pos[1]:0,C=b?y.pos[0]:0;if(0===l)x&&(p.isSnap=!0,p.pos=_.pos[1],p.offset=r-p.pos);else if(0===c)b&&(d.isSnap=!0,d.pos=C,d.offset=i-C);else{var k=c/l,S=n[1]-k*i,M=0,E=0,T=!1;b?(M=k*(E=C)+S,T=!0):x&&(E=((M=O)-S)/k,T=!0),T&&(d.isSnap=!0,d.pos=E,d.offset=i-E,p.isSnap=!0,p.pos=M,p.offset=r-M)}return{vertical:d,horizontal:p}}(t,e,n),l=s.horizontal,c=s.vertical,u=xs(a,l),h=xs(o,c),d=Math.abs(u),p=Math.abs(h);return{horizontal:{isBound:a.isBound,isSnap:l.isSnap,offset:u,dist:d},vertical:{isBound:o.isBound,isSnap:c.isSnap,offset:h,dist:p}}}(t,l,c,r):Os(t,r,[c]),h=u.horizontal,d=h.offset,p=h.isBound,f=h.isSnap,g=u.vertical,v=g.offset,m=g.isBound,b=g.isSnap,y=mr(s,o);if(!v&&!d)return{isBound:m||p,isSnap:b||f,sign:y,offset:[0,0]};var w=function(t,e,n,i){var r=Ce(t,e)/Math.PI*180,a=n.vertical,o=a.isBound,s=a.isSnap,l=a.dist,c=n.horizontal,u=c.isBound,h=c.isSnap,d=r%180,p=d<3||d>177,f=d>87&&d<93;return c.dist<l&&(o||s&&!f&&(!i||!p))?"vertical":!u&&(!h||p||i&&f)?"":"horizontal"}(l,c,u,i);if(!w)return{sign:y,isBound:!1,isSnap:!1,offset:[0,0]};var x="vertical"===w,_=ys(l,c,-(x?v:d),x,a).map((function(t,e){return t*(y[e]?2/y[e]:0)}));return{sign:y,isBound:x?m:p,isSnap:x?b:f,offset:_}}))}function Ms(t,e,n,i,r,a){var o=function(t,e){var n=[],i=[-t[0],-t[1]];return t[0]&&t[1]?(n.push([i,[t[0],-t[1]]],[i,[-t[0],t[1]]]),e&&n.push([i,t])):t[0]?e?n.push([i,[i[0],-1]],[i,[i[0],1]],[i,[t[0],-1]],[i,t],[i,[t[0],1]]):n.push([[i[0],-1],[t[0],-1]],[[i[0],0],[t[0],0]],[[i[0],1],[t[0],1]]):t[1]?e?n.push([i,[-1,i[1]]],[i,[1,i[1]]],[i,[-1,t[1]]],[i,[1,t[1]]],[i,t]):n.push([[-1,i[1]],[-1,t[1]]],[[0,i[1]],[0,t[1]]],[[1,i[1]],[1,t[1]]]):n.push([i,[1,0]],[i,[-1,0]],[i,[0,-1]],[i,[0,1]],[[1,0],[1,-1]],[[1,0],[1,1]],[[0,1],[1,1]],[[0,1],[-1,1]],[[-1,0],[-1,-1]],[[-1,0],[-1,1]],[[0,-1],[1,-1]],[[0,-1],[-1,-1]]),n}(n,i),s=us(e,n,i),l=fa(Ss(t,e,o,i,r,a),cs(t,s,zo(e,[0,0]),a)),c=is(l,0),u=is(l,1);return{width:{isBound:c.isBound,offset:c.offset[0]},height:{isBound:u.isBound,offset:u.offset[1]}}}function Es(t,e,n,i,r,a,o,s){for(var l=Ka(t.state),c=t.props.keepRatio,u=0,h=0,d=0;d<2;++d){var p=Ms(t,e(u,h),r,c,o,s),f=p.width,g=p.height,v=f.isBound,m=g.isBound,b=f.offset,y=g.offset;if(1===d&&(v||(b=0),m||(y=0)),0===d&&o&&!v&&!m)return[0,0];if(c){var w=Math.abs(b)*(n?1/n:1),x=Math.abs(y)*(i?1/i:1);(v&&m?w<x:m||!v&&w<x)?b=n*y/i:y=i*b/n}u+=b,h+=y}if(r[0]&&r[1]){var _=function(t,e,n,i,r){var a=[-n[0],-n[1]],o=t.state,s=o.width,l=o.height,c=t.props.bounds,u=1/0,h=1/0;if(c){var d=[[n[0],-n[1]],[-n[0],n[1]]],p=c.left,f=void 0===p?-1/0:p,g=c.top,v=void 0===g?-1/0:g,m=c.right,b=void 0===m?1/0:m,y=c.bottom,w=void 0===y?1/0:y;d.forEach((function(t){var n=t[0]!==a[0],o=t[1]!==a[1],c=zo(e,t),d=ks(t[1]-a[1]),p=ks(t[0]-a[0]),g=360*Ce(i,c)/Math.PI;if(o){var m=c.slice();(Math.abs(g-360)<2||Math.abs(g-180)<2)&&(m[1]=i[1]);var y=ys(i,m,(i[1]<c[1]?w:v)-c[1],!1,r)[1];isNaN(y)||(h=l+d*y)}if(n){m=c.slice(),(Math.abs(g-90)<2||Math.abs(g-270)<2)&&(m[0]=i[0]);var x=ys(i,m,(i[0]<c[0]?b:f)-c[0],!0,r)[0];isNaN(x)||(u=s+p*x)}}))}return{maxWidth:u,maxHeight:h}}(t,l,r,a,s),O=_.maxWidth,C=_.maxHeight,k=function(t,e,n,i,r,a,o,s,l){var c=Os(t,s,[zo(e,o)]),u=c.horizontal.offset,h=c.vertical.offset;if(h||u){var d=Ro({datas:l,distX:-h,distY:-u}),p=d[0],f=d[1];return[Math.min(r||1/0,n+o[0]*p)-n,Math.min(a||1/0,i+o[1]*f)-i]}return[0,0]}(t,e(u,h),n+u,i+h,O,C,r,o,s);u+=b=k[0],h+=y=k[1]}return[u,h]}function Ts(t,e,n,i){if(!bs(t,"rotatable"))return i;var r=e.pos1,a=e.pos2,o=e.pos3,s=e.pos4,l=i*Math.PI/180,c=[r,a,o,s].map((function(t){return mr(t,n)})),u=c.map((function(t){return Cr(t,l)})),h=fa(function(t,e,n,i,r){var a=t.props.bounds,o=r*Math.PI/180;if(!a)return[];var s=a.left,l=void 0===s?-1/0:s,c=a.top,u=void 0===c?-1/0:c,h=a.right,d=void 0===h?1/0:h,p=a.bottom,f=void 0===p?1/0:p,g=l-i[0],v=d-i[0],m=u-i[1],b=f-i[1],y={left:g,top:m,right:v,bottom:b};if(!fs(n,y,0))return[];var w=[];return[[g,0],[v,0],[m,1],[b,1]].forEach((function(t,i){var r=t[0],a=t[1];n.forEach((function(t){var n=Ce([0,0],t);w.push.apply(w,function(t,e,n){var i=Ha(t),r=Math.sqrt(i*i-e*e)||0;return[r,-r].sort((function(e,i){return Math.abs(e-t[n?0:1])-Math.abs(i-t[n?0:1])})).map((function(t){return Ce([0,0],n?[t,e]:[e,t])}))}(t,r,a).map((function(t){return o+t-n})).filter((function(t){return!fs(e,y,t)})).map((function(t){return Qa(180*t/Math.PI,1e-7)})))}))})),w}(t,c,u,n,i),function(t,e,n,i,r){var a=t.props.innerBounds,o=r*Math.PI/180;if(!a)return[];var s=a.left,l=a.top,c=a.width,u=a.height,h=s-i[0],d=s+c-i[0],p=l-i[1],f=l+u-i[1],g=[[h,p],[d,p],[h,f],[d,f]],v=zo(n,[0,0]);if(!hs(n,g,v,0))return[];var m=[],b=g.map((function(t){return[Ha(t),Ce([0,0],t)]}));return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach((function(t){var n=Ce([0,0],function(t){var e=t[0],n=t[1],i=n[0]-e[0],r=n[1]-e[1];if(!i)return[e[0],0];if(!r)return[0,e[1]];var a=r/i,o=-a*e[0]+e[1];return[-o/(a+1/a),o/(a*a+1)]}(t)),i=function(t){var e=t[0],n=t[1],i=n[0]-e[0],r=n[1]-e[1];if(!i)return Math.abs(e[0]);if(!r)return Math.abs(e[1]);var a=r/i;return Math.abs((-a*e[0]+e[1])/Math.sqrt(Math.pow(a,2)+1))}(t);m.push.apply(m,b.filter((function(t){var e=t[0];return e&&i<=e})).map((function(t){var e=t[0],r=t[1],a=Math.acos(e?i/e:0);return[o+(r+a)-n,o+(r-a)-n]})).reduce((function(t,e){return t.push.apply(t,e),t}),[]).filter((function(t){return!hs(e,g,v,t)})).map((function(t){return Qa(180*t/Math.PI,1e-7)})))})),m}(t,c,u,n,i));return h.sort((function(t,e){return Math.abs(t-i)-Math.abs(e-i)})),h.length?h[0]:i}function Ps(t,e,n,i,r,a){if(!bs(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=Ja(a.absolutePoses,[e,n]),s=Ba(o),l=s.left,c=s.right,u=s.top,h=s.bottom,d=[[l,u],[c,u],[l,h],[c,h]];t.props.snapCenter&&d.push([(l+c)/2,(u+h)/2]);var p=Os(t,r,d,o),f=p.vertical,g=p.horizontal,v=function(t,e,n){var i,r=cs(t,us(e,[0,0],!1).map((function(t){var e=t[0],n=t[1],i=t[2];return[e.map((function(t){return 2*Math.abs(t)})),n,i]})),zo(e,[0,0]),n),a=is(r,0),o=is(r,1),s=0,l=0,c=a.isVerticalBound||o.isVerticalBound,u=a.isHorizontalBound||o.isHorizontalBound;return(c||u)&&(s=(i=function(t,e){var n=t.datas,i=t.distX,r=t.distY,a=(n.beforeMatrix,n.matrix),o=n.is3d,s=(n.startDragBeforeDist,n.startDragDist),l=n.absoluteOrigin,c=o?4:3;return mr(yr(a,vr(s,[i,r]),c),l)}({datas:n,distX:-a.offset[0],distY:-o.offset[1]}))[0],l=i[1]),{vertical:{isBound:c,offset:s},horizontal:{isBound:u,offset:l}}}(t,o,a),m=v.vertical,b=v.horizontal,y=f.isSnap,w=g.isSnap,x=f.isBound||m.isBound,_=g.isBound||b.isBound,O=function(t,e,n,i,r){var a=e[0],o=e[1],s=n[0],l=n[1],c=i[0],u=i[1],h=r[0],d=r[1],p=-h,f=-d;if(t&&a&&o){p=0,f=0;var g=[];if(s&&l?g.push([0,d],[h,0]):s?g.push([h,0]):l?g.push([0,d]):c&&u?g.push([0,d],[h,0]):c?g.push([h,0]):u&&g.push([0,d]),g.length){g.sort((function(t,e){return Ha(mr([a,o],t))-Ha(mr([a,o],e))}));var v=g[0];if(v[0]&&Math.abs(a)>1e-7)p=-v[0],f=o*Math.abs(a+p)/Math.abs(a)-o;else if(v[1]&&Math.abs(o)>1e-7){var m=o;f=-v[1],p=a*Math.abs(o+f)/Math.abs(m)-a}if(t&&l&&s)if(Math.abs(p)>1e-7&&Math.abs(p)<Math.abs(h))p*=b=Math.abs(h)/Math.abs(p),f*=b;else if(Math.abs(f)>1e-7&&Math.abs(f)<Math.abs(d)){var b;p*=b=Math.abs(d)/Math.abs(f),f*=b}else p=uo(-h,p),f=uo(-d,f)}}else p=a||s?-h:0,f=o||l?-d:0;return[p,f]}(i,[e,n],[x,_],[y,w],[uo(f.offset,m.offset),uo(g.offset,b.offset)]);return[{isBound:x,isSnap:y,offset:O[0]},{isBound:_,isSnap:w,offset:O[1]}]}function Ls(t){var e=[];return t.forEach((function(t){t.guidelineInfos.forEach((function(t){var n=t.guideline;e.indexOf(n)>-1||e.push(n)}))})),e}function Rs(t,e,n,i){var r=t-n,a=r<0?r+e:i;return{size:(r<0?0:r)-a,pos:a}}function Is(t,e,n,i){var r=[],a=lo(t.filter((function(t){var e=t.element,n=t.gap;return e&&!n})),(function(t){var n=t.element,a=t.pos,o=a[i],s=(Math.min(0,o-e)<0?-1:1)+"_"+a[i?0:1],l=function(t,e,n){var i=ve(t,e);return i>-1?t[i]:n}(r,(function(t){var e=t[0],i=t[1];return n===e&&o===i}));return l?l[2]:(r.push([n,o,s]),s)}));return a.forEach((function(t){t.sort((function(t,r){return Rs(t.pos[i],t.size,e,n).size-Rs(r.pos[i],t.size,e,n).size||t.pos[i?0:1]-r.pos[i?0:1]}))})),a}function Ds(t,e,n,i,r,a,o,s,l,c,u,h){var d=n[0],p=n[1],f=n[2],g=n[3],v=n[4],m=n[5],b=t.props,y=b.zoom,w=b.isDisplaySnapDigit,x=void 0===w||w;return co(e.map((function(t,e){var n=!0;return t.map((function(t,b){var w,_,O=t.pos,C=t.size,k=Rs(O[c],C,r,a),S=k.pos,M=k.size;if(M<s)return null;var E=n;n=!1;var T=x&&E?parseFloat(M.toFixed(l)):0;return h.createElement("div",{key:d+"LinkGuideline"+e+"-"+b,className:Ma("guideline-group",d),style:(w={},w[p]=i+S+"px",w[f]=-o+O[c?0:1]+"px",w[g]=M+"px",w)},h.createElement("div",{className:Ma("line",d,"guideline","dashed"),style:(_={},_[p]="0%",_[f]="0%",_[g]="100%",_.transform="translate"+v+"(-50%) scale"+v+"("+y+")",_)}),h.createElement("div",{className:Ma("size-value"),style:{transform:"translate"+m+"(-50%) scale("+y+")"}},T>0?u(T):""))}))})))}function zs(t,e,n,i,r,a,o){var s=n[0],l=n[1],c=n[2],u=n[3],h=n[4],d=t.props.zoom;return e.map((function(t,e){var n,p=t.type,f=t.pos;return o.createElement("div",{className:Ma("line",s,"guideline","target","bold",p),key:s+"TargetGuideline"+e,style:(n={},n[l]=i+"px",n[c]=-r+f+"px",n[u]=a+"px",n.transform="translate"+h+"(-50%) scale"+h+"("+d+")",n)})}))}function As(t,e,n,i,r,a,o){var s=n[0],l=n[1],c=n[2],u=n[3],h=n[4],d=t.props.zoom;return e.map((function(t,e){var n,p=t.pos,f=t.size,g=t.element;return o.createElement("div",{className:Ma("line",s,"guideline",g?"bold":""),key:s+"Guideline"+e,style:(n={},n[l]=-i+p[a]+"px",n[c]=-r+p[a?0:1]+"px",n[u]=f+"px",n.transform="translate"+h+"(-50%) scale"+h+"("+d+")",n)})}))}function js(t,e,n,i){var r=t.filter((function(t){var n=t.element,i=t.gap,r=t.type;return n&&i&&r===e})),a="vertical"===e?[0,1]:[1,0],o=a[0],s=a[1];return co(r.map((function(t){var e=t.pos,r=t.gap,a=t.gapGuidelines,l=t.sizes,c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return Math.abs(t)-Math.abs(e)})),t[0]}(e[s]+l[s]-n[s],e[s]-n[s]-i[s]),u=Math.min(l[s],i[s]);c>0&&c>u?c=2*(c-u/2):c<0&&c<-u&&(c=2*(c+u/2));var h=(c>0?0:i[s])+c/2;return fa(function(t,e,n,i,r,a,o){var s=Math.abs(a),l=r[e]+(a>0?i[0]:0);return t.filter((function(t){return t.pos[e]<=n[e]})).sort((function(t,n){var i=t.pos;return n.pos[e]-i[e]})).filter((function(t){var n=t.pos,i=t.sizes,r=n[e];return Qa(r+i[e],1e-4)===Qa(l-s,1e-4)&&(l=r,!0)})).map((function(t){var i=-n[e]+t.pos[e]+t.sizes[e];return pa(pa({},t),{gap:a,renderPos:e?[o,i]:[i,o]})}))}(a,o,n,i,e,r,h),function(t,e,n,i,r,a,o){var s=Math.abs(a),l=r[e]+(a<0?i[e]:0);return t.filter((function(t){return t.pos[e]>n[e]})).sort((function(t,n){var i=t.pos,r=n.pos;return i[e]-r[e]})).filter((function(t){var n=t.pos,i=t.sizes,r=n[e];return Qa(r,1e-4)===Qa(l+s,1e-4)&&(l=r+i[e],!0)})).map((function(t){var i=-n[e]+t.pos[e]-s;return pa(pa({},t),{gap:a,renderPos:e?[o,i]:[i,o]})}))}(a,o,n,i,e,r,h))})))}function Fs(t,e,n,i,r,a){var o=i[0],s=i[1],l=i[2],c=i[3],u=i[4],h=i[5],d=t.props,p=d.snapDigit,f=void 0===p?0:p,g=d.isDisplaySnapDigit,v=void 0===g||g,m=d.zoom,b="vertical"===n?"horizontal":"vertical",y="vertical"===n?[0,1]:[1,0],w=y[0],x=y[1];return e.map((function(t,e){var n,i,d=t.renderPos,p=t.gap,g=Math.abs(p),y=v?parseFloat(g.toFixed(f)):0;return a.createElement("div",{key:b+"GapGuideline"+e,className:Ma("guideline-group",o),style:(n={},n[s]=d[w]+"px",n[l]=d[x]+"px",n[c]=g+"px",n)},a.createElement("div",{className:Ma("line",o,"guideline","gap"),style:(i={},i[c]="100%",i.transform="translate"+u+"(-50%) scale"+u+"("+m+")",i)}),a.createElement("div",{className:Ma("size-value","gap"),style:{transform:"translate"+h+"(-50%) scale("+m+")"}},y>0?r(y):""))}))}function Bs(t,e,n,i,r,a){var o=ds(a||t.props.bounds,e,n),s=o.vertical,l=o.horizontal;s.forEach((function(t){t.isBound&&i.push({type:"bounds",pos:t.pos})})),l.forEach((function(t){t.isBound&&r.push({type:"bounds",pos:t.pos})}));var c=function(t){var e=t.props.innerBounds;if(!e)return{vertical:[],horizontal:[]};var n=t.getRect(),i=n.pos1,r=n.pos2,a=n.pos3,o=n.pos4,s=zo([i,r,a,o],[0,0]),l=e.left,c=e.top,u=e.width,h=e.height,d=[[l,c],[l,c+h]],p=[[l,c],[l+u,c]],f=[[l+u,c],[l+u,c+h]],g=[[l,c+h],[l+u,c+h]],v=[],m=[],b={top:!1,bottom:!1,left:!1,right:!1};return[[i,r],[r,o],[o,a],[a,i]].forEach((function(t){var e=rs(s,t),n=e.horizontal,i=e.vertical,r=ls(t,p,i,1,!0),a=ls(t,g,i,1,!0),o=ls(t,d,n,1,!0),y=ls(t,f,n,1,!0);r.isBound&&!b.top&&(v.push(c),b.top=!0),a.isBound&&!b.bottom&&(v.push(c+h),b.bottom=!0),o.isBound&&!b.left&&(m.push(l),b.left=!0),y.isBound&&!b.right&&(m.push(l+u),b.right=!0)})),{horizontal:v,vertical:m}}(t),u=c.vertical,h=c.horizontal;u.forEach((function(t){ve(i,(function(e){var n=e.type,i=e.pos;return"bounds"===n&&i===t}))>=0||i.push({type:"bounds",pos:t})})),h.forEach((function(t){ve(r,(function(e){var n=e.type,i=e.pos;return"bounds"===n&&i===t}))>=0||r.push({type:"bounds",pos:t})}))}var Vs={name:"snappable",props:{snappable:[Boolean,Array],snapCenter:Boolean,snapHorizontal:Boolean,snapVertical:Boolean,snapElement:Boolean,snapGap:Boolean,isDisplaySnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function},events:{onSnap:"snap"},css:[":host {\n    --bounds-color: #d66;\n}\n.guideline {\n    pointer-events: none;\n    z-index: 2;\n}\n.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}\n.guideline-group {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.guideline-group .size-value {\n    position: absolute;\n    color: #f55;\n    font-size: 12px;\n    font-weight: bold;\n}\n.guideline-group.horizontal .size-value {\n    transform-origin: 50% 100%;\n    transform: translateX(-50%);\n    left: 50%;\n    bottom: 5px;\n}\n.guideline-group.vertical .size-value {\n    transform-origin: 0% 50%;\n    top: 50%;\n    transform: translateY(-50%);\n    left: 5px;\n}\n.guideline.gap {\n    background: #f55;\n}\n.size-value.gap {\n    color: #f55;\n}\n"],render:function(t,e){var n=t.state,i=n.top,r=n.left,a=n.pos1,o=n.pos2,s=n.pos3,l=n.pos4,c=n.snapRenderInfo,u=n.targetClientRect,h=n.containerClientRect,d=n.is3d,p=n.rootMatrix;if(!c||!bs(t,""))return[];var f=d?4:3,g=Math.min(a[0],o[0],s[0],l[0]),v=Math.min(a[1],o[1],s[1],l[1]),m=Yo(p,h,f),b=ho(p,[u.left-m[0],u.top-m[1]],f),y=b[0],w=b[1],x=t.props,_=x.snapThreshold,O=void 0===_?5:_,C=x.snapDigit,k=void 0===C?0:C,S=x.snapDistFormat,M=void 0===S?function(t){return t}:S,E=c.externalPoses||[],T=Ka(t.state),P=[],L=[],R=[],I=[],D=[],z=Ba(T),A=z.width,j=z.height,F=z.top,B=z.left,V=z.bottom,N=z.right,H=E.length>0,X=H?Ba(E):{};if(!c.request){if(c.direction&&D.push(function(t,e,n){var i=[];if(n[0]&&n[1])i=[n,[-n[0],n[1]],[n[0],-n[1]]].map((function(t){return zo(e,t)}));else if(n[0]||n[1])t.props.keepRatio?i=[[-1,-1],[-1,1],[1,-1],[1,1],n].map((function(t){return zo(e,t)})):(i=Do(e,n)).length>1&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]);else for(var r=[e[0],e[1],e[3],e[2],e[0]],a=0;a<4;++a)i.push(r[a]),i.push([(r[a][0]+r[a+1][0])/2,(r[a][1]+r[a+1][1])/2]);return Jo(t,i.map((function(t){return t[0]})),i.map((function(t){return t[1]})),!0,1)}(t,T,c.direction)),c.snap){var G=Ba(T);c.center&&(G.middle=(G.top+G.bottom)/2,G.center=(G.left+G.right)/2),D.push(Qo(t,G,!0,1))}H&&(c.center&&(X.middle=(X.top+X.bottom)/2,X.center=(X.left+X.right)/2),D.push(Qo(t,X,!0,1))),D.forEach((function(t){var e=t.vertical.posInfos,n=t.horizontal.posInfos;P.push.apply(P,e.map((function(t){return{type:"snap",pos:t.pos}}))),L.push.apply(L,n.map((function(t){return{type:"snap",pos:t.pos}}))),R.push.apply(R,Ls(e)),I.push.apply(I,Ls(n))}))}Bs(t,[B,N],[F,V],P,L),H&&Bs(t,[X.left,X.right],[X.top,X.bottom],P,L,c.externalBounds);var U=Is(I,y,A,0),Y=Is(R,w,j,1),q=js(R,"vertical",[r,i],[A,j]),W=js(I,"horizontal",[r,i],[A,j]),$=fa(R,I);return ro(t,"onSnap",{guidelines:$.filter((function(t){return!t.element})),elements:lo($.filter((function(t){return t.element})),(function(t){return t.element})),gaps:fa(q,W)},!0),fa(Fs(t,q,"vertical",gs,M,e),Fs(t,W,"horizontal",vs,M,e),Ds(t,U,gs,g,y,A,i,O,k,0,M,e),Ds(t,Y,vs,v,w,j,r,O,k,1,M,e),zs(t,L,gs,g,i,A,e),zs(t,P,vs,v,r,j,e),As(t,I,gs,r,i,0,e),As(t,R,vs,i,r,1,e))},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},ms(t)},drag:function(t,e){t.state.guidelines=Zo(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t){return!(!mo(t)&&!Ys(t))||(!t.isRequest&&t.inputEvent?Te(t.inputEvent.target,Ma("snap-control")):void 0)},dragControlStart:function(t){t.state.snapRenderInfo=null,ms(t)},dragControl:function(t){t.state.guidelines=Zo(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){t.state.guidelines=Zo(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,ms(t)},dragGroupControl:function(t){t.state.guidelines=Zo(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null}},Ns={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(t,e){var n=t.props,i=n.throttleDragRotate,r=n.zoom,a=t.state,o=a.dragInfo,s=a.beforeOrigin;if(!i||!o)return[];var l=o.dist;if(!l[0]&&!l[1])return[];var c=Ha(l),u=Ce(l,[0,0]);return[e.createElement("div",{className:Ma("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:c+"px",transform:"translate("+s[0]+"px, "+s[1]+"px) rotate("+u+"rad) scaleY("+r+")"}})]},dragStart:function(t,e){var n=e.datas,i=e.parentEvent,r=e.parentGesto,a=t.state,o=a.target;if(a.gesto)return!1;a.gesto=r||t.targetGesto;var s=window.getComputedStyle(o);n.datas={},n.left=parseFloat(s.left||"")||0,n.top=parseFloat(s.top||"")||0,n.bottom=parseFloat(s.bottom||"")||0,n.right=parseFloat(s.right||"")||0,n.startValue=[0,0],Mo(t,e),Fo(e),function(t,e){e.absolutePoses=Ka(t.state)}(t,n),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1;var l=no(t,e,pa({set:function(t){n.startValue=t}},jo(e)));return!1!==(i||ro(t,"onDragStart",l))?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(a.gesto=null,n.isPinch=!1),!!n.isDrag&&l},drag:function(t,e){Eo(e,"translate");var n=e.datas,i=e.parentEvent,r=e.parentFlag,a=e.isPinch,o=e.isRequest,s=e.distX,l=e.distY,c=n.isDrag,u=n.prevDist,h=n.prevBeforeDist,d=n.startValue;if(c){var p=t.props,f=p.parentMoveable,g=i?0:p.throttleDrag||0,v=i?0:p.throttleDragRotate||0,m=!1,b=0;if(!i&&v>0&&(s||l)){var y=p.startDragRotate||0,w=Qa(y+180*Ce([0,0],[s,l])/Math.PI,v)-y,x=l*Math.abs(Math.cos((w-90)/180*Math.PI)),_=Ha([s*Math.abs(Math.cos(w/180*Math.PI)),x]);b=w*Math.PI/180,s=_*Math.cos(b),l=_*Math.sin(b)}if(!a&&!i&&!r&&(!v||s||l)){var O=Ps(t,s,l,v,o,n),C=O[0],k=O[1],S=C.isSnap,M=C.isBound,E=C.offset,T=k.isSnap,P=k.isBound;m=S||T||M||P,s+=E,l+=k.offset}n.passDeltaX=s-(n.passDistX||0),n.passDeltaY=l-(n.passDistY||0),n.passDistX=s,n.passDistY=l;var L=vr(Lo({datas:n,distX:s,distY:l}),d),R=vr(function(t){var e=t.datas,n=Lo({datas:e,distX:t.distX,distY:t.distY});return yr(Po(e,function(t,e){for(var n=Er(4),i=0;i<3;++i)n[12+i]=t[i]||0;return n}([n[0],n[1]])),dr([0,0,0],4),4)}({datas:n,distX:s,distY:l}),d);v||m||(to(R,g),to(L,g));var I=mr(L,d),D=mr(R,d),z=mr(D,u),A=mr(I,h);n.prevDist=D,n.prevBeforeDist=I;var j=n.left+I[0],F=n.top+I[1],B=n.right-I[0],V=n.bottom-I[1],N=To(n,"translate("+R[0]+"px, "+R[1]+"px)","translate("+D[0]+"px, "+D[1]+"px)");if(t.state.dragInfo.dist=i?[0,0]:D,i||f||!z.every((function(t){return!t}))||!A.some((function(t){return!t}))){var H=t.state,X=no(t,e,{transform:N,dist:D,delta:z,translate:R,beforeDist:I,beforeDelta:A,beforeTranslate:L,left:j,top:F,right:B,bottom:V,width:H.width,height:H.height,isPinch:a});return!i&&ro(t,"onDrag",X),X}}},dragEnd:function(t,e){var n=e.parentEvent,i=e.datas,r=e.isDrag;if(t.state.gesto=null,t.state.dragInfo=null,i.isDrag)return i.isDrag=!1,!n&&ro(t,"onDragEnd",io(t,e,{})),r},dragGroupStart:function(t,e){var n=e.datas,i=e.clientX,r=e.clientY,a=this.dragStart(t,e);if(!a)return!1;var o=Co(t,this,"dragStart",[i||0,r||0],e,!1),s=ro(t,"onDragGroupStart",pa(pa({},a),{targets:t.props.targets,events:o}));return n.isDrag=!1!==s,!!n.isDrag&&a},dragGroup:function(t,e){if(e.datas.isDrag){var n=this.drag(t,e),i=e.datas,r=Co(t,this,"drag",[i.passDeltaX,i.passDeltaY],e,!1);if(n){var a=pa({targets:t.props.targets,events:r},n);return ro(t,"onDragGroup",a),a}}},dragGroupEnd:function(t,e){var n=e.isDrag;if(e.datas.isDrag)return this.dragEnd(t,e),Co(t,this,"dragEnd",[0,0],e,!1),ro(t,"onDragGroupEnd",io(t,e,{targets:t.props.targets})),n},request:function(t){var e={},n=t.getRect(),i=0,r=0;return{isControl:!1,requestStart:function(){return{datas:e}},request:function(t){return"x"in t?i=t.x-n.left:"deltaX"in t&&(i+=t.deltaX),"y"in t?r=t.y-n.top:"deltaY"in t&&(r+=t.deltaY),{datas:e,distX:i,distY:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.dragInfo=null}};function Hs(t,e,n,i,r,a){var o=t.state.is3d?4:3,s=ja(t.state.rootMatrix,r,o),l=vr([a.left,a.top],s);e.startAbsoluteOrigin=l,e.prevDeg=Ce(l,[n,i])/Math.PI*180,e.prevSnapDeg=e.prevDeg,e.startDeg=e.prevDeg,e.loop=0}function Xs(t,e,n,i,r,a){var o=n.prevDeg,s=Ts(t,e,n.origin,i);return n.prevDeg=s,[s-o,s,a+s]}function Gs(t,e,n,i,r,a,o,s){var l=n.prevDeg,c=n.prevSnapDeg,u=n.startDeg,h=n.loop;l>i&&l>270&&i<90?++n.loop:l<i&&l<90&&i>270&&--n.loop;var d=n.loop,p=360*h+c-u+a,f=360*d+i-u+a;n.prevDeg=f-360*d+u-a;var g=r*((f=Qa(f,o))-a);return s&&(f=(g=Ts(t,e,n.origin,g))/r+a),n.prevSnapDeg=f-360*d+u-a,[r*(f-p),g,a+g]}function Us(t,e,n,i,r,a,o,s){return Gs(t,e,n,Ce(n.startAbsoluteOrigin,[r,a])/Math.PI*180,i,o,s,!0)}function Ys(t){return t.isRequest?"rotatable"===t.requestAble:Te(t.inputEvent.target,Ma("rotation-control"))}var qs={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number},events:{onRotateStart:"rotateStart",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[".rotation {\n            position: absolute;\n            height: 40px;\n            width: 1px;\n            transform-origin: 50% 100%;\n            height: calc(40px * var(--zoom));\n            top: auto;\n            left: 0;\n            bottom: 100%;\n            will-change: transform;\n        }\n        .rotation .rotation-line {\n            display: block;\n            width: 100%;\n            height: 100%;\n            transform-origin: 50% 50%;\n        }\n        .rotation .rotation-control {\n            border-color: #4af;\n            border-color: var(--moveable-color);\n            background:#fff;\n            cursor: alias;\n        }"],render:function(t,e){var n=t.props,i=n.rotatable,r=n.rotationPosition,a=n.zoom,o=t.state,s=o.renderPoses,l=o.direction;if(!i)return null;var c=function(t,e,n){var i=e[0],r=e[1],a=e[2],o=e[3],s=(t||"top").split("-"),l=s[0],c=s[1],u=[i,r];"left"===l?u=[a,i]:"right"===l?u=[r,o]:"bottom"===l&&(u=[o,a]);var h=[(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2],d=qa(u,n);if(c){var p="top"===c||"left"===c,f="bottom"===l||"left"===l;h=u[p&&!f||!p&&f?0:1]}return[h,d]}(r,s,l),u=c[0],h=c[1];return e.createElement("div",{key:"rotation",className:Ma("rotation"),style:{transform:"translate(-50%) translate("+u[0]+"px, "+u[1]+"px) rotate("+h+"rad)"}},e.createElement("div",{className:Ma("line rotation-line"),style:{transform:"scaleX("+a+")"}}),e.createElement("div",{className:Ma("control rotation-control"),style:{transform:"translate(0.5px) scale("+a+")"}}))},dragControlCondition:Ys,dragControlStart:function(t,e){var n=e.datas,i=e.clientX,r=e.clientY,a=e.parentRotate,o=e.parentFlag,s=e.isPinch,l=e.isRequest,c=t.state,u=c.target,h=c.left,d=c.top,p=c.origin,f=c.beforeOrigin,g=c.direction,v=c.beforeDirection,m=c.targetTransform,b=c.moveableClientRect;if(!l&&!u)return!1;var y=t.getRect();if(n.rect=y,n.transform=m,n.left=h,n.top=d,n.fixedPosition=Go(t,Xo(t)),n.absoluteInfo={origin:y.origin,startValue:y.rotation},Hs(t,n.absoluteInfo,i,r,p,b),l||s||o){var w=a||0;n.beforeInfo={origin:y.beforeOrigin,prevDeg:w,startDeg:w,prevSnapDeg:w,loop:0},n.afterInfo={origin:y.origin,prevDeg:w,startDeg:w,prevSnapDeg:w,loop:0}}else n.beforeInfo={origin:y.beforeOrigin},n.afterInfo={origin:y.origin},Hs(t,n.beforeInfo,i,r,f,b),Hs(t,n.afterInfo,i,r,p,b);n.direction=g,n.beforeDirection=v,n.startValue=0,n.datas={},Fo(e);var x=no(t,e,pa(pa({set:function(t){n.startValue=t*Math.PI/180}},jo(e)),{dragStart:Ns.dragStart(t,(new _o).dragStart([0,0],e))})),_=ro(t,"onRotateStart",x);return n.isRotate=!1!==_,t.state.snapRenderInfo={request:e.isRequest},!!n.isRotate&&x},dragControl:function(t,e){var n,i,r,a,o,s,l,c,u,h=e.datas,d=e.clientX,p=e.clientY,f=e.parentRotate,g=e.parentFlag,v=e.isPinch,m=e.groupDelta,b=h.beforeDirection,y=h.beforeInfo,w=h.afterInfo,x=h.absoluteInfo,_=h.isRotate,O=h.startValue,C=h.rect;if(_){Eo(e,"rotate");var k,S,M,E,T,P,L,R,I,D=b*function(t){return Na(t.datas.beforeTransform,[50,50],100,100).direction}(e),z=t.props,A=z.throttleRotate,j=void 0===A?0:A,F=z.parentMoveable,B=180/Math.PI*O,V=x.startValue;if(!g&&"parentDist"in e){var N=e.parentDist;k=(n=Xs(t,C,w,N,0,B))[0],S=n[1],M=n[2],E=(i=Xs(t,C,y,N,0,B))[0],T=i[1],P=i[2],L=(r=Xs(t,C,x,N,0,V))[0],R=r[1],I=r[2]}else v||g?(k=(a=Gs(t,C,w,f,D,B,j))[0],S=a[1],M=a[2],E=(o=Gs(t,C,y,f,b,B,j))[0],T=o[1],P=o[2],L=(s=Gs(t,C,x,f,D,V,j))[0],R=s[1],I=s[2]):(k=(l=Us(t,C,w,D,d,p,B,j))[0],S=l[1],M=l[2],E=(c=Us(t,C,y,b,d,p,B,j))[0],T=c[1],P=c[2],L=(u=Us(t,C,x,D,d,p,V,j))[0],R=u[1],I=u[2]);if(L||k||E||F){var H=To(h,"rotate("+M+"deg)","rotate("+S+"deg)"),X=function(t,e,n,i){return Ho(t,"rotate("+e+"deg)",Xo(t),n,i)}(t,S,h.fixedPosition,h),G=mr(vr(m||[0,0],X),h.prevInverseDist||[0,0]);h.prevInverseDist=X;var U=no(t,e,pa({delta:k,dist:S,rotate:M,beforeDist:T,beforeDelta:E,beforeRotate:P,absoluteDist:R,absoluteDelta:L,absoluteRotate:I,isPinch:!!v},No(t,H,G,v,e)));return ro(t,"onRotate",U),U}}},dragControlEnd:function(t,e){var n=e.datas,i=e.isDrag;return!!n.isRotate&&(n.isRotate=!1,ro(t,"onRotateEnd",io(t,e,{})),i)},dragGroupControlCondition:Ys,dragGroupControlStart:function(t,e){var n=e.datas,i=t.state,r=i.left,a=i.top,o=i.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(n.beforeDirection*t.rotation);var l=ko(t,this,"dragControlStart",e,(function(t,e){var n=t.state,i=n.left,s=n.top,l=n.beforeOrigin,c=vr(mr([i,s],[r,a]),mr(l,o));return e.datas.groupClient=c,pa(pa({},e),{parentRotate:0})})),c=ro(t,"onRotateGroupStart",pa(pa({},s),{targets:t.props.targets,events:l}));return n.isRotate=!1!==c,!!n.isRotate&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isRotate){var i=this.dragControl(t,e);if(i){var r=n.beforeDirection,a=i.beforeDist,o=i.beforeDelta/180*Math.PI,s=ko(t,this,"dragControl",e,(function(t,e){var n=e.datas.groupClient,i=n[0],s=n[1],l=Cr([i,s],o*r),c=l[0],u=l[1],h=[c-i,u-s];return e.datas.groupClient=[c,u],pa(pa({},e),{parentRotate:a,groupDelta:h})}));t.rotation=r*i.beforeRotate;var l=pa({targets:t.props.targets,events:s,set:function(e){t.rotation=e}},i);return ro(t,"onRotateGroup",l),l}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isRotate)return this.dragControlEnd(t,e),ko(t,this,"dragControlEnd",e),ro(t,"onRotateGroupEnd",io(t,e,{targets:t.props.targets})),n},request:function(t){var e={},n=0,i=t.getRotation();return{isControl:!0,requestStart:function(t){return{datas:e}},request:function(t){return"deltaRotate"in t?n+=t.deltaRotate:"rotate"in t&&(n=t.rotate-i),{datas:e,parentDist:n}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Ws(t,e,n){var i=t.state,r=i.renderPoses,a=i.rotation,o=t.props,s=o.renderDirections,l=void 0===s?e:s,c=o.zoom,u=t.state.direction,h={};return l.forEach((function(t){h[t]=!0})),l.map((function(t){var e=Ca[t];if(!e||!h[t])return null;var i=Qa(a/Math.PI*180,15)+ka[t];return u<1&&(i=360-i),i%=180,n.createElement("div",{className:Ma("control","direction",t),"data-rotation":i,"data-direction":t,key:"direction-"+t,style:Ua.apply(void 0,fa([a,c],e.map((function(t){return r[t]}))))})}))}function $s(t,e,n,i,r,a){for(var o=[],s=6;s<arguments.length;s++)o[s-6]=arguments[s];var l=Ce(n,i),c=e?Qa(l/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line"+a,className:Ma.apply(void 0,fa(["line","direction",e],o)),"data-rotation":c,"data-line-index":a,"data-direction":e,style:Ga(n,i,r,l)})}function Zs(t,e){return Ws(t,Oa,e)}function Js(t,e){return Ws(t,["nw","ne","sw","se"],e)}var Ks={name:"resizable",ableGroup:"size",updateRect:!0,canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean},events:{onResizeStart:"resizeStart",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:function(t,e){var n=t.props,i=n.resizable,r=n.edge;if(i)return r?Js(t,e):Zs(t,e)},dragControlCondition:mo,dragControlStart:function(t,e){var n,i=e.inputEvent,r=e.isPinch,a=e.parentDirection,o=e.datas,s=e.parentFlag,l=a||(r?[0,0]:Za(i.target)),c=t.state,u=c.target,h=c.width,d=c.height;if(!l||!u)return!1;!r&&Mo(t,e),o.datas={},o.direction=l,o.startOffsetWidth=h,o.startOffsetHeight=d,o.prevWidth=0,o.prevHeight=0,n=function(t){var e=window.getComputedStyle(t);return[parseFloat(e.width),parseFloat(e.height)]}(u),o.startWidth=n[0],o.startHeight=n[1];var p=[Math.max(0,h-o.startWidth),Math.max(0,d-o.startHeight)];if(o.minSize=p,o.maxSize=[1/0,1/0],!s){var f=window.getComputedStyle(u);o.minSize=vr([parseFloat(f.minWidth)||0,parseFloat(f.minHeight)||0],p),o.maxSize=vr([parseFloat(f.maxWidth)||1/0,parseFloat(f.maxHeight)||1/0],p)}var g=t.props.transformOrigin||"% %";function v(t){o.ratio=t&&isFinite(t)?t:0}function m(e){o.fixedDirection=e,o.fixedPosition=Uo(t,e)}o.transformOrigin=g&&oe(g)?g.split(" "):g,o.isWidth=!l[0]&&!l[1]||l[0]||!l[1],v(h/d),m([-l[0],-l[1]]);var b=no(t,e,{direction:l,set:function(t){var e=t[0],n=t[1];o.startWidth=e,o.startHeight=n},setMin:function(t){o.minSize=t},setMax:function(t){o.maxSize=t},setRatio:v,setFixedDirection:m,setOrigin:function(t){o.transformOrigin=t},dragStart:Ns.dragStart(t,(new _o).dragStart([0,0],e))});return!1!==ro(t,"onResizeStart",b)&&(o.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:l}),!!o.isResize&&b},dragControl:function(t,e){var n,i=e.datas,r=e.distX,a=e.distY,o=e.parentFlag,s=e.isPinch,l=e.parentDistance,c=e.parentScale,u=e.parentKeepRatio,h=e.dragClient,d=e.parentDist,p=e.isRequest,f=i.isResize,g=i.transformOrigin,v=i.fixedDirection,m=i.startWidth,b=i.startHeight,y=i.prevWidth,w=i.prevHeight,x=i.minSize,_=i.maxSize,O=i.ratio,C=i.isWidth;if(f){var k=t.props,S=k.throttleResize,M=void 0===S?0:S,E=k.parentMoveable,T=k.snapThreshold,P=void 0===T?5:T,L=i.direction,R=L,I=0,D=0;L[0]||L[1]||(R=[1,1]);var z=O&&(t.props.keepRatio||u),A=h,j=i.startOffsetWidth,F=i.startOffsetHeight;if(h||(A=!o&&s?Uo(t,[0,0]):i.fixedPosition),d)I=d[0],D=d[1];else if(c)I=(c[0]-1)*j,D=(c[1]-1)*F;else if(s)l&&(I=l,D=l*F/j);else{var B=Ro({datas:i,distX:r,distY:a});if(I=R[0]*B[0],D=R[1]*B[1],z&&j&&F){var V=Ce([0,0],B),N=Ce([0,0],R),H=Ce([0,0],[j,F]),X=Ha([I,D]),G=Math.cos(V-N)*X;R[0]?R[1]?(I=Math.cos(H)*G,D=Math.sin(H)*G):D=(I=G)*O:I=(D=G)/O}else if(!z){var U=fa(L);j||(B[0]<0?U[0]=-1:B[0]>0&&(U[0]=1)),F||(B[1]<0?U[1]=-1:B[1]>0&&(U[1]=1)),L=U,I=(R=U)[0]*B[0],D=R[1]*B[1]}}var Y=R[0]||z?Math.max(j+I,1e-7):j,q=R[1]||z?Math.max(F+D,1e-7):F;z&&j&&F&&(C?q=Y/O:Y=q*O);var W=[0,0];if(s||(W=function(t,e,n,i,r,a,o){if(!bs(t,"resizable"))return[0,0];var s=t.state,l=s.allMatrix,c=s.is3d;return Es(t,(function(t,a){return ws(l,e+t,n+a,r,i,c)}),e,n,i,r,a,o)}(t,Y,q,L,A,p,i)),d&&(!d[0]&&(W[0]=0),!d[1]&&(W[1]=0)),z){R[0]&&R[1]&&W[0]&&W[1]&&(Math.abs(W[0])>Math.abs(W[1])?W[1]=0:W[0]=0);var $=!W[0]&&!W[1];$&&(C?Y=Qa(Y,M):q=Qa(q,M)),R[0]&&!R[1]||W[0]&&!W[1]||$&&C?q=(Y+=W[0])/O:(!R[0]&&R[1]||!W[0]&&W[1]||$&&!C)&&(Y=(q+=W[1])*O)}else j+I<-P&&(W[0]=0),j+D<-P&&(W[1]=0),Y+=W[0],q+=W[1],W[0]||(Y=Qa(Y,M)),W[1]||(q=Qa(q,M));Y=(n=function(t,e,n,i){if(!i)return t.map((function(t,i){return we(t,e[i],n[i])}));var r=t[0],a=t[1],o=_e(t,e,!1),s=o[0],l=o[1],c=_e(t,n,!0),u=c[0],h=c[1];return r<s||a<l?(r=s,a=l):(r>u||a>h)&&(r=u,a=h),[r,a]}([Y,q],x,_,z))[0],q=n[1];var Z=[(I=(Y=Math.round(Y))-j)-y,(D=(q=Math.round(q))-F)-w];i.prevWidth=I,i.prevHeight=D;var J=function(t,e,n,i,r,a){var o=t.props.groupable,s=t.state,l=s.transformOrigin,c=s.targetMatrix,u=s.offsetMatrix,h=s.is3d,d=s.width,p=s.height,f=s.left,g=s.top,v=h?4:3,m=o?f:0,b=o?g:0;return mr(function(t,e,n,i,r,a){var o=zo(Fa(e,n,i,r),a);return[t[0]-o[0],t[1]-o[1]]}(r,Ao(u,c,function(t,e,n,i,r,a){return void 0===i&&(i=e),void 0===r&&(r=n),void 0===a&&(a=[0,0]),t?t.map((function(t,o){var s=pe(t),l=s.value,c=s.unit,u=o?r:i,h=o?n:e;return"%"===t||isNaN(l)?h*(u?a[o]/u:0):"%"!==c?l:h*l/100})):a}(a,e,n,d,p,l),v),e,n,v,i),[m,b])}(t,Y,q,v,A,g);if(E||!Z.every((function(t){return!t}))||!J.every((function(t){return!t}))){var K=no(t,e,{width:m+I,height:b+D,offsetWidth:Y,offsetHeight:q,direction:L,dist:[I,D],delta:Z,isPinch:!!s,drag:Ns.drag(t,xo(e,t.state,J,!!s,!1))});return ro(t,"onResize",K),K}}},dragControlAfter:function(t,e){var n=e.datas,i=n.isResize,r=n.startOffsetWidth,a=n.startOffsetHeight,o=n.prevWidth,s=n.prevHeight;if(i){var l=t.state,c=l.width-(r+o),u=l.height-(a+s),h=Math.abs(c)>3,d=Math.abs(u)>3;return h&&(n.startWidth+=c,n.startOffsetWidth+=c,n.prevWidth+=c),d&&(n.startHeight+=u,n.startOffsetHeight+=u,n.prevHeight+=u),h||d?(this.dragControl(t,e),!0):void 0}},dragControlEnd:function(t,e){var n=e.datas,i=e.isDrag;return!!n.isResize&&(n.isResize=!1,ro(t,"onResizeEnd",io(t,e,{})),i)},dragGroupControlCondition:mo,dragGroupControlStart:function(t,e){var n=e.datas,i=this.dragControlStart(t,e);if(!i)return!1;var r=Oo(t,"resizable",e);function a(e,i){var r=n.fixedDirection,a=n.fixedPosition,o=Uo(e,r),s=yr(Mr(-t.rotation/180*Math.PI,3),[o[0]-a[0],o[1]-a[1],1],3),l=s[0],c=s[1];return i.datas.originalX=l,i.datas.originalY=c,i}var o=ko(t,this,"dragControlStart",e,(function(t,e){return a(t,e)})),s=pa(pa({},i),{targets:t.props.targets,events:o,setFixedDirection:function(e){i.setFixedDirection(e),o.forEach((function(n,i){n.setFixedDirection(e),a(t.moveables[i],r[i])}))}}),l=ro(t,"onResizeGroupStart",s);return n.isResize=!1!==l,!!n.isResize&&i},dragGroupControl:function(t,e){var n=e.datas;if(n.isResize){var i=this.dragControl(t,e);if(i){var r=i.offsetWidth,a=i.offsetHeight,o=i.dist,s=t.props.keepRatio,l=[r/(r-o[0]),a/(a-o[1])],c=n.fixedPosition,u=ko(t,this,"dragControl",e,(function(e,n){var i=yr(Mr(t.rotation/180*Math.PI,3),[n.datas.originalX*l[0],n.datas.originalY*l[1],1],3),r=i[0],a=i[1];return pa(pa({},n),{parentDist:null,parentScale:l,dragClient:vr(c,[r,a]),parentKeepRatio:s})})),h=pa({targets:t.props.targets,events:u},i);return ro(t,"onResizeGroup",h),h}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isResize)return this.dragControlEnd(t,e),ko(t,this,"dragControlEnd",e),ro(t,"onResizeGroupEnd",io(t,e,{targets:t.props.targets})),n},request:function(t){var e={},n=0,i=0,r=t.getRect();return{isControl:!0,requestStart:function(t){return{datas:e,parentDirection:t.direction||[1,1]}},request:function(t){return"offsetWidth"in t?n=t.offsetWidth-r.offsetWidth:"deltaWidth"in t&&(n+=t.deltaWidth),"offsetHeight"in t?i=t.offsetHeight-r.offsetHeight:"deltaHeight"in t&&(i+=t.deltaHeight),{datas:e,parentDist:[n,i]}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},Qs={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean},events:{onScaleStart:"scaleStart",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:function(t,e){var n=t.props,i=n.resizable,r=n.scalable,a=n.edge;if(!i&&r)return a?Js(t,e):Zs(t,e)},dragControlCondition:mo,dragControlStart:function(t,e){var n=e.datas,i=e.isPinch,r=e.inputEvent,a=e.parentDirection||(i?[0,0]:Za(r.target)),o=t.state,s=o.width,l=o.height,c=o.targetTransform,u=o.target;if(!a||!u)return!1;i||Mo(t,e),Fo(e),n.datas={},n.transform=c,n.prevDist=[1,1],n.direction=a,n.width=s,n.height=l,n.startValue=[1,1];var h=!a[0]&&!a[1]||a[0]||!a[1];function d(e){n.fixedDirection=e,n.fixedPosition=Uo(t,e)}n.isWidth=h,d([-a[0],-a[1]]);var p=no(t,e,pa(pa({direction:a,set:function(t){n.startValue=t},setFixedDirection:d},jo(e)),{dragStart:Ns.dragStart(t,(new _o).dragStart([0,0],e))}));return!1!==ro(t,"onScaleStart",p)&&(n.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:a}),!!n.isScale&&p},dragControl:function(t,e){Eo(e,"scale");var n=e.datas,i=e.distX,r=e.distY,a=e.parentScale,o=e.parentDistance,s=e.parentKeepRatio,l=e.parentFlag,c=e.isPinch,u=e.dragClient,h=e.parentDist,d=e.isRequest,p=n.prevDist,f=n.direction,g=n.width,v=n.height,m=n.isScale,b=n.startValue,y=n.isWidth,w=n.fixedDirection;if(!m)return!1;var x=t.props,_=x.throttleScale,O=x.parentMoveable,C=f;f[0]||f[1]||(C=[1,1]);var k=t.props.keepRatio||s,S=t.state,M=g*b[0],E=v*b[1],T=M/E,P=1,L=1,R=u;if(u||(R=!l&&c?Uo(t,[0,0]):n.fixedPosition),h)P=(g+h[0])/g,L=(v+h[1])/v;else if(a)P=a[0],L=a[1];else if(c)o&&(P=(g+o)/g,L=(v+o*v/g)/v);else{var I=Ro({datas:n,distX:i,distY:r}),D=C[0]*I[0],z=C[1]*I[1];if(k&&g&&v){var A=Ce([0,0],I),j=Ce([0,0],C),F=Ce([0,0],[M,E]),B=Ha([D,z]),V=Math.cos(A-j)*B;C[0]?C[1]?(D=Math.cos(F)*V,z=Math.sin(F)*V):z=(D=V)/T:D=(z=V)*T}P=(g+D)/g,L=(v+z)/v}P=C[0]||k?P*b[0]:b[0],L=C[1]||k?L*b[1]:b[1],0===P&&(P=1e-9*(p[0]>0?1:-1)),0===L&&(L=1e-9*(p[1]>0?1:-1));var N=[P/b[0],L/b[1]],H=[P,L];if(!c&&t.props.groupable){var X=(S.snapRenderInfo||{}).direction;ae(X)&&(X[0]||X[1])&&(S.snapRenderInfo={direction:f,request:e.isRequest})}var G=[0,0];if(c||(G=function(t,e,n,i,r){var a=r.width,o=r.height,s=r.fixedPosition;if(!bs(t,"scalable"))return[0,0];var l=r.is3d,c=Es(t,(function(t,i){return ws(function(t,e){var n=t.transformOrigin,i=t.offsetMatrix,r=t.is3d?4:3;return Ao(i,gr(t.targetMatrix,Tr(e,r),r),n,r)}(r,vr(e,[t/a,i/o])),a,o,s,n,l)}),a,o,n,s,i,r);return[c[0]/a,c[1]/o]}(t,N,f,d,n)),k){C[0]&&C[1]&&G[0]&&G[1]&&(Math.abs(G[0])>Math.abs(G[1])?G[1]=0:G[0]=0);var U=!G[0]&&!G[1];if(U&&(y?N[0]=Qa(N[0]*b[0],_)/b[0]:N[1]=Qa(N[1]*b[1],_)/b[1]),C[0]&&!C[1]||G[0]&&!G[1]||U&&y){N[0]+=G[0];var Y=g*N[0]*b[0]/T;N[1]=Y/v/b[1]}else if(!C[0]&&C[1]||!G[0]&&G[1]||U&&!y){N[1]+=G[1];var q=v*N[1]*b[1]*T;N[0]=q/g/b[0]}}else N[0]+=G[0],N[1]+=G[1],G[0]||(N[0]=Qa(N[0]*b[0],_)/b[0]),G[1]||(N[1]=Qa(N[1]*b[1],_)/b[1]);0===N[0]&&(N[0]=1e-9*(p[0]>0?1:-1)),0===N[1]&&(N[1]=1e-9*(p[1]>0?1:-1));var W,$,Z=[N[0]/p[0],N[1]/p[1]];$=b,H=[(W=N)[0]*$[0],W[1]*$[1]];var J=function(t,e,n,i,r){return Ho(t,"scale("+e.join(", ")+")",n,i,r)}(t,N,w,R,n),K=mr(J,n.prevInverseDist||[0,0]);if(n.prevDist=N,n.prevInverseDist=J,P===p[0]&&L===p[1]&&K.every((function(t){return!t}))&&!O)return!1;var Q=To(n,"scale("+H.join(", ")+")","scale("+N.join(", ")+")"),tt=no(t,e,pa({offsetWidth:g,offsetHeight:v,direction:f,scale:H,dist:N,delta:Z,isPinch:!!c},No(t,Q,K,c,e)));return ro(t,"onScale",tt),tt},dragControlEnd:function(t,e){var n=e.datas,i=e.isDrag;return!!n.isScale&&(n.isScale=!1,ro(t,"onScaleEnd",io(t,e,{})),i)},dragGroupControlCondition:mo,dragGroupControlStart:function(t,e){var n=e.datas,i=this.dragControlStart(t,e);if(!i)return!1;var r=Oo(t,"resizable",e);function a(e,i){var r=n.fixedDirection,a=n.fixedPosition,o=Uo(e,r),s=yr(Mr(-t.rotation/180*Math.PI,3),[o[0]-a[0],o[1]-a[1],1],3),l=s[0],c=s[1];return i.datas.originalX=l,i.datas.originalY=c,i}n.moveableScale=t.scale;var o=ko(t,this,"dragControlStart",e,(function(t,e){return a(t,e)})),s=pa(pa({},i),{targets:t.props.targets,events:o,setFixedDirection:function(e){i.setFixedDirection(e),o.forEach((function(n,i){n.setFixedDirection(e),a(t.moveables[i],r[i])}))}}),l=ro(t,"onScaleGroupStart",s);return n.isScale=!1!==l,!!n.isScale&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isScale){var i=this.dragControl(t,e);if(i){var r=n.moveableScale;t.scale=[i.scale[0]*r[0],i.scale[1]*r[1]];var a=t.props.keepRatio,o=i.dist,s=i.scale,l=n.fixedPosition,c=ko(t,this,"dragControl",e,(function(e,n){var i=yr(Mr(t.rotation/180*Math.PI,3),[n.datas.originalX*o[0],n.datas.originalY*o[1],1],3),r=i[0],c=i[1];return pa(pa({},n),{parentDist:null,parentScale:s,parentKeepRatio:a,dragClient:vr(l,[r,c])})})),u=pa({targets:t.props.targets,events:c},i);return ro(t,"onScaleGroup",u),u}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isScale)return this.dragControlEnd(t,e),ko(t,this,"dragControlEnd",e),ro(t,"onScaleGroupEnd",io(t,e,{targets:t.props.targets})),n},request:function(){var t={},e=0,n=0;return{isControl:!0,requestStart:function(e){return{datas:t,parentDirection:e.direction||[1,1]}},request:function(i){return e+=i.deltaWidth,n+=i.deltaHeight,{datas:t,parentDist:[e,n]}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function tl(t,e){return t.map((function(t,n){return i=t,r=e[n],(i*(o=2)+r*(a=1))/(a+o);var i,r,a,o}))}function el(t,e,n){var i=Ce(t,e),r=Ce(t,n)-i;return r>=0?r:r+2*Math.PI}var nl={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},render:function(t,e){var n=t.props,i=n.resizable,r=n.scalable,a=n.warpable,o=n.zoom;if(i||r||!a)return[];var s=t.state,l=s.pos1,c=s.pos2,u=s.pos3,h=s.pos4,d=tl(l,c),p=tl(c,l),f=tl(l,u),g=tl(u,l),v=tl(u,h),m=tl(h,u),b=tl(c,h),y=tl(h,c);return fa([e.createElement("div",{className:Ma("line"),key:"middeLine1",style:Ga(d,v,o)}),e.createElement("div",{className:Ma("line"),key:"middeLine2",style:Ga(p,m,o)}),e.createElement("div",{className:Ma("line"),key:"middeLine3",style:Ga(f,b,o)}),e.createElement("div",{className:Ma("line"),key:"middeLine4",style:Ga(g,y,o)})],Zs(t,e))},dragControlCondition:function(t){return!t.isRequest&&Te(t.inputEvent.target,Ma("direction"))},dragControlStart:function(t,e){var n=e.datas,i=e.inputEvent,r=t.props.target,a=Za(i.target);if(!a||!r)return!1;var o=t.state,s=o.transformOrigin,l=o.is3d,c=o.targetTransform,u=o.targetMatrix,h=o.width,d=o.height,p=o.left,f=o.top;return n.datas={},n.targetTransform=c,n.warpTargetMatrix=l?u:pr(u,3,4),n.targetInverseMatrix=ur(hr(n.warpTargetMatrix,4),3,4),n.direction=a,n.left=p,n.top=f,Mo(t,e),Fo(e),n.poses=[[0,0],[h,0],[0,d],[h,d]].map((function(t){return mr(t,s)})),n.nextPoses=n.poses.map((function(t){var e=t[0],i=t[1];return yr(n.warpTargetMatrix,[e,i,0,1],4)})),n.startValue=Er(4),n.prevMatrix=Er(4),n.absolutePoses=Ka(o),n.posIndexes=Io(a),o.snapRenderInfo={request:e.isRequest,direction:a},!1!==ro(t,"onWarpStart",no(t,e,pa({set:function(t){n.startValue=t}},jo(e))))&&(n.isWarp=!0),n.isWarp},dragControl:function(t,e){var n=e.datas,i=e.isRequest,r=e.distX,a=e.distY,o=n.targetInverseMatrix,s=n.prevMatrix,l=n.isWarp,c=n.startValue,u=n.poses,h=n.posIndexes,d=n.absolutePoses;if(!l)return!1;if(Eo(e,"matrix3d"),bs(t,"warpable")){var p=h.map((function(t){return d[t]}));p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var f=Os(t,i,p.map((function(t){return[t[0]+r,t[1]+a]}))),g=f.horizontal,v=f.vertical;a-=g.offset,r-=v.offset}var m=Ro({datas:n,distX:r,distY:a},!0),b=n.nextPoses.slice();if(h.forEach((function(t){b[t]=vr(b[t],m)})),!wa.every((function(t){return e=t.map((function(t){return u[t]})),n=t.map((function(t){return b[t]})),i=el(e[0],e[1],e[2]),r=el(n[0],n[1],n[2]),!(i>=(a=Math.PI)&&r<=a||i<=a&&r>=a);var e,n,i,r,a})))return!1;var y=Lr(u[0],u[2],u[1],u[3],b[0],b[2],b[1],b[3]);if(!y.length)return!1;var w=Po(n,gr(o,y,4),!0),x=gr(hr(s,4),w,4);n.prevMatrix=w;var _=gr(c,w,4),O=To(n,"matrix3d("+_.join(", ")+")","matrix3d("+w.join(", ")+")");return Vo(e,O),ro(t,"onWarp",no(t,e,{delta:x,matrix:_,dist:w,multiply:gr,transform:O})),!0},dragControlEnd:function(t,e){var n=e.datas,i=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,ro(t,"onWarpEnd",io(t,e,{})),i)}},il=Ma("area-pieces"),rl=Ma("area-piece"),al=Ma("avoid");function ol(t){var e=t.areaElement,n=t.state,i=n.width,r=n.height;(function(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}})(e,al),e.style.cssText+="left: 0px; top: 0px; width: "+i+"px; height: "+r+"px"}function sl(t){return t.createElement("div",{key:"area_pieces",className:il},t.createElement("div",{className:rl}),t.createElement("div",{className:rl}),t.createElement("div",{className:rl}),t.createElement("div",{className:rl}))}var ll={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(t,e){var n=t.props,i=n.target,r=n.dragArea,a=n.groupable,o=n.passDragArea,s=t.state,l=s.width,c=s.height,u=s.renderPoses,h=o?Ma("area","pass"):Ma("area");if(a)return[e.createElement("div",{key:"area",ref:hi(t,"areaElement"),className:h}),sl(e)];if(!i||!r)return[];var d=Lr([0,0],[l,0],[0,c],[l,c],u[0],u[1],u[2],u[3]),p=d.length?Da(d,!0):"none";return[e.createElement("div",{key:"area",ref:hi(t,"areaElement"),className:h,style:{top:"0px",left:"0px",width:l+"px",height:c+"px",transformOrigin:"0 0",transform:p}}),sl(e)]},dragStart:function(t,e){var n=e.datas,i=e.clientX,r=e.clientY;if(!e.inputEvent)return!1;n.isDragArea=!1;var a,o,s=t.areaElement,l=t.state,c=l.moveableClientRect,u=l.renderPoses,h=l.rootMatrix,d=l.is3d,p=c.left,f=c.top,g=Ba(u),v=g.left,m=g.top,b=g.width,y=g.height,w=ho(h,[i-p,r-f],d?4:3),x=w[0],_=w[1],O=[{left:v,top:m,width:b,height:(_-=m)-10},{left:v,top:m,width:(x-=v)-10,height:y},{left:v,top:m+_+10,width:b,height:y-_-10},{left:v+x+10,top:m,width:b-x-10,height:y}],C=[].slice.call(s.nextElementSibling.children);O.forEach((function(t,e){C[e].style.cssText="left: "+t.left+"px;top: "+t.top+"px; width: "+t.width+"px; height: "+t.height+"px;"})),o=al,(a=s).classList?a.classList.add(o):a.className+=" "+o},drag:function(t,e){var n=e.datas;if(!e.inputEvent)return!1;n.isDragArea||(n.isDragArea=!0,ol(t))},dragEnd:function(t,e){var n=e.inputEvent,i=e.datas;if(!n)return!1;i.isDragArea||ol(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){ol(t)}},cl={name:"origin",props:{origin:Boolean},events:{},render:function(t,e){var n=t.props.zoom,i=t.state,r=i.beforeOrigin,a=i.rotation;return[e.createElement("div",{className:Ma("control","origin"),style:Ua(a,n,r),key:"beforeOrigin"})]}};function ul(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var hl={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragStart:function(t,e){var n=t.props.scrollContainer,i=void 0===n?t.getContainer():n,r=new Gr,a=bo(i,!0);e.datas.dragScroll=r;var o=e.isControl?"controlGesto":"targetGesto",s=e.targets;r.on("scroll",(function(n){var i=n.container,r=n.direction,a=no(t,e,{scrollContainer:i,direction:r}),o=s?"onScrollGroup":"onScroll";s&&(a.targets=s),ro(t,o,a)})).on("move",(function(n){var i=n.offsetX,r=n.offsetY;t[o].scrollBy(i,r,e.inputEvent,!1)})),r.dragStart(e,{container:a})},checkScroll:function(t,e){var n=e.datas.dragScroll;if(n){var i=t.props,r=i.scrollContainer,a=void 0===r?t.getContainer():r,o=i.scrollThreshold,s=void 0===o?0:o,l=i.getScrollPosition,c=void 0===l?ul:l;return n.drag(e,{container:a,threshold:s,getScrollPosition:function(t){return c({scrollContainer:t.container,direction:t.direction})}}),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,pa(pa({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,pa(pa({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,pa(pa({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,pa(pa({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,pa(pa({},e),{targets:t.props.targets,isControl:!0}))},dragGroupContro:function(t,e){return this.drag(t,pa(pa({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,pa(pa({},e),{targets:t.props.targets}))}},dl={name:"",props:{target:Object,dragTarget:Object,container:Object,rootContainer:Object,zoom:Number,transformOrigin:Array,edge:Boolean,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,props:Object},events:{}},pl={name:"padding",props:{padding:Object},events:{},render:function(t,e){var n=t.props;if(n.dragArea)return[];var i=n.padding||{},r=i.left,a=void 0===r?0:r,o=i.top,s=void 0===o?0:o,l=i.right,c=void 0===l?0:l,u=i.bottom,h=void 0===u?0:u,d=t.state,p=d.renderPoses,f=[d.pos1,d.pos2,d.pos3,d.pos4],g=[];return a>0&&g.push([0,2]),s>0&&g.push([0,1]),c>0&&g.push([1,3]),h>0&&g.push([2,3]),g.map((function(t,n){var i=t[0],r=t[1],a=Lr([0,0],[100,0],[0,100],[100,100],f[i],f[r],p[i],p[r]);if(a.length)return e.createElement("div",{key:"padding"+n,className:Ma("padding"),style:{transform:Da(a,!0)}})}))}},fl=["nw","ne","se","sw"];function gl(t,e){var n=t[0]+t[1],i=n>e?e/n:1;return t[0]*=i,t[1]=e-t[1]*i,t}var vl=[1,2,5,6],ml=[0,3,4,7],bl=[1,-1,-1,1],yl=[1,1,-1,-1];function wl(t,e,n,i,r,a,o,s,l){void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=i),void 0===l&&(l=r);var c=[],u=!1,h=t.map((function(t,h){var d=e[h],p=d.horizontal,f=d.vertical;if(f&&!u&&(u=!0,c.push("/")),u){var g=Math.max(0,1===f?t[1]-o:l-t[1]);return c.push(go(g,r,n)),g}return g=Math.max(0,1===p?t[0]-a:s-t[0]),c.push(go(g,i,n)),g}));return{styles:c,raws:h}}function xl(t){for(var e=[0,0],n=[0,0],i=t.length,r=0;r<i;++r){var a=t[r];a.sub&&(a.horizontal&&(0===e[1]&&(e[0]=r),e[1]=r-e[0]+1,n[0]=r+1),a.vertical&&(0===n[1]&&(n[0]=r),n[1]=r-n[0]+1))}return{horizontalRange:e,verticalRange:n}}function _l(t,e,n,i,r,a){var o,s,l,c;void 0===a&&(a=[0,0]);var u=t.indexOf("/"),h=(u>-1?t.slice(0,u):t).length,d=t.slice(0,h),p=t.slice(h+1),f=d[0],g=void 0===f?"0px":f,v=d[1],m=void 0===v?g:v,b=d[2],y=void 0===b?g:b,w=d[3],x=void 0===w?m:w,_=p[0],O=void 0===_?g:_,C=p[1],k=void 0===C?O:C,S=p[2],M=void 0===S?O:S,E=p[3],T=void 0===E?k:E,P=[g,m,y,x].map((function(t){return ye(t,e)})),L=[O,k,M,T].map((function(t){return ye(t,n)})),R=P.slice(),I=L.slice();o=gl([R[0],R[1]],e),R[0]=o[0],R[1]=o[1],s=gl([R[3],R[2]],e),R[3]=s[0],R[2]=s[1],l=gl([I[0],I[3]],n),I[0]=l[0],I[3]=l[1],c=gl([I[1],I[2]],n),I[1]=c[0],I[2]=c[1];var D=R.slice(0,Math.max(a[0],d.length)),z=I.slice(0,Math.max(a[1],p.length));return fa(D.map((function(t,e){var a=fl[e];return{horizontal:bl[e],vertical:0,pos:[i+t,r+(-1===yl[e]?n:0)],sub:!0,raw:P[e],direction:a}})),z.map((function(t,n){var a=fl[n];return{horizontal:0,vertical:yl[n],pos:[i+(-1===bl[n]?e:0),r+t],sub:!0,raw:L[n],direction:a}})))}function Ol(t,e,n,i,r){void 0===r&&(r=e.length);var a=xl(t.slice(i)),o=a.horizontalRange,s=a.verticalRange,l=n-i,c=0;if(0===l)c=r;else if(l>0&&l<o[1])c=o[1]-l;else{if(!(l>=s[0]))return;c=s[0]+s[1]-l}t.splice(n,c),e.splice(n,c)}function Cl(t,e,n,i,r,a,o,s,l,c,u){void 0===c&&(c=0),void 0===u&&(u=0);var h=xl(t.slice(n)),d=h.horizontalRange,p=h.verticalRange;if(i>-1)for(var f=1===bl[i]?a-c:s-a,g=d[1];g<=i;++g){var v=1===yl[g]?u:l,m=0;if(i===g?m=a:0===g?m=c+f:-1===bl[g]&&(m=s-(e[n][0]-c)),t.splice(n+g,0,{horizontal:bl[g],vertical:0,pos:[m,v]}),e.splice(n+g,0,[m,v]),0===g)break}else if(r>-1){var b=1===yl[r]?o-u:l-o;if(0===d[1]&&0===p[1]){var y=[c+b,u];t.push({horizontal:bl[0],vertical:0,pos:y}),e.push(y)}var w=p[0];for(g=p[1];g<=r&&(m=1===bl[g]?c:s,v=0,r===g?v=o:0===g?v=u+b:1===yl[g]?v=e[n+w][1]:-1===yl[g]&&(v=l-(e[n+w][1]-u)),t.push({horizontal:0,vertical:yl[g],pos:[m,v]}),e.push([m,v]),0!==g);++g);}}function kl(t,e){return void 0===e&&(e=t.map((function(t){return t.raw}))),{horizontals:t.map((function(t,n){return t.horizontal?e[n]:null})).filter((function(t){return null!=t})),verticals:t.map((function(t,n){return t.vertical?e[n]:null})).filter((function(t){return null!=t}))}}var Sl=[[0,-1,"n"],[1,0,"e"]],Ml=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function El(t,e,n){var i=t.props.clipRelative,r=t.state,a=r.width,o=r.height,s=e,l=s.type,c=s.poses,u="rect"===l,h="circle"===l;if("polygon"===l)return n.map((function(t){return go(t[0],a,i)+" "+go(t[1],o,i)}));if(u||"inset"===l){var d=n[1][1],p=n[3][0],f=n[7][0],g=n[5][1];if(u)return[d,p,g,f].map((function(t){return t+"px"}));var v=[d,a-p,o-g,f].map((function(t,e){return go(t,e%2?a:o,i)}));if(n.length>8){var m=mr(n[4],n[0]),b=m[0],y=m[1];v.push.apply(v,fa(["round"],wl(n.slice(8),c.slice(8),i,b,y,f,d,p,g).styles))}return v}if(h||"ellipse"===l){var w=n[0],x=go(Math.abs(n[1][1]-w[1]),h?Math.sqrt((a*a+o*o)/2):o,i);return(v=h?[x]:[go(Math.abs(n[2][0]-w[0]),a,i),x]).push("at",go(w[0],a,i),go(w[1],o,i)),v}}function Tl(t,e,n,i){var r=[i,(i+e)/2,e],a=[t,(t+n)/2,n];return Ml.map((function(t){var e=t[0],n=t[1],i=t[2],o=r[e+1],s=a[n+1];return{vertical:Math.abs(n),horizontal:Math.abs(e),direction:i,pos:[o,s]}}))}function Pl(t,e,n,i,r){var a,o,s,l,c,u,h,d=r;if(!d){var p=getComputedStyle(t),f=p.clipPath;d="none"!==f?f:p.clip}if(d&&"none"!==d&&"auto"!==d||(d=i)){var g=de(d),v=g.prefix,m=void 0===v?d:v,b=g.value,y=void 0===b?"":b,w="circle"===m,x=" ";if("polygon"===m)return x=",",{type:m,clipText:d,poses:L=(T=he(y||"0% 0%, 100% 0%, 100% 100%, 0% 100%")).map((function(t){var i=t.split(" "),r=i[0],a=i[1];return{vertical:1,horizontal:1,pos:[ye(r,e),ye(a,n)]}})),splitter:x};if(w||"ellipse"===m){var _,O,C,k="",S="",M=0,E=0,T=ue(y);if(w)_=void 0===(a=T[0])?"50%":a,k=void 0===(o=T[2])?"50%":o,S=void 0===(s=T[3])?"50%":s,M=ye(_,Math.sqrt((e*e+n*n)/2)),E=M;else O=void 0===(l=T[0])?"50%":l,C=void 0===(c=T[1])?"50%":c,k=void 0===(u=T[3])?"50%":u,S=void 0===(h=T[4])?"50%":h,M=ye(O,e),E=ye(C,n);var P=[ye(k,e),ye(S,n)],L=fa([{vertical:1,horizontal:1,pos:P,direction:"nesw"}],Sl.slice(0,w?1:2).map((function(t){return{vertical:Math.abs(t[1]),horizontal:t[0],direction:t[2],sub:!0,pos:[P[0]+t[0]*M,P[1]+t[1]*E]}})));return{type:m,clipText:d,radiusX:M,radiusY:E,left:P[0]-M,top:P[1]-E,poses:L,splitter:x}}if("inset"===m){var R=(T=ue(y||"0 0 0 0")).indexOf("round"),I=(R>-1?T.slice(0,R):T).length,D=T.slice(I+1),z=T.slice(0,I),A=z[0],j=z[1],F=void 0===j?A:j,B=z[2],V=void 0===B?A:B,N=z[3],H=void 0===N?F:N,X=[A,V].map((function(t){return ye(t,n)})),G=X[0],U=X[1],Y=[H,F].map((function(t){return ye(t,e)})),q=Y[0],W=Y[1],$=e-W,Z=n-U,J=_l(D,$-q,Z-G,q,G);return{type:"inset",clipText:d,poses:L=fa(Tl(G,$,Z,q),J),top:G,left:q,right:$,bottom:Z,radius:D,splitter:x}}if("rect"===m){x=",";var K=(T=he(y||"0px, "+e+"px, "+n+"px, 0px")).map((function(t){return pe(t).value}));return{type:"rect",clipText:d,poses:L=Tl(G=K[0],W=K[1],U=K[2],q=K[3]),top:G,right:W,bottom:U,left:q,values:T,splitter:x}}}}var Ll={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[".control.clip-control {\n    background: #6d6;\n    cursor: pointer;\n}\n.control.clip-control.clip-radius {\n    background: #d66;\n}\n.line.clip-line {\n    background: #6e6;\n    cursor: move;\n    z-index: 1;\n}\n.clip-area {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n.clip-ellipse {\n    position: absolute;\n    cursor: move;\n    border: 1px solid #6d6;\n    border: var(--zoompx) solid #6d6;\n    border-radius: 50%;\n    transform-origin: 0px 0px;\n}",":host {\n    --bounds-color: #d66;\n}",".guideline {\n    pointer-events: none;\n    z-index: 2;\n}",".line.guideline.bounds {\n    background: #d66;\n    background: var(--bounds-color);\n}"],render:function(t,e){var n=t.props,i=n.customClipPath,r=n.defaultClipPath,a=n.clipArea,o=n.zoom,s=t.state,l=s.target,c=s.width,u=s.height,h=s.allMatrix,d=s.is3d,p=s.left,f=s.top,g=s.pos1,v=s.pos2,m=s.pos3,b=s.pos4,y=s.clipPathState,w=s.snapBoundInfos;if(!l)return[];var x=Pl(l,c,u,r||"inset",y||i);if(!x)return[];var _=d?4:3,O=x.type,C=x.poses.map((function(t){var e=ja(h,t.pos,_);return[e[0]-p,e[1]-f]})),k=[],S=[],M="rect"===O,E="inset"===O,T="polygon"===O;if(M||E||T){var P=E?C.slice(0,8):C;S=P.map((function(t,n){var i=0===n?P[P.length-1]:P[n-1],r=Ce(i,t),a=Xa(i,t);return e.createElement("div",{key:"clipLine"+n,className:Ma("line","clip-line","snap-control"),"data-clip-index":n,style:{width:a+"px",transform:"translate("+i[0]+"px, "+i[1]+"px) rotate("+r+"rad) scaleY("+o+")"}})}))}if(k=C.map((function(t,n){return e.createElement("div",{key:"clipControl"+n,className:Ma("control","clip-control","snap-control"),"data-clip-index":n,style:{transform:"translate("+t[0]+"px, "+t[1]+"px) scale("+o+")"}})})),E&&k.push.apply(k,C.slice(8).map((function(t,n){return e.createElement("div",{key:"clipRadiusControl"+n,className:Ma("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+n,style:{transform:"translate("+t[0]+"px, "+t[1]+"px) scale("+o+")"}})}))),"circle"===O||"ellipse"===O){var L=x.left,R=x.top,I=x.radiusX,D=x.radiusY,z=mr(ja(h,[L,R],_),ja(h,[0,0],_)),A=z[0],j=z[1],F="none";if(!a){for(var B=Math.max(10,I/5,D/5),V=[],N=0;N<=B;++N){var H=2*Math.PI/B*N;V.push([I+(I-o)*Math.cos(H),D+(D-o)*Math.sin(H)])}V.push([I,-2]),V.push([-2,-2]),V.push([-2,2*D+2]),V.push([2*I+2,2*D+2]),V.push([2*I+2,-2]),V.push([I,-2]),F="polygon("+V.map((function(t){return t[0]+"px "+t[1]+"px"})).join(", ")+")"}k.push(e.createElement("div",{key:"clipEllipse",className:Ma("clip-ellipse","snap-control"),style:{width:2*I+"px",height:2*D+"px",clipPath:F,transform:"translate("+(-p+A)+"px, "+(-f+j)+"px) "+Da(h)}}))}if(a){var X=Ba(fa([g,v,m,b],C)),G=X.width,U=X.height,Y=X.left,q=X.top;(T||M||E)&&(V=E?C.slice(0,8):C,k.push(e.createElement("div",{key:"clipArea",className:Ma("clip-area","snap-control"),style:{width:G+"px",height:U+"px",transform:"translate("+Y+"px, "+q+"px)",clipPath:"polygon("+V.map((function(t){return t[0]-Y+"px "+(t[1]-q)+"px"})).join(", ")+")"}})))}return w&&["vertical","horizontal"].forEach((function(t){var n=w[t],i="horizontal"===t;n.isSnap&&S.push.apply(S,n.snap.posInfos.map((function(n,r){var a=n.pos,s=mr(ja(h,i?[0,a]:[a,0],_),[p,f]),l=mr(ja(h,i?[c,a]:[a,u],_),[p,f]);return $s(e,"",s,l,o,"clip"+t+"snap"+r,"guideline")}))),n.isBound&&S.push.apply(S,n.bounds.map((function(n,r){var a=n.pos,s=mr(ja(h,i?[0,a]:[a,0],_),[p,f]),l=mr(ja(h,i?[c,a]:[a,u],_),[p,f]);return $s(e,"",s,l,o,"clip"+t+"bounds"+r,"guideline","bounds","bold")})))})),fa(k,S)},dragControlCondition:function(t){return t.inputEvent&&(t.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var n=t.props.dragWithClip;return!(void 0===n||n)&&this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,e)},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var n=t.state,i=t.props,r=i.defaultClipPath,a=i.customClipPath,o=n.target,s=n.width,l=n.height,c=e.inputEvent?e.inputEvent.target:null,u=c?c.getAttribute("class"):"",h=e.datas,d=Pl(o,s,l,r||"inset",a);if(!d)return!1;var p=d.clipText;return!1===ro(t,"onClipStart",no(t,e,{clipType:d.type,clipStyle:p,poses:d.poses.map((function(t){return t.pos}))}))?(h.isClipStart=!1,!1):(h.isControl=u.indexOf("clip-control")>-1,h.isLine=u.indexOf("clip-line")>-1,h.isArea=u.indexOf("clip-area")>-1||u.indexOf("clip-ellipse")>-1,h.index=c?parseInt(c.getAttribute("data-clip-index"),10):-1,h.clipPath=d,h.isClipStart=!0,n.clipPathState=p,Mo(t,e),!0)},dragControl:function(t,e){var n=e.datas,i=e.originalDatas;if(!n.isClipStart)return!1;var r=i&&i.draggable||{},a=n,o=a.isControl,s=a.isLine,l=a.isArea,c=a.index,u=a.clipPath;if(!u)return!1;var h=r.isDrag?r.prevDist:Ro(e),d=h[0],p=h[1],f=t.props,g=t.state,v=g.width,m=g.height,b=!l&&!o&&!s,y=u.type,w=u.poses,x=u.splitter,_=w.map((function(t){return t.pos}));b&&(d=-d,p=-p);var O=!o||"nesw"===w[c].direction,C="inset"===y||"rect"===y,k=w.map((function(){return[0,0]}));if(o&&!O){var S=w[c],M=S.horizontal,E=S.vertical,T=[d*Math.abs(M),p*Math.abs(E)];k=function(t,e,n,i){var r=t[e],a=r.direction,o=r.sub,s=t.map((function(){return[0,0]})),l=a?a.split(""):[];if(i&&e<8){var c=l.filter((function(t){return"w"===t||"e"===t}))[0],u=l.filter((function(t){return"n"===t||"s"===t}))[0];s[e]=n,t.forEach((function(t,e){var i=t.direction;i&&(i.indexOf(c)>-1&&(s[e][0]=n[0]),i.indexOf(u)>-1&&(s[e][1]=n[1]))})),c&&(s[1][0]=n[0]/2,s[5][0]=n[0]/2),u&&(s[3][1]=n[1]/2,s[7][1]=n[1]/2)}else a&&!o?l.forEach((function(e){var i="n"===e||"s"===e;t.forEach((function(t,r){var a=t.direction,o=t.horizontal,l=t.vertical;a&&-1!==a.indexOf(e)&&(s[r]=[i||!o?0:n[0],i&&l?n[1]:0])}))})):s[e]=n;return s}(w,c,T,C)}else O&&(k=_.map((function(){return[d,p]})));var P=_.map((function(t,e){return vr(t,k[e])})),L=fa(P);g.snapBoundInfos=null;var R="circle"===u.type,I="ellipse"===u.type;if(R||I){var D=Ba(P),z=Math.abs(D.bottom-D.top),A=Math.abs(I?D.right-D.left:z),j=P[0][1]+z,F=P[0][0]-A,B=P[0][0]+A;R&&(L.push([B,D.bottom]),k.push([1,0])),L.push([D.left,j]),k.push([0,1]),L.push([F,D.bottom]),k.push([1,0])}var V=Wo([],v,m,(f.clipHorizontalGuidelines||[]).map((function(t){return ye(""+t,m)})),(f.clipVerticalGuidelines||[]).map((function(t){return ye(""+t,v)}))),N=[],H=[];if(R||I)N=[L[4][0],L[2][0]],H=[L[1][1],L[3][1]];else if(C){var X=[L[0],L[2],L[4],L[6]],G=[k[0],k[2],k[4],k[6]];N=X.filter((function(t,e){return G[e][0]})).map((function(t){return t[0]})),H=X.filter((function(t,e){return G[e][1]})).map((function(t){return t[1]}))}else N=L.filter((function(t,e){return k[e][0]})).map((function(t){return t[0]})),H=L.filter((function(t,e){return k[e][1]})).map((function(t){return t[1]}));for(var U=function(t){var e=Cs(V,f.clipTargetBounds&&{left:0,top:0,right:v,bottom:m},N,H,{snapThreshold:5}),n=e.horizontal,i=e.vertical,r=n.offset,a=i.offset;if(!I&&!R||0!==k[0][0]||0!==k[0][1])return L.forEach((function(t,e){var n=k[e];n[0]&&(t[0]-=a),n[1]&&(t[1]-=r)})),"break";var o=Ba(P),s=o.bottom-o.top,l=I?o.right-o.left:s;l-=i.isBound?Math.abs(a):0===i.snapIndex?-a:a,s-=n.isBound?Math.abs(r):0===n.snapIndex?-r:r,R&&(l=s=ns(i,n)>0?s:l);var c=L[0];L[1][1]=c[1]-s,L[2][0]=c[0]+l,L[3][1]=c[1]+s,L[4][0]=c[0]-l},Y=0;Y<2&&"break"!==U();++Y);var q=El(t,u,P),W=y+"("+q.join(x)+")";return g.clipPathState=W,R||I?(N=[L[4][0],L[2][0]],H=[L[1][1],L[3][1]]):C?(X=[L[0],L[2],L[4],L[6]],N=X.map((function(t){return t[0]})),H=X.map((function(t){return t[1]}))):(N=L.map((function(t){return t[0]})),H=L.map((function(t){return t[1]}))),g.snapBoundInfos=Cs(V,f.clipTargetBounds&&{left:0,top:0,right:v,bottom:m},N,H,{snapThreshold:1}),ro(t,"onClip",no(t,e,{clipEventType:"changed",clipType:y,poses:P,clipStyle:W,clipStyles:q,distX:d,distY:p})),!0},dragControlEnd:function(t,e){this.unset(t);var n=e.isDrag,i=e.datas,r=e.isDouble,a=i.isLine,o=i.isClipStart,s=i.isControl;return!!o&&(ro(t,"onClipEnd",io(t,e,{})),r&&(s?function(t,e){var n=e.datas,i=n.clipPath,r=n.index,a=i,o=a.type,s=a.poses,l=a.splitter,c=s.map((function(t){return t.pos})),u=c.length;if("polygon"===o)s.splice(r,1),c.splice(r,1);else{if("inset"!==o)return;if(r<8)return;if(Ol(s,c,r,8,u),u===s.length)return}var h=El(t,i,c);ro(t,"onClip",no(t,e,{clipEventType:"removed",clipType:o,poses:c,clipStyles:h,clipStyle:o+"("+h.join(l)+")",distX:0,distY:0}))}(t,e):a&&function(t,e){var n=So(t,e),i=n[0],r=n[1],a=e.datas,o=a.clipPath,s=a.index,l=o,c=l.type,u=l.poses,h=l.splitter,d=u.map((function(t){return t.pos}));if("polygon"===c)d.splice(s,0,[i,r]);else{if("inset"!==c)return;var p=vl.indexOf(s),f=ml.indexOf(s),g=u.length;if(Cl(u,d,8,p,f,i,r,d[4][0],d[4][1],d[0][0],d[0][1]),g===u.length)return}var v=El(t,o,d);ro(t,"onClip",no(t,e,{clipEventType:"added",clipType:c,poses:d,clipStyles:v,clipStyle:c+"("+v.join(h)+")",distX:0,distY:0}))}(t,e)),r||n)},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},Rl={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[":host[data-able-origindraggable] .control.origin {\n    pointer-events: auto;\n}"],dragControlCondition:function(t){return t.isRequest?"originDraggable"===t.requestAble:Te(t.inputEvent.target,Ma("origin"))},dragControlStart:function(t,e){var n=e.datas;Mo(t,e);var i=no(t,e,{dragStart:Ns.dragStart(t,(new _o).dragStart([0,0],e))}),r=ro(t,"onDragOriginStart",i);return n.startOrigin=t.state.transformOrigin,n.startTargetOrigin=t.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,!1===r?(n.isDragOrigin=!1,!1):i},dragControl:function(t,e){var n=e.datas,i=e.isPinch,r=e.isRequest;if(!n.isDragOrigin)return!1;var a=Ro(e),o=a[0],s=a[1],l=t.state,c=l.width,u=l.height,h=l.offsetMatrix,d=l.targetMatrix,p=l.is3d,f=t.props.originRelative,g=void 0===f||f,v=p?4:3,m=[o,s];if(r){var b=e.distOrigin;(b[0]||b[1])&&(m=b)}var y=vr(n.startOrigin,m),w=vr(n.startTargetOrigin,m),x=mr(m,n.prevOrigin),_=Ao(h,d,y,v),O=t.getRect(),C=Ba(Fa(_,c,u,v)),k=[O.left-C.left,O.top-C.top];n.prevOrigin=m;var S=no(t,e,{width:c,height:u,origin:y,dist:m,delta:x,transformOrigin:[go(w[0],c,g),go(w[1],u,g)].join(" "),drag:Ns.drag(t,xo(e,t.state,k,!!i,!1))});return ro(t,"onDragOrigin",S),S},dragControlEnd:function(t,e){return!!e.datas.isDragOrigin&&(ro(t,"onDragOriginEnd",io(t,e,{})),!0)},dragGroupControlCondition:function(t){return this.dragControlCondition(t)},dragGroupControlStart:function(t,e){return!!this.dragControlStart(t,e)},dragGroupControl:function(t,e){var n=this.dragControl(t,e);return!!n&&(t.transformOrigin=n.transformOrigin,!0)},request:function(t){var e={},n=t.getRect(),i=0,r=0,a=n.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaOrigin"in t?(o[0]+=t.deltaOrigin[0],o[1]+=t.deltaOrigin[1]):"origin"in t?(o[0]=t.origin[0]-a[0],o[1]=t.origin[1]-a[1]):("x"in t?i=t.x-n.left:"deltaX"in t&&(i+=t.deltaX),"y"in t?r=t.y-n.top:"deltaY"in t&&(r+=t.deltaY)),{datas:e,distX:i,distY:r,distOrigin:o}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Il(t,e,n,i,r){var a;if(void 0===i&&(i=[0,0]),r)a=r;else{var o=window.getComputedStyle(t);a=o&&o.borderRadius||""}return _l(!a||!r&&"0px"===a?[]:ue(a),e,n,0,0,i)}function Dl(t,e,n,i,r,a){var o=t.state,s=o.width,l=o.height,c=wl(a,r,t.props.roundRelative,s,l),u=c.raws,h=c.styles,d=kl(r,u),p=d.horizontals,f=d.verticals,g=h.join(" ");o.borderRadiusState=g,ro(t,"onRound",no(t,e,{horizontals:p,verticals:f,borderRadius:g,width:s,height:l,delta:i,dist:n}))}var zl={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[".control.border-radius {\n    background: #d66;\n    cursor: pointer;\n}",":host[data-able-roundable] .line.direction {\n    cursor: pointer;\n}"],render:function(t,e){var n=t.state,i=n.target,r=n.width,a=n.height,o=n.allMatrix,s=n.is3d,l=n.left,c=n.top,u=n.borderRadiusState,h=t.props,d=h.minRoundControls,p=void 0===d?[0,0]:d,f=h.maxRoundControls,g=void 0===f?[4,4]:f,v=h.zoom;if(!i)return null;var m=s?4:3,b=Il(i,r,a,p,u);if(!b)return null;var y=0,w=0;return b.map((function(t,n){w+=Math.abs(t.horizontal),y+=Math.abs(t.vertical);var i=mr(ja(o,t.pos,m),[l,c]),r=t.vertical?y<=g[1]:w<=g[0];return e.createElement("div",{key:"borderRadiusControl"+n,className:Ma("control","border-radius"),"data-radius-index":n,style:{display:r?"block":"none",transform:"translate("+i[0]+"px, "+i[1]+"px) scale("+v+")"}})}))},dragControlCondition:function(t){if(!t.inputEvent||t.isRequest)return!1;var e=t.inputEvent.target.getAttribute("class")||"";return e.indexOf("border-radius")>-1||e.indexOf("moveable-line")>-1&&e.indexOf("moveable-direction")>-1},dragControlStart:function(t,e){var n=e.inputEvent,i=e.datas,r=n.target,a=r.getAttribute("class")||"",o=a.indexOf("border-radius")>-1,s=a.indexOf("moveable-line")>-1&&a.indexOf("moveable-direction")>-1,l=o?parseInt(r.getAttribute("data-radius-index"),10):-1,c=s?parseInt(r.getAttribute("data-line-index"),10):-1;if(!o&&!s)return!1;if(!1===ro(t,"onRoundStart",no(t,e,{})))return!1;i.lineIndex=c,i.controlIndex=l,i.isControl=o,i.isLine=s,Mo(t,e);var u=t.props,h=u.roundRelative,d=u.minRoundControls,p=void 0===d?[0,0]:d,f=t.state,g=f.target,v=f.width,m=f.height;i.isRound=!0,i.prevDist=[0,0];var b=Il(g,v,m,p)||[];return i.controlPoses=b,f.borderRadiusState=wl(b.map((function(t){return t.pos})),b,h,v,m).styles.join(" "),!0},dragControl:function(t,e){var n=e.datas;if(!n.isRound||!n.isControl||!n.controlPoses.length)return!1;var i=n.controlIndex,r=n.controlPoses,a=Ro(e),o=a[0],s=a[1],l=[o,s],c=mr(l,n.prevDist),u=t.props.maxRoundControls,h=void 0===u?[4,4]:u,d=t.state,p=d.width,f=d.height,g=r[i],v=g.vertical,m=g.horizontal,b=r.map((function(t,e){var n=t.horizontal,i=t.vertical,r=[n*m*l[0],i*v*l[1]];if(n){if(1===h[0])return r;if(h[0]<4&&n!==m)return r}else{if(0===h[1])return r[1]=i*m*l[0]/p*f,r;if(v){if(1===h[1])return r;if(h[1]<4&&i!==v)return r}}return[0,0]}));b[i]=l;var y=r.map((function(t,e){return vr(t.pos,b[e])}));return n.prevDist=[o,s],Dl(t,e,l,c,r,y),!0},dragControlEnd:function(t,e){var n=t.state;n.borderRadiusState="";var i=e.datas,r=e.isDouble;if(!i.isRound)return!1;var a=n.width,o=n.height,s=i.isControl,l=i.controlIndex,c=i.isLine,u=i.lineIndex,h=i.controlPoses,d=h.map((function(t){return t.pos})),p=d.length,f=t.props.roundClickable;if(r&&(void 0===f||f)){if(s)Ol(h,d,l,0);else if(c){var g=So(t,e);!function(t,e,n,i,r,a,o){var s=kl(t),l=s.horizontals,c=s.verticals,u=l.length,h=c.length,d=-1,p=-1;0===n?0===u?d=0:1===u&&(d=1):3===n&&(u<=2?d=2:u<=3&&(d=3)),2===n?0===h?p=0:h<4&&(p=3):1===n&&(h<=1?p=1:h<=2&&(p=2)),Cl(t,e,0,d,p,i,r,a,o)}(h,d,u,g[0],g[1],a,o)}p!==h.length&&Dl(t,e,[0,0],[0,0],h,d),ro(t,"onRoundEnd",io(t,e,{}))}return n.borderRadiusState="",!0},unset:function(t){t.state.borderRadiusState=""}},Al={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},setTransform:function(t,e){var n=t.state,i=n.is3d,r=n.targetMatrix,a=i?"matrix3d("+r.join(",")+")":"matrix("+br(r,!0)+")";e.datas.startTransforms=[a]},resetTransform:function(t,e){e.datas.nextTransforms=e.datas.startTransforms,e.datas.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return no(t,e,{setTransform:function(t){e.datas.startTransforms=ae(t)?t:ue(t)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return no(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),ro(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){this.resetTransform(t,e),ro(t,"onBeforeRender",no(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){ro(t,"onBeforeRenderEnd",no(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var n=this;this.dragStart(t,e);var i=Oo(t,"beforeRenderable",e),r=t.moveables,a=i.map((function(t,e){var i=r[e];return n.setTransform(i,t),n.fillDragStartParams(i,t)}));ro(t,"onBeforeRenderGroupStart",no(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:a}))},dragGroup:function(t,e){var n=this;this.drag(t,e);var i=Oo(t,"beforeRenderable",e),r=t.moveables,a=i.map((function(t,e){var i=r[e];return n.resetTransform(i,t),n.fillDragParams(i,t)}));ro(t,"onBeforeRenderGroup",no(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:a}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),ro(t,"onBeforeRenderGroupEnd",no(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},jl={name:"Renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragStart:function(t,e){ro(t,"onRenderStart",no(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){ro(t,"onRender",no(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){ro(t,"onRenderEnd",no(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){ro(t,"onRenderGroupStart",no(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){ro(t,"onRenderGroup",no(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroupEnd:function(t,e){ro(t,"onRenderGroupEnd",no(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}};function Fl(t,e,n,i,r,a,o){var s="Start"===r,l=t.state.target,c=a.isRequest;if(!l||s&&i.indexOf("Control")>-1&&!c&&t.areaElement===a.inputEvent.target)return!1;var u=""+n+i+r,h=""+n+i+"Condition",d="End"===r,p=r.indexOf("After")>-1,f=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());f&&t.updateRect(r,!0,!1),""!==r||p||po(t.state,a);var g=i.indexOf("Group")>-1,v=fa([Al],t[e].slice(),[jl]);if(c){var m=a.requestAble;v.some((function(t){return t.name===m}))||v.push.apply(v,t.props.ables.filter((function(t){return t.name===m})))}if(!v.length)return!1;var b=v.filter((function(t){return t[u]})),y=a.datas;f&&b.forEach((function(e){e.unset&&e.unset(t)}));var w,x=a.inputEvent;d&&x&&(w=document.elementFromPoint(a.clientX,a.clientY)||x.target);var _=b.filter((function(e){var n=e.name,i=y[n]||(y[n]={});return s&&(i.isEventStart=!e[h]||e[h](a,t)),!!i.isEventStart&&e[u](t,pa(pa({},a),{datas:i,originalDatas:y,inputTarget:w}))})),O=_.length,C=s&&b.length&&!O;return(d||C)&&(t.state.gesto=null,t.moveables&&t.moveables.forEach((function(t){t.state.gesto=null}))),f&&C&&b.forEach((function(e){e.unset&&e.unset(t)})),!t.isUnmounted&&!C&&((!s&&O&&!o||d)&&(_.some((function(t){return t.updateRect}))&&!g?t.updateRect(r,!1,!1):t.updateRect(r,!0,!1),t.forceUpdate()),s||d||p||!O||o||Fl(t,e,n,i,r+"After",a),!0)}function Bl(t,e,n){var i=t.controlBox.getElement(),r=[];r.push(i),t.props.dragArea&&!t.props.dragTarget||r.push(e);var a=function(e){var n=e.inputEvent.target;return n===t.areaElement||!t.isMoveableElement(n)||Te(n,"moveable-area")||Te(n,"moveable-padding")};return Vl(t,r,"targetAbles",n,{dragStart:a,pinchStart:a})}function Vl(t,e,n,i,r){void 0===r&&(r={});var a=t.props,o=a.pinchOutside,s=a.pinchThreshold,l={container:window,pinchThreshold:s,pinchOutside:o},c=new ea(e,l);return["drag","pinch"].forEach((function(e){["Start","","End"].forEach((function(a){c.on(""+e+a,(function(o){var s=o.eventType;(!r[s]||r[s](o))&&Fl(t,n,e,i,a,o)||o.stop()}))}))})),c}var Nl=function(){function t(t,e,n){var i=this;this.target=t,this.moveable=e,this.eventName=n,this.ables=[],this.onEvent=function(t){var e=i.eventName,n=i.moveable;i.ables.forEach((function(i){i[e]({inputEvent:t},n)}))},this.target.addEventListener(this.eventName.toLowerCase(),this.onEvent)}var e=t.prototype;return e.setAbles=function(t){this.ables=t},e.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this.onEvent),this.target=null,this.moveable=null},t}(),Hl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=pa({container:null,target:null,gesto:null,renderPoses:[[0,0],[0,0],[0,0],[0,0]]},Wa(null)),e.enabledAbles=[],e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isUnmounted=!1,e.events={mouseEnter:null,mouseLeave:null},e}da(e,t);var n=e.prototype;return n.render=function(){var t=this.props,e=this.state,n=t.edge,i=t.parentPosition,r=t.className,a=t.target,o=t.zoom,s=t.cspNonce,l=t.translateZ,c=t.cssStyled;this.checkUpdate(),this.updateRenderPoses();var u=i||{left:0,top:0},h=u.left,d=u.top,p=e.left,f=e.top,g=e.target,v=e.direction,m=e.renderPoses,b=t.targets,y=(b&&b.length||a)&&g,w=this.isDragging(),x={},_={createElement:Di};return this.getEnabledAbles().forEach((function(t){x["data-able-"+t.name.toLowerCase()]=!0})),Di(c,pa({cspNonce:s,ref:hi(this,"controlBox"),className:Ma("control-box",-1===v?"reverse":"",w?"dragging":"")+" "+r},x,{style:{position:"absolute",display:y?"block":"none",transform:"translate("+(p-h)+"px, "+(f-d)+"px) translateZ("+l+"px)","--zoom":o,"--zoompx":o+"px"}}),this.renderAbles(),$s(_,n?"n":"",m[0],m[1],o,0),$s(_,n?"e":"",m[1],m[3],o,1),$s(_,n?"w":"",m[0],m[2],o,2),$s(_,n?"s":"",m[2],m[3],o,3))},n.componentDidMount=function(){this.controlBox.getElement();var t=this.props,e=t.parentMoveable,n=t.container,i=t.wrapperMoveable;this.updateEvent(t),this.updateNativeEvents(t),n||e||i||this.updateRect("",!1,!0),this.updateCheckInput()},n.componentDidUpdate=function(t){this.updateNativeEvents(t),this.updateEvent(t),this.updateCheckInput()},n.componentWillUnmount=function(){this.isUnmounted=!0,eo(this,"targetGesto"),eo(this,"controlGesto");var t=this.events;for(var e in t){var n=t[e];n&&n.destroy()}},n.getContainer=function(){var t=this.props,e=t.parentMoveable,n=t.wrapperMoveable;return t.container||n&&n.getContainer()||e&&e.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(t){return t&&(t.getAttribute("class")||"").indexOf("moveable-")>-1},n.dragStart=function(t){return this.targetGesto&&this.targetGesto.triggerDragStart(t),this},n.hitTest=function(t){var e,n=this.state,i=n.target,r=n.pos1,a=n.pos2,o=n.pos3,s=n.pos4,l=n.targetClientRect;if(!i)return 0;if(t instanceof Element){var c=t.getBoundingClientRect();e={left:c.left,top:c.top,width:c.width,height:c.height}}else e=pa({width:0,height:0},t);var u=e.left,h=e.top,d=e.width,p=e.height,f=zr([r,a,s,o],l),g=Dr(function(t,e){var n=t.slice(),i=e.slice();-1===ke(n)&&n.reverse(),-1===ke(i)&&i.reverse();var r=Nr(n),a=Nr(i),o=r.map((function(t){return Fr(t[0],t[1])})),s=a.map((function(t){return Fr(t[0],t[1])})),l=[];o.forEach((function(t,e){var n=r[e],o=[];s.forEach((function(i,r){var s=Vr(Br(t,i),[n,a[r]]);o.push.apply(o,s.map((function(t){return{index1:e,index2:r,pos:t}})))})),o.sort((function(t,e){return Se(n[0],t.pos)-Se(n[0],e.pos)})),l.push.apply(l,o),jr(n[1],i)&&l.push({index1:e,index2:-1,pos:n[1]})})),a.forEach((function(t,e){if(jr(t[1],n)){var i=!1,r=ve(l,(function(t){return t.index2===e?(i=!0,!1):!!i}));-1===r&&(i=!1,r=ve(l,(function(t){var n=t.index1,r=t.index2;return-1===n&&r+1===e?(i=!0,!1):!!i}))),-1===r?l.push({index1:-1,index2:e,pos:t[1]}):l.splice(r,0,{index1:-1,index2:e,pos:t[1]})}}));var c=l.map((function(t){return t.pos})),u={};return c.filter((function(t){var e=t[0]+"x"+t[1];return!u[e]&&(u[e]=!0,!0)}))}(f,[[u,h],[u+d,h],[u+d,h+p],[u,h+p]])),v=Dr(f);return g&&v?Math.min(100,g/v*100):0},n.isInside=function(t,e){var n=this.state,i=n.target,r=n.pos1,a=n.pos2,o=n.pos3,s=n.pos4,l=n.targetClientRect;return!!i&&jr([t,e],zr([r,a,s,o],l))},n.updateRect=function(t,e,n){void 0===n&&(n=!0);var i=this.props,r=i.parentMoveable,a=this.state.target||this.props.target,o=this.getContainer(),s=r?r.props.rootContainer:i.rootContainer;this.updateState(Wa(this.controlBox&&this.controlBox.getElement(),a,o,o,s||o),!r&&n)},n.isTargetChanged=function(t,e){var n=this.props,i=n.dragTarget||n.target,r=t.dragTarget||t.target,a=n.dragArea,o=t.dragArea;return!a&&r!==i||(e||a)&&o!==a},n.updateNativeEvents=function(t){var e=this,n=this.props.dragArea?this.areaElement:this.state.target,i=this.events,r=me(i);if(this.isTargetChanged(t))for(var a in i){var o=i[a];o&&o.destroy(),i[a]=null}if(n){var s=this.enabledAbles;r.forEach((function(t){var r=oo(s,[t]),a=r.length>0,o=i[t];a?(o||(o=new Nl(n,e,t),i[t]=o),o.setAbles(r)):o&&(o.destroy(),i[t]=null)}))}},n.updateEvent=function(t){var e=this.controlBox.getElement(),n=this.targetAbles.length,i=this.controlAbles.length,r=this.props,a=r.dragTarget||r.target,o=this.isTargetChanged(t,!0),s=!n&&this.targetGesto||o;s&&(eo(this,"targetGesto"),this.updateState({gesto:null})),i||eo(this,"controlGesto"),a&&n&&!this.targetGesto&&(this.targetGesto=Bl(this,a,"")),!this.controlGesto&&i&&(this.controlGesto=Vl(this,e,"controlAbles","Control")),s&&this.unsetAbles()},n.isDragging=function(){return!!this.targetGesto&&this.targetGesto.isFlag()||!!this.controlGesto&&this.controlGesto.isFlag()},n.updateTarget=function(t){this.updateRect(t,!0)},n.getRect=function(){var t=this.state,e=Ka(this.state),n=e[0],i=e[1],r=e[2],a=e[3],o=Ba(e),s=t.width,l=t.height,c=o.width,u=o.height,h=o.left,d=o.top,p=[t.left,t.top],f=vr(p,t.origin);return{width:c,height:u,left:h,top:d,pos1:n,pos2:i,pos3:r,pos4:a,offsetWidth:s,offsetHeight:l,beforeOrigin:vr(p,t.beforeOrigin),origin:f,transformOrigin:t.transformOrigin,rotation:this.getRotation()}},n.getManager=function(){return this},n.getRotation=function(){var t,e,n,i,r=this.state;return t=r.pos1,e=r.pos2,n=r.direction,i=Ce(t,e)/Math.PI*180,(i=n>=0?i:180-i)>=0?i:360+i},n.request=function(t,e,n){void 0===e&&(e={});var i=this.props,r=i.ables,a=i.groupable,o=r.filter((function(e){return e.name===t}))[0];if(this.isDragging()||!o||!o.request)return{request:function(){return this},requestEnd:function(){return this}};var s=this,l=o.request(this),c=n||e.isInstant,u=l.isControl?"controlAbles":"targetAbles",h=(a?"Group":"")+(l.isControl?"Control":""),d={request:function(e){return Fl(s,u,"drag",h,"",pa(pa({},l.request(e)),{requestAble:t,isRequest:!0}),c),this},requestEnd:function(){return Fl(s,u,"drag",h,"End",pa(pa({},l.requestEnd()),{requestAble:t,isRequest:!0}),c),this}};return Fl(s,u,"drag",h,"Start",pa(pa({},l.requestStart(e)),{requestAble:t,isRequest:!0}),c),c?d.request(e).requestEnd():d},n.destroy=function(){this.componentWillUnmount()},n.updateRenderPoses=function(){var t=this.state,e=this.props,n=t.originalBeforeOrigin,i=t.transformOrigin,r=t.allMatrix,a=t.is3d,o=t.pos1,s=t.pos2,l=t.pos3,c=t.pos4,u=t.left,h=t.top,d=e.padding||{},p=d.left,f=void 0===p?0:p,g=d.top,v=void 0===g?0:g,m=d.bottom,b=void 0===m?0:m,y=d.right,w=void 0===y?0:y,x=a?4:3,_=e.groupable?n:vr(n,[u,h]);t.renderPoses=[vr(o,fo(r,[-f,-v],i,_,x)),vr(s,fo(r,[w,-v],i,_,x)),vr(l,fo(r,[-f,b],i,_,x)),vr(c,fo(r,[w,b],i,_,x))]},n.checkUpdate=function(){var t=this.props,e=t.target,n=t.container,i=t.parentMoveable,r=this.state,a=r.target,o=r.container;(a||e)&&(this.updateAbles(),(!so(a,e)||!so(o,n))&&(this.updateState({target:e,container:n}),i||!n&&!this.controlBox||this.updateRect("End",!1,!1)))},n.triggerEvent=function(t,e){var n=this.props[t];return n&&n(e)},n.useCSS=function(t,e){var n=this.props.customStyledMap,i=t+e;return n[i]||(n[i]=sa(t,e)),n[i]},n.unsetAbles=function(){var t=this;this.targetAbles.filter((function(e){return!!e.unset&&(e.unset(t),!0)})).length&&this.forceUpdate()},n.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props,i=n.triggerAblesSimultaneously,r=t.filter((function(t){return t&&(t.always||n[t.name])})),a="drag"+e+"ControlStart",o=oo(r,["drag"+e+"Start","pinch"+e+"Start"],i),s=oo(r,[a],i);this.enabledAbles=r,this.targetAbles=o,this.controlAbles=s},n.updateState=function(t,e){if(e)this.setState(t);else{var n=this.state;for(var i in t)n[i]=t[i]}},n.getEnabledAbles=function(){var t=this.props;return t.ables.filter((function(e){return e&&t[e.name]}))},n.renderAbles=function(){var t,e,n,i,r=this,a=this.props.triggerAblesSimultaneously,o={createElement:Di};return(t=co(oo(this.getEnabledAbles(),["render"],a).map((function(t){return(0,t.render)(r,o)||[]}))).filter((function(t){return t})),e=function(t){return t.key},n=[],i={},t.forEach((function(t,r){var a=e(t),o=i[a];o||(o=[],i[a]=o,n.push(o)),o.push(t)})),n).map((function(t){return t[0]}))},n.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,edge:!1,parentMoveable:null,wrapperMoveable:null,parentPosition:null,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,cspNonce:"",translateZ:50,cssStyled:null,customStyledMap:{},props:{}},e}(Gi),Xl={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean},events:{},render:function(t,e){var n=t.props.targets||[];t.moveables=[];var i=t.state,r={left:i.left,top:i.top};return n.map((function(n,i){return e.createElement(Hl,{key:"moveable"+i,ref:di(t,"moveables",i),target:n,origin:!1,cssStyled:t.props.cssStyled,customStyledMap:t.props.customStyledMap,parentMoveable:t,parentPosition:r})}))}};function Gl(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),pa(pa({},t),{datas:e})}var Ul={name:"edgeDraggable",props:{edgeDraggable:Boolean},events:{},dragControlCondition:function(t,e){if(!e.props.edgeDraggable||!t.inputEvent)return!1;var n=t.inputEvent.target;return Te(n,Ma("direction"))&&Te(n,Ma("line"))},dragControlStart:function(t,e){return Ns.dragStart(t,Gl(e))},dragControl:function(t,e){return Ns.drag(t,Gl(e))},dragControlEnd:function(t,e){return Ns.dragEnd(t,Gl(e))},dragGroupControlCondition:function(t,e){if(!e.props.edgeDraggable||!t.inputEvent)return!1;var n=t.inputEvent.target;return Te(n,Ma("direction"))&&Te(n,Ma("line"))},dragGroupControlStart:function(t,e){return Ns.dragGroupStart(t,Gl(e))},dragGroupControl:function(t,e){return Ns.dragGroup(t,Gl(e))},dragGroupControlEnd:function(t,e){return Ns.dragGroupEnd(t,Gl(e))},unset:function(t){t.state.dragInfo=null}},Yl={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},ql=[Al,dl,Vs,wo,Ns,Ul,qs,Ks,Qs,nl,hl,pl,cl,Rl,Ll,zl,Xl,Yl,{name:"clickable",props:{},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var n=t.state.target,i=e.inputEvent,r=e.inputTarget;if(i&&r&&!e.isDrag&&!t.isMoveableElement(r)){var a=n.contains(r);ro(t,"onClick",no(t,e,{isDouble:e.isDouble,inputTarget:r,isTarget:n===r,containsTarget:a}))}},dragGroupEnd:function(t,e){var n=e.inputEvent,i=e.inputTarget;if(n&&i&&!e.isDrag&&!t.isMoveableElement(i)&&e.datas.inputTarget!==i){var r=t.props.targets,a=r.indexOf(i),o=a>-1,s=!1;-1===a&&(s=(a=ve(r,(function(t){return t.contains(i)})))>-1),ro(t,"onClickGroup",no(t,e,{isDouble:e.isDouble,targets:r,inputTarget:i,targetIndex:a,isTarget:o,containsTarget:s}))}}},ll,jl],Wl=ql.reduce((function(t,e){return pa(pa({},t),e.events)}),{}),$l=ql.reduce((function(t,e){return pa(pa({},t),e.props)}),{}),Zl=function(t){var e={};for(var n in t)e[t[n]]=n;return e}(Wl),Jl=Object.keys(Zl),Kl=Object.keys($l);function Ql(t,e){return Math.max.apply(Math,t.map((function(t){var n=t[0],i=t[1],r=t[2],a=t[3];return Math.max(n[e],i[e],r[e],a[e])})))}function tc(t,e){return Math.min.apply(Math,t.map((function(t){var n=t[0],i=t[1],r=t[2],a=t[3];return Math.min(n[e],i[e],r[e],a[e])})))}var ec=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.differ=new ua,e.moveables=[],e.transformOrigin="50% 50%",e}da(e,t);var n=e.prototype;return n.updateEvent=function(t){var e=this.state,n=this.props,i=t.dragTarget||e.target,r=n.dragTarget||this.areaElement;i!==r&&(eo(this,"targetGesto"),eo(this,"controlGesto"),e.target=null),e.target||(e.target=this.areaElement,this.controlBox.getElement().style.display="block",this.targetGesto=Bl(this,r,"Group"),this.controlGesto=Vl(this,this.controlBox.getElement(),"controlAbles","GroupControl"));var a=!so(t.container,n.container);a&&(e.container=n.container);var o=this.differ.update(n.targets),s=o.added,l=o.changed,c=o.removed;(a||s.length||l.length||c.length)&&this.updateRect()},n.checkUpdate=function(){this.updateAbles()},n.updateRect=function(t,e,n){if(void 0===n&&(n=!0),this.controlBox){this.moveables.forEach((function(e){e.updateRect(t,!1,!1)}));var i=this.state,r=this.props,a=i.target||r.target;(!e||""!==t&&r.updateGroup)&&(this.rotation=r.defaultGroupRotate,this.transformOrigin=r.defaultGroupOrigin||"50% 50%",this.scale=[1,1]);var o=this.rotation,s=this.scale,l=function(t,e){if(!t.length)return[0,0,0,0];var n=t.map((function(t){return Ka(t.state)})),i=xa,r=xa,a=0,o=0,s=Qa(e,1e-7);if(s%90){var l=s/180*Math.PI,c=Math.tan(l),u=-1/c,h=[_a,xa],d=[_a,xa];n.forEach((function(t){t.forEach((function(t){var e=t[1]-c*t[0],n=t[1]-u*t[0];h[0]=Math.max(h[0],e),h[1]=Math.min(h[1],e),d[0]=Math.max(d[0],n),d[1]=Math.min(d[1],n)}))})),h.forEach((function(t){d.forEach((function(e){var n=(e-t)/(c-u),a=c*n+t;i=Math.min(i,n),r=Math.min(r,a)}))}));var p=n.map((function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return[Cr(e,-l),Cr(n,-l),Cr(i,-l),Cr(r,-l)]}));a=Ql(p,0)-tc(p,0),o=Ql(p,1)-tc(p,1)}else if(i=tc(n,0),r=tc(n,1),a=Ql(n,0)-i,o=Ql(n,1)-r,s%180){var f=a;a=o,o=f}return[i,r,a,o]}(this.moveables,o),c=l[0],u=l[1],h=l[2],d=l[3],p="rotate("+o+"deg) scale("+(s[0]>=0?1:-1)+", "+(s[1]>=0?1:-1)+")";a.style.cssText+="left:0px;top:0px; transform-origin: "+this.transformOrigin+"; width:"+h+"px; height:"+d+"px;transform:"+p,i.width=h,i.height=d;var f=this.getContainer(),g=Wa(this.controlBox.getElement(),a,this.controlBox.getElement(),this.getContainer(),this.props.rootContainer||f),v=[g.left,g.top],m=Ka(g),b=m[0],y=m[1],w=m[2],x=m[3],_=Ar([b,y,w,x]),O=[_.minX,_.minY];g.pos1=mr(b,O),g.pos2=mr(y,O),g.pos3=mr(w,O),g.pos4=mr(x,O),g.left=c-g.left+O[0],g.top=u-g.top+O[1],g.origin=mr(vr(v,g.origin),O),g.beforeOrigin=mr(vr(v,g.beforeOrigin),O),g.originalBeforeOrigin=vr(v,g.originalBeforeOrigin);var C=g.targetClientRect,k=s[0]*s[1]>0?1:-1;C.top+=g.top-i.top,C.left+=g.left-i.left,a.style.transform="translate("+-O[0]+"px, "+-O[1]+"px) "+p,this.updateState(pa(pa({},g),{direction:k,beforeDirection:k}),n)}},n.getRect=function(){return pa(pa({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},n.triggerEvent=function(e,n,i){if(i||e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,n)},n.updateAbles=function(){t.prototype.updateAbles.call(this,fa(this.props.ables,[Xl]),"Group")},e.defaultProps=pa(pa({},Hl.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(Hl),nc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveables=[],e}da(e,t);var n=e.prototype;return n.render=function(){var t=this,e=this.props,n=e.cspNonce,i=e.cssStyled,r=e.targets;return Di(i,{cspNonce:n,ref:hi(this,"controlBox"),className:Ma("control-box")},r.map((function(e,n){return Di(Hl,pa({key:"moveable"+n,ref:di(t,"moveables",n)},t.props,{target:e,wrapperMoveable:t}))})))},n.componentDidUpdate=function(){},n.updateRect=function(t,e,n){void 0===n&&(n=!0),this.moveables.forEach((function(i){i.updateRect(t,e,n)}))},n.getRect=function(){return pa(pa({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},n.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},n.dragStart=function(){return this},n.hitTest=function(){return 0},n.isInside=function(){return!1},n.isDragging=function(){return!1},n.updateRenderPoses=function(){},n.updateEvent=function(){},n.checkUpdate=function(){},n.triggerEvent=function(){},n.updateAbles=function(){},e}(Hl),ic=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return da(e,t),e.defaultAbles=ql,e}(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.refTargets=[],e.selectorMap={},e}da(e,t);var n=e.prototype;return e.makeStyled=function(){var t={};this.getTotalAbles().forEach((function(e){var n=e.css;n&&n.forEach((function(e){t[e]=!0}))}));var e=me(t).join("\n");this.defaultStyled=sa("div",("moveable-",(ya+e).replace(/([^}{]*){/gm,(function(t,e){return e.replace(/\.([^{,\s\d.]+)/g,".moveable-$1")+"{"}))))},e.getTotalAbles=function(){return fa([dl,Xl,Yl,ll],this.defaultAbles)},n.render=function(){var t=this.constructor;t.defaultStyled||t.makeStyled();var e=this.props,n=e.ables,i=e.props,r=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}(e,["ables","props"]),a=yo(r.target||r.targets),o=function(t,e){var n=[];return t.forEach((function(t){t&&(oe(t)?e[t]&&n.push.apply(n,e[t]):n.push(t))})),n}(a,this.selectorMap);this.refTargets=a;var s=o.length>1,l=fa(t.getTotalAbles(),n||[]),c=pa(pa(pa({},r),i||{}),{ables:l,cssStyled:t.defaultStyled,customStyledMap:t.customStyledMap});return s?r.individualGroupable?Di(nc,pa({key:"individual-group",ref:hi(this,"moveable")},c,{target:null,targets:o})):Di(ec,pa({key:"group",ref:hi(this,"moveable")},c,{target:null,targets:o})):Di(Hl,pa({key:"single",ref:hi(this,"moveable")},c,{target:o[0]}))},n.componentDidMount=function(){this.updateRefs()},n.componentDidUpdate=function(){this.updateRefs()},n.updateRefs=function(t){var e=yo(this.props.target||this.props.targets),n=this.refTargets.some((function(t,n){var i=e[n];return!(!t&&!i)&&t!==i})),i=t?{}:this.selectorMap,r={};this.refTargets.forEach((function(t){oe(t)&&(i[t]?r[t]=i[t]:(n=!0,r[t]=[].slice.call(document.querySelectorAll(t))))})),this.selectorMap=r,n&&this.forceUpdate()},n.getManager=function(){return this.moveable},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,function(t,e,n,i){var r,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,n,o):r(e,n))||o);a>3&&o&&Object.defineProperty(e,n,o)}([fi(Sa)],e.prototype,"moveable",void 0),e}(Gi)),rc=function(t,e){return(rc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function ac(t,e){function n(){this.constructor=t}rc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var oc=function(){return(oc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},sc=function(t){function e(e){var n=t.call(this,e)||this;return n.state={},n.state=n.props,n}return ac(e,t),e.prototype.render=function(){return t=Di(ic,oc({ref:hi(this,"moveable")},this.state)),e=this.state.parentElement,Di(Ui,{element:t,container:e});var t,e},e}(Xi),lc=Kl,cc=Sa,uc=Jl,hc=function(){return(hc=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},dc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ac(e,t),e}(function(t){function e(e,n){void 0===n&&(n={});var i=t.call(this)||this;i.tempElement=document.createElement("div");var r=oc({container:e||document.body},n),a={};uc.forEach((function(t){var e;a[(e="on "+t,e.replace(/[\s-_]([a-z])/g,(function(t,e){return e.toUpperCase()})))]=function(e){return i.trigger(t,e)}})),Wi(Di(sc,oc({ref:hi(i,"innerMoveable"),parentElement:e},r,a)),i.tempElement);var o=r.target;return ae(o)&&o.length>1&&i.updateRect(),i}ac(e,t);var n=e.prototype;return n.setState=function(t,e){this.innerMoveable.setState(t,e)},n.destroy=function(){Wi(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},n.getMoveable=function(){return this.innerMoveable.moveable},function(t,e,n,i){var r,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,n,o):r(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}([pi(cc,(function(t,e){t[e]||(t[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.getMoveable();if(i&&i[e])return i[e].apply(i,t)})})),pi(lc,(function(t,e){Object.defineProperty(t,e,{get:function(){return this.getMoveable().props[e]},set:function(t){var n;this.setState(((n={})[e]=t,n))},enumerable:!0,configurable:!0})}))],e)}(function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(re(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t)if(re(t))for(var n in t)this.off(n);else if(e){var i=this._events[t];if(i){var r=ve(i,(function(t){return t.listener===e}));r>-1&&i.splice(r,1)}}else this._events[t]=[];else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise((function(e){n._addEvent(t,e,{once:!0})}))},e.emit=function(t,e){var n=this;void 0===e&&(e={});var i=this._events[t];if(!t||!i)return!0;var r=!1;return e.eventType=t,e.stop=function(){r=!0},e.currentTarget=this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}(i).forEach((function(i){i.listener(e),i.once&&n.off(t,i.listener)})),!r},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,n){var i=this._events;i[t]=i[t]||[],i[t].push(hc({listener:e},n))},t}()));Object.create,Object.create;var pc=function t(){_classCallCheck(this,t)};pc.\u0275fac=function(t){return new(t||pc)},pc.\u0275prov=Object(a.cc)({factory:function(){return new pc},token:pc,providedIn:"root"}),pc.ctorParameters=function(){return[]};var fc=function t(){_classCallCheck(this,t)};!function(t,e,n,i){var r,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,n,o):r(e,n))||o);a>3&&o&&Object.defineProperty(e,n,o)}([fi(cc,{dragStart:"ngDragStart"}),function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",e)}(0,dc)],fc.prototype,"moveable",void 0);var gc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),t=e.call(this),uc.forEach((function(e){t[e]=new a.t})),t}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this,e={},n={};lc.forEach((function(n){e[n]=t[n]})),uc.forEach((function(e){n[e]=function(n){t[e].emit(n)}})),this.moveable=new dc(this.container||document.body,e),this.moveable.on(n)}},{key:"ngOnChanges",value:function(t){var e=this.moveable;if(e)for(var n in t){var i=t[n],r=i.previousValue,a=i.currentValue;r!==a&&(e[n]=a)}}},{key:"ngOnDestroy",value:function(){try{this.moveable.destroy()}catch(t){}}}]),n}(fc);gc.\u0275fac=function(t){return new(t||gc)},gc.\u0275cmp=a.ac({type:gc,selectors:[["ngx-moveable"]],inputs:{draggable:"draggable",resizable:"resizable",scalable:"scalable",rotatable:"rotatable",warpable:"warpable",pinchable:"pinchable",snappable:"snappable",origin:"origin",target:"target",container:"container",throttleDrag:"throttleDrag",throttleDragRotate:"throttleDragRotate",throttleResize:"throttleResize",throttleScale:"throttleScale",throttleRotate:"throttleRotate",keepRatio:"keepRatio",edge:"edge",pinchThreshold:"pinchThreshold",snapCenter:"snapCenter",snapVertical:"snapVertical",snapElement:"snapElement",snapHorizontal:"snapHorizontal",snapThreshold:"snapThreshold",horizontalGuidelines:"horizontalGuidelines",verticalGuidelines:"verticalGuidelines",elementGuidelines:"elementGuidelines",bounds:"bounds",dragArea:"dragArea",rotationPosition:"rotationPosition",baseDirection:"baseDirection",defaultGroupRotate:"defaultGroupRotate",ables:"ables",edgeDraggable:"edgeDraggable",translateZ:"translateZ",passDragArea:"passDragArea",clipTargetBounds:"clipTargetBounds",clipVerticalGuidelines:"clipVerticalGuidelines",clipHorizontalGuidelines:"clipHorizontalGuidelines",clipSnapThreshold:"clipSnapThreshold",className:"className",renderDirections:"renderDirections",scrollable:"scrollable",scrollContainer:"scrollContainer",scrollThreshold:"scrollThreshold",getScrollPosition:"getScrollPosition",rootContainer:"rootContainer",zoom:"zoom",transformOrigin:"transformOrigin",snapDigit:"snapDigit",isDisplaySnapDigit:"isDisplaySnapDigit",innerBounds:"innerBounds",triggerAblesSimultaneously:"triggerAblesSimultaneously",snapGap:"snapGap",pinchOutside:"pinchOutside",padding:"padding",snapDistFormat:"snapDistFormat",dragTarget:"dragTarget",checkInput:"checkInput",cspNonce:"cspNonce",startDragRotate:"startDragRotate",originDraggable:"originDraggable",originRelative:"originRelative",defaultGroupOrigin:"defaultGroupOrigin",groupable:"groupable",clippable:"clippable",customClipPath:"customClipPath",defaultClipPath:"defaultClipPath",clipRelative:"clipRelative",dragWithClip:"dragWithClip",clipArea:"clipArea",roundable:"roundable",roundRelative:"roundRelative",roundClickable:"roundClickable",minRoundControls:"minRoundControls",maxRoundControls:"maxRoundControls",props:"props",individualGroupable:"individualGroupable"},outputs:{dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",dragGroupStart:"dragGroupStart",dragGroup:"dragGroup",dragGroupEnd:"dragGroupEnd",resizeStart:"resizeStart",resize:"resize",resizeEnd:"resizeEnd",resizeGroupStart:"resizeGroupStart",resizeGroup:"resizeGroup",resizeGroupEnd:"resizeGroupEnd",scaleStart:"scaleStart",scale:"scale",scaleEnd:"scaleEnd",scaleGroupStart:"scaleGroupStart",scaleGroup:"scaleGroup",scaleGroupEnd:"scaleGroupEnd",rotateStart:"rotateStart",rotate:"rotate",rotateEnd:"rotateEnd",rotateGroupStart:"rotateGroupStart",rotateGroup:"rotateGroup",rotateGroupEnd:"rotateGroupEnd",warpStart:"warpStart",warp:"warp",warpEnd:"warpEnd",pinchStart:"pinchStart",pinch:"pinch",pinchEnd:"pinchEnd",pinchGroupStart:"pinchGroupStart",pinchGroup:"pinchGroup",pinchGroupEnd:"pinchGroupEnd",click:"click",clickGroup:"clickGroup",renderStart:"renderStart",render:"render",renderEnd:"renderEnd",renderGroupStart:"renderGroupStart",renderGroup:"renderGroup",renderGroupEnd:"renderGroupEnd",scroll:"scroll",scrollGroup:"scrollGroup",snap:"snap",clipStart:"clipStart",clip:"clip",clipEnd:"clipEnd",roundStart:"roundStart",round:"round",roundEnd:"roundEnd",dragOriginStart:"dragOriginStart",dragOrigin:"dragOrigin",dragOriginEnd:"dragOriginEnd",beforeRenderStart:"beforeRenderStart",beforeRender:"beforeRender",beforeRenderEnd:"beforeRenderEnd",beforeRenderGroupStart:"beforeRenderGroupStart",beforeRenderGroup:"beforeRenderGroup",beforeRenderGroupEnd:"beforeRenderGroupEnd"},features:[a.Qb,a.Rb],decls:0,vars:0,template:function(t,e){},encapsulation:2}),gc.ctorParameters=function(){return[]},gc.propDecorators={draggable:[{type:a.C}],resizable:[{type:a.C}],scalable:[{type:a.C}],rotatable:[{type:a.C}],warpable:[{type:a.C}],pinchable:[{type:a.C}],snappable:[{type:a.C}],origin:[{type:a.C}],target:[{type:a.C}],container:[{type:a.C}],throttleDrag:[{type:a.C}],throttleDragRotate:[{type:a.C}],throttleResize:[{type:a.C}],throttleScale:[{type:a.C}],throttleRotate:[{type:a.C}],keepRatio:[{type:a.C}],edge:[{type:a.C}],pinchThreshold:[{type:a.C}],snapCenter:[{type:a.C}],snapVertical:[{type:a.C}],snapElement:[{type:a.C}],snapHorizontal:[{type:a.C}],snapThreshold:[{type:a.C}],horizontalGuidelines:[{type:a.C}],verticalGuidelines:[{type:a.C}],elementGuidelines:[{type:a.C}],bounds:[{type:a.C}],dragArea:[{type:a.C}],rotationPosition:[{type:a.C}],baseDirection:[{type:a.C}],defaultGroupRotate:[{type:a.C}],ables:[{type:a.C}],edgeDraggable:[{type:a.C}],translateZ:[{type:a.C}],passDragArea:[{type:a.C}],clipTargetBounds:[{type:a.C}],clipVerticalGuidelines:[{type:a.C}],clipHorizontalGuidelines:[{type:a.C}],clipSnapThreshold:[{type:a.C}],className:[{type:a.C}],renderDirections:[{type:a.C}],scrollable:[{type:a.C}],scrollContainer:[{type:a.C}],scrollThreshold:[{type:a.C}],getScrollPosition:[{type:a.C}],rootContainer:[{type:a.C}],zoom:[{type:a.C}],transformOrigin:[{type:a.C}],snapDigit:[{type:a.C}],isDisplaySnapDigit:[{type:a.C}],innerBounds:[{type:a.C}],triggerAblesSimultaneously:[{type:a.C}],snapGap:[{type:a.C}],pinchOutside:[{type:a.C}],padding:[{type:a.C}],snapDistFormat:[{type:a.C}],dragTarget:[{type:a.C}],checkInput:[{type:a.C}],cspNonce:[{type:a.C}],startDragRotate:[{type:a.C}],originDraggable:[{type:a.C}],originRelative:[{type:a.C}],defaultGroupOrigin:[{type:a.C}],groupable:[{type:a.C}],clippable:[{type:a.C}],customClipPath:[{type:a.C}],defaultClipPath:[{type:a.C}],clipRelative:[{type:a.C}],dragWithClip:[{type:a.C}],clipArea:[{type:a.C}],roundable:[{type:a.C}],roundRelative:[{type:a.C}],roundClickable:[{type:a.C}],minRoundControls:[{type:a.C}],maxRoundControls:[{type:a.C}],props:[{type:a.C}],individualGroupable:[{type:a.C}],dragStart:[{type:a.N}],drag:[{type:a.N}],dragEnd:[{type:a.N}],dragGroupStart:[{type:a.N}],dragGroup:[{type:a.N}],dragGroupEnd:[{type:a.N}],resizeStart:[{type:a.N}],resize:[{type:a.N}],resizeEnd:[{type:a.N}],resizeGroupStart:[{type:a.N}],resizeGroup:[{type:a.N}],resizeGroupEnd:[{type:a.N}],scaleStart:[{type:a.N}],scale:[{type:a.N}],scaleEnd:[{type:a.N}],scaleGroupStart:[{type:a.N}],scaleGroup:[{type:a.N}],scaleGroupEnd:[{type:a.N}],rotateStart:[{type:a.N}],rotate:[{type:a.N}],rotateEnd:[{type:a.N}],rotateGroupStart:[{type:a.N}],rotateGroup:[{type:a.N}],rotateGroupEnd:[{type:a.N}],warpStart:[{type:a.N}],warp:[{type:a.N}],warpEnd:[{type:a.N}],pinchStart:[{type:a.N}],pinch:[{type:a.N}],pinchEnd:[{type:a.N}],pinchGroupStart:[{type:a.N}],pinchGroup:[{type:a.N}],pinchGroupEnd:[{type:a.N}],click:[{type:a.N}],clickGroup:[{type:a.N}],renderStart:[{type:a.N}],render:[{type:a.N}],renderEnd:[{type:a.N}],renderGroupStart:[{type:a.N}],renderGroup:[{type:a.N}],renderGroupEnd:[{type:a.N}],scroll:[{type:a.N}],scrollGroup:[{type:a.N}],snap:[{type:a.N}],clipStart:[{type:a.N}],clip:[{type:a.N}],clipEnd:[{type:a.N}],roundStart:[{type:a.N}],round:[{type:a.N}],roundEnd:[{type:a.N}],dragOriginStart:[{type:a.N}],dragOrigin:[{type:a.N}],dragOriginEnd:[{type:a.N}],beforeRenderStart:[{type:a.N}],beforeRender:[{type:a.N}],beforeRenderEnd:[{type:a.N}],beforeRenderGroupStart:[{type:a.N}],beforeRenderGroup:[{type:a.N}],beforeRenderGroupEnd:[{type:a.N}]};var vc=function t(){_classCallCheck(this,t)};vc.\u0275mod=a.ec({type:vc}),vc.\u0275inj=a.dc({factory:function(t){return new(t||vc)},imports:[[]]});var mc=n("0EQZ"),bc=0,yc=function(){function t(){_classCallCheck(this,t),this._stateChanges=new _.a,this._openCloseAllActions=new _.a,this.id="cdk-accordion-"+bc++,this._multi=!1}return _createClass(t,[{key:"openAll",value:function(){this._openCloseAll(!0)}},{key:"closeAll",value:function(){this._openCloseAll(!1)}},{key:"ngOnChanges",value:function(t){this._stateChanges.next(t)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_openCloseAll",value:function(t){this.multi&&this._openCloseAllActions.next(t)}},{key:"multi",get:function(){return this._multi},set:function(t){this._multi=Object(xn.b)(t)}}]),t}();yc.\u0275fac=function(t){return new(t||yc)},yc.\u0275dir=a.bc({type:yc,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[a.Rb]}),yc.propDecorators={multi:[{type:a.C}]};var wc=0,xc=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.accordion=e,this._changeDetectorRef=n,this._expansionDispatcher=i,this._openCloseAllSubscription=On.a.EMPTY,this.closed=new a.t,this.opened=new a.t,this.destroyed=new a.t,this.expandedChange=new a.t,this.id="cdk-accordion-child-"+wc++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=function(){},this._removeUniqueSelectionListener=i.listen((function(t,e){r.accordion&&!r.accordion.multi&&r.accordion.id===e&&r.id!==t&&(r.expanded=!1)})),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}},{key:"toggle",value:function(){this.disabled||(this.expanded=!this.expanded)}},{key:"close",value:function(){this.disabled||(this.expanded=!1)}},{key:"open",value:function(){this.disabled||(this.expanded=!0)}},{key:"_subscribeToOpenCloseAllActions",value:function(){var t=this;return this.accordion._openCloseAllActions.subscribe((function(e){t.disabled||(t.expanded=e)}))}},{key:"expanded",get:function(){return this._expanded},set:function(t){if(t=Object(xn.b)(t),this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();var e=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,e)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(xn.b)(t)}}]),t}();xc.\u0275fac=function(t){return new(t||xc)(a.gc(yc,12),a.gc(a.j),a.gc(mc.c))},xc.\u0275dir=a.bc({type:xc,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[a.Sb([{provide:yc,useValue:void 0}])]}),xc.ctorParameters=function(){return[{type:yc,decorators:[{type:a.M},{type:a.Z}]},{type:a.j},{type:mc.c}]},xc.propDecorators={closed:[{type:a.N}],opened:[{type:a.N}],destroyed:[{type:a.N}],expandedChange:[{type:a.N}],expanded:[{type:a.C}],disabled:[{type:a.C}]};var _c=function t(){_classCallCheck(this,t)};_c.\u0275mod=a.ec({type:_c}),_c.\u0275inj=a.dc({factory:function(t){return new(t||_c)}});var Oc=n("EY2u"),Cc=n("R1ws"),kc=["body"];function Sc(t,e){}var Mc=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Ec=function(t,e){return{collapsedHeight:t,expandedHeight:e}},Tc=function(t,e){return{value:t,params:e}};function Pc(t,e){if(1&t&&a.hc(0,"span",2),2&t){var n=a.xc();a.Cc("@indicatorRotate",n._getExpandedState())}}var Lc=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Rc=new a.A("MAT_ACCORDION"),Ic={indicatorRotate:Object(An.n)("indicatorRotate",[Object(An.k)("collapsed, void",Object(An.l)({transform:"rotate(0deg)"})),Object(An.k)("expanded",Object(An.l)({transform:"rotate(180deg)"})),Object(An.m)("expanded <=> collapsed, void => collapsed",Object(An.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:Object(An.n)("expansionHeight",[Object(An.k)("collapsed, void",Object(An.l)({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),Object(An.k)("expanded",Object(An.l)({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),Object(An.m)("expanded <=> collapsed, void => collapsed",Object(An.g)([Object(An.i)("@indicatorRotate",Object(An.f)(),{optional:!0}),Object(An.e)("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:Object(An.n)("bodyExpansion",[Object(An.k)("collapsed, void",Object(An.l)({height:"0px",visibility:"hidden"})),Object(An.k)("expanded",Object(An.l)({height:"*",visibility:"visible"})),Object(An.m)("expanded <=> collapsed, void => collapsed",Object(An.e)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])},Dc=function t(e){_classCallCheck(this,t),this._template=e};Dc.\u0275fac=function(t){return new(t||Dc)(a.gc(a.bb))},Dc.\u0275dir=a.bc({type:Dc,selectors:[["ng-template","matExpansionPanelContent",""]]}),Dc.ctorParameters=function(){return[{type:a.bb}]};var zc=0,Ac=new a.A("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),jc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,s,l,c){var u;return _classCallCheck(this,n),(u=e.call(this,t,i,r))._viewContainerRef=o,u._animationMode=l,u._hideToggle=!1,u.afterExpand=new a.t,u.afterCollapse=new a.t,u._inputChanges=new _.a,u._headerId="mat-expansion-panel-header-"+zc++,u._bodyAnimationDone=new _.a,u.accordion=t,u._document=s,u._bodyAnimationDone.pipe(Object(R.a)((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){"void"!==t.fromState&&("expanded"===t.toState?u.afterExpand.emit():"collapsed"===t.toState&&u.afterCollapse.emit())})),c&&(u.hideToggle=c.hideToggle),u}return _createClass(n,[{key:"_hasSpacing",value:function(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}},{key:"_getExpandedState",value:function(){return this.expanded?"expanded":"collapsed"}},{key:"toggle",value:function(){this.expanded=!this.expanded}},{key:"close",value:function(){this.expanded=!1}},{key:"open",value:function(){this.expanded=!0}},{key:"ngAfterContentInit",value:function(){var t=this;this._lazyContent&&this.opened.pipe(Object(Mn.a)(null),Object(I.a)((function(){return t.expanded&&!t._portal})),Object(Tn.a)(1)).subscribe((function(){t._portal=new jn.h(t._lazyContent._template,t._viewContainerRef)}))}},{key:"ngOnChanges",value:function(t){this._inputChanges.next(t)}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this._bodyAnimationDone.complete(),this._inputChanges.complete()}},{key:"_containsFocus",value:function(){if(this._body){var t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}},{key:"hideToggle",get:function(){return this._hideToggle||this.accordion&&this.accordion.hideToggle},set:function(t){this._hideToggle=Object(xn.b)(t)}},{key:"togglePosition",get:function(){return this._togglePosition||this.accordion&&this.accordion.togglePosition},set:function(t){this._togglePosition=t}}]),n}(xc);jc.\u0275fac=function(t){return new(t||jc)(a.gc(Rc,12),a.gc(a.j),a.gc(mc.c),a.gc(a.fb),a.gc(i.d),a.gc(Cc.a,8),a.gc(Ac,8))},jc.\u0275cmp=a.ac({type:jc,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var i;1&t&&a.Zb(n,Dc,!0),2&t&&a.Jc(i=a.uc())&&(e._lazyContent=i.first)},viewQuery:function(t,e){var n;1&t&&a.ed(kc,!0),2&t&&a.Jc(n=a.uc())&&(e._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&a.Xb("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[a.Sb([{provide:Rc,useValue:void 0}]),a.Qb,a.Rb],ngContentSelectors:["mat-expansion-panel-header","*","mat-action-row"],decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(a.Bc(Mc),a.Ac(0),a.lc(1,"div",0,1),a.tc("@bodyExpansion.done",(function(t){return e._bodyAnimationDone.next(t)})),a.lc(3,"div",2),a.Ac(4,1),a.Vc(5,Sc,0,0,"ng-template",3),a.kc(),a.Ac(6,2),a.kc()),2&t&&(a.Tb(1),a.Cc("@bodyExpansion",e._getExpandedState())("id",e.id),a.Ub("aria-labelledby",e._headerId),a.Tb(4),a.Cc("cdkPortalOutlet",e._portal))},directives:[jn.c],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Ic.bodyExpansion]},changeDetection:0}),jc.ctorParameters=function(){return[{type:void 0,decorators:[{type:a.M},{type:a.Z},{type:a.y,args:[Rc]}]},{type:a.j},{type:mc.c},{type:a.fb},{type:void 0,decorators:[{type:a.y,args:[i.d]}]},{type:String,decorators:[{type:a.M},{type:a.y,args:[Cc.a]}]},{type:void 0,decorators:[{type:a.y,args:[Ac]},{type:a.M}]}]},jc.propDecorators={hideToggle:[{type:a.C}],togglePosition:[{type:a.C}],afterExpand:[{type:a.N}],afterCollapse:[{type:a.N}],_lazyContent:[{type:a.n,args:[Dc]}],_body:[{type:a.eb,args:["body"]}]};var Fc=function t(){_classCallCheck(this,t)};Fc.\u0275fac=function(t){return new(t||Fc)},Fc.\u0275dir=a.bc({type:Fc,selectors:[["mat-action-row"]],hostAttrs:[1,"mat-action-row"]});var Bc=function(){function t(e,n,i,r,a){var o=this;_classCallCheck(this,t),this.panel=e,this._element=n,this._focusMonitor=i,this._changeDetectorRef=r,this._parentChangeSubscription=On.a.EMPTY,this._animationsDisabled=!0;var s=e.accordion?e.accordion._stateChanges.pipe(Object(I.a)((function(t){return!(!t.hideToggle&&!t.togglePosition)}))):Oc.a;this._parentChangeSubscription=Object(Cn.a)(e.opened,e.closed,s,e._inputChanges.pipe(Object(I.a)((function(t){return!!(t.hideToggle||t.disabled||t.togglePosition)})))).subscribe((function(){return o._changeDetectorRef.markForCheck()})),e.closed.pipe(Object(I.a)((function(){return e._containsFocus()}))).subscribe((function(){return i.focusVia(n,"program")})),i.monitor(n).subscribe((function(t){t&&e.accordion&&e.accordion._handleHeaderFocus(o)})),a&&(this.expandedHeight=a.expandedHeight,this.collapsedHeight=a.collapsedHeight)}return _createClass(t,[{key:"_animationStarted",value:function(){this._animationsDisabled=!1}},{key:"_toggle",value:function(){this.disabled||this.panel.toggle()}},{key:"_isExpanded",value:function(){return this.panel.expanded}},{key:"_getExpandedState",value:function(){return this.panel._getExpandedState()}},{key:"_getPanelId",value:function(){return this.panel.id}},{key:"_getTogglePosition",value:function(){return this.panel.togglePosition}},{key:"_showToggle",value:function(){return!this.panel.hideToggle&&!this.panel.disabled}},{key:"_keydown",value:function(t){switch(t.keyCode){case _n.j:case _n.d:Object(_n.o)(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._element,t,e)}},{key:"ngOnDestroy",value:function(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}},{key:"disabled",get:function(){return this.panel.disabled}}]),t}();Bc.\u0275fac=function(t){return new(t||Bc)(a.gc(jc,1),a.gc(a.r),a.gc(wn.f),a.gc(a.j),a.gc(Ac,8))},Bc.\u0275cmp=a.ac({type:Bc,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:19,hostBindings:function(t,e){1&t&&(a.Yb("@expansionHeight.start",(function(){return e._animationStarted()})),a.tc("click",(function(){return e._toggle()}))("keydown",(function(t){return e._keydown(t)}))),2&t&&(a.Ub("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),a.dd("@.disabled",e._animationsDisabled)("@expansionHeight",a.Hc(16,Tc,e._getExpandedState(),a.Hc(13,Ec,e.collapsedHeight,e.expandedHeight))),a.Xb("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:["mat-panel-title","mat-panel-description","*"],decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(a.Bc(Lc),a.lc(0,"span",0),a.Ac(1),a.Ac(2,1),a.Ac(3,2),a.kc(),a.Vc(4,Pc,1,1,"span",1)),2&t&&(a.Tb(4),a.Cc("ngIf",e._showToggle()))},directives:[i.l],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;position:relative}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}\n'],encapsulation:2,data:{animation:[Ic.indicatorRotate,Ic.expansionHeaderHeight]},changeDetection:0}),Bc.ctorParameters=function(){return[{type:jc,decorators:[{type:a.u}]},{type:a.r},{type:wn.f},{type:a.j},{type:void 0,decorators:[{type:a.y,args:[Ac]},{type:a.M}]}]},Bc.propDecorators={expandedHeight:[{type:a.C}],collapsedHeight:[{type:a.C}]};var Vc=function t(){_classCallCheck(this,t)};Vc.\u0275fac=function(t){return new(t||Vc)},Vc.\u0275dir=a.bc({type:Vc,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]});var Nc=function t(){_classCallCheck(this,t)};Nc.\u0275fac=function(t){return new(t||Nc)},Nc.\u0275dir=a.bc({type:Nc,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]});var Hc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._ownHeaders=new a.R,t._hideToggle=!1,t.displayMode="default",t.togglePosition="after",t}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._headers.changes.pipe(Object(Mn.a)(this._headers)).subscribe((function(e){t._ownHeaders.reset(e.filter((function(e){return e.panel.accordion===t}))),t._ownHeaders.notifyOnChanges()})),this._keyManager=new wn.e(this._ownHeaders).withWrap()}},{key:"_handleHeaderKeydown",value:function(t){var e=t.keyCode,n=this._keyManager;e===_n.f?Object(_n.o)(t)||(n.setFirstItemActive(),t.preventDefault()):e===_n.c?Object(_n.o)(t)||(n.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t)}},{key:"_handleHeaderFocus",value:function(t){this._keyManager.updateActiveItem(t)}},{key:"hideToggle",get:function(){return this._hideToggle},set:function(t){this._hideToggle=Object(xn.b)(t)}}]),n}(yc);Hc.\u0275fac=function(t){return Xc(t||Hc)},Hc.\u0275dir=a.bc({type:Hc,selectors:[["mat-accordion"]],contentQueries:function(t,e,n){var i;1&t&&a.Zb(n,Bc,!0),2&t&&a.Jc(i=a.uc())&&(e._headers=i)},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,e){2&t&&a.Xb("mat-accordion-multi",e.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[a.Sb([{provide:Rc,useExisting:Hc}]),a.Qb]}),Hc.propDecorators={_headers:[{type:a.o,args:[Bc,{descendants:!0}]}],hideToggle:[{type:a.C}],displayMode:[{type:a.C}],togglePosition:[{type:a.C}]};var Xc=a.nc(Hc),Gc=function t(){_classCallCheck(this,t)};Gc.\u0275mod=a.ec({type:Gc}),Gc.\u0275inj=a.dc({factory:function(t){return new(t||Gc)},imports:[[i.c,_c,jn.g]]});var Uc=n("QibW"),Yc=n("R9Cn"),qc=n("kmnG"),Wc=["moveable"],$c=["chart"],Zc=["materialModal"];function Jc(t,e){if(1&t){var n=a.mc();a.lc(0,"mat-button-toggle",95),a.tc("click",(function(){return a.Oc(n),a.xc().result()})),a.Xc(1),a.yc(2,"translate"),a.kc()}2&t&&(a.Tb(1),a.Yc(a.zc(2,1,"planning.result")))}function Kc(t,e){if(1&t&&(a.wc(),a.lc(0,"svg",99),a.lc(1,"g"),a.hc(2,"rect",3),a.lc(3,"g",4),a.hc(4,"rect",5),a.kc(),a.kc(),a.lc(5,"g"),a.hc(6,"rect",6),a.hc(7,"rect",100),a.kc(),a.kc()),2&t){var n=a.xc().$implicit,i=a.xc();a.Ub("width",i.svgStyle[n].width)("height",i.svgStyle[n].height),a.Tb(7),a.Cc("ngStyle",i.rectStyle[n])}}function Qc(t,e){if(1&t&&(a.wc(),a.lc(0,"svg",101),a.lc(1,"g"),a.hc(2,"rect",9),a.lc(3,"g",10),a.hc(4,"rect",11),a.kc(),a.kc(),a.lc(5,"g"),a.hc(6,"rect",12),a.hc(7,"ellipse",102),a.kc(),a.kc()),2&t){var n=a.xc().$implicit,i=a.xc();a.Cc("ngStyle",i.svgStyle[n]),a.Tb(7),a.Cc("ngStyle",i.ellipseStyle[n])}}function tu(t,e){if(1&t&&(a.wc(),a.lc(0,"svg",101),a.lc(1,"g"),a.hc(2,"rect",103),a.lc(3,"g",4),a.hc(4,"rect",104),a.kc(),a.kc(),a.lc(5,"g"),a.hc(6,"rect",6),a.hc(7,"polygon",105),a.kc(),a.kc()),2&t){var n=a.xc().$implicit,i=a.xc();a.Cc("ngStyle",i.svgStyle[n]),a.Tb(7),a.Cc("ngStyle",i.polygonStyle[n]),a.Ub("points",i.polygonStyle[n].points)}}function eu(t,e){if(1&t){var n=a.mc();a.lc(0,"span",96),a.tc("mouseover",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().hover(t,i)}))("mouseout",(function(t){return a.Oc(n),a.xc().hoverout(t)}))("click",(function(){a.Oc(n);var t=e.$implicit;return a.xc().moveClick(t)}))("contextmenu",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().onRightClick(t,i)})),a.Vc(1,Kc,8,3,"svg",97),a.Vc(2,Qc,8,2,"svg",98),a.Vc(3,tu,8,3,"svg",98),a.kc()}if(2&t){var i=e.$implicit,r=a.xc();a.Dc("id",i),a.Cc("ngStyle",r.spanStyle[i]),a.Tb(1),a.Cc("ngIf","rect"===r.dragObject[i].element),a.Tb(1),a.Cc("ngIf","ellipse"===r.dragObject[i].element),a.Tb(1),a.Cc("ngIf","polygon"===r.dragObject[i].element)}}function nu(t,e){if(1&t){var n=a.mc();a.lc(0,"span",106),a.tc("mouseover",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().hover(t,i)}))("mouseout",(function(t){return a.Oc(n),a.xc().hoverout(t)}))("click",(function(){a.Oc(n);var t=e.$implicit;return a.xc().moveClick(t)}))("contextmenu",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().onRightClick(t,i)})),a.wc(),a.lc(1,"svg",107),a.lc(2,"g"),a.hc(3,"rect",18),a.kc(),a.lc(4,"g"),a.hc(5,"path",19),a.hc(6,"path",108),a.kc(),a.kc(),a.kc()}if(2&t){var i=e.$implicit,r=a.xc();a.Dc("id",i),a.Cc("ngStyle",r.spanStyle[i]),a.Tb(1),a.Cc("ngStyle",r.svgStyle[i]),a.Tb(5),a.Cc("ngStyle",r.pathStyle[i])}}function iu(t,e){if(1&t&&(a.lc(0,"span",109),a.Xc(1),a.kc()),2&t){var n=e.$implicit,i=e.index,r=a.xc();a.Ec("id","",n,"_circle"),a.Cc("ngStyle",r.circleStyle[n]),a.Tb(1),a.Yc(i+1)}}function ru(t,e){if(1&t){var n=a.mc();a.lc(0,"span",110),a.tc("mouseover",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().hover(t,i)}))("mouseout",(function(t){return a.Oc(n),a.xc().hoverout(t)}))("click",(function(){a.Oc(n);var t=e.$implicit;return a.xc().moveClick(t)}))("contextmenu",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().onRightClick(t,i)})),a.wc(),a.lc(1,"svg",107),a.lc(2,"g"),a.hc(3,"rect",111),a.kc(),a.lc(4,"g"),a.lc(5,"g"),a.hc(6,"rect",112),a.kc(),a.lc(7,"g"),a.lc(8,"g",113),a.lc(9,"g",113),a.hc(10,"rect",114),a.lc(11,"text",115),a.Xc(12,"New"),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.kc()}if(2&t){var i=e.$implicit,r=a.xc();a.Dc("id",i),a.Cc("ngStyle",r.spanStyle[i]),a.Tb(1),a.Cc("ngStyle",r.svgStyle[i])}}function au(t,e){if(1&t&&(a.lc(0,"span",116),a.Xc(1),a.kc()),2&t){var n=e.$implicit,i=e.index,r=a.xc();a.Ec("id","",n,"_circle"),a.Cc("ngStyle",r.circleStyle[n]),a.Tb(1),a.Yc(i+1)}}function ou(t,e){if(1&t){var n=a.mc();a.lc(0,"span",117),a.tc("mouseover",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().hover(t,i)}))("mouseout",(function(t){return a.Oc(n),a.xc().hoverout(t)}))("click",(function(){a.Oc(n);var t=e.$implicit;return a.xc().moveClick(t)}))("contextmenu",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().onRightClick(t,i)})),a.wc(),a.lc(1,"svg",118),a.lc(2,"g"),a.hc(3,"rect",119),a.kc(),a.lc(4,"g"),a.hc(5,"path",120),a.kc(),a.kc(),a.kc()}if(2&t){var i=e.$implicit,r=a.xc();a.Dc("id",i),a.Cc("ngStyle",r.spanStyle[i]),a.Tb(1),a.Cc("ngStyle",r.svgStyle[i]),a.Tb(4),a.Cc("ngStyle",r.pathStyle[i])}}function su(t,e){if(1&t&&a.hc(0,"span",121),2&t){var n=a.xc();a.Cc("ngStyle",n.tooltipStyle)("innerHTML",n.tooltipStr,a.Pc)}}function lu(t,e){1&t&&(a.jc(0),a.Xc(1),a.yc(2,"translate"),a.yc(3,"translate"),a.ic()),2&t&&(a.Tb(1),a.ad(" ",a.zc(2,2,"altitude.setting"),"/",a.zc(3,4,"material.setting")," "))}function cu(t,e){1&t&&(a.Xc(0),a.yc(1,"translate")),2&t&&a.Yc(a.zc(1,1,"altitude.setting"))}function uu(t,e){if(1&t){var n=a.mc();a.lc(0,"button",122),a.tc("click",(function(){return a.Oc(n),a.xc().delete()})),a.Xc(1),a.yc(2,"translate"),a.kc(),a.lc(3,"button",123),a.tc("click",(function(t){return a.Oc(n),t.stopPropagation()}))("colorPickerChange",(function(t){return a.Oc(n),a.xc().color=t}))("colorPickerChange",(function(){return a.Oc(n),a.xc().colorChange()})),a.Xc(4),a.yc(5,"translate"),a.kc(),a.lc(6,"button",122),a.tc("click",(function(){return a.Oc(n),a.xc().openHeightSetting()})),a.Vc(7,lu,4,6,"ng-container",66),a.Vc(8,cu,2,3,"ng-template",null,124,a.Wc),a.kc()}if(2&t){var i=a.Kc(9),r=a.xc();a.Tb(1),a.Yc(a.zc(2,5,"delete")),a.Tb(2),a.Cc("colorPicker",r.color),a.Tb(1),a.Yc(a.zc(5,7,"planning.changeColor")),a.Tb(3),a.Cc("ngIf","obstacle"===r.dragObject[r.svgId].type)("ngIfElse",i)}}function hu(t,e){if(1&t){var n=a.mc();a.lc(0,"div",125),a.lc(1,"mat-checkbox",126),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().calculateForm.isAverageSinr=t})),a.yc(2,"translate"),a.Xc(3),a.yc(4,"translate"),a.kc(),a.lc(5,"mat-checkbox",126),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().calculateForm.isCoverage=t})),a.yc(6,"translate"),a.Xc(7),a.yc(8,"translate"),a.kc(),a.kc()}if(2&t){var i=a.xc();a.Tb(1),a.Dc("matTooltip",a.zc(2,6,"isAverageSinr.tooltip")),a.Cc("ngModel",i.calculateForm.isAverageSinr),a.Tb(2),a.Zc(" ",a.zc(4,8,"isAverageSinr")," "),a.Tb(2),a.Dc("matTooltip",a.zc(6,10,"isCoverage.tooltip")),a.Cc("ngModel",i.calculateForm.isCoverage),a.Tb(2),a.Zc(" ",a.zc(8,12,"isCoverage")," ")}}function du(t,e){if(1&t){var n=a.mc();a.lc(0,"div",125),a.lc(1,"mat-checkbox",126),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().calculateForm.isUeAvgSinr=t})),a.yc(2,"translate"),a.Xc(3),a.yc(4,"translate"),a.kc(),a.lc(5,"mat-checkbox",126),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().calculateForm.isUeAvgThroughput=t})),a.yc(6,"translate"),a.Xc(7),a.yc(8,"translate"),a.kc(),a.lc(9,"mat-checkbox",126),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().calculateForm.isUeTpByDistance=t})),a.yc(10,"translate"),a.Xc(11),a.yc(12,"translate"),a.kc(),a.kc()}if(2&t){var i=a.xc();a.Tb(1),a.Dc("matTooltip",a.zc(2,9,"isUeAvgSinr.tooltip")),a.Cc("ngModel",i.calculateForm.isUeAvgSinr),a.Tb(2),a.Zc(" ",a.zc(4,11,"isUeAvgSinr")," "),a.Tb(2),a.Dc("matTooltip",a.zc(6,13,"isUeAvgThroughput.tooltip")),a.Cc("ngModel",i.calculateForm.isUeAvgThroughput),a.Tb(2),a.Zc(" ",a.zc(8,15,"isUeAvgThroughput")," "),a.Tb(2),a.Dc("matTooltip",a.zc(10,17,"isUeTpByDistance.tooltip")),a.Cc("ngModel",i.calculateForm.isUeTpByDistance),a.Tb(2),a.Zc(" ",a.zc(12,19,"isUeTpByDistance")," ")}}function pu(t,e){1&t&&(a.jc(0),a.Xc(1),a.yc(2,"translate"),a.ic()),2&t&&(a.Tb(1),a.Yc(a.zc(2,1,"availableNewBsNumber.wifi")))}function fu(t,e){1&t&&(a.Xc(0),a.yc(1,"translate")),2&t&&a.Yc(a.zc(1,1,"availableNewBsNumber.gen"))}function gu(t,e){if(1&t&&(a.lc(0,"span",127),a.Xc(1),a.kc()),2&t){var n=a.xc();a.Tb(1),a.Yc(n.calculateForm.mapName)}}function vu(t,e){if(1&t){var n=a.mc();a.jc(0),a.lc(1,"li"),a.lc(2,"p"),a.Xc(3),a.yc(4,"translate"),a.kc(),a.lc(5,"select",128),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().subcarrier=t})),a.lc(6,"option",129),a.Xc(7,"15"),a.kc(),a.lc(8,"option",130),a.Xc(9,"30"),a.kc(),a.lc(10,"option",131),a.Xc(11,"60"),a.kc(),a.lc(12,"option",132),a.Xc(13,"120"),a.kc(),a.kc(),a.kc(),a.ic()}if(2&t){var i=a.xc();a.Tb(3),a.Zc("",a.zc(4,2,"subcarrier"),"\t"),a.Tb(2),a.Cc("ngModel",i.subcarrier)}}function mu(t,e){if(1&t){var n=a.mc();a.lc(0,"li"),a.lc(1,"p"),a.Xc(2),a.yc(3,"translate"),a.kc(),a.lc(4,"select",133),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().wifiFrequency=t}))("change",(function(){return a.Oc(n),a.xc().changeWifiFrequency()})),a.lc(5,"option",75),a.Xc(6,"sub-1GHz"),a.kc(),a.lc(7,"option",76),a.Xc(8,"2.4GHz"),a.kc(),a.lc(9,"option",77),a.Xc(10,"5GHz"),a.kc(),a.kc(),a.kc()}if(2&t){var i=a.xc();a.Tb(2),a.Yc(a.zc(3,2,"wifiFrequency")),a.Tb(2),a.Cc("ngModel",i.wifiFrequency)}}function bu(t,e){if(1&t){var n=a.mc();a.jc(0),a.lc(1,"select",134),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().calculateForm.bandwidth=t})),a.lc(2,"option",85),a.Xc(3,"3"),a.kc(),a.lc(4,"option",87),a.Xc(5,"5"),a.kc(),a.lc(6,"option",135),a.Xc(7,"10"),a.kc(),a.lc(8,"option",129),a.Xc(9,"15"),a.kc(),a.lc(10,"option",136),a.Xc(11,"20"),a.kc(),a.kc(),a.ic()}if(2&t){var i=a.xc();a.Tb(1),a.Cc("ngModel",i.calculateForm.bandwidth)}}function yu(t,e){1&t&&(a.jc(0),a.lc(1,"option",87),a.Xc(2,"5"),a.kc(),a.lc(3,"option",135),a.Xc(4,"10"),a.kc(),a.lc(5,"option",129),a.Xc(6,"15"),a.kc(),a.lc(7,"option",136),a.Xc(8,"20"),a.kc(),a.lc(9,"option",137),a.Xc(10,"25"),a.kc(),a.lc(11,"option",130),a.Xc(12,"30"),a.kc(),a.lc(13,"option",138),a.Xc(14,"40"),a.kc(),a.lc(15,"option",139),a.Xc(16,"50"),a.kc(),a.ic())}function wu(t,e){1&t&&(a.jc(0),a.lc(1,"option",131),a.Xc(2,"60"),a.kc(),a.lc(3,"option",140),a.Xc(4,"70"),a.kc(),a.lc(5,"option",141),a.Xc(6,"80"),a.kc(),a.lc(7,"option",142),a.Xc(8,"90"),a.kc(),a.lc(9,"option",143),a.Xc(10,"100"),a.kc(),a.ic())}function xu(t,e){1&t&&(a.jc(0),a.lc(1,"option",135),a.Xc(2,"10"),a.kc(),a.lc(3,"option",129),a.Xc(4,"15"),a.kc(),a.lc(5,"option",136),a.Xc(6,"20"),a.kc(),a.lc(7,"option",137),a.Xc(8,"25"),a.kc(),a.lc(9,"option",130),a.Xc(10,"30"),a.kc(),a.lc(11,"option",138),a.Xc(12,"40"),a.kc(),a.lc(13,"option",139),a.Xc(14,"50"),a.kc(),a.lc(15,"option",131),a.Xc(16,"60"),a.kc(),a.lc(17,"option",140),a.Xc(18,"70"),a.kc(),a.lc(19,"option",141),a.Xc(20,"80"),a.kc(),a.lc(21,"option",142),a.Xc(22,"90"),a.kc(),a.lc(23,"option",143),a.Xc(24,"100"),a.kc(),a.lc(25,"option",144),a.Xc(26,"200"),a.kc(),a.ic())}function _u(t,e){1&t&&(a.jc(0),a.lc(1,"option",139),a.Xc(2,"50"),a.kc(),a.lc(3,"option",143),a.Xc(4,"100"),a.kc(),a.lc(5,"option",144),a.Xc(6,"200"),a.kc(),a.lc(7,"option",145),a.Xc(8,"400"),a.kc(),a.ic())}function Ou(t,e){if(1&t){var n=a.mc();a.jc(0),a.lc(1,"select",134),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().calculateForm.bandwidth=t})),a.Vc(2,yu,17,0,"ng-container",78),a.Vc(3,wu,11,0,"ng-container",78),a.Vc(4,xu,27,0,"ng-container",78),a.Vc(5,_u,9,0,"ng-container",78),a.kc(),a.ic()}if(2&t){var i=a.xc();a.Tb(1),a.Cc("ngModel",i.calculateForm.bandwidth),a.Tb(1),a.Cc("ngIf",15==i.subcarrier||30==i.subcarrier),a.Tb(1),a.Cc("ngIf",30==i.subcarrier),a.Tb(1),a.Cc("ngIf",60==i.subcarrier),a.Tb(1),a.Cc("ngIf",120==i.subcarrier)}}function Cu(t,e){1&t&&(a.jc(0),a.lc(1,"option",76),a.Xc(2,"1"),a.kc(),a.lc(3,"option",77),a.Xc(4,"2"),a.kc(),a.lc(5,"option",86),a.Xc(6,"4"),a.kc(),a.lc(7,"option",90),a.Xc(8,"8"),a.kc(),a.lc(9,"option",147),a.Xc(10,"16"),a.kc(),a.ic())}function ku(t,e){1&t&&(a.lc(0,"option",136),a.Xc(1,"20"),a.kc(),a.lc(2,"option",138),a.Xc(3,"40"),a.kc())}function Su(t,e){1&t&&(a.lc(0,"option",136),a.Xc(1,"20"),a.kc(),a.lc(2,"option",138),a.Xc(3,"40"),a.kc(),a.lc(4,"option",141),a.Xc(5,"80"),a.kc(),a.lc(6,"option",132),a.Xc(7,"120"),a.kc())}function Mu(t,e){if(1&t){var n=a.mc();a.jc(0),a.lc(1,"select",134),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().calculateForm.bandwidth=t})),a.Vc(2,Cu,11,0,"ng-container",78),a.Vc(3,ku,4,0,"ng-template",146),a.Vc(4,Su,8,0,"ng-template",146),a.kc(),a.ic()}if(2&t){var i=a.xc();a.Tb(1),a.Cc("ngModel",i.calculateForm.bandwidth),a.Tb(1),a.Cc("ngIf","0"==i.wifiFrequency),a.Tb(1),a.Cc("ngIf","1"==i.wifiFrequency),a.Tb(1),a.Cc("ngIf","2"==i.wifiFrequency)}}function Eu(t,e){if(1&t&&(a.jc(0),a.Xc(1),a.ic()),2&t){var n=a.xc();a.Tb(1),a.Zc(" ",n.calculateForm.frequency," MHz ")}}function Tu(t,e){if(1&t){var n=a.mc();a.lc(0,"input",69),a.tc("ngModelChange",(function(t){return a.Oc(n),a.xc().calculateForm.frequency=t})),a.kc()}if(2&t){var i=a.xc();a.Cc("ngModel",i.calculateForm.frequency)}}function Pu(t,e){if(1&t){var n=a.mc();a.lc(0,"span",148),a.tc("click",(function(){return a.Oc(n),a.xc().clearAll("obstacle")})),a.lc(1,"span",31),a.Xc(2,"clear"),a.kc(),a.Xc(3,"Clear All "),a.kc()}}function Lu(t,e){if(1&t){var n=a.mc();a.lc(0,"li"),a.lc(1,"span"),a.lc(2,"label"),a.Xc(3,"X"),a.kc(),a.lc(4,"input",74),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].x=t}))("change",(function(){a.Oc(n);var t=e.$implicit;return a.xc().changePosition(t)})),a.kc(),a.kc(),a.lc(5,"span"),a.lc(6,"label"),a.Xc(7,"Y"),a.kc(),a.lc(8,"input",74),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].y=t}))("change",(function(){a.Oc(n);var t=e.$implicit;return a.xc().changePosition(t)})),a.kc(),a.kc(),a.lc(9,"span"),a.lc(10,"label"),a.Xc(11),a.yc(12,"translate"),a.kc(),a.lc(13,"input",74),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].rotate=t}))("change",(function(){a.Oc(n);var t=e.$implicit;return a.xc().changeRotate(t)})),a.kc(),a.kc(),a.hc(14,"br"),a.lc(15,"span"),a.lc(16,"label"),a.Xc(17),a.yc(18,"translate"),a.kc(),a.lc(19,"input",74),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].width=t}))("change",(function(){a.Oc(n);var t=e.$implicit;return a.xc().changeSize(t)})),a.kc(),a.kc(),a.lc(20,"span"),a.lc(21,"label"),a.Xc(22),a.yc(23,"translate"),a.kc(),a.lc(24,"input",74),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].height=t}))("change",(function(){a.Oc(n);var t=e.$implicit;return a.xc().changeSize(t)})),a.kc(),a.kc(),a.lc(25,"span"),a.lc(26,"label"),a.Xc(27),a.yc(28,"translate"),a.kc(),a.lc(29,"input",69),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].altitude=t})),a.kc(),a.kc(),a.lc(30,"span"),a.lc(31,"label"),a.Xc(32),a.yc(33,"translate"),a.kc(),a.lc(34,"select",149),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].material=t})),a.lc(35,"option",75),a.Xc(36),a.yc(37,"translate"),a.kc(),a.lc(38,"option",76),a.Xc(39),a.yc(40,"translate"),a.kc(),a.lc(41,"option",77),a.Xc(42),a.yc(43,"translate"),a.kc(),a.lc(44,"option",85),a.Xc(45),a.yc(46,"translate"),a.kc(),a.lc(47,"option",86),a.Xc(48),a.yc(49,"translate"),a.kc(),a.kc(),a.kc(),a.kc()}if(2&t){var i=e.$implicit,r=a.xc();a.Tb(4),a.Cc("ngModel",r.dragObject[i].x),a.Tb(4),a.Cc("ngModel",r.dragObject[i].y),a.Tb(3),a.Yc(a.zc(12,17,"rotate")),a.Tb(2),a.Cc("ngModel",r.dragObject[i].rotate),a.Tb(4),a.Yc(a.zc(18,19,"width")),a.Tb(2),a.Cc("ngModel",r.dragObject[i].width),a.Tb(3),a.Yc(a.zc(23,21,"height")),a.Tb(2),a.Cc("ngModel",r.dragObject[i].height),a.Tb(3),a.Yc(a.zc(28,23,"altitude")),a.Tb(2),a.Cc("ngModel",r.dragObject[i].altitude),a.Tb(3),a.Yc(a.zc(33,25,"material")),a.Tb(2),a.Cc("ngModel",r.dragObject[i].material),a.Tb(2),a.Yc(a.zc(37,27,"material.wood")),a.Tb(3),a.Yc(a.zc(40,29,"material.cement")),a.Tb(3),a.Yc(a.zc(43,31,"material.light_steel_frame")),a.Tb(3),a.Yc(a.zc(46,33,"material.glass")),a.Tb(3),a.Yc(a.zc(49,35,"material.stainless"))}}function Ru(t,e){if(1&t){var n=a.mc();a.lc(0,"span",148),a.tc("click",(function(){return a.Oc(n),a.xc().clearAll("defaultBS")})),a.lc(1,"span",31),a.Xc(2,"clear"),a.kc(),a.Xc(3,"Clear All "),a.kc()}}function Iu(t,e){if(1&t){var n=a.mc();a.lc(0,"li"),a.lc(1,"span"),a.lc(2,"label"),a.Xc(3,"X"),a.kc(),a.lc(4,"input",74),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].x=t}))("change",(function(){a.Oc(n);var t=e.$implicit;return a.xc().changePosition(t)})),a.kc(),a.kc(),a.lc(5,"span"),a.lc(6,"label"),a.Xc(7,"Y"),a.kc(),a.lc(8,"input",74),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].y=t}))("change",(function(){a.Oc(n);var t=e.$implicit;return a.xc().changePosition(t)})),a.kc(),a.kc(),a.lc(9,"span"),a.lc(10,"label"),a.Xc(11,"Z"),a.kc(),a.lc(12,"input",69),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].z=t})),a.kc(),a.kc(),a.kc()}if(2&t){var i=e.$implicit,r=a.xc();a.Tb(4),a.Cc("ngModel",r.dragObject[i].x),a.Tb(4),a.Cc("ngModel",r.dragObject[i].y),a.Tb(4),a.Cc("ngModel",r.dragObject[i].z)}}function Du(t,e){if(1&t){var n=a.mc();a.lc(0,"span",148),a.tc("click",(function(){return a.Oc(n),a.xc().clearAll("UE")})),a.lc(1,"span",31),a.Xc(2,"clear"),a.kc(),a.Xc(3,"Clear All "),a.kc()}}function zu(t,e){if(1&t&&(a.lc(0,"option",152),a.Xc(1),a.kc()),2&t){var n=e.$implicit;a.Cc("value",n),a.Tb(1),a.Yc(n)}}function Au(t,e){if(1&t){var n=a.mc();a.lc(0,"li"),a.lc(1,"span"),a.lc(2,"label"),a.Xc(3,"X"),a.kc(),a.lc(4,"input",74),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].x=t}))("change",(function(){a.Oc(n);var t=e.$implicit;return a.xc().changePosition(t)})),a.kc(),a.kc(),a.lc(5,"span"),a.lc(6,"label"),a.Xc(7,"Y"),a.kc(),a.lc(8,"input",74),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].y=t}))("change",(function(){a.Oc(n);var t=e.$implicit;return a.xc().changePosition(t)})),a.kc(),a.kc(),a.lc(9,"span"),a.lc(10,"label"),a.Xc(11,"Z"),a.kc(),a.lc(12,"select",150),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].z=t})),a.Vc(13,zu,2,2,"option",151),a.kc(),a.kc(),a.kc()}if(2&t){var i=e.$implicit,r=a.xc();a.Tb(4),a.Cc("ngModel",r.dragObject[i].x),a.Tb(4),a.Cc("ngModel",r.dragObject[i].y),a.Tb(4),a.Cc("ngModel",r.dragObject[i].z),a.Tb(1),a.Cc("ngForOf",r.zValues)}}function ju(t,e){if(1&t){var n=a.mc();a.lc(0,"span",148),a.tc("click",(function(){return a.Oc(n),a.xc().clearAll("candidate")})),a.lc(1,"span",31),a.Xc(2,"clear"),a.kc(),a.Xc(3,"Clear All "),a.kc()}}function Fu(t,e){if(1&t){var n=a.mc();a.lc(0,"li"),a.lc(1,"span"),a.lc(2,"label"),a.Xc(3,"X"),a.kc(),a.lc(4,"input",74),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].x=t}))("change",(function(){a.Oc(n);var t=e.$implicit;return a.xc().changePosition(t)})),a.kc(),a.kc(),a.lc(5,"span"),a.lc(6,"label"),a.Xc(7,"Y"),a.kc(),a.lc(8,"input",74),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].y=t}))("change",(function(){a.Oc(n);var t=e.$implicit;return a.xc().changePosition(t)})),a.kc(),a.kc(),a.lc(9,"span"),a.lc(10,"label"),a.Xc(11,"Z"),a.kc(),a.lc(12,"input",69),a.tc("ngModelChange",(function(t){a.Oc(n);var i=e.$implicit;return a.xc().dragObject[i].z=t})),a.kc(),a.kc(),a.kc()}if(2&t){var i=e.$implicit,r=a.xc();a.Tb(4),a.Cc("ngModel",r.dragObject[i].x),a.Tb(4),a.Cc("ngModel",r.dragObject[i].y),a.Tb(4),a.Cc("ngModel",r.dragObject[i].z)}}function Bu(t,e){1&t&&(a.lc(0,"h5",158),a.Xc(1),a.yc(2,"translate"),a.yc(3,"translate"),a.kc()),2&t&&(a.Tb(1),a.ad("",a.zc(2,2,"altitude.setting")," / ",a.zc(3,4,"material.setting")," "))}function Vu(t,e){1&t&&(a.lc(0,"h5",158),a.Xc(1),a.yc(2,"translate"),a.kc()),2&t&&(a.Tb(1),a.Yc(a.zc(2,1,"altitude.setting")))}function Nu(t,e){if(1&t){var n=a.mc();a.jc(0),a.lc(1,"input",69),a.tc("ngModelChange",(function(t){a.Oc(n);var e=a.xc(2);return e.dragObject[e.svgId].altitude=t})),a.kc(),a.Xc(2),a.yc(3,"translate"),a.ic()}if(2&t){var i=a.xc(2);a.Tb(1),a.Cc("ngModel",i.dragObject[i.svgId].altitude),a.Tb(1),a.Zc("",a.zc(3,2,"meter")," ")}}function Hu(t,e){if(1&t){var n=a.mc();a.jc(0),a.lc(1,"input",69),a.tc("ngModelChange",(function(t){a.Oc(n);var e=a.xc(2);return e.dragObject[e.svgId].z=t})),a.kc(),a.Xc(2),a.yc(3,"translate"),a.ic()}if(2&t){var i=a.xc(2);a.Tb(1),a.Cc("ngModel",i.dragObject[i.svgId].z),a.Tb(1),a.Zc("",a.zc(3,2,"cm")," ")}}function Xu(t,e){if(1&t&&(a.lc(0,"option",152),a.Xc(1),a.kc()),2&t){var n=e.$implicit;a.Cc("value",n),a.Tb(1),a.Yc(n)}}function Gu(t,e){if(1&t){var n=a.mc();a.jc(0),a.lc(1,"select",150),a.tc("ngModelChange",(function(t){a.Oc(n);var e=a.xc(2);return e.dragObject[e.svgId].z=t})),a.Vc(2,Xu,2,2,"option",151),a.kc(),a.ic()}if(2&t){var i=a.xc(2);a.Tb(1),a.Cc("ngModel",i.dragObject[i.svgId].z),a.Tb(1),a.Cc("ngForOf",i.zValues)}}function Uu(t,e){if(1&t){var n=a.mc();a.lc(0,"li",159),a.lc(1,"mat-label"),a.Xc(2),a.yc(3,"translate"),a.kc(),a.lc(4,"mat-radio-group",160),a.tc("ngModelChange",(function(t){a.Oc(n);var e=a.xc(2);return e.dragObject[e.svgId].material=t})),a.lc(5,"mat-radio-button",75),a.Xc(6),a.yc(7,"translate"),a.kc(),a.lc(8,"mat-radio-button",161),a.Xc(9),a.yc(10,"translate"),a.kc(),a.lc(11,"mat-radio-button",162),a.Xc(12),a.yc(13,"translate"),a.kc(),a.lc(14,"mat-radio-button",163),a.Xc(15),a.yc(16,"translate"),a.kc(),a.lc(17,"mat-radio-button",164),a.Xc(18),a.yc(19,"translate"),a.kc(),a.kc(),a.kc()}if(2&t){var i=a.xc(2);a.Tb(2),a.Yc(a.zc(3,7,"material.setting")),a.Tb(2),a.Cc("ngModel",i.dragObject[i.svgId].material),a.Tb(2),a.Yc(a.zc(7,9,"material.wood")),a.Tb(3),a.Yc(a.zc(10,11,"material.cement")),a.Tb(3),a.Yc(a.zc(13,13,"material.light_steel_frame")),a.Tb(3),a.Yc(a.zc(16,15,"material.glass")),a.Tb(3),a.Yc(a.zc(19,17,"material.stainless"))}}function Yu(t,e){if(1&t&&(a.Vc(0,Bu,4,6,"h5",153),a.Vc(1,Vu,3,3,"ng-template",null,154,a.Wc),a.lc(3,"div",155),a.lc(4,"ul"),a.lc(5,"li",156),a.Xc(6),a.yc(7,"translate"),a.Vc(8,Nu,4,4,"ng-container",78),a.Vc(9,Hu,4,4,"ng-container",78),a.Vc(10,Gu,3,2,"ng-container",78),a.kc(),a.Vc(11,Uu,20,19,"li",157),a.kc(),a.kc()),2&t){var n=a.Kc(2),i=a.xc();a.Cc("ngIf","obstacle"===i.dragObject[i.svgId].type)("ngIfElse",n),a.Tb(6),a.Zc(" ",a.zc(7,7,"altitude.setting")," "),a.Tb(2),a.Cc("ngIf","obstacle"===i.dragObject[i.svgId].type),a.Tb(1),a.Cc("ngIf","defaultBS"===i.dragObject[i.svgId].type||"candidate"===i.dragObject[i.svgId].type),a.Tb(1),a.Cc("ngIf","UE"===i.dragObject[i.svgId].type),a.Tb(1),a.Cc("ngIf","obstacle"===i.dragObject[i.svgId].type)}}var qu=function(){function t(e,n,i,r,a,o,s){var l=this;_classCallCheck(this,t),this.authService=e,this.router=n,this.route=i,this.matDialog=r,this.formService=a,this.translateService=o,this.http=s,this.scalable=!1,this.resizable=!0,this.warpable=!1,this.frame=new bn({width:"30px",height:"30px",left:"0px",top:"0px","z-index":99999,transform:{rotate:"0deg",scaleX:1,scaleY:1}}),this.iconList=[1,2,3],this.opened=!0,this.panelOpenState=!1,this.live=!1,this.calculateForm=new h.a,this.subitemClass={obstacle:"subitem active",ue:"subitem active"},this.zValues=["1","",""],this.obstacleList=[],this.dragObject={},this.defaultBSList=[],this.candidateList=[],this.ueList=[],this.chartLeft=0,this.chartRight=0,this.chartTop=0,this.chartBottom=0,this.chartHeight=0,this.svgMap={rect:{id:"svg_1",title:"\u969c\u7919\u7269",type:"obstacle",element:"rect"},ellipse:{id:"svg_2",title:"\u969c\u7919\u7269",type:"obstacle",element:"ellipse"},polygon:{id:"svg_3",title:"\u969c\u7919\u7269",type:"obstacle",element:"polygon"},defaultBS:{id:"svg_4",title:"\u73fe\u6709\u57fa\u7ad9",type:"defaultBS",element:""},candidate:{id:"svg_5",title:"\u65b0\u589e\u57fa\u7ad9",type:"candidate",element:""},UE:{id:"svg_6",title:this.translateService.instant("ue"),type:"UE",element:""}},this.tooltipStr="",this.roundFormat=Plotly.d3.format(".1f"),this.pathLossModelIdList=[],this.bounds={left:0,top:0,right:400,bottom:500},this.menuTopLeftStyle={top:"0",left:"0"},this.showFileName=!0,this.numColumnList=["totalRound","crossover","mutation","iteration","seed","width","height","altitude","pathLossModelId","useUeCoordinate","powerMaxRange","powerMinRange","beamMaxId","beamMinId","objectiveIndex","availableNewBsNumber","addFixedBsNumber","bandwidth","frequency","sinrRatio","throughputRatio","coverageRatio","ueAvgSinrRatio","ueAvgThroughputRatio","ueTpByDistanceRatio","mctsC","mctsMimo","ueCoverageRatio","ueTpByRsrpRatio","mctsTemperature","mctsTime","mctsTestTime","mctsTotalTime"],this.taskid="",this.heightList=[],this.view3dDialogConfig=new u.e,this.msgDialogConfig=new u.e,this.tooltipStyle={left:"0px",top:"0px"},this.spanStyle={},this.rectStyle={},this.ellipseStyle={},this.polygonStyle={},this.svgStyle={},this.pathStyle={},this.circleStyle={},this.dragStyle={},this.wifiFrequency="0",this.isHst=!1,this.planningIndex="1",this.OBSTACLE_COLOR="#73805c",this.DEFAULT_BS_COLOR="#2958be",this.CANDIDATE_COLOR="#d00a67",this.UE_COLOR="#0c9ccc",this.hstOutput={},this.subcarrier=15,this.progressNum=0,this.onWindowReisze=function(){l.moveable.updateRect()}}return _createClass(t,[{key:"windowResize",value:function(){}},{key:"clickout",value:function(t){if(void 0!==this.target&&null!=this.target)if(this.target.contains(t.target))this.live=!0;else{this.live=!1;try{this.moveable.destroy()}catch(e){this.moveable.ngOnInit(),this.moveable.destroy()}}}},{key:"keyEvent",value:function(t){if(void 0!==this.target&&this.live&&"Delete"===t.key){this.live=!1,this.moveable.destroy();var e=this.target.closest("span").id,n=this.dragObject[e];"obstacle"===n.type?this.obstacleList.splice(this.obstacleList.indexOf(e),1):"defaultBS"===n.type?this.defaultBSList.splice(this.defaultBSList.indexOf(e),1):"candidate"===n.type?this.candidateList.splice(this.candidateList.indexOf(e),1):"UE"===n.type&&this.ueList.splice(this.ueList.indexOf(e),1)}}},{key:"ngOnInit",value:function(){var t=this;this.view3dDialogConfig.autoFocus=!1,this.view3dDialogConfig.width="80%",this.view3dDialogConfig.hasBackdrop=!1,this.msgDialogConfig.autoFocus=!1,sessionStorage.removeItem("planningObj");for(var e=0;e<9;e++)this.pathLossModelIdList.push(e);if(this.route.queryParams.subscribe((function(e){void 0!==e.taskId&&(t.taskid=e.taskId,"true"===e.isHst&&(t.isHst=!0))})),null!=sessionStorage.getItem("importFile")){this.calculateForm=new h.a,this.calculateForm.taskName=sessionStorage.getItem("taskName");var n=new FileReader;n.onload=function(e){t.readXls(e.target.result)},n.readAsBinaryString(this.dataURLtoBlob(sessionStorage.getItem("importFile")))}else if(""!==this.taskid){var i;this.isHst?(i="".concat(this.authService.API_URL,"/historyDetail/").concat(this.authService.userId,"/"),i+="".concat(this.authService.userToken,"/").concat(this.taskid)):i="".concat(this.authService.API_URL,"/completeCalcResult/").concat(this.taskid,"/").concat(this.authService.userToken),this.http.get(i).subscribe((function(e){if(t.isHst){var n=e,i=t.formService.setHstOutputToResultOutput(n.output);delete n.output,t.calculateForm=t.formService.setHstToForm(n),console.log(i),t.hstOutput.gaResult={},t.hstOutput.gaResult.chosenCandidate=i.chosenCandidate,t.hstOutput.gaResult.sinrMap=i.sinrMap,t.hstOutput.gaResult.connectionMapAll=i.connectionMapAll,t.hstOutput.gaResult.rsrpMap=i.rsrpMap;var r=[];i.sinrMap.map((function(t){t.map((function(t){t.map((function(t){r.push(t)}))}))}));var a=[];i.rsrpMap.map((function(t){t.map((function(t){t.map((function(t){a.push(t)}))}))})),t.hstOutput.sinrMax=Plotly.d3.max(r),t.hstOutput.sinrMin=Plotly.d3.min(r),t.hstOutput.rsrpMax=Plotly.d3.max(a),t.hstOutput.rsrpMin=Plotly.d3.min(a)}else t.calculateForm=e.input;t.zValues=JSON.parse(t.calculateForm.zValue),null!=window.sessionStorage.getItem("form_"+t.taskid)&&(t.calculateForm=JSON.parse(window.sessionStorage.getItem("form_"+t.taskid))),t.initData(!1)}),(function(e){t.msgDialogConfig.data={type:"error",infoMessage:"\u7121\u6cd5\u53d6\u5f97\u8a08\u7b97\u7d50\u679c!"},t.matDialog.open(d.a,t.msgDialogConfig)}))}else this.calculateForm=JSON.parse(sessionStorage.getItem("calculateForm")),this.changeWifiFrequency(),"0"===this.calculateForm.objectiveIndex?this.calculateForm.bandwidth=3:"1"===this.calculateForm.objectiveIndex?this.calculateForm.bandwidth=5:"2"===this.calculateForm.objectiveIndex&&(this.calculateForm.bandwidth=1),this.initData(!1)}},{key:"ngOnDestroy",value:function(){""!==this.taskid&&(this.setForm(),window.sessionStorage.setItem("form_"+this.taskid,JSON.stringify(this.calculateForm))),void 0!==this.progressInterval&&window.clearInterval(this.progressInterval);try{this.moveable.destroy()}catch(t){}}},{key:"ngAfterViewInit",value:function(){}},{key:"initData",value:function(t){var e=this;void 0!==this.chart&&(this.chart.nativeElement.style.opacity=0);var n={displaylogo:!1,showTips:!1,editable:!1,scrollZoom:!1,displayModeBar:!1};if(this.plotLayout={autosize:!0,xaxis:{linewidth:1,mirror:"all",range:[0,this.calculateForm.width],showgrid:!1,zeroline:!1,fixedrange:!0},yaxis:{linewidth:1,mirror:"all",range:[0,this.calculateForm.height],showgrid:!1,zeroline:!1,fixedrange:!0},margin:{t:20,b:20,l:40}},this.authService.isEmpty(this.calculateForm.mapImage))void 0!==this.chart&&(this.chart.nativeElement.style.opacity=1),this.plotLayout.width=.68*window.innerWidth,Plotly.newPlot("chart",{data:[],layout:this.plotLayout,config:n}).then((function(n){var i=n.querySelector(".xy").querySelectorAll("rect")[0].getBoundingClientRect();e.bounds={left:i.left,top:i.top,right:i.right,bottom:i.top+i.height},e.calScale(n),t?e.setImportData():""!==e.taskid&&e.edit()}));else{var i=new FileReader;i.readAsDataURL(this.dataURLtoBlob(this.calculateForm.mapImage)),i.onload=function(r){e.plotLayout.images=[{source:i.result,x:0,y:0,sizex:e.calculateForm.width,sizey:e.calculateForm.height,xref:"x",yref:"y",xanchor:"left",yanchor:"bottom",sizing:"stretch",hover:"x+y"}],Plotly.newPlot("chart",{data:[],layout:e.plotLayout,config:n}).then((function(n){var r=n.querySelector(".xy").querySelectorAll("rect")[0].getBoundingClientRect(),a=new Image;a.src=i.result.toString(),a.onload=function(){var n,i=window.innerHeight-170,o=a.height;o>i&&(o=i),n=a.width>o?{height:o/(.9*a.width)*r.width}:{width:a.width/(.9*o)*r.height},Plotly.relayout("chart",n).then((function(n){e.chart.nativeElement.style.opacity=1;var i=n.querySelector(".xy").querySelectorAll("rect")[0].getBoundingClientRect();e.bounds={left:i.left,top:i.top,right:i.right,bottom:i.top+i.height},e.calScale(n),t?e.setImportData():""!==e.taskid&&e.edit()}))}}))}}}},{key:"calScale",value:function(t){var e=t.querySelector(".xy").querySelectorAll("rect")[0],n=e.getBoundingClientRect();this.chartLeft=n.left,this.chartRight=n.right,this.chartTop=n.top,this.chartBottom=n.bottom,this.chartHeight=n.height,this.dragStyle={left:e.getAttribute("x")+"px",top:e.getAttribute("y")+"px",width:n.width+"px",height:n.height+"px",position:"absolute"},this.xLinear=Plotly.d3.scale.linear().domain([0,n.width]).range([0,this.calculateForm.width]),this.yLinear=Plotly.d3.scale.linear().domain([0,n.height]).range([0,this.calculateForm.height]),this.pixelXLinear=Plotly.d3.scale.linear().domain([0,this.calculateForm.width]).range([0,n.width]),this.pixelYLinear=Plotly.d3.scale.linear().domain([0,this.calculateForm.height]).range([0,n.height])}},{key:"dataURLtoBlob",value:function(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var n=t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return new Blob([i],{type:n})}},{key:"addMoveable",value:function(t){var e,n=this;try{this.moveable.destroy()}catch(a){}window.setTimeout((function(){n.live=!0}),0);var i=30,r=30;"rect"===t?(e=this.OBSTACLE_COLOR,this.svgId="".concat(t,"_").concat(this.obstacleList.length),this.obstacleList.push(this.svgId),this.rectStyle[this.svgId]={width:30,height:30,fill:e}):"ellipse"===t?(e=this.OBSTACLE_COLOR,this.svgId="".concat(t,"_").concat(this.obstacleList.length),this.obstacleList.push(this.svgId),this.ellipseStyle[this.svgId]={ry:15,rx:15,cx:15,cy:15,fill:e}):"polygon"===t?(e=this.OBSTACLE_COLOR,this.svgId="".concat(t,"_").concat(this.obstacleList.length),this.obstacleList.push(this.svgId),this.polygonStyle[this.svgId]={points:"15,0 30,30 0,30",fill:this.OBSTACLE_COLOR}):"defaultBS"===t?(e=this.DEFAULT_BS_COLOR,this.svgId="".concat(t,"_").concat(this.defaultBSList.length),this.defaultBSList.push(this.svgId),this.pathStyle[this.svgId]={fill:this.DEFAULT_BS_COLOR}):"candidate"===t?(e=this.CANDIDATE_COLOR,this.svgId="".concat(t,"_").concat(this.candidateList.length),this.candidateList.push(this.svgId),this.pathStyle[this.svgId]={fill:this.CANDIDATE_COLOR}):"UE"===t&&(e=this.UE_COLOR,this.svgId="".concat(t,"_").concat(this.ueList.length),this.ueList.push(this.svgId),this.pathStyle[this.svgId]={fill:this.UE_COLOR},i=20,r=30),this.spanStyle[this.svgId]={left:"200px",top:"100px",width:i+"px",height:r+"px"},this.svgStyle[this.svgId]={display:"inherit",width:i,height:r},this.dragObject[this.svgId]={x:0,y:0,z:this.zValues[0],width:i,height:r,altitude:50,rotate:0,title:this.svgMap[t].title,type:this.svgMap[t].type,color:e,material:"0",element:t},this.realId=yn.cloneDeep(this.svgId),this.frame=new bn({width:i+"px",height:r+"px",left:"200px",top:"100px","z-index":99999,transform:{rotate:"0deg",scaleX:1,scaleY:1}}),this.currentLeft=yn.cloneDeep(this.spanStyle[this.svgId].left),this.currentTop=yn.cloneDeep(this.spanStyle[this.svgId].top),this.ognSpanStyle=yn.cloneDeep(this.spanStyle),window.setTimeout((function(){n.target=document.getElementById(""+n.svgId),n.live=!0,"obstacle"===n.svgMap[t].type?(n.moveable.rotatable=!0,n.moveable.resizable=!0):(n.moveable.rotatable=!1,n.moveable.resizable=!1),n.moveable.ngOnInit(),n.setDragData(),n.moveNumber(n.svgId),n.hoverObj=n.target,n.setLabel()}),0)}},{key:"moveClick",value:function(t){var e=this;try{this.moveable.destroy()}catch(n){}window.setTimeout((function(){e.live=!0}),0),this.target=document.getElementById(t),this.svgId=t,this.realId=yn.cloneDeep(t),this.frame=new bn({width:this.spanStyle[t].width,height:this.spanStyle[t].height,left:this.spanStyle[t].left,top:this.spanStyle[t].top,"z-index":99999,transform:{rotate:this.dragObject[this.svgId].rotate+"deg",scaleX:1,scaleY:1}}),this.currentLeft=yn.cloneDeep(this.spanStyle[this.svgId].left),this.currentTop=yn.cloneDeep(this.spanStyle[this.svgId].top),this.ognSpanStyle=yn.cloneDeep(this.spanStyle),this.live=!0,"obstacle"===this.dragObject[t].type?(this.moveable.rotatable=!0,this.moveable.resizable=!0):(this.moveable.rotatable=!1,this.moveable.resizable=!1),this.moveable.ngOnInit(),this.setDragData(),this.hoverObj=this.target,this.setLabel()}},{key:"clickScalable",value:function(){this.scalable=!0,this.resizable=!1,this.warpable=!1}},{key:"clickResizable",value:function(){this.scalable=!1,this.resizable=!0,this.warpable=!1}},{key:"clickWarpable",value:function(){this.scalable=!1,this.resizable=!1,this.warpable=!0}},{key:"setTransform",value:function(t){t.style.cssText=this.frame.toCSS()}},{key:"setLabel",value:function(){var t=this;this.live=!0,window.setTimeout((function(){var e=t.hoverObj.getBoundingClientRect();t.tooltipStyle.left=e.left+"px",t.tooltipStyle.top=e.top+e.height+5+"px",t.tooltipStr=t.getTooltip()}),0)}},{key:"getTooltip",value:function(){var t=this.hoverObj.id,e=this.dragObject[t].title+"<br>";return e+="X: ".concat(this.dragObject[t].x,"<br>"),e+="Y: ".concat(this.dragObject[t].y,"<br>"),"obstacle"===this.dragObject[t].type?(e+="\u9577: ".concat(this.dragObject[t].width,"<br>"),e+="\u5bec: ".concat(this.dragObject[t].height,"<br>"),e+="\u9ad8: ".concat(this.dragObject[t].altitude,"<br>")):e+="Z: ".concat(this.dragObject[t].z,"<br>"),"obstacle"===this.dragObject[t].type&&(e+="\u6750\u8cea: "+this.parseMaterial(this.dragObject[t].material)),e}},{key:"setDragData",value:function(){var t=this.target.getBoundingClientRect(),e=t.left-this.chartLeft,n=this.chartBottom-t.bottom,i=this.roundFormat(this.xLinear(e));i<0&&(i=0);var r=this.roundFormat(this.yLinear(n)),a=this.roundFormat(this.xLinear(t.width)),o=this.roundFormat(this.yLinear(t.height));this.dragObject[this.svgId].x=i,this.dragObject[this.svgId].y=r,this.dragObject[this.svgId].width=a,this.dragObject[this.svgId].height=o}},{key:"parseMaterial",value:function(t){return"0"===t||0===t?"\u6728\u982d":"1"===t||1===t?"\u6c34\u6ce5":"2"===t||2===t?"\u8f15\u92fc\u67b6":"3"===t||3===t?"\u73bb\u7483":"4"===t||4===t?"\u4e0d\u93fd\u92fc/\u5176\u5b83\u91d1\u5c6c\u985e":void 0}},{key:"dragStart",value:function(t){}},{key:"onDrag",value:function(t){var e=t.target,n=(t.clientX,t.clientY,t.top),i=t.left;t.isPinch;this.svgId!==this.realId&&(this.svgId=yn.cloneDeep(this.realId),e=document.querySelector("#"+this.svgId)),this.target=e,this.frame.set("left",i+"px"),this.frame.set("top",n+"px"),this.frame.set("z-index",9999999),this.setTransform(e),this.spanStyle[this.svgId].left=i+"px",this.spanStyle[this.svgId].top=n+"px",this.setDragData(),"defaultBS"!==this.dragObject[this.svgId].type&&"candidate"!==this.dragObject[this.svgId].type||(this.circleStyle[this.svgId]={top:n-20+"px",left:i+20+"px"}),this.setLabel()}},{key:"onScale",value:function(t){var e=t.target,n=t.delta,i=(t.clientX,t.clientY,t.isPinch),r=this.frame.get("transform","scaleX")*n[0],a=this.frame.get("transform","scaleY")*n[1];this.frame.set("transform","scaleX",r),this.frame.set("transform","scaleY",a),this.setTransform(e),i||this.setLabel(),this.scalex=r,"defaultBS"!==this.dragObject[this.svgId].type&&"candidate"!==this.dragObject[this.svgId].type||this.moveNumber(this.svgId)}},{key:"onRotate",value:function(t){var e=t.target,n=(t.clientX,t.clientY,t.beforeDelta);t.isPinch;this.svgId!==this.realId&&(this.svgId=yn.cloneDeep(this.realId),e=document.querySelector("#"+this.svgId));var i=parseFloat(this.frame.get("transform","rotate"))+n;this.frame.set("transform","rotate",i+"deg"),this.frame.set("left",this.currentLeft),this.frame.set("top",this.currentTop),this.setTransform(e),this.dragObject[this.svgId].rotate=Math.ceil(i),this.spanStyle[this.svgId].transform="rotate(".concat(this.dragObject[this.svgId].rotate,"deg)"),this.setLabel()}},{key:"onResize",value:function(t){var e=t.target,n=(t.clientX,t.clientY,t.width),i=t.height,r=t.drag;this.svgId!==this.realId&&(this.svgId=yn.cloneDeep(this.realId),e=document.querySelector("#"+this.svgId)),n<5&&(n=5),i<5&&(i=5);var a=this.dragObject[this.svgId].element;this.frame.set("width",n+"px"),"ellipse"===a?this.frame.set("height",n+"px"):this.frame.set("height",i+"px");var o=r.beforeTranslate;if(this.frame.set("z-index",9999999),this.setTransform(e),e.style.transform="translate(".concat(o[0],"px, ").concat(o[1],"px)"),this.svgStyle[this.svgId].width=n,this.svgStyle[this.svgId].height=i,this.spanStyle[this.svgId].width=n+"px",this.spanStyle[this.svgId].height=i+"px","rect"===a)this.rectStyle[this.svgId].width=n,this.rectStyle[this.svgId].height=i;else if("ellipse"===a){var s=(n/2).toString();this.ellipseStyle[this.svgId].rx=s,this.ellipseStyle[this.svgId].ry=s,this.ellipseStyle[this.svgId].cx=s,this.ellipseStyle[this.svgId].cy=s}else if("polygon"===a){var l="".concat(n/2,",0 ").concat(n,", ").concat(i," 0, ").concat(i);this.polygonStyle[this.svgId].points=l}this.setDragData(),this.setLabel()}},{key:"onEnd",value:function(){this.live=!1;var t,e=_createForOfIteratorHelper(this.obstacleList);try{for(e.s();!(t=e.n()).done;){var n=t.value;n!==this.svgId&&(this.spanStyle[n]=yn.cloneDeep(this.ognSpanStyle[n]))}}catch(i){e.e(i)}finally{e.f()}}},{key:"moveableDestroy",value:function(){this.moveable.destroy()}},{key:"arrowUpDown",value:function(t,e){var n=t.target;"keyboard_arrow_down"===n.innerHTML?(n.innerHTML="keyboard_arrow_up",this.subitemClass[e]="subitem active"):(n.innerHTML="keyboard_arrow_down",this.subitemClass[e]="subitem")}},{key:"onRightClick",value:function(t,e){this.svgId=e,t.preventDefault(),this.menuTopLeftStyle.left=t.clientX+"px",this.menuTopLeftStyle.top=t.clientY+"px",this.matMenuTrigger.openMenu()}},{key:"delete",value:function(){if("obstacle"===this.dragObject[this.svgId].type)for(var t=this.obstacleList.length-1;t>=0;t--)this.obstacleList[t]===this.svgId&&this.obstacleList.splice(t,1);else if("defaultBS"===this.dragObject[this.svgId].type)for(var e=this.defaultBSList.length-1;e>=0;e--)this.defaultBSList[e]===this.svgId&&this.defaultBSList.splice(e,1);else if("candidate"===this.dragObject[this.svgId].type)for(var n=this.candidateList.length-1;n>=0;n--)this.candidateList[n]===this.svgId&&this.candidateList.splice(n,1);else if("UE"===this.dragObject[this.svgId].type)for(var i=this.ueList.length-1;i>=0;i--)this.ueList[i]===this.svgId&&this.ueList.splice(i,1)}},{key:"colorChange",value:function(){this.dragObject[this.svgId].color=this.color,"obstacle"===this.dragObject[this.svgId].type?"rect"===this.dragObject[this.svgId].element?this.rectStyle[this.svgId].fill=this.color:"ellipse"===this.dragObject[this.svgId].element?this.ellipseStyle[this.svgId].fill=this.color:"polygon"===this.dragObject[this.svgId].element&&(this.polygonStyle[this.svgId].fill=this.color):this.pathStyle[this.svgId].fill=this.color}},{key:"openHeightSetting",value:function(){this.matDialog.open(this.materialModal)}},{key:"materialChange",value:function(t){this.dragObject[this.svgId].material=t}},{key:"hover",value:function(t,e){this.live=!0,this.svgId=e,this.hoverObj=t.target.closest("span"),this.setLabel()}},{key:"hoverout",value:function(t){this.live=!1}},{key:"fileChange",value:function(t){var e=this,n=t.target.files[0];this.calculateForm.mapName=n.name,this.showFileName=!1;var i=new FileReader;i.readAsDataURL(n),i.onload=function(){e.calculateForm.mapImage=i.result.toString(),e.initData(!1)}}},{key:"moveNumber",value:function(t){if(null!=document.querySelector("#".concat(t,"_circle"))){var e=Number(this.spanStyle[t].top.replace("px",""))-20+"px",n=Number(this.spanStyle[t].width.replace("px","")),i=Number(this.spanStyle[t].left.replace("px",""));this.circleStyle[t]={top:e,left:i+n-10+"px"}}}},{key:"setCheckbox",value:function(t){return""!==t}},{key:"calculate",value:function(){var t=this;try{this.moveable.destroy()}catch(i){}if(0===Number(this.calculateForm.availableNewBsNumber)){var e;e="2"===this.calculateForm.objectiveIndex?this.translateService.instant("availableNewBsNumber.wifi"):this.translateService.instant("availableNewBsNumber.gen"),e+=" "+this.translateService.instant("must_greater_then")+"0",this.msgDialogConfig.data={type:"error",infoMessage:e},this.matDialog.open(d.a,this.msgDialogConfig)}else{this.progressNum=0,this.authService.spinnerShowAsHome(),this.setForm(),this.setPlanningObj(),console.log(this.calculateForm);var n=this.authService.API_URL+"/calculate";this.http.post(n,JSON.stringify(this.calculateForm)).subscribe((function(e){t.taskid=e.taskid,document.getElementById("percentageVal").innerHTML="0",t.getProgress()}),(function(e){t.authService.spinnerHide(),console.log(e)}))}}},{key:"setPlanningObj",value:function(){"1"===this.planningIndex?(this.calculateForm.isUeAvgSinr=!1,this.calculateForm.isUeAvgThroughput=!1,this.calculateForm.isUeTpByDistance=!1):(this.calculateForm.isAverageSinr=!1,this.calculateForm.isCoverage=!1);var t={isAverageSinr:this.calculateForm.isAverageSinr,isCoverage:this.calculateForm.isCoverage,isUeAvgSinr:this.calculateForm.isUeAvgSinr,isUeAvgThroughput:this.calculateForm.isUeAvgThroughput,isUeTpByDistance:this.calculateForm.isUeTpByDistance};sessionStorage.setItem("planningObj",JSON.stringify(t))}},{key:"setForm",value:function(){var t=this;void 0===this.calculateForm.isAverageSinr&&(this.calculateForm.isAverageSinr=!1),void 0===this.calculateForm.isAvgThroughput&&(this.calculateForm.isAvgThroughput=!1),void 0===this.calculateForm.isCoverage&&(this.calculateForm.isCoverage=!1),void 0===this.calculateForm.isUeAvgSinr&&(this.calculateForm.isUeAvgSinr=!1),void 0===this.calculateForm.isUeAvgThroughput&&(this.calculateForm.isUeAvgThroughput=!1),void 0===this.calculateForm.isUeTpByDistance&&(this.calculateForm.isUeTpByDistance=!1),this.calculateForm.useUeCoordinate=1,this.calculateForm.sinrRatio=this.calculateForm.isAverageSinr?5:null,this.calculateForm.throughputRatio=this.calculateForm.isCoverage?5:null,this.calculateForm.ueAvgSinrRatio=this.calculateForm.isUeAvgSinr?16:null,this.calculateForm.ueCoverageRatio=this.calculateForm.isUeAvgThroughput?.95:null,this.calculateForm.ueAvgThroughputRatio=this.calculateForm.isUeCoverage?100:null,this.calculateForm.sessionid=this.authService.userToken;var e=this.zValues.filter((function(t){return""!==t}));this.calculateForm.zValue="[".concat(e.toString(),"]");var n="";if(this.calculateForm.obstacleInfo=n,this.obstacleList.length>0){for(var i=0;i<this.obstacleList.length;i++){var r=this.dragObject[this.obstacleList[i]],a=0;"polygon"===r.element?a=1:"ellipse"===r.element&&(a=2),n+="[".concat(r.x,",").concat(r.y,",").concat(r.width,",").concat(r.height,",").concat(r.altitude,",").concat(r.rotate,",").concat(r.material,",").concat(a,"]"),i<this.obstacleList.length-1&&(n+="|")}this.calculateForm.obstacleInfo=n}var o="";if(this.calculateForm.ueCoordinate=o,this.ueList.length>0)for(var s=0;s<this.ueList.length;s++){var l=this.dragObject[this.ueList[s]];o+="[".concat(l.x,",").concat(l.y,",").concat(l.z,"]"),s<this.ueList.length-1&&(o+="|")}else o="";this.calculateForm.ueCoordinate=o;var c="";if(this.calculateForm.defaultBs=c,this.defaultBSList.length>0){for(var u=0;u<this.defaultBSList.length;u++){var h=this.dragObject[this.defaultBSList[u]];c+="[".concat(h.x,",").concat(h.y,",").concat(h.z,"]"),u<this.defaultBSList.length-1&&(c+="|")}this.calculateForm.defaultBs=c}var d="";if(this.calculateForm.candidateBs=d,this.candidateList.length>0){for(var p=0;p<this.candidateList.length;p++){var f=this.dragObject[this.candidateList[p]];d+="[".concat(f.x,",").concat(f.y,",").concat(f.z,"]"),p<this.candidateList.length-1&&(d+="|")}this.calculateForm.candidateBs=d}Object.keys(this.calculateForm).forEach((function(e){t.numColumnList.includes(e)&&(t.calculateForm[e]=Number(t.calculateForm[e]))}))}},{key:"addInterval",value:function(){var t=this;this.pgInterval=window.setInterval((function(){t.progressNum<100?document.getElementById("percentageVal").innerHTML=(t.progressNum++).toString():window.clearInterval(t.pgInterval)}),3e3)}},{key:"getProgress",value:function(){var t=this,e="".concat(this.authService.API_URL,"/progress/").concat(this.taskid,"/").concat(this.authService.userToken);this.http.get(e).subscribe((function(e){window.clearInterval(t.progressInterval),1===e.progress?(document.getElementById("percentageVal").innerHTML="100",t.authService.spinnerHide(),t.router.navigate(["/site/result"],{queryParams:{taskId:t.taskid,isHst:!0}}),window.clearInterval(t.pgInterval)):(window.clearInterval(t.progressInterval),t.progressInterval=window.setTimeout((function(){t.getProgress()}),3e3))}),(function(e){t.authService.spinnerHide(),window.clearInterval(t.progressInterval)}))}},{key:"changeSize",value:function(t){this.svgId=t,this.target=document.querySelector("#"+t);var e=this.pixelXLinear(this.dragObject[t].width),n=this.pixelYLinear(this.dragObject[t].height);this.frame.set("width",e+"px"),this.frame.set("height",n+"px"),this.setTransform(this.target);var i=this.target.querySelector("svg");i.setAttribute("width",e.toString()),i.setAttribute("height",n.toString());var r=i.querySelector(".drag_rect"),a=this.dragObject[this.svgId].element;if("rect"===a)r.setAttribute("width",e.toString()),r.setAttribute("height",n.toString());else if("ellipse"===a){var o=(Plotly.d3.min([e,n])/2).toString();r.setAttribute("rx",o.toString()),r.setAttribute("ry",o.toString()),r.setAttribute("cx",o.toString()),r.setAttribute("cy",o.toString())}else if("polygon"===a){var s="".concat(e/2,",0 ").concat(e,", ").concat(n," 0, ").concat(n);r.setAttribute("points",s)}"defaultBS"!==this.dragObject[this.svgId].type&&"candidate"!==this.dragObject[this.svgId].type||this.moveNumber(t)}},{key:"changePosition",value:function(t){this.target=document.querySelector("#"+t);var e=this.target.getBoundingClientRect().height,n=this.pixelXLinear(this.dragObject[t].x)+this.chartLeft,i=this.chartBottom-this.pixelYLinear(this.dragObject[t].y)-e;this.frame.set("left",n+"px"),this.frame.set("top",i+"px"),"obstacle"===this.dragObject[t].type&&(this.frame.set("width",this.pixelXLinear(this.dragObject[t].width)+"px"),this.frame.set("height",this.pixelYLinear(this.dragObject[t].height)+"px")),this.setTransform(this.target),this.spanStyle[t].left=n,this.spanStyle[t].top=i,"defaultBS"!==this.dragObject[t].type&&"candidate"!==this.dragObject[t].type||this.moveNumber(t)}},{key:"changeRotate",value:function(t){this.svgId=t,this.target=document.querySelector("#"+t),this.frame.set("transform","rotate",this.dragObject[t].rotate+"deg"),this.setTransform(this.target),this.target.setAttribute("style","transform: rotate(".concat(this.dragObject[t].rotate,"deg)")),"0"===this.dragObject[t].rotate&&(this.target.click(),this.target.blur())}},{key:"clearAll",value:function(t){"obstacle"===t?this.obstacleList.length=0:"defaultBS"===t?this.defaultBSList.length=0:"candidate"===t?this.candidateList.length=0:"UE"===t&&(this.ueList.length=0)}},{key:"plotResize",value:function(){}},{key:"view3D",value:function(){var t,e=[],n=_createForOfIteratorHelper(this.defaultBSList);try{for(n.s();!(t=n.n()).done;){var i=t.value;e.push(this.dragObject[i])}}catch(m){n.e(m)}finally{n.f()}var r,a=[],o=_createForOfIteratorHelper(this.candidateList);try{for(o.s();!(r=o.n()).done;){var s=r.value;a.push(this.dragObject[s])}}catch(m){o.e(m)}finally{o.f()}var l,c=[],u=_createForOfIteratorHelper(this.obstacleList);try{for(u.s();!(l=u.n()).done;){var h=l.value;c.push(this.dragObject[h])}}catch(m){u.e(m)}finally{u.f()}var d,f=[],g=_createForOfIteratorHelper(this.ueList);try{for(g.s();!(d=g.n()).done;){var v=d.value;f.push(this.dragObject[v])}}catch(m){g.e(m)}finally{g.f()}this.view3dDialogConfig.data={calculateForm:this.calculateForm,obstacleList:c,defaultBSList:e,candidateList:a,ueList:f,zValue:this.zValues,result:this.hstOutput},this.matDialog.open(p.a,this.view3dDialogConfig)}},{key:"export",value:function(){var t=si.utils.book_new(),e=[["image","imageName","width","height","altitude","protocol","mapLayer"],[this.calculateForm.mapImage,this.calculateForm.mapName,this.calculateForm.width,this.calculateForm.height,this.calculateForm.altitude,this.calculateForm.objectiveIndex,this.zValues[0]]];if(this.zValues.length>1)for(var n=1;n<this.zValues.length;n++)e.push(["","","","","","",this.zValues[n]]);var i=si.utils.aoa_to_sheet(e);si.utils.book_append_sheet(t,i,"map");var r,a=[["x","y","z","material","color"]],o=_createForOfIteratorHelper(this.defaultBSList);try{for(o.s();!(r=o.n()).done;){var s=r.value;a.push([this.dragObject[s].x,this.dragObject[s].y,this.dragObject[s].z,this.dragObject[s].material,this.dragObject[s].color])}}catch(L){o.e(L)}finally{o.f()}var l=si.utils.aoa_to_sheet(a);si.utils.book_append_sheet(t,l,"base_station");var c,u=[["x","y","z","material","color"]],h=_createForOfIteratorHelper(this.candidateList);try{for(h.s();!(c=h.n()).done;){var d=c.value;u.push([this.dragObject[d].x,this.dragObject[d].y,this.dragObject[d].z,this.dragObject[d].material,this.dragObject[d].color])}}catch(L){h.e(L)}finally{h.f()}var p=si.utils.aoa_to_sheet(u);si.utils.book_append_sheet(t,p,"candidate");var f,g=[["x","y","z","material","color"]],v=_createForOfIteratorHelper(this.ueList);try{for(v.s();!(f=v.n()).done;){var m=f.value;g.push([this.dragObject[m].x,this.dragObject[m].y,this.dragObject[m].z,this.dragObject[m].material,this.dragObject[m].color])}}catch(L){v.e(L)}finally{v.f()}var b=si.utils.aoa_to_sheet(g);si.utils.book_append_sheet(t,b,"ue");var y,w=[["x","y","width","height","altitude","rotate","material","color","shape"]],x=_createForOfIteratorHelper(this.obstacleList);try{for(x.s();!(y=x.n()).done;){var _=y.value,O="0";"polygon"===this.dragObject[_].element?O="1":"ellipse"===this.dragObject[_].element&&(O="2"),w.push([this.dragObject[_].x,this.dragObject[_].y,this.dragObject[_].width,this.dragObject[_].height,this.dragObject[_].altitude,this.dragObject[_].rotate,this.dragObject[_].material,this.dragObject[_].color,O])}}catch(L){x.e(L)}finally{x.f()}var C=si.utils.aoa_to_sheet(w);si.utils.book_append_sheet(t,C,"obstacle");var k=[["bsPowerMax","bsPowerMin","bsBeamIdMax","bsBeamIdMin","bandwidth","frequency"],[this.calculateForm.powerMaxRange,this.calculateForm.powerMinRange,"","",this.calculateForm.bandwidth,this.calculateForm.frequency]],S=si.utils.aoa_to_sheet(k);si.utils.book_append_sheet(t,S,"bs parameters");var M=[["crossover","mutation","iteration","seed","computeRound","useUeCoordinate","pathLossModel"],[this.calculateForm.crossover,this.calculateForm.mutation,this.calculateForm.iteration,this.calculateForm.seed,1,this.calculateForm.useUeCoordinate,this.calculateForm.pathLossModelId]],E=si.utils.aoa_to_sheet(M);si.utils.book_append_sheet(t,E,"algorithm parameters");var T=[["objective","objectiveStopCondition","newBsNum"],["1","",this.calculateForm.availableNewBsNumber]],P=si.utils.aoa_to_sheet(T);si.utils.book_append_sheet(t,P,"objective parameters"),console.log(t),si.writeFile(t,this.calculateForm.taskName+".xlsx")}},{key:"import",value:function(t){var e=this,n=t.target;if(1!==n.files.length)throw new Error("Cannot use multiple files");var i=new FileReader;i.onload=function(n){var i=n.target.result;e.readXls(i),t.target.value=""},i.readAsBinaryString(n.files[0])}},{key:"readXls",value:function(t){var e=this;this.obstacleList.length=0,this.defaultBSList.length=0,this.candidateList.length=0,this.ueList.length=0,this.calculateForm=new h.a,this.wb=si.read(t,{type:"binary"});var n=this.wb.SheetNames[0],i=this.wb.Sheets[n],r=si.utils.sheet_to_json(i,{header:1});try{this.calculateForm.mapImage="";var a={};Object.keys(r[0]).forEach((function(t){a[r[0][t]]=t})),this.zValues.length=0;for(var o=1;o<r.length;o++)this.calculateForm.mapImage+=r[o][0],void 0!==r[o][a.mapLayer]&&""!==r[o][a.mapLayer]&&this.zValues.push(r[o][a.mapLayer]);this.calculateForm.width=r[1][a.width],this.calculateForm.height=r[1][a.height],this.calculateForm.altitude=r[1][a.altitude],void 0===r[1][a.mapName]?this.calculateForm.mapName=r[1][a.imageName]:this.calculateForm.mapName=r[1][a.mapName],void 0===r[1][a.protocol]?this.calculateForm.objectiveIndex="2":"0"===r[1][a.protocol]||"4G"===r[1][a.protocol]?this.calculateForm.objectiveIndex="0":"1"===r[1][a.protocol]||"5G"===r[1][a.protocol]?this.calculateForm.objectiveIndex="1":"2"!==r[1][a.protocol]&&"wifi"!==r[1][a.protocol]||(this.calculateForm.objectiveIndex="2"),this.initData(!0)}catch(s){console.log(s),this.msgDialogConfig.data={type:"error",infoMessage:this.translateService.instant("xlxs.fail")},this.matDialog.open(d.a,this.msgDialogConfig),window.setTimeout((function(){e.matDialog.closeAll(),e.router.navigate(["/"])}),2e3)}}},{key:"setImportData",value:function(){var t=this;this.obstacleList.length=0,this.defaultBSList.length=0,this.candidateList.length=0,this.ueList.length=0;for(var e=new RegExp("[0-4]"),n={},i=0;i<this.wb.SheetNames.length;i++)n[this.wb.SheetNames[i]]=i;var r=this.wb.SheetNames[n["base station"]],a=this.wb.Sheets[r],o=si.utils.sheet_to_json(a,{header:1});if(o.length>1)for(var s=function(n){var i="defaultBS_"+(n-1),r=void 0===o[n][3]?"0":o[n][3];e.test(r)||(r="0");var a=void 0===o[n][4]?t.DEFAULT_BS_COLOR:o[n][4];t.dragObject[i]={x:o[n][0],y:o[n][1],z:o[n][2],width:t.xLinear(30),height:t.yLinear(30),altitude:50,rotate:0,title:t.svgMap.defaultBS.title,type:t.svgMap.defaultBS.type,color:a,material:r,element:t.svgMap.defaultBS.element},t.defaultBSList.push(i),t.spanStyle[i]={left:t.pixelXLinear(o[n][0])+"px",top:t.chartHeight-30-t.pixelYLinear(o[n][1])+"px",width:"30px",height:"30px"},t.svgStyle[i]={display:"inherit",width:30,height:30},t.pathStyle[i]={fill:a},window.setTimeout((function(){t.moveNumber(i)}),0)},l=1;l<o.length;l++)s(l);var c=this.wb.SheetNames[n.candidate],u=this.wb.Sheets[c],h=si.utils.sheet_to_json(u,{header:1});if(h.length>1)for(var d=function(n){var i="candidate_"+(n-1);t.candidateList.push(i);var r=void 0===h[n][3]?"0":h[n][3];e.test(r)||(r="0");var a=void 0===h[n][4]?t.CANDIDATE_COLOR:h[n][4];t.dragObject[i]={x:h[n][0],y:h[n][1],z:h[n][2],width:t.xLinear(30),height:t.yLinear(30),altitude:50,rotate:0,title:t.svgMap.candidate.title,type:t.svgMap.candidate.type,color:a,material:r,element:t.svgMap.candidate.element},t.spanStyle[i]={left:t.pixelXLinear(h[n][0])+"px",top:t.chartHeight-30-t.pixelYLinear(h[n][1])+"px",width:"30px",height:"30px"},t.svgStyle[i]={display:"inherit",width:30,height:30},t.pathStyle[i]={fill:a},window.setTimeout((function(){t.moveNumber(i)}),0)},p=1;p<h.length;p++)d(p);var f=this.wb.SheetNames[n.ue];if(void 0!==f){var g=this.wb.Sheets[f],v=si.utils.sheet_to_json(g,{header:1});if(v.length>1)for(var m=1;m<v.length;m++)if(void 0!==v[m][0]){var b="UE_"+(m-1);this.ueList.push(b);var y=void 0===v[m][3]?"0":v[m][3];e.test(y)||(y="0");var w=void 0===v[m][4]?this.UE_COLOR:v[m][4];this.dragObject[b]={x:v[m][0],y:v[m][1],z:v[m][2],width:19,height:29,altitude:50,rotate:0,title:this.svgMap.UE.title,type:this.svgMap.UE.type,color:w,material:y,element:this.svgMap.UE.element},this.spanStyle[b]={left:this.pixelXLinear(v[m][0])+"px",top:this.chartHeight-30-this.pixelYLinear(v[m][1])+"px",width:"19px",height:"29px"},this.svgStyle[b]={display:"inherit",width:19,height:29},this.pathStyle[b]={fill:w}}}var x=this.wb.SheetNames[n.obstacle],_=this.wb.Sheets[x],O=si.utils.sheet_to_json(_,{header:1});if(O.length>1)for(var C=0,k=0,S=0,M=1;M<O.length;M++)if(0!==O[M].length){var E=void 0,T=void 0,P=O[M][8];"rect"===P||"0"===P?(E="rect_"+C,T="rect",C++):"ellipse"===P||"2"===P?(E="ellipse_"+k,T="ellipse",k++):"polygon"===P||"1"===P?(E="polygon_"+S,T="polygon",S++):(P="rect",E="rect_"+C,T="rect",C++);var L=void 0===O[M][6]?"0":O[M][6].toString();e.test(L)||(L="0");var R=void 0===O[M][7]?this.OBSTACLE_COLOR:O[M][7];if(this.dragObject[E]={x:O[M][0],y:O[M][1],z:0,width:O[M][2],height:O[M][3],altitude:O[M][4],rotate:void 0===O[M][5]?0:O[M][5],title:this.svgMap[T].title,type:this.svgMap[T].type,color:R,material:L,element:P},this.svgStyle[E]={display:"inherit",width:this.pixelXLinear(this.dragObject[E].width),height:this.pixelYLinear(this.dragObject[E].height)},"rect"===P)this.spanStyle[E]={left:this.pixelXLinear(this.dragObject[E].x)+"px",top:this.chartHeight-this.pixelYLinear(this.dragObject[E].height)-this.pixelYLinear(O[M][1])+"px",width:this.pixelXLinear(O[M][2])+"px",height:this.pixelYLinear(O[M][3])+"px",transform:"rotate(".concat(this.dragObject[E].rotate,"deg)")},this.rectStyle[E]={width:this.pixelXLinear(this.dragObject[E].width),height:this.pixelYLinear(this.dragObject[E].height),fill:this.dragObject[E].color};else if("ellipse"===P){this.spanStyle[E]={left:this.pixelXLinear(this.dragObject[E].x)+"px",top:this.pixelYLinear(this.dragObject[E].y)+"px",width:this.pixelXLinear(2*this.dragObject[E].width)+"px",height:this.pixelYLinear(2*this.dragObject[E].height)+"px",transform:"rotate(".concat(this.dragObject[E].rotate,"deg)")};var I=(this.pixelXLinear(this.dragObject[E].width)/2).toString(),D=(this.pixelYLinear(this.dragObject[E].height)/2).toString();this.ellipseStyle[E]={cx:I,cy:D,rx:I,ry:D,fill:this.dragObject[E].color}}else if("polygon"===P){this.spanStyle[E]={left:""+this.pixelXLinear(this.dragObject[E].x),top:""+this.pixelYLinear(this.dragObject[E].y),width:this.pixelXLinear(O[M][2]/2),height:this.pixelYLinear(O[M][3]/2),transform:"rotate(".concat(this.dragObject[E].rotate,"deg)")};var z=this.pixelXLinear(this.dragObject[E].width),A=this.pixelYLinear(this.dragObject[E].height),j="".concat(z/2,",0 ").concat(z,", ").concat(A," 0, ").concat(A);this.polygonStyle[E]={points:j,fill:this.dragObject[E].color}}this.obstacleList.push(E)}var F=this.wb.SheetNames[n["bs parameters"]],B=this.wb.Sheets[F],V=si.utils.sheet_to_json(B,{header:1});V.length>1&&(this.calculateForm.powerMaxRange=Number(V[1][0]),this.calculateForm.powerMinRange=Number(V[1][1]),this.calculateForm.beamMaxId=Number(V[1][2]),this.calculateForm.beamMinId=Number(V[1][3]),this.calculateForm.bandwidth=Number(V[1][4]),this.calculateForm.frequency=Number(V[1][5]));var N=this.wb.SheetNames[n["algorithm parameters"]],H=this.wb.Sheets[N],X=si.utils.sheet_to_json(H,{header:1});X.length>1&&(this.calculateForm.crossover=Number(X[1][0]),this.calculateForm.mutation=Number(X[1][1]),this.calculateForm.iteration=Number(X[1][2]),this.calculateForm.seed=Number(X[1][3]),this.calculateForm.useUeCoordinate=Number(X[1][5]),this.calculateForm.pathLossModelId=Number(X[1][6]));var G=this.wb.SheetNames[n["objective parameters"]],U=this.wb.Sheets[G],Y=si.utils.sheet_to_json(U,{header:1});Y.length>1&&(this.calculateForm.availableNewBsNumber=Number(Y[1][2])),"2"===this.calculateForm.objectiveIndex?(Number(this.calculateForm.bandwidth>=20)&&(this.wifiFrequency="1"),this.changeWifiFrequency()):"1"===this.calculateForm.objectiveIndex&&this.setSubcarrier()}},{key:"save",value:function(){var t=this;this.authService.spinnerShowAsHome(),this.setForm();var e=this.authService.API_URL+"/storeResult";this.http.post(e,JSON.stringify(this.calculateForm)).subscribe((function(e){t.taskid=e.taskid,t.authService.spinnerHide()}),(function(e){t.authService.spinnerHide(),console.log(e)}))}},{key:"edit",value:function(){var t=this;if(!this.authService.isEmpty(this.calculateForm.obstacleInfo))for(var e=this.calculateForm.obstacleInfo.split("|"),n=e.length,i=0;i<n;i++){var r=JSON.parse(e[i]),a="rect";void 0!==r[7]&&(1===r[7]?a="polygon":2===r[7]&&(a="ellipse"));var o="".concat(a,"_").concat(i);this.obstacleList.push(o),this.dragObject[o]={x:r[0],y:r[1],z:0,width:r[2],height:r[3],altitude:r[4],rotate:r[5],title:this.svgMap[a].title,type:this.svgMap[a].type,color:this.OBSTACLE_COLOR,material:r[6].toString(),element:a},this.spanStyle[o]={left:this.pixelXLinear(r[0])+"px",top:this.chartHeight-this.pixelYLinear(r[3])-this.pixelYLinear(r[1])+"px",width:this.pixelXLinear(r[2])+"px",height:this.pixelYLinear(r[3])+"px",transform:"rotate(".concat(this.dragObject[o].rotate,"deg)")};var s=this.pixelXLinear(r[2]),l=this.pixelYLinear(r[3]);if(this.svgStyle[o]={display:"inherit",width:s,height:l},"rect"===a)this.rectStyle[o]={width:s,height:l,fill:this.dragObject[o].color};else if("ellipse"===a){var c=(s/2).toString(),u=(l/2).toString();this.ellipseStyle[o]={ry:c,rx:u,cx:c,cy:u,fill:this.dragObject[o].color}}else if("polygon"===a){var h="".concat(s/2,",0 ").concat(s,", ").concat(l," 0, ").concat(l);this.polygonStyle[o]={points:h,fill:this.dragObject[o].color}}}if(!this.authService.isEmpty(this.calculateForm.defaultBs))for(var d=this.calculateForm.defaultBs.split("|"),p=d.length,f=function(e){var n=JSON.parse(d[e]),i="defaultBS_"+e;t.defaultBSList.push(i),t.dragObject[i]={x:n[0],y:n[1],z:n[2],width:30,height:30,altitude:50,rotate:0,title:t.svgMap.defaultBS.title,type:t.svgMap.defaultBS.type,color:t.DEFAULT_BS_COLOR,material:"0",element:"defaultBS"},t.spanStyle[i]={left:t.pixelXLinear(n[0])+"px",top:t.chartHeight-30-t.pixelYLinear(n[1])+"px",width:"30px",height:"30px"},t.svgStyle[i]={display:"inherit",width:30,height:30},t.pathStyle[i]={fill:t.dragObject[i].color},window.setTimeout((function(){t.moveNumber(i)}),0)},g=0;g<p;g++)f(g);if(!this.authService.isEmpty(this.calculateForm.candidateBs))for(var v=this.calculateForm.candidateBs.split("|"),m=v.length,b=function(e){var n=JSON.parse(v[e]),i="candidate_"+e;t.candidateList.push(i),t.dragObject[i]={x:n[0],y:n[1],z:n[2],width:28,height:22,altitude:50,rotate:0,title:t.svgMap.candidate.title,type:t.svgMap.candidate.type,color:t.CANDIDATE_COLOR,material:"0",element:"candidate"},t.spanStyle[i]={left:t.pixelXLinear(n[0])+"px",top:t.chartHeight-30-t.pixelYLinear(n[1])+"px",width:"28px",height:"22px"},t.svgStyle[i]={display:"inherit",width:28,height:22},t.pathStyle[i]={fill:t.dragObject[i].color},window.setTimeout((function(){t.moveNumber(i)}),0)},y=0;y<m;y++)b(y);if(!this.authService.isEmpty(this.calculateForm.ueCoordinate))for(var w=this.calculateForm.ueCoordinate.split("|"),x=w.length,_=0;_<x;_++){var O=JSON.parse(w[_]),C="ue_"+_;this.ueList.push(C),this.dragObject[C]={x:O[0],y:O[1],z:O[2],width:20,height:30,altitude:50,rotate:0,title:this.svgMap.UE.title,type:this.svgMap.UE.type,color:this.UE_COLOR,material:"0",element:"UE"},this.spanStyle[C]={left:this.pixelXLinear(O[0])+"px",top:this.chartHeight-30-this.pixelYLinear(O[1])+"px",width:"20px",height:"30px"},this.svgStyle[C]={display:"inherit",width:20,height:30},this.pathStyle[C]={fill:this.dragObject[C].color}}"2"===this.calculateForm.objectiveIndex&&(Number(this.calculateForm.bandwidth>=20)&&(this.wifiFrequency="1"),this.changeWifiFrequency())}},{key:"result",value:function(){this.setPlanningObj(),this.isHst?this.router.navigate(["/site/result"],{queryParams:{taskId:this.taskid,isHst:!0}}):this.router.navigate(["/site/result"],{queryParams:{taskId:this.taskid}})}},{key:"setHstToForm",value:function(t){this.calculateForm.addFixedBsNumber=t.addfixedbsnumber,this.calculateForm.availableNewBsNumber=t.availablenewbsnumber,this.calculateForm.bandwidth=t.bandwidth,this.calculateForm.beamMaxId=t.beammaxid,this.calculateForm.beamMinId=t.beamminid,this.calculateForm.candidateBs=t.candidatebs,this.calculateForm.crossover=t.crossover,this.calculateForm.defaultBs=t.defaultbs,this.calculateForm.frequency=t.frequency,this.calculateForm.iteration=t.iteration,this.calculateForm.zValue=t.mapdepth,this.calculateForm.altitude=t.mapaltitude,this.calculateForm.height=t.mapheight,this.calculateForm.mapImage=t.mapimage,this.calculateForm.mapName=t.mapname,this.calculateForm.width=t.mapwidth,this.calculateForm.mutation=t.mutation,this.calculateForm.objectiveIndex=t.objectiveindex,this.calculateForm.obstacleInfo=t.obstacleinfo,this.calculateForm.pathLossModelId=t.pathlossmodelid,this.calculateForm.powerMaxRange=t.powermaxrange,this.calculateForm.powerMinRange=t.powerminrange,this.calculateForm.seed=t.seed,this.calculateForm.taskName=t.taskname,this.calculateForm.totalRound=t.totalround,this.calculateForm.ueCoordinate=t.uecoordinate,this.calculateForm.useUeCoordinate=t.useuecoordinate,this.calculateForm.beamMaxId=t.beammaxid}},{key:"changeWifiFrequency",value:function(){"0"===this.wifiFrequency?this.calculateForm.frequency=950:"1"===this.wifiFrequency?this.calculateForm.frequency=2400:"2"===this.wifiFrequency&&(this.calculateForm.frequency=5800)}},{key:"dragEnd",value:function(){var t,e=_createForOfIteratorHelper(this.obstacleList);try{for(e.s();!(t=e.n()).done;){var n=t.value;n!==this.svgId&&(this.spanStyle[n]=yn.cloneDeep(this.ognSpanStyle[n]))}}catch(i){e.e(i)}finally{e.f()}}},{key:"getTitle",value:function(){return"0"===this.calculateForm.objectiveIndex.toString()?this.translateService.instant("planning.title").replace("{0}","4G"):"1"===this.calculateForm.objectiveIndex.toString()?this.translateService.instant("planning.title").replace("{0}","5G"):"2"===this.calculateForm.objectiveIndex.toString()?this.translateService.instant("planning.title").replace("{0}","Wifi"):void 0}},{key:"setSubcarrier",value:function(){var t=Number(this.calculateForm.bandwidth);[5,10,15,20,25,30,40,50].includes(t)?this.subcarrier=15:[5,10,15,20,25,30,40,50,60,70,80,90,100].includes(t)?this.subcarrier=30:[10,15,20,25,30,40,50,60,70,80,90,100,200].includes(t)?this.subcarrier=60:[50,100,200,400].includes(t)&&(this.subcarrier=120)}},{key:"changePlanningIndex",value:function(){"1"===this.planningIndex?this.calculateForm.isAverageSinr||this.calculateForm.isCoverage||(this.calculateForm.isAverageSinr=!0):this.calculateForm.isUeAvgSinr||this.calculateForm.isUeAvgThroughput||this.calculateForm.isUeTpByDistance||(this.calculateForm.isUeAvgSinr=!0)}}]),t}();qu.\u0275fac=function(t){return new(t||qu)(a.gc(f.a),a.gc(r.b),a.gc(r.a),a.gc(u.b),a.gc(b.a),a.gc(m.d),a.gc(y.b))},qu.\u0275cmp=a.ac({type:qu,selectors:[["app-site-planning"]],viewQuery:function(t,e){var n;1&t&&(a.ed(Wc,!0),a.Tc(ri,!0),a.ed($c,!0),a.ed(Zc,!0)),2&t&&(a.Jc(n=a.uc())&&(e.moveable=n.first),a.Jc(n=a.uc())&&(e.matMenuTrigger=n.first),a.Jc(n=a.uc())&&(e.chart=n.first),a.Jc(n=a.uc())&&(e.materialModal=n.first))},hostBindings:function(t,e){1&t&&a.tc("resize",(function(){return e.windowResize()}),!1,a.Nc)("click",(function(t){return e.clickout(t)}),!1,a.Mc)("keyup",(function(t){return e.keyEvent(t)}),!1,a.Nc)},decls:347,vars:219,consts:[[1,"tool"],[1,"svg",3,"matTooltip","click"],["id","svg_01","width","30","height","30","xmlns","http://www.w3.org/2000/svg"],["x","-1","y","-1","width","32","height","32","id","canvas_background","fill","#fff"],["id","canvasGrid","display","none"],["width","100%","height","100%","x","0","y","0","stroke-width","0","fill","url(#gridpattern)"],["fill","#000000","stroke-width","1.5","x","111","y","151","width","41","height","28","stroke","#000"],["fill","#ffffff","stroke-width","1.5","x","0","y","0","width","30","height","30","id","svg_1",1,"target"],["id","svg_02","width","30","height","30","xmlns","http://www.w3.org/2000/svg"],["fill","none","id","canvas_background","height","32","width","20","y","-1","x","-1"],["display","none","id","canvasGrid"],["fill","url(#gridpattern)","stroke-width","0","y","0","x","0","height","100%","width","100%"],["stroke","#000","height","28","width","41","y","151","x","111","stroke-width","1.5","fill","#000000"],["ry","15","rx","15","id","svg_2","cy","15","cx","15","stroke-width","1.5","fill","#ffffff",1,"target"],["id","svg_03","width","30","height","30","xmlns","http://www.w3.org/2000/svg"],["x","-1","y","-1","width","32","height","32","id","canvas_background","fill","none"],["points","15,0 30,30 0,30","fill","#ffffff","id","svg_3",1,"target"],["id","svg_04","width","30","height","30","xmlns","http://www.w3.org/2000/svg",1,"s"],["fill","none","id","canvas_background","height","32","width","32","y","-1","x","-1"],["fill","none","d","m0,0l24,0l0,24l-24,0l0,-24z"],["fill","#ffffff","stroke","null","id","svg_4","d","m27.1373,5.80872l1.19321,-1.19321c-2.08811,-2.08811 -4.77283,-3.13217 -7.45754,-3.13217s-5.36943,1.04406 -7.45754,3.13217l1.19321,1.19321c1.78981,-1.64066 4.02707,-2.53556 6.26434,-2.53556s4.47453,0.89491 6.26434,2.53556zm-1.34236,1.19321c-1.34236,-1.34236 -3.13217,-2.08811 -4.92198,-2.08811s-3.57962,0.74575 -4.92198,2.08811l1.19321,1.19321c1.04406,-1.04406 2.38641,-1.49151 3.72877,-1.49151c1.34236,0 2.68472,0.44745 3.72877,1.49151l1.19321,-1.19321zm-0.44745,9.39651l-2.98302,0l0,-5.96604l-2.98302,0l0,5.96604l-14.91509,0c-1.64066,0 -2.98302,1.34236 -2.98302,2.98302l0,5.96604c0,1.64066 1.34236,2.98302 2.98302,2.98302l20.88112,0c1.64066,0 2.98302,-1.34236 2.98302,-2.98302l0,-5.96604c0,-1.64066 -1.34236,-2.98302 -2.98302,-2.98302zm-16.4066,7.45754l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302z",1,"target"],["id","svg_05","width","28","height","22","xmlns","http://www.w3.org/2000/svg",1,"s"],["fill","none","id","canvas_background","height","20","width","30","y","-1","x","-1"],["display","none","overflow","visible","y","0","x","0","height","100%","width","100%","id","canvasGrid"],["stroke","#000","rx","3","id","svg_3","height","17.79447","width","27.84664","y","0.08384","x","0.08216","stroke-opacity","null","stroke-width","0","fill","#ffffff"],["stroke","#000","transform","matrix(0.8532502651214598,0,0,0.8532502651214598,0.7290017828345299,0.38280437514185905) ","font-style","normal","font-weight","bold",0,"xml","space","preserve","text-anchor","start","font-family","sans-serif","font-size","12","id","svg_7","y","14.00717","x","3.15093","stroke-opacity","null","stroke-width","0","fill","#000000"],["id","svg_06","width","20","height","30","xmlns","http://www.w3.org/2000/svg",1,"s"],["fill","#ffffff","id","svg_6","d","M15.88,0H3.12C1.4,0,0,1.47,0,3.27v22.46C0,27.53,1.4,29,3.12,29h12.76C17.6,29,19,27.53,19,25.73V3.27\n        C19,1.47,17.6,0,15.88,0z M9.5,27.09c-0.48,0-0.86-0.41-0.86-0.91c0-0.5,0.39-0.91,0.86-0.91c0.48,0,0.86,0.41,0.86,0.91\n        C10.36,26.69,9.98,27.09,9.5,27.09z M16.71,21.99c0,0.77-0.59,1.39-1.32,1.39H3.61c-0.73,0-1.32-0.62-1.32-1.39V4.11\n        c0-0.77,0.59-1.39,1.32-1.39h11.77c0.73,0,1.32,0.62,1.32,1.39V21.99z",1,"target"],[1,"example-container"],["id","d_area"],["mat-button","",1,"toggle",3,"click"],[1,"material-icons"],[1,"inline-block"],["value","import",3,"click"],["value","export",3,"click"],["type","file","multiple","false","accept",".xlsx",2,"display","none",3,"change"],["file",""],[1,"inline-block","ml_5"],["value","go",3,"click"],["value","result",3,"click",4,"ngIf"],[3,"click"],["id","chart",2,"position","relative"],["chart",""],[3,"ngStyle"],["dragArea",""],["class","obstacle",3,"id","ngStyle","mouseover","mouseout","click","contextmenu",4,"ngFor","ngForOf"],["class","defaultBS",3,"id","ngStyle","mouseover","mouseout","click","contextmenu",4,"ngFor","ngForOf"],["class","rounded-circle blue_circle",3,"id","ngStyle",4,"ngFor","ngForOf"],["class","candidate",3,"id","ngStyle","mouseover","mouseout","click","contextmenu",4,"ngFor","ngForOf"],["class","rounded-circle pink_circle",3,"id","ngStyle",4,"ngFor","ngForOf"],["class","UE",3,"id","ngStyle","mouseover","mouseout","click","contextmenu",4,"ngFor","ngForOf"],["class","msg_label",3,"ngStyle","innerHTML",4,"ngIf"],[3,"target","draggable","origin","rotatable","pinchable","scalable","resizable","warpable","keepRatio","snappable","bounds","snapCenter","throttleDrag","throttleScale","throttleRotate","throttleResize","drag","resize","rotate","dragStart","dragEnd","resizeEnd","rotateEnd"],["moveable",""],[2,"visibility","hidden","position","fixed",3,"ngStyle","matMenuTriggerFor"],["rightMenu","matMenu"],["matMenuContent",""],["mode","side","position","end",3,"opened","openedChange"],["sidenav",""],[3,"opened","closed"],[1,"panel_content"],[3,"ngModel","ngModelChange","change"],["value","1",1,"block",3,"matTooltip"],["class","subTarget",4,"ngIf"],["value","2",1,"block",3,"matTooltip"],[1,"sub_title","inline-block"],[4,"ngIf","ngIfElse"],["oTemp",""],[1,"sub_content","inline-block"],["type","text",3,"ngModel","ngModelChange"],[1,"areaSetting"],["type","text",1,"w18",3,"ngModel","ngModelChange"],["type","file",3,"change"],["style","margin-left: 2em;",4,"ngIf"],["type","text",3,"ngModel","ngModelChange","change"],["value","0"],["value","1"],["value","2"],[4,"ngIf"],["otherFrequency",""],["type","text",3,"ngModel","placeholder","ngModelChange"],[1,"matBadge"],["class","clearAll",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"min-width","16em",3,"ngModel","ngModelChange"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","1000"],[1,"panel_content","algorithm"],["materialModal",""],["value","result",3,"click"],[1,"obstacle",3,"id","ngStyle","mouseover","mouseout","click","contextmenu"],["style","display: inherit;","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg",3,"ngStyle",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg",2,"display","inherit"],["stroke-width","1.5","x","0","y","0",1,"drag_rect",3,"ngStyle"],["xmlns","http://www.w3.org/2000/svg",3,"ngStyle"],["stroke-width","1.5","fill","#ffffff",1,"drag_rect",3,"ngStyle"],["x","-1","y","-1","width","32","height","32","fill","none"],["width","100%","height","100%","x","0","y","0","stroke-width","0","fill","none"],[1,"drag_rect",3,"ngStyle"],[1,"defaultBS",3,"id","ngStyle","mouseover","mouseout","click","contextmenu"],["xmlns","http://www.w3.org/2000/svg",1,"s",3,"ngStyle"],["stroke","null","d","m27.1373,5.80872l1.19321,-1.19321c-2.08811,-2.08811 -4.77283,-3.13217 -7.45754,-3.13217s-5.36943,1.04406 -7.45754,3.13217l1.19321,1.19321c1.78981,-1.64066 4.02707,-2.53556 6.26434,-2.53556s4.47453,0.89491 6.26434,2.53556zm-1.34236,1.19321c-1.34236,-1.34236 -3.13217,-2.08811 -4.92198,-2.08811s-3.57962,0.74575 -4.92198,2.08811l1.19321,1.19321c1.04406,-1.04406 2.38641,-1.49151 3.72877,-1.49151c1.34236,0 2.68472,0.44745 3.72877,1.49151l1.19321,-1.19321zm-0.44745,9.39651l-2.98302,0l0,-5.96604l-2.98302,0l0,5.96604l-14.91509,0c-1.64066,0 -2.98302,1.34236 -2.98302,2.98302l0,5.96604c0,1.64066 1.34236,2.98302 2.98302,2.98302l20.88112,0c1.64066,0 2.98302,-1.34236 2.98302,-2.98302l0,-5.96604c0,-1.64066 -1.34236,-2.98302 -2.98302,-2.98302zm-16.4066,7.45754l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302zm5.22028,0l-2.98302,0l0,-2.98302l2.98302,0l0,2.98302z",1,"drag_rect",3,"ngStyle"],[1,"rounded-circle","blue_circle",3,"id","ngStyle"],[1,"candidate",3,"id","ngStyle","mouseover","mouseout","click","contextmenu"],["fill","none","id","canvas_background","height","3","width","25","y","-1","x","-1"],["x","0","width","24","height","15","fill","none"],["stroke","null"],["stroke","#000","rx","3","id","svg_3","height","17.79447","width","27.84664","y","0.08384","x","0.08216","stroke-opacity","null","stroke-width","0","fill","#000"],["stroke","#fff","transform","matrix(0.8532502651214598,0,0,0.8532502651214598,0.7290017828345299,0.38280437514185905) ","font-style","normal","font-weight","bold",0,"xml","space","preserve","text-anchor","start","font-family","sans-serif","font-size","12","id","svg_7","y","14.00717","x","3.15093","stroke-opacity","null","stroke-width","0","fill","#fff"],[1,"rounded-circle","pink_circle",3,"id","ngStyle"],[1,"UE",3,"id","ngStyle","mouseover","mouseout","click","contextmenu"],["xmlns","http://www.w3.org/2000/svg",1,"s_ue",3,"ngStyle"],["fill","none","height","10","width","29","y","-1","x","-1"],["d","M15.88,0H3.12C1.4,0,0,1.47,0,3.27v22.46C0,27.53,1.4,29,3.12,29h12.76C17.6,29,19,27.53,19,25.73V3.27\n              C19,1.47,17.6,0,15.88,0z M9.5,27.09c-0.48,0-0.86-0.41-0.86-0.91c0-0.5,0.39-0.91,0.86-0.91c0.48,0,0.86,0.41,0.86,0.91\n              C10.36,26.69,9.98,27.09,9.5,27.09z M16.71,21.99c0,0.77-0.59,1.39-1.32,1.39H3.61c-0.73,0-1.32-0.62-1.32-1.39V4.11\n              c0-0.77,0.59-1.39,1.32-1.39h11.77c0.73,0,1.32,0.62,1.32,1.39V21.99z",1,"drag_rect",3,"ngStyle"],[1,"msg_label",3,"ngStyle","innerHTML"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"colorPicker","click","colorPickerChange"],["otherTypeTemp2",""],[1,"subTarget"],[3,"ngModel","matTooltip","ngModelChange"],[2,"margin-left","2em"],[2,"width","100px",3,"ngModel","ngModelChange"],["value","15"],["value","30"],["value","60"],["value","120"],[2,"width","100px",3,"ngModel","ngModelChange","change"],[3,"ngModel","ngModelChange"],["value","10"],["value","20"],["value","25"],["value","40"],["value","50"],["value","70"],["value","80"],["value","90"],["value","100"],["value","200"],["value","400"],[3,"ngIf"],["value","16"],[1,"clearAll",3,"click"],[1,"w7em",3,"ngModel","ngModelChange"],[1,"zAxis",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-dialog-title","",4,"ngIf","ngIfElse"],["otherTypeTemp",""],["mat-dialog-content",""],[1,"highset"],["class","mt-2",4,"ngIf"],["mat-dialog-title",""],[1,"mt-2"],["aria-label","Select an option",3,"ngModel","ngModelChange"],["value","1",1,"ml-2"],["value","2",1,"ml-2"],["value","3",1,"ml-2"],["value","4",1,"ml-2"]],template:function(t,e){if(1&t){var n=a.mc();a.lc(0,"div",0),a.lc(1,"span",1),a.tc("click",(function(){return e.addMoveable("rect")})),a.yc(2,"translate"),a.wc(),a.lc(3,"svg",2),a.lc(4,"g"),a.hc(5,"rect",3),a.lc(6,"g",4),a.hc(7,"rect",5),a.kc(),a.kc(),a.lc(8,"g"),a.hc(9,"rect",6),a.hc(10,"rect",7),a.kc(),a.kc(),a.kc(),a.vc(),a.lc(11,"span",1),a.tc("click",(function(){return e.addMoveable("ellipse")})),a.yc(12,"translate"),a.wc(),a.lc(13,"svg",8),a.lc(14,"g"),a.hc(15,"rect",9),a.lc(16,"g",10),a.hc(17,"rect",11),a.kc(),a.kc(),a.lc(18,"g"),a.hc(19,"rect",12),a.hc(20,"ellipse",13),a.kc(),a.kc(),a.kc(),a.vc(),a.lc(21,"span",1),a.tc("click",(function(){return e.addMoveable("polygon")})),a.yc(22,"translate"),a.wc(),a.lc(23,"svg",14),a.lc(24,"g"),a.hc(25,"rect",15),a.lc(26,"g",4),a.hc(27,"rect",5),a.kc(),a.kc(),a.lc(28,"g"),a.hc(29,"rect",6),a.hc(30,"polygon",16),a.kc(),a.kc(),a.kc(),a.vc(),a.hc(31,"hr"),a.lc(32,"span",1),a.tc("click",(function(){return e.addMoveable("defaultBS")})),a.yc(33,"translate"),a.wc(),a.lc(34,"svg",17),a.lc(35,"g"),a.hc(36,"rect",18),a.kc(),a.lc(37,"g"),a.hc(38,"path",19),a.hc(39,"path",20),a.kc(),a.kc(),a.kc(),a.vc(),a.lc(40,"span",1),a.tc("click",(function(){return e.addMoveable("candidate")})),a.yc(41,"translate"),a.wc(),a.lc(42,"svg",21),a.lc(43,"g"),a.lc(44,"title"),a.Xc(45,"background"),a.kc(),a.hc(46,"rect",22),a.lc(47,"g",23),a.hc(48,"rect",11),a.kc(),a.kc(),a.lc(49,"g"),a.lc(50,"title"),a.Xc(51,"Layer 1"),a.kc(),a.hc(52,"rect",24),a.lc(53,"text",25),a.Xc(54,"New"),a.kc(),a.kc(),a.kc(),a.kc(),a.vc(),a.hc(55,"hr"),a.lc(56,"span",1),a.tc("click",(function(){return e.addMoveable("UE")})),a.yc(57,"translate"),a.wc(),a.lc(58,"svg",26),a.lc(59,"g"),a.hc(60,"path",27),a.kc(),a.kc(),a.kc(),a.kc(),a.vc(),a.lc(61,"mat-sidenav-container",28),a.lc(62,"mat-sidenav-content"),a.lc(63,"div",29),a.lc(64,"button",30),a.tc("click",(function(){return a.Oc(n),a.Kc(104).toggle(),e.plotResize()})),a.lc(65,"span",31),a.Xc(66,"swap_horiz"),a.kc(),a.kc(),a.lc(67,"h2",32),a.Xc(68),a.kc(),a.lc(69,"mat-button-toggle-group",32),a.lc(70,"mat-button-toggle",33),a.tc("click",(function(){return a.Oc(n),a.Kc(77).click()})),a.Xc(71),a.yc(72,"translate"),a.kc(),a.lc(73,"mat-button-toggle",34),a.tc("click",(function(){return e.export()})),a.Xc(74),a.yc(75,"translate"),a.kc(),a.kc(),a.lc(76,"input",35,36),a.tc("change",(function(t){return e.import(t)})),a.kc(),a.lc(78,"mat-button-toggle-group",37),a.lc(79,"mat-button-toggle",38),a.tc("click",(function(){return e.calculate()})),a.Xc(80),a.yc(81,"translate"),a.kc(),a.Vc(82,Jc,3,3,"mat-button-toggle",39),a.lc(83,"mat-button-toggle",40),a.tc("click",(function(){return e.view3D()})),a.Xc(84),a.yc(85,"translate"),a.kc(),a.kc(),a.lc(86,"div",41,42),a.lc(88,"div",43,44),a.Vc(90,eu,4,5,"span",45),a.Vc(91,nu,7,4,"span",46),a.Vc(92,iu,2,3,"span",47),a.Vc(93,ru,13,3,"span",48),a.Vc(94,au,2,3,"span",49),a.Vc(95,ou,6,4,"span",50),a.Vc(96,su,1,2,"span",51),a.kc(),a.kc(),a.kc(),a.lc(97,"ngx-moveable",52,53),a.tc("drag",(function(t){return e.onDrag(t)}))("resize",(function(t){return e.onResize(t)}))("rotate",(function(t){return e.onRotate(t)}))("dragStart",(function(t){return e.dragStart(t)}))("dragEnd",(function(){return e.onEnd()}))("resizeEnd",(function(){return e.onEnd()}))("rotateEnd",(function(){return e.onEnd()})),a.kc(),a.hc(99,"div",54),a.lc(100,"mat-menu",null,55),a.Vc(102,uu,10,9,"ng-template",56),a.kc(),a.kc(),a.lc(103,"mat-sidenav",57,58),a.tc("openedChange",(function(t){return e.opened=t})),a.lc(105,"mat-accordion"),a.lc(106,"mat-expansion-panel",59),a.tc("opened",(function(){return e.panelOpenState=!0}))("closed",(function(){return e.panelOpenState=!1})),a.lc(107,"mat-expansion-panel-header"),a.lc(108,"mat-panel-title"),a.Xc(109),a.yc(110,"translate"),a.kc(),a.kc(),a.lc(111,"div",60),a.lc(112,"mat-radio-group",61),a.tc("ngModelChange",(function(t){return e.planningIndex=t}))("change",(function(){return e.changePlanningIndex()})),a.lc(113,"mat-radio-button",62),a.yc(114,"translate"),a.Xc(115),a.yc(116,"translate"),a.kc(),a.kc(),a.Vc(117,hu,9,14,"div",63),a.lc(118,"mat-radio-group",61),a.tc("ngModelChange",(function(t){return e.planningIndex=t}))("change",(function(){return e.changePlanningIndex()})),a.lc(119,"mat-radio-button",64),a.yc(120,"translate"),a.Xc(121),a.yc(122,"translate"),a.kc(),a.kc(),a.Vc(123,du,13,21,"div",63),a.lc(124,"p",65),a.Vc(125,pu,3,3,"ng-container",66),a.Vc(126,fu,2,3,"ng-template",null,67,a.Wc),a.kc(),a.lc(128,"div",68),a.lc(129,"input",69),a.tc("ngModelChange",(function(t){return e.calculateForm.availableNewBsNumber=t})),a.kc(),a.kc(),a.kc(),a.kc(),a.lc(130,"mat-expansion-panel",59),a.tc("opened",(function(){return e.panelOpenState=!0}))("closed",(function(){return e.panelOpenState=!1})),a.lc(131,"mat-expansion-panel-header"),a.lc(132,"mat-panel-title"),a.Xc(133),a.yc(134,"translate"),a.kc(),a.kc(),a.lc(135,"div",70),a.lc(136,"mat-expansion-panel"),a.lc(137,"mat-expansion-panel-header"),a.lc(138,"mat-panel-title"),a.Xc(139),a.yc(140,"translate"),a.kc(),a.kc(),a.lc(141,"ul"),a.lc(142,"li"),a.lc(143,"p"),a.Xc(144),a.yc(145,"translate"),a.kc(),a.lc(146,"input",71),a.tc("ngModelChange",(function(t){return e.calculateForm.taskName=t})),a.kc(),a.kc(),a.lc(147,"li"),a.lc(148,"p"),a.Xc(149),a.yc(150,"translate"),a.kc(),a.lc(151,"input",72),a.tc("change",(function(t){return e.fileChange(t)})),a.kc(),a.Vc(152,gu,2,1,"span",73),a.kc(),a.lc(153,"li"),a.lc(154,"p"),a.Xc(155),a.yc(156,"translate"),a.kc(),a.lc(157,"ul",32),a.lc(158,"li",32),a.lc(159,"label"),a.Xc(160),a.yc(161,"translate"),a.kc(),a.lc(162,"input",74),a.tc("ngModelChange",(function(t){return e.calculateForm.width=t}))("change",(function(){return e.initData(!1)})),a.kc(),a.kc(),a.lc(163,"li",32),a.lc(164,"label"),a.Xc(165),a.yc(166,"translate"),a.kc(),a.lc(167,"input",74),a.tc("ngModelChange",(function(t){return e.calculateForm.height=t}))("change",(function(){return e.initData(!1)})),a.kc(),a.kc(),a.lc(168,"li",32),a.lc(169,"label"),a.Xc(170),a.yc(171,"translate"),a.kc(),a.lc(172,"input",74),a.tc("ngModelChange",(function(t){return e.calculateForm.altitude=t}))("change",(function(){return e.initData(!1)})),a.kc(),a.kc(),a.kc(),a.kc(),a.lc(173,"li"),a.lc(174,"p"),a.Xc(175),a.yc(176,"translate"),a.kc(),a.lc(177,"select",61),a.tc("ngModelChange",(function(t){return e.calculateForm.objectiveIndex=t}))("change",(function(){return e.changeWifiFrequency()})),a.lc(178,"option",75),a.Xc(179,"4G"),a.kc(),a.lc(180,"option",76),a.Xc(181,"5G"),a.kc(),a.lc(182,"option",77),a.Xc(183,"Wifi"),a.kc(),a.kc(),a.kc(),a.Vc(184,vu,14,4,"ng-container",78),a.Vc(185,mu,11,4,"li",78),a.lc(186,"li"),a.lc(187,"p"),a.Xc(188),a.yc(189,"translate"),a.kc(),a.lc(190,"span"),a.Vc(191,bu,12,1,"ng-container",78),a.Vc(192,Ou,6,5,"ng-container",78),a.Vc(193,Mu,5,4,"ng-container",78),a.Xc(194," MHz / "),a.lc(195,"label"),a.Xc(196),a.yc(197,"translate"),a.kc(),a.Vc(198,Eu,2,1,"ng-container",66),a.Vc(199,Tu,1,1,"ng-template",null,79,a.Wc),a.kc(),a.kc(),a.lc(201,"li"),a.lc(202,"p"),a.Xc(203),a.yc(204,"translate"),a.kc(),a.lc(205,"span"),a.lc(206,"input",80),a.tc("ngModelChange",(function(t){return e.calculateForm.powerMinRange=t})),a.yc(207,"translate"),a.kc(),a.Xc(208," ~ "),a.lc(209,"input",80),a.tc("ngModelChange",(function(t){return e.calculateForm.powerMaxRange=t})),a.yc(210,"translate"),a.kc(),a.Xc(211,"dBm "),a.kc(),a.kc(),a.lc(212,"li"),a.lc(213,"p"),a.Xc(214),a.yc(215,"translate"),a.lc(216,"span"),a.Xc(217),a.yc(218,"translate"),a.kc(),a.kc(),a.lc(219,"ol",32),a.lc(220,"li"),a.lc(221,"input",69),a.tc("ngModelChange",(function(t){return e.zValues[0]=t})),a.kc(),a.kc(),a.lc(222,"li"),a.lc(223,"input",69),a.tc("ngModelChange",(function(t){return e.zValues[1]=t})),a.kc(),a.kc(),a.lc(224,"li"),a.lc(225,"input",69),a.tc("ngModelChange",(function(t){return e.zValues[2]=t})),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.lc(226,"mat-expansion-panel"),a.lc(227,"mat-expansion-panel-header"),a.lc(228,"mat-panel-title"),a.Xc(229),a.yc(230,"translate"),a.lc(231,"label",81),a.Xc(232),a.kc(),a.kc(),a.kc(),a.Vc(233,Pu,4,0,"span",82),a.lc(234,"ol"),a.Vc(235,Lu,50,37,"li",83),a.kc(),a.kc(),a.lc(236,"mat-expansion-panel"),a.lc(237,"mat-expansion-panel-header"),a.lc(238,"mat-panel-title"),a.Xc(239),a.yc(240,"translate"),a.lc(241,"label",81),a.Xc(242),a.kc(),a.kc(),a.kc(),a.Vc(243,Ru,4,0,"span",82),a.lc(244,"ul"),a.lc(245,"li"),a.lc(246,"ol"),a.Vc(247,Iu,13,3,"li",83),a.kc(),a.kc(),a.kc(),a.kc(),a.lc(248,"mat-expansion-panel"),a.lc(249,"mat-expansion-panel-header"),a.lc(250,"mat-panel-title"),a.Xc(251),a.yc(252,"translate"),a.lc(253,"label",81),a.Xc(254),a.kc(),a.kc(),a.kc(),a.Vc(255,Du,4,0,"span",82),a.lc(256,"ul"),a.lc(257,"li"),a.lc(258,"ol"),a.Vc(259,Au,14,4,"li",83),a.kc(),a.kc(),a.kc(),a.kc(),a.lc(260,"mat-expansion-panel"),a.lc(261,"mat-expansion-panel-header"),a.lc(262,"mat-panel-title"),a.Xc(263),a.yc(264,"translate"),a.lc(265,"label",81),a.Xc(266),a.kc(),a.kc(),a.kc(),a.Vc(267,ju,4,0,"span",82),a.lc(268,"ol"),a.Vc(269,Fu,13,3,"li",83),a.kc(),a.kc(),a.lc(270,"mat-expansion-panel"),a.lc(271,"mat-expansion-panel-header"),a.lc(272,"mat-panel-title"),a.Xc(273),a.yc(274,"translate"),a.kc(),a.kc(),a.lc(275,"ul"),a.lc(276,"li"),a.lc(277,"p"),a.lc(278,"label"),a.Xc(279),a.yc(280,"translate"),a.kc(),a.lc(281,"span"),a.lc(282,"select",84),a.tc("ngModelChange",(function(t){return e.calculateForm.pathLossModelId=t})),a.lc(283,"option",75),a.Xc(284),a.yc(285,"translate"),a.kc(),a.lc(286,"option",76),a.Xc(287),a.yc(288,"translate"),a.kc(),a.lc(289,"option",77),a.Xc(290,"ITU office 900MHz"),a.kc(),a.lc(291,"option",85),a.Xc(292,"ITU office 1.2~1.3GHz"),a.kc(),a.lc(293,"option",86),a.Xc(294,"ITU office 1.8~2, 2.4GHz"),a.kc(),a.lc(295,"option",87),a.Xc(296,"ITU office 3.5GHz"),a.kc(),a.lc(297,"option",88),a.Xc(298,"ITU residential 1.8~2, 2.4GHz"),a.kc(),a.lc(299,"option",89),a.Xc(300,"ITU commercial 900MHz"),a.kc(),a.lc(301,"option",90),a.Xc(302,"ITU commercial 1.2~1.3, 1.8~2, 4GHz"),a.kc(),a.lc(303,"option",91),a.Xc(304,"Wifi 2.4GHz"),a.kc(),a.lc(305,"option",92),a.Xc(306),a.yc(307,"translate"),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.lc(308,"mat-expansion-panel"),a.lc(309,"mat-expansion-panel-header"),a.lc(310,"mat-panel-title"),a.Xc(311),a.yc(312,"translate"),a.kc(),a.kc(),a.lc(313,"div",93),a.lc(314,"ul"),a.lc(315,"li"),a.lc(316,"span"),a.Xc(317),a.yc(318,"translate"),a.kc(),a.lc(319,"input",69),a.tc("ngModelChange",(function(t){return e.calculateForm.mctsC=t})),a.kc(),a.kc(),a.lc(320,"li"),a.lc(321,"span"),a.Xc(322),a.yc(323,"translate"),a.kc(),a.lc(324,"input",69),a.tc("ngModelChange",(function(t){return e.calculateForm.mctsMimo=t})),a.kc(),a.kc(),a.lc(325,"li"),a.lc(326,"span"),a.Xc(327),a.yc(328,"translate"),a.kc(),a.lc(329,"input",69),a.tc("ngModelChange",(function(t){return e.calculateForm.mctsTemperature=t})),a.kc(),a.kc(),a.lc(330,"li"),a.lc(331,"span"),a.Xc(332),a.yc(333,"translate"),a.kc(),a.lc(334,"input",69),a.tc("ngModelChange",(function(t){return e.calculateForm.mctsTime=t})),a.kc(),a.kc(),a.lc(335,"li"),a.lc(336,"span"),a.Xc(337),a.yc(338,"translate"),a.kc(),a.lc(339,"input",69),a.tc("ngModelChange",(function(t){return e.calculateForm.mctsTestTime=t})),a.kc(),a.kc(),a.lc(340,"li"),a.lc(341,"span"),a.Xc(342),a.yc(343,"translate"),a.kc(),a.lc(344,"input",69),a.tc("ngModelChange",(function(t){return e.calculateForm.mctsTotalTime=t})),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.kc(),a.Vc(345,Yu,12,9,"ng-template",null,94,a.Wc)}if(2&t){var i=a.Kc(101),r=a.Kc(127),o=a.Kc(200);a.Tb(1),a.Dc("matTooltip",a.zc(2,125,"obstacleInfo")),a.Tb(10),a.Dc("matTooltip",a.zc(12,127,"obstacleInfo")),a.Tb(10),a.Dc("matTooltip",a.zc(22,129,"obstacleInfo")),a.Tb(11),a.Dc("matTooltip",a.zc(33,131,"defaultBs")),a.Tb(8),a.Dc("matTooltip",a.zc(41,133,"candidateBs")),a.Tb(16),a.Dc("matTooltip",a.zc(57,135,"new.ue")),a.Tb(12),a.ad("",e.getTitle(),"(",e.calculateForm.taskName,")"),a.Tb(3),a.Yc(a.zc(72,137,"import")),a.Tb(3),a.Yc(a.zc(75,139,"tasklist.export")),a.Tb(6),a.Yc(a.zc(81,141,"planning.calculate")),a.Tb(2),a.Cc("ngIf",""!==e.taskid),a.Tb(2),a.Yc(a.zc(85,143,"view.3d")),a.Tb(4),a.Cc("ngStyle",e.dragStyle),a.Tb(2),a.Cc("ngForOf",e.obstacleList),a.Tb(1),a.Cc("ngForOf",e.defaultBSList),a.Tb(1),a.Cc("ngForOf",e.defaultBSList),a.Tb(1),a.Cc("ngForOf",e.candidateList),a.Tb(1),a.Cc("ngForOf",e.candidateList),a.Tb(1),a.Cc("ngForOf",e.ueList),a.Tb(1),a.Cc("ngIf",e.live),a.Tb(1),a.Cc("target",e.target)("draggable",!0)("origin",!1)("rotatable",!0)("pinchable",!0)("scalable",e.scalable)("resizable",e.resizable)("warpable",e.warpable)("keepRatio",!1)("snappable",!0)("bounds",e.bounds)("snapCenter",!1)("throttleDrag",1)("throttleScale",.01)("throttleRotate",.2)("throttleResize",1),a.Tb(2),a.Cc("ngStyle",e.menuTopLeftStyle)("matMenuTriggerFor",i),a.Tb(4),a.Cc("opened",e.opened),a.Tb(6),a.Yc(a.zc(110,145,"planning.target")),a.Tb(3),a.Cc("ngModel",e.planningIndex),a.Tb(1),a.Dc("matTooltip",a.zc(114,147,"planning.layered.tooltip")),a.Tb(2),a.Zc(" ",a.zc(116,149,"planning.layered")," "),a.Tb(2),a.Cc("ngIf","1"==e.planningIndex),a.Tb(1),a.Cc("ngModel",e.planningIndex),a.Tb(1),a.Dc("matTooltip",a.zc(120,151,"planning.ue.tooltip")),a.Tb(2),a.Zc(" ",a.zc(122,153,"planning.ue")," "),a.Tb(2),a.Cc("ngIf","2"===e.planningIndex),a.Tb(2),a.Cc("ngIf","2"==e.calculateForm.objectiveIndex)("ngIfElse",r),a.Tb(4),a.Cc("ngModel",e.calculateForm.availableNewBsNumber),a.Tb(4),a.Yc(a.zc(134,155,"planning.setting")),a.Tb(6),a.Yc(a.zc(140,157,"planning.info")),a.Tb(5),a.Yc(a.zc(145,159,"tasklist.name")),a.Tb(2),a.Cc("ngModel",e.calculateForm.taskName),a.Tb(3),a.Yc(a.zc(150,161,"tasklist.upload")),a.Tb(3),a.Cc("ngIf",e.showFileName),a.Tb(3),a.Yc(a.zc(156,163,"planning.size")),a.Tb(5),a.Yc(a.zc(161,165,"width")),a.Tb(2),a.Cc("ngModel",e.calculateForm.width),a.Tb(3),a.Yc(a.zc(166,167,"height")),a.Tb(2),a.Cc("ngModel",e.calculateForm.height),a.Tb(3),a.Yc(a.zc(171,169,"altitude")),a.Tb(2),a.Cc("ngModel",e.calculateForm.altitude),a.Tb(3),a.Zc("",a.zc(176,171,"planning.net"),"\t"),a.Tb(2),a.Cc("ngModel",e.calculateForm.objectiveIndex),a.Tb(7),a.Cc("ngIf","1"==e.calculateForm.objectiveIndex),a.Tb(1),a.Cc("ngIf","2"==e.calculateForm.objectiveIndex),a.Tb(3),a.Yc(a.zc(189,173,"bandwidth")),a.Tb(3),a.Cc("ngIf","0"==e.calculateForm.objectiveIndex),a.Tb(1),a.Cc("ngIf","1"==e.calculateForm.objectiveIndex),a.Tb(1),a.Cc("ngIf","2"==e.calculateForm.objectiveIndex),a.Tb(3),a.Yc(a.zc(197,175,"frequency")),a.Tb(2),a.Cc("ngIf","2"==e.calculateForm.objectiveIndex)("ngIfElse",o),a.Tb(5),a.Yc(a.zc(204,177,"powerRange")),a.Tb(3),a.Dc("placeholder",a.zc(207,179,"powerMinRange")),a.Cc("ngModel",e.calculateForm.powerMinRange),a.Tb(3),a.Dc("placeholder",a.zc(210,181,"powerMaxRange")),a.Cc("ngModel",e.calculateForm.powerMaxRange),a.Tb(5),a.Yc(a.zc(215,183,"z.height")),a.Tb(3),a.Zc(" ",a.zc(218,185,"z.height.note")," "),a.Tb(4),a.Cc("ngModel",e.zValues[0]),a.Tb(2),a.Cc("ngModel",e.zValues[1]),a.Tb(2),a.Cc("ngModel",e.zValues[2]),a.Tb(3),a.Vb(e.subitemClass.obstacle),a.Tb(1),a.Zc("",a.zc(230,187,"planning.obstacleInfo")," "),a.Tb(3),a.Yc(e.obstacleList.length),a.Tb(1),a.Cc("ngIf",e.obstacleList.length>0),a.Tb(2),a.Cc("ngForOf",e.obstacleList),a.Tb(4),a.Zc("",a.zc(240,189,"planning.defaultBs.info")," "),a.Tb(3),a.Yc(e.defaultBSList.length),a.Tb(1),a.Cc("ngIf",e.defaultBSList.length>0),a.Tb(4),a.Cc("ngForOf",e.defaultBSList),a.Tb(3),a.Vb(e.subitemClass.ue),a.Tb(1),a.Zc("",a.zc(252,191,"planning.ue.info")," "),a.Tb(3),a.Yc(e.ueList.length),a.Tb(1),a.Cc("ngIf",e.ueList.length>0),a.Tb(4),a.Cc("ngForOf",e.ueList),a.Tb(4),a.Zc("",a.zc(264,193,"planning.candidateBs.info")," "),a.Tb(3),a.Yc(e.candidateList.length),a.Tb(1),a.Cc("ngIf",e.candidateList.length>0),a.Tb(2),a.Cc("ngForOf",e.candidateList),a.Tb(4),a.Yc(a.zc(274,195,"planning.model")),a.Tb(6),a.Yc(a.zc(280,197,"pathLossModelId")),a.Tb(3),a.Cc("ngModel",e.calculateForm.pathLossModelId),a.Tb(2),a.Yc(a.zc(285,199,"planning.itri.51")),a.Tb(3),a.Yc(a.zc(288,201,"planning.taichung")),a.Tb(19),a.Yc(a.zc(307,203,"planning.user_define")),a.Tb(5),a.Yc(a.zc(312,205,"planning.algorithm")),a.Tb(6),a.Yc(a.zc(318,207,"mctsC")),a.Tb(2),a.Cc("ngModel",e.calculateForm.mctsC),a.Tb(3),a.Yc(a.zc(323,209,"mctsMimo")),a.Tb(2),a.Cc("ngModel",e.calculateForm.mctsMimo),a.Tb(3),a.Yc(a.zc(328,211,"mctsTemperature")),a.Tb(2),a.Cc("ngModel",e.calculateForm.mctsTemperature),a.Tb(3),a.Yc(a.zc(333,213,"mctsTime")),a.Tb(2),a.Cc("ngModel",e.calculateForm.mctsTime),a.Tb(3),a.Yc(a.zc(338,215,"mctsTestTime")),a.Tb(2),a.Cc("ngModel",e.calculateForm.mctsTestTime),a.Tb(3),a.Yc(a.zc(343,217,"mctsTotalTime")),a.Tb(2),a.Cc("ngModel",e.calculateForm.mctsTotalTime)}},directives:[li.a,ci.b,ci.c,o.b,o.a,i.l,i.m,i.k,gc,ri,ti,Yn,ci.a,Hc,jc,Bc,Nc,Uc.b,x.k,x.n,Uc.a,x.b,x.s,x.o,x.u,Wn,Yc.a,Et.a,qc.e],pipes:[m.c],styles:['@charset "UTF-8";mat-sidenav-container[_ngcontent-%COMP%]{margin:-2em -2em 0 2em;padding:1em 0 0 1em;position:relative;height:95vh}.tool[_ngcontent-%COMP%]{position:absolute;left:0;top:54px;padding-top:1em;width:4em;height:100%;background-color:#263345;color:#fff;z-index:1}.tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding:.3em 0;width:100%;text-align:center;cursor:move}.tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child   svg[_ngcontent-%COMP%], .tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2)   svg[_ngcontent-%COMP%], .tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3)   svg[_ngcontent-%COMP%]{-ms-transform:scale(.6);transform:scale(.6)}.tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4)   svg[_ngcontent-%COMP%], .tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5)   svg.tool[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6)   svg[_ngcontent-%COMP%]{-ms-transform:scale(.8);transform:scale(.8)}.tool[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#545151;width:55%;margin:.8em auto}.tool[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]{margin-bottom:.6em}.tool[_ngcontent-%COMP%]   .svg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:18px;height:18px;margin:auto}.mat-sidenav[_ngcontent-%COMP%]{max-width:30%}.toggle[_ngcontent-%COMP%]{float:right;border:0;background-color:#2e5480;outline:0;margin:0;cursor:pointer;border-radius:3px 0 0 3px}#d_area[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:22px;margin-top:.2em}[_nghost-%COMP%]     .mat-button-toggle-group{margin-left:1em}.dropDown_area[_ngcontent-%COMP%]{margin:1em;width:90%;min-height:80vh;display:block;background-repeat:no-repeat;background-position:0 0;background-size:contain;opacity:.4}[_nghost-%COMP%]     .mat-expansion-panel-body{font-size:.9em}[_nghost-%COMP%]    {margin:0;padding:0;color:#3b71b5}p.subitem[_ngcontent-%COMP%] + ol[_ngcontent-%COMP%]{display:none}p.subitem.active[_ngcontent-%COMP%] + ol[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]     .mat-expansion-panel-body p .material-icons{display:inline-block;vertical-align:middle;cursor:pointer}.matBadge[_ngcontent-%COMP%]{max-width:3em;min-width:2.3em;height:2.3em;display:inline-block;line-height:2.3em;margin-left:.3em;font-size:.5em;font-weight:400;color:#fff;background-color:#3b71b5;text-align:center;border-radius:9em}[_nghost-%COMP%]     .mat-expansion-panel-body ul>li{padding:0 0 1em}[_nghost-%COMP%]     .mat-expansion-panel-body ul>li div{margin-left:1em}.algorithm[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before, [_nghost-%COMP%]     .mat-expansion-panel-body p:before{font-family:Material Icons;content:"\ue5df";font-size:1.5em;vertical-align:middle}[_nghost-%COMP%]     .mat-expansion-panel-body li input[type=text]{width:4.5em}[_nghost-%COMP%]     .mat-expansion-panel-body input[type=text]{margin-left:.3em;vertical-align:middle;padding-left:.5em;width:5em;background:transparent;border:transparent;border-bottom:1px solid #ddd;border-radius:0}[_nghost-%COMP%]     .mat-expansion-panel-body ul>li>ul{margin-left:1em}[_nghost-%COMP%]     .mat-expansion-panel-body ul>li>ul li{padding-bottom:0}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{outline:0}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]::marker{color:#7e8faf}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:list-item;list-style:decimal;margin-left:2.2em;line-height:2em}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;display:inline-block}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:initial;font-size:.7em}.w7em[_ngcontent-%COMP%]{width:12em!important}ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:transparent;border:transparent;border-bottom:1px solid #ddd;border-radius:0;width:5em;vertical-align:middle;padding:.5em 0 .5em .5em;margin-left:.3em}ol.inline-block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:list-item;list-style:decimal;float:left}ol.inline-block[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{padding-left:.5em}.widthAuto[_ngcontent-%COMP%]{width:auto!important}.target[_ngcontent-%COMP%]{position:relative}.candidate[_ngcontent-%COMP%], .defaultBS[_ngcontent-%COMP%], .obstacle[_ngcontent-%COMP%], .UE[_ngcontent-%COMP%]{position:absolute;left:200px;top:250px;z-index:9999}.mat-tooltip[_ngcontent-%COMP%]{white-space:pre-line}.msg_label[_ngcontent-%COMP%]{z-index:9999;border:1px solid #161718;padding:1em;position:fixed;background-color:#110f0f;color:#fff;opacity:.9}input[type=file][_ngcontent-%COMP%]{display:inline-block;margin-left:.5em;width:75%}.w22[_ngcontent-%COMP%]{padding-left:2.2em!important}.ml_5[_ngcontent-%COMP%]{margin-left:.5em}.w18[_ngcontent-%COMP%]{width:18em!important}.spCell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:6.5em!important}.pink_circle[_ngcontent-%COMP%]{background-color:#f7176a}.blue_circle[_ngcontent-%COMP%], .pink_circle[_ngcontent-%COMP%]{padding:0 7px;color:#fff;z-index:99999;position:absolute}.blue_circle[_ngcontent-%COMP%]{background-color:#338aee!important}.highset[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;margin-right:.3em;width:3em}.clearAll[_ngcontent-%COMP%]{cursor:pointer;position:absolute;right:10px;text-align:center;color:#5882b1;font-size:.6em;line-height:1}.clearAll[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:18px;display:block;margin:0 auto 2px;width:1em;height:1em;background-color:#4a86c5;color:#fff;border-radius:5em}p.sub_title[_ngcontent-%COMP%]{margin-bottom:.5em;display:block}p.sub_title[_ngcontent-%COMP%] + .sub_content[_ngcontent-%COMP%]{margin-left:2em!important;transition:all .25s}p.sub_title.active[_ngcontent-%COMP%] + .sub_content[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]     #d_area mat-button-toggle-group mat-button-toggle button{width:auto!important}[_nghost-%COMP%]     .mat-expansion-panel-header{padding:0 24px 0 16px}.areaSetting[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{background-color:#ddd;border-color:#c2ccd6}.areaSetting[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{color:#476a90}[_nghost-%COMP%]     .areaSetting .mat-expansion-panel-body p{color:#516c8c!important}.areaSetting[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{padding-left:30px}.areaSetting[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%], .areaSetting[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .areaSetting[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{color:initial!important}[_nghost-%COMP%]     .mat-expansion-panel-body{padding:0;border-radius:0;border-top:1px solid #527198}[_nghost-%COMP%]     .areaSetting .mat-expansion-panel-body{padding:0;border-radius:0;border-top:1px solid #c2ccd6;padding:1em 1em 0 2em}.mat-accordion[_ngcontent-%COMP%]   .mat-expansion-panel[_ngcontent-%COMP%]:not(.mat-expansion-panel-spacing), [_nghost-%COMP%]     .mat-accordion .mat-expansion-panel:not(.mat-expanded){border-radius:0!important}[_nghost-%COMP%]     .areaSetting .mat-expansion-indicator:after{color:#7997b7}[_nghost-%COMP%]     .mat-radio-outer-circle{border-color:#b5dfec}.panel_content[_ngcontent-%COMP%]{padding:1em 0 1em 2em}.mat-button-toggle-appearance-standard[_ngcontent-%COMP%]{padding:1em 0}.s_ue[_ngcontent-%COMP%]{-ms-transform:scale(.5);transform:scale(.5)}.cdk-overlay-pane[_ngcontent-%COMP%]{overflow:auto}.subTarget[_ngcontent-%COMP%]{margin-left:1.5em}.subTarget[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:block}']});var Wu=[{path:"site-planning",component:qu},{path:"view3d",component:p.a},{path:"result",component:qt},{path:"planning-report",component:l}],$u=function t(){_classCallCheck(this,t)};$u.\u0275mod=a.ec({type:$u}),$u.\u0275inj=a.dc({factory:function(t){return new(t||$u)},imports:[[r.d.forChild(Wu)],r.d]});var Zu=n("wZkO"),Ju=n("NFeN"),Ku=n("xgIS"),Qu=n("3UWI"),th=Object(Nn.f)({passive:!0}),eh=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return _createClass(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return Oc.a;var n=Object(xn.d)(t),i=this._monitoredElements.get(n);if(i)return i.subject.asObservable();var r=new _.a,a="cdk-text-field-autofilled",o=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(a)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(a)&&(n.classList.remove(a),e._ngZone.run((function(){return r.next({target:t.target,isAutofilled:!1})}))):(n.classList.add(a),e._ngZone.run((function(){return r.next({target:t.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){n.addEventListener("animationstart",o,th),n.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(n,{subject:r,unlisten:function(){n.removeEventListener("animationstart",o,th)}}),r.asObservable()}},{key:"stopMonitoring",value:function(t){var e=Object(xn.d)(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach((function(e,n){return t.stopMonitoring(n)}))}}]),t}();eh.\u0275fac=function(t){return new(t||eh)(a.pc(Nn.a),a.pc(a.L))},eh.ctorParameters=function(){return[{type:Nn.a},{type:a.L}]},eh.\u0275prov=Object(a.cc)({factory:function(){return new eh(Object(a.pc)(Nn.a),Object(a.pc)(a.L))},token:eh,providedIn:"root"});var nh=function(){function t(e,n){_classCallCheck(this,t),this._elementRef=e,this._autofillMonitor=n,this.cdkAutofill=new a.t}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._autofillMonitor.monitor(this._elementRef).subscribe((function(e){return t.cdkAutofill.emit(e)}))}},{key:"ngOnDestroy",value:function(){this._autofillMonitor.stopMonitoring(this._elementRef)}}]),t}();nh.\u0275fac=function(t){return new(t||nh)(a.gc(a.r),a.gc(eh))},nh.\u0275dir=a.bc({type:nh,selectors:[["","cdkAutofill",""]],outputs:{cdkAutofill:"cdkAutofill"}}),nh.ctorParameters=function(){return[{type:a.r},{type:eh}]},nh.propDecorators={cdkAutofill:[{type:a.N}]};var ih=function(){function t(e,n,i,r){_classCallCheck(this,t),this._elementRef=e,this._platform=n,this._ngZone=i,this._destroyed=new _.a,this._enabled=!0,this._previousMinRows=-1,this._document=r,this._textareaElement=this._elementRef.nativeElement,this._measuringClass=n.FIREFOX?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring"}return _createClass(t,[{key:"_setMinHeight",value:function(){var t=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.minHeight=t)}},{key:"_setMaxHeight",value:function(){var t=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;t&&(this._textareaElement.style.maxHeight=t)}},{key:"ngAfterViewInit",value:function(){var t=this;this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular((function(){var e=t._getWindow();Object(Ku.a)(e,"resize").pipe(Object(Qu.a)(16),Object(Pn.a)(t._destroyed)).subscribe((function(){return t.resizeToFitContent(!0)}))})))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_cacheTextareaLineHeight",value:function(){if(!this._cachedLineHeight){var t=this._textareaElement.cloneNode(!1);t.rows=1,t.style.position="absolute",t.style.visibility="hidden",t.style.border="none",t.style.padding="0",t.style.height="",t.style.minHeight="",t.style.maxHeight="",t.style.overflow="hidden",this._textareaElement.parentNode.appendChild(t),this._cachedLineHeight=t.clientHeight,this._textareaElement.parentNode.removeChild(t),this._setMinHeight(),this._setMaxHeight()}}},{key:"ngDoCheck",value:function(){this._platform.isBrowser&&this.resizeToFitContent()}},{key:"resizeToFitContent",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enabled&&(this._cacheTextareaLineHeight(),this._cachedLineHeight)){var n=this._elementRef.nativeElement,i=n.value;if(e||this._minRows!==this._previousMinRows||i!==this._previousValue){var r=n.placeholder;n.classList.add(this._measuringClass),n.placeholder="";var a=n.scrollHeight-4;n.style.height=a+"px",n.classList.remove(this._measuringClass),n.placeholder=r,this._ngZone.runOutsideAngular((function(){"undefined"!=typeof requestAnimationFrame?requestAnimationFrame((function(){return t._scrollToCaretPosition(n)})):setTimeout((function(){return t._scrollToCaretPosition(n)}))})),this._previousValue=i,this._previousMinRows=this._minRows}}}},{key:"reset",value:function(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}},{key:"_noopInputHandler",value:function(){}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollToCaretPosition",value:function(t){var e=t.selectionStart,n=t.selectionEnd,i=this._getDocument();this._destroyed.isStopped||i.activeElement!==t||t.setSelectionRange(e,n)}},{key:"minRows",get:function(){return this._minRows},set:function(t){this._minRows=Object(xn.e)(t),this._setMinHeight()}},{key:"maxRows",get:function(){return this._maxRows},set:function(t){this._maxRows=Object(xn.e)(t),this._setMaxHeight()}},{key:"enabled",get:function(){return this._enabled},set:function(t){t=Object(xn.b)(t),this._enabled!==t&&((this._enabled=t)?this.resizeToFitContent(!0):this.reset())}}]),t}();ih.\u0275fac=function(t){return new(t||ih)(a.gc(a.r),a.gc(Nn.a),a.gc(a.L),a.gc(i.d,8))},ih.\u0275dir=a.bc({type:ih,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(t,e){1&t&&a.tc("input",(function(){return e._noopInputHandler()}))},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"]},exportAs:["cdkTextareaAutosize"]}),ih.ctorParameters=function(){return[{type:a.r},{type:Nn.a},{type:a.L},{type:void 0,decorators:[{type:a.M},{type:a.y,args:[i.d]}]}]},ih.propDecorators={minRows:[{type:a.C,args:["cdkAutosizeMinRows"]}],maxRows:[{type:a.C,args:["cdkAutosizeMaxRows"]}],enabled:[{type:a.C,args:["cdkTextareaAutosize"]}],_noopInputHandler:[{type:a.w,args:["input"]}]};var rh=function t(){_classCallCheck(this,t)};rh.\u0275mod=a.ec({type:rh}),rh.\u0275inj=a.dc({factory:function(t){return new(t||rh)},imports:[[Nn.b]]});var ah=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"matAutosizeMinRows",get:function(){return this.minRows},set:function(t){this.minRows=t}},{key:"matAutosizeMaxRows",get:function(){return this.maxRows},set:function(t){this.maxRows=t}},{key:"matAutosize",get:function(){return this.enabled},set:function(t){this.enabled=t}},{key:"matTextareaAutosize",get:function(){return this.enabled},set:function(t){this.enabled=t}}]),n}(ih);ah.\u0275fac=function(t){return oh(t||ah)},ah.\u0275dir=a.bc({type:ah,selectors:[["textarea","mat-autosize",""],["textarea","matTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize","mat-autosize"],inputs:{cdkAutosizeMinRows:"cdkAutosizeMinRows",cdkAutosizeMaxRows:"cdkAutosizeMaxRows",matAutosizeMinRows:"matAutosizeMinRows",matAutosizeMaxRows:"matAutosizeMaxRows",matAutosize:["mat-autosize","matAutosize"],matTextareaAutosize:"matTextareaAutosize"},exportAs:["matTextareaAutosize"],features:[a.Qb]}),ah.propDecorators={matAutosizeMinRows:[{type:a.C}],matAutosizeMaxRows:[{type:a.C}],matAutosize:[{type:a.C,args:["mat-autosize"]}],matTextareaAutosize:[{type:a.C}]};var oh=a.nc(ah),sh=new a.A("MAT_INPUT_VALUE_ACCESSOR"),lh=["button","checkbox","file","hidden","image","radio","range","reset","submit"],ch=0,uh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s,l,c,u){var h;_classCallCheck(this,n),(h=e.call(this,s,a,o,r))._elementRef=t,h._platform=i,h.ngControl=r,h._autofillMonitor=c,h._uid="mat-input-"+ch++,h.focused=!1,h.stateChanges=new _.a,h.controlType="mat-input",h.autofilled=!1,h._disabled=!1,h._required=!1,h._type="text",h._readonly=!1,h._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(t){return Object(Nn.e)().has(t)}));var d=h._elementRef.nativeElement,p=d.nodeName.toLowerCase();return h._inputValueAccessor=l||d,h._previousNativeValue=h.value,h.id=h.id,i.IOS&&u.runOutsideAngular((function(){t.nativeElement.addEventListener("keyup",(function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))}))})),h._isServer=!h._platform.isBrowser,h._isNativeSelect="select"===p,h._isTextarea="textarea"===p,h._isNativeSelect&&(h.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select"),h}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()}))}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){if(lh.indexOf(this._type)>-1)throw t=this._type,Error('Input type "'.concat(t,"\" isn't supported by matInput."));var t}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}},{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Object(xn.b)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Object(xn.b)(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Object(Nn.e)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=Object(xn.b)(t)}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}}]),n}(Object(Fn.q)(function(){return function t(e,n,i,r){_classCallCheck(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}()));uh.\u0275fac=function(t){return new(t||uh)(a.gc(a.r),a.gc(Nn.a),a.gc(x.j,10),a.gc(x.m,8),a.gc(x.f,8),a.gc(Fn.a),a.gc(sh,10),a.gc(eh),a.gc(a.L))},uh.\u0275dir=a.bc({type:uh,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&a.tc("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(a.oc("disabled",e.disabled)("required",e.required),a.Ub("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),a.Xb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[a.Sb([{provide:qc.c,useExisting:uh}]),a.Qb,a.Rb]}),uh.ctorParameters=function(){return[{type:a.r},{type:Nn.a},{type:x.j,decorators:[{type:a.M},{type:a.Y}]},{type:x.m,decorators:[{type:a.M}]},{type:x.f,decorators:[{type:a.M}]},{type:Fn.a},{type:void 0,decorators:[{type:a.M},{type:a.Y},{type:a.y,args:[sh]}]},{type:eh},{type:a.L}]},uh.propDecorators={disabled:[{type:a.C}],id:[{type:a.C}],placeholder:[{type:a.C}],required:[{type:a.C}],type:[{type:a.C}],errorStateMatcher:[{type:a.C}],value:[{type:a.C}],readonly:[{type:a.C}],_focusChanged:[{type:a.w,args:["focus",["true"]]},{type:a.w,args:["blur",["false"]]}],_onInput:[{type:a.w,args:["input"]}]};var hh=function t(){_classCallCheck(this,t)};hh.\u0275mod=a.ec({type:hh}),hh.\u0275inj=a.dc({factory:function(t){return new(t||hh)},providers:[Fn.a],imports:[[rh,qc.d],rh,qc.d]});var dh=n("IO/c"),ph=function t(){_classCallCheck(this,t)};ph.\u0275mod=a.ec({type:ph}),ph.\u0275inj=a.dc({factory:function(t){return new(t||ph)},providers:[Yc.a],imports:[[i.c,x.g,x.q,r.d,ci.d,o.c,Ju.a,Gc,Zu.a,Et.b,li.b,vc,oi,m.b,Yc.b,Uc.c,hh,dh.a]]});var fh=n("kpLP"),gh=n("xR3L"),vh=n("27D2"),mh=n("3NtM"),bh=n("CLfV"),yh=n("tAWS"),wh=n("bJ/z"),xh=n("Ue+b"),_h=n("dMng"),Oh=function t(){_classCallCheck(this,t)};Oh.\u0275mod=a.ec({type:Oh}),Oh.\u0275inj=a.dc({factory:function(t){return new(t||Oh)},imports:[[i.c,r.d,x.g,o.c,gh.a,vh.a,mh.a,bh.a,yh.a,wh.a,xh.a,_h.PdfModule,m.b,Et.b,Ot]]});var Ch=function t(){_classCallCheck(this,t)};Ch.\u0275mod=a.ec({type:Ch}),Ch.\u0275inj=a.dc({factory:function(t){return new(t||Ch)},imports:[[i.c,o.c,r.d]]});var kh=function t(){_classCallCheck(this,t)};kh.\u0275mod=a.ec({type:kh}),kh.\u0275inj=a.dc({factory:function(t){return new(t||kh)},imports:[[i.c,r.d,$u,ph,fh.a,Oh,Ch]]})},LvDl:function(t,e,n){(function(t){var i;(function(){var r="Expected a function",a="__lodash_placeholder__",o=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],s="[object Arguments]",l="[object Array]",c="[object Boolean]",u="[object Date]",h="[object Error]",d="[object Function]",p="[object GeneratorFunction]",f="[object Map]",g="[object Number]",v="[object Object]",m="[object RegExp]",b="[object Set]",y="[object String]",w="[object Symbol]",x="[object WeakMap]",_="[object ArrayBuffer]",O="[object DataView]",C="[object Float32Array]",k="[object Float64Array]",S="[object Int8Array]",M="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",P="[object Uint16Array]",L="[object Uint32Array]",R=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,D=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,A=/[&<>"']/g,j=RegExp(z.source),F=RegExp(A.source),B=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,N=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,G=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,U=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(U.source),q=/^\s+|\s+$/g,W=/^\s+/,$=/\s+$/,Z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,K=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tt=/\\(\\)?/g,et=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,nt=/\w*$/,it=/^[-+]0x[0-9a-f]+$/i,rt=/^0b[01]+$/i,at=/^\[object .+?Constructor\]$/,ot=/^0o[0-7]+$/i,st=/^(?:0|[1-9]\d*)$/,lt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ct=/($^)/,ut=/['\n\r\u2028\u2029\\]/g,ht="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",dt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pt="["+dt+"]",ft="["+ht+"]",gt="\\d+",vt="[a-z\\xdf-\\xf6\\xf8-\\xff]",mt="[^\\ud800-\\udfff"+dt+gt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",bt="\\ud83c[\\udffb-\\udfff]",yt="[^\\ud800-\\udfff]",wt="(?:\\ud83c[\\udde6-\\uddff]){2}",xt="[\\ud800-\\udbff][\\udc00-\\udfff]",_t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ot="(?:"+vt+"|"+mt+")",Ct="(?:"+_t+"|"+mt+")",kt="(?:"+ft+"|"+bt+")?",St="[\\ufe0e\\ufe0f]?"+kt+"(?:\\u200d(?:"+[yt,wt,xt].join("|")+")[\\ufe0e\\ufe0f]?"+kt+")*",Mt="(?:"+["[\\u2700-\\u27bf]",wt,xt].join("|")+")"+St,Et="(?:"+[yt+ft+"?",ft,wt,xt,"[\\ud800-\\udfff]"].join("|")+")",Tt=RegExp("['\u2019]","g"),Pt=RegExp(ft,"g"),Lt=RegExp(bt+"(?="+bt+")|"+Et+St,"g"),Rt=RegExp([_t+"?"+vt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[pt,_t,"$"].join("|")+")",Ct+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[pt,_t+Ot,"$"].join("|")+")",_t+"?"+Ot+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",_t+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gt,Mt].join("|"),"g"),It=RegExp("[\\u200d\\ud800-\\udfff"+ht+"\\ufe0e\\ufe0f]"),Dt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],At=-1,jt={};jt[C]=jt[k]=jt[S]=jt[M]=jt[E]=jt[T]=jt["[object Uint8ClampedArray]"]=jt[P]=jt[L]=!0,jt[s]=jt[l]=jt[_]=jt[c]=jt[O]=jt[u]=jt[h]=jt[d]=jt[f]=jt[g]=jt[v]=jt[m]=jt[b]=jt[y]=jt[x]=!1;var Ft={};Ft[s]=Ft[l]=Ft[_]=Ft[O]=Ft[c]=Ft[u]=Ft[C]=Ft[k]=Ft[S]=Ft[M]=Ft[E]=Ft[f]=Ft[g]=Ft[v]=Ft[m]=Ft[b]=Ft[y]=Ft[w]=Ft[T]=Ft["[object Uint8ClampedArray]"]=Ft[P]=Ft[L]=!0,Ft[h]=Ft[d]=Ft[x]=!1;var Bt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Vt=parseFloat,Nt=parseInt,Ht="object"==typeof global&&global&&global.Object===Object&&global,Xt="object"==typeof self&&self&&self.Object===Object&&self,Gt=Ht||Xt||Function("return this")(),Ut=e&&!e.nodeType&&e,Yt=Ut&&"object"==typeof t&&t&&!t.nodeType&&t,qt=Yt&&Yt.exports===Ut,Wt=qt&&Ht.process,$t=function(){try{return Yt&&Yt.require&&Yt.require("util").types||Wt&&Wt.binding&&Wt.binding("util")}catch(t){}}(),Zt=$t&&$t.isArrayBuffer,Jt=$t&&$t.isDate,Kt=$t&&$t.isMap,Qt=$t&&$t.isRegExp,te=$t&&$t.isSet,ee=$t&&$t.isTypedArray;function ne(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ie(t,e,n,i){for(var r=-1,a=null==t?0:t.length;++r<a;){var o=t[r];e(i,o,n(o),t)}return i}function re(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function ae(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function oe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function se(t,e){for(var n=-1,i=null==t?0:t.length,r=0,a=[];++n<i;){var o=t[n];e(o,n,t)&&(a[r++]=o)}return a}function le(t,e){return!(null==t||!t.length)&&be(t,e,0)>-1}function ce(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function ue(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function he(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function de(t,e,n,i){var r=-1,a=null==t?0:t.length;for(i&&a&&(n=t[++r]);++r<a;)n=e(n,t[r],r,t);return n}function pe(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function fe(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var ge=_e("length");function ve(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function me(t,e,n,i){for(var r=t.length,a=n+(i?1:-1);i?a--:++a<r;)if(e(t[a],a,t))return a;return-1}function be(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):me(t,we,n)}function ye(t,e,n,i){for(var r=n-1,a=t.length;++r<a;)if(i(t[r],e))return r;return-1}function we(t){return t!=t}function xe(t,e){var n=null==t?0:t.length;return n?ke(t,e)/n:NaN}function _e(t){return function(e){return null==e?void 0:e[t]}}function Oe(t){return function(e){return null==t?void 0:t[e]}}function Ce(t,e,n,i,r){return r(t,(function(t,r,a){n=i?(i=!1,t):e(n,t,r,a)})),n}function ke(t,e){for(var n,i=-1,r=t.length;++i<r;){var a=e(t[i]);void 0!==a&&(n=void 0===n?a:n+a)}return n}function Se(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Me(t){return function(e){return t(e)}}function Ee(t,e){return ue(e,(function(e){return t[e]}))}function Te(t,e){return t.has(e)}function Pe(t,e){for(var n=-1,i=t.length;++n<i&&be(e,t[n],0)>-1;);return n}function Le(t,e){for(var n=t.length;n--&&be(e,t[n],0)>-1;);return n}function Re(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var Ie=Oe({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),De=Oe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ze(t){return"\\"+Bt[t]}function Ae(t){return It.test(t)}function je(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function Fe(t,e){return function(n){return t(e(n))}}function Be(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[r++]=n)}return o}function Ve(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function Ne(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function He(t){return Ae(t)?function(t){for(var e=Lt.lastIndex=0;Lt.test(t);)++e;return e}(t):ge(t)}function Xe(t){return Ae(t)?function(t){return t.match(Lt)||[]}(t):function(t){return t.split("")}(t)}var Ge=Oe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Ue=function t(e){var n,i=(e=null==e?Gt:Ue.defaults(Gt.Object(),e,Ue.pick(Gt,zt))).Array,ht=e.Date,dt=e.Error,pt=e.Function,ft=e.Math,gt=e.Object,vt=e.RegExp,mt=e.String,bt=e.TypeError,yt=i.prototype,wt=pt.prototype,xt=gt.prototype,_t=e["__core-js_shared__"],Ot=wt.toString,Ct=xt.hasOwnProperty,kt=0,St=(n=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Mt=xt.toString,Et=Ot.call(gt),Lt=Gt._,It=vt("^"+Ot.call(Ct).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=qt?e.Buffer:void 0,Ht=e.Symbol,Xt=e.Uint8Array,Ut=Bt?Bt.allocUnsafe:void 0,Yt=Fe(gt.getPrototypeOf,gt),Wt=gt.create,$t=xt.propertyIsEnumerable,ge=yt.splice,Oe=Ht?Ht.isConcatSpreadable:void 0,Ye=Ht?Ht.iterator:void 0,qe=Ht?Ht.toStringTag:void 0,We=function(){try{var t=Kr(gt,"defineProperty");return t({},"",{}),t}catch(e){}}(),$e=e.clearTimeout!==Gt.clearTimeout&&e.clearTimeout,Ze=ht&&ht.now!==Gt.Date.now&&ht.now,Je=e.setTimeout!==Gt.setTimeout&&e.setTimeout,Ke=ft.ceil,Qe=ft.floor,tn=gt.getOwnPropertySymbols,en=Bt?Bt.isBuffer:void 0,nn=e.isFinite,rn=yt.join,an=Fe(gt.keys,gt),on=ft.max,sn=ft.min,ln=ht.now,cn=e.parseInt,un=ft.random,hn=yt.reverse,dn=Kr(e,"DataView"),pn=Kr(e,"Map"),fn=Kr(e,"Promise"),gn=Kr(e,"Set"),vn=Kr(e,"WeakMap"),mn=Kr(gt,"create"),bn=vn&&new vn,yn={},wn=Ma(dn),xn=Ma(pn),_n=Ma(fn),On=Ma(gn),Cn=Ma(vn),kn=Ht?Ht.prototype:void 0,Sn=kn?kn.valueOf:void 0,Mn=kn?kn.toString:void 0;function En(t){if(Uo(t)&&!Do(t)&&!(t instanceof Rn)){if(t instanceof Ln)return t;if(Ct.call(t,"__wrapped__"))return Ea(t)}return new Ln(t)}var Tn=function(){function t(){}return function(e){if(!Go(e))return{};if(Wt)return Wt(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Pn(){}function Ln(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function Rn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function In(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Dn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function An(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new zn;++e<n;)this.add(t[e])}function jn(t){var e=this.__data__=new Dn(t);this.size=e.size}function Fn(t,e){var n=Do(t),i=!n&&Io(t),r=!n&&!i&&Fo(t),a=!n&&!i&&!r&&Qo(t),o=n||i||r||a,s=o?Se(t.length,mt):[],l=s.length;for(var c in t)!e&&!Ct.call(t,c)||o&&("length"==c||r&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||aa(c,l))||s.push(c);return s}function Bn(t){var e=t.length;return e?t[zi(0,e-1)]:void 0}function Vn(t,e){return _a(vr(t),$n(e,0,t.length))}function Nn(t){return _a(vr(t))}function Hn(t,e,n){(void 0!==n&&!Po(t[e],n)||void 0===n&&!(e in t))&&qn(t,e,n)}function Xn(t,e,n){var i=t[e];Ct.call(t,e)&&Po(i,n)&&(void 0!==n||e in t)||qn(t,e,n)}function Gn(t,e){for(var n=t.length;n--;)if(Po(t[n][0],e))return n;return-1}function Un(t,e,n,i){return ti(t,(function(t,r,a){e(i,t,n(t),a)})),i}function Yn(t,e){return t&&mr(e,xs(e),t)}function qn(t,e,n){"__proto__"==e&&We?We(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Wn(t,e){for(var n=-1,r=e.length,a=i(r),o=null==t;++n<r;)a[n]=o?void 0:vs(t,e[n]);return a}function $n(t,e,n){return t==t&&(void 0!==n&&(t=t<=n?t:n),void 0!==e&&(t=t>=e?t:e)),t}function Zn(t,e,n,i,r,a){var o,l=1&e,h=2&e,x=4&e;if(n&&(o=r?n(t,i,r,a):n(t)),void 0!==o)return o;if(!Go(t))return t;var R=Do(t);if(R){if(o=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ct.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return vr(t,o)}else{var I=ea(t),D=I==d||I==p;if(Fo(t))return ur(t,l);if(I==v||I==s||D&&!r){if(o=h||D?{}:ia(t),!l)return h?function(t,e){return mr(t,ta(t),e)}(t,function(t,e){return t&&mr(e,_s(e),t)}(o,t)):function(t,e){return mr(t,Qr(t),e)}(t,Yn(o,t))}else{if(!Ft[I])return r?t:{};o=function(t,e,n){var i,r=t.constructor;switch(e){case _:return hr(t);case c:case u:return new r(+t);case O:return function(t,e){var n=e?hr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case C:case k:case S:case M:case E:case T:case"[object Uint8ClampedArray]":case P:case L:return dr(t,n);case f:return new r;case g:case y:return new r(t);case m:return function(t){var e=new t.constructor(t.source,nt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case b:return new r;case w:return i=t,Sn?gt(Sn.call(i)):{}}}(t,I,l)}}a||(a=new jn);var z=a.get(t);if(z)return z;a.set(t,o),Zo(t)?t.forEach((function(i){o.add(Zn(i,e,n,i,t,a))})):Yo(t)&&t.forEach((function(i,r){o.set(r,Zn(i,e,n,r,t,a))}));var A=R?void 0:(x?h?Ur:Gr:h?_s:xs)(t);return re(A||t,(function(i,r){A&&(i=t[r=i]),Xn(o,r,Zn(i,e,n,r,t,a))})),o}function Jn(t,e,n){var i=n.length;if(null==t)return!i;for(t=gt(t);i--;){var r=n[i],a=e[r],o=t[r];if(void 0===o&&!(r in t)||!a(o))return!1}return!0}function Kn(t,e,n){if("function"!=typeof t)throw new bt(r);return ba((function(){t.apply(void 0,n)}),e)}function Qn(t,e,n,i){var r=-1,a=le,o=!0,s=t.length,l=[],c=e.length;if(!s)return l;n&&(e=ue(e,Me(n))),i?(a=ce,o=!1):e.length>=200&&(a=Te,o=!1,e=new An(e));t:for(;++r<s;){var u=t[r],h=null==n?u:n(u);if(u=i||0!==u?u:0,o&&h==h){for(var d=c;d--;)if(e[d]===h)continue t;l.push(u)}else a(e,h,i)||l.push(u)}return l}En.templateSettings={escape:B,evaluate:V,interpolate:N,variable:"",imports:{_:En}},En.prototype=Pn.prototype,En.prototype.constructor=En,Ln.prototype=Tn(Pn.prototype),Ln.prototype.constructor=Ln,Rn.prototype=Tn(Pn.prototype),Rn.prototype.constructor=Rn,In.prototype.clear=function(){this.__data__=mn?mn(null):{},this.size=0},In.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},In.prototype.get=function(t){var e=this.__data__;if(mn){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Ct.call(e,t)?e[t]:void 0},In.prototype.has=function(t){var e=this.__data__;return mn?void 0!==e[t]:Ct.call(e,t)},In.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mn&&void 0===e?"__lodash_hash_undefined__":e,this},Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(t){var e=this.__data__,n=Gn(e,t);return!(n<0||(n==e.length-1?e.pop():ge.call(e,n,1),--this.size,0))},Dn.prototype.get=function(t){var e=this.__data__,n=Gn(e,t);return n<0?void 0:e[n][1]},Dn.prototype.has=function(t){return Gn(this.__data__,t)>-1},Dn.prototype.set=function(t,e){var n=this.__data__,i=Gn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},zn.prototype.clear=function(){this.size=0,this.__data__={hash:new In,map:new(pn||Dn),string:new In}},zn.prototype.delete=function(t){var e=Zr(this,t).delete(t);return this.size-=e?1:0,e},zn.prototype.get=function(t){return Zr(this,t).get(t)},zn.prototype.has=function(t){return Zr(this,t).has(t)},zn.prototype.set=function(t,e){var n=Zr(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},An.prototype.add=An.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},An.prototype.has=function(t){return this.__data__.has(t)},jn.prototype.clear=function(){this.__data__=new Dn,this.size=0},jn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},jn.prototype.get=function(t){return this.__data__.get(t)},jn.prototype.has=function(t){return this.__data__.has(t)},jn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Dn){var i=n.__data__;if(!pn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new zn(i)}return n.set(t,e),this.size=n.size,this};var ti=wr(li),ei=wr(ci,!0);function ni(t,e){var n=!0;return ti(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function ii(t,e,n){for(var i=-1,r=t.length;++i<r;){var a=t[i],o=e(a);if(null!=o&&(void 0===s?o==o&&!Ko(o):n(o,s)))var s=o,l=a}return l}function ri(t,e){var n=[];return ti(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function ai(t,e,n,i,r){var a=-1,o=t.length;for(n||(n=ra),r||(r=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?ai(s,e-1,n,i,r):he(r,s):i||(r[r.length]=s)}return r}var oi=xr(),si=xr(!0);function li(t,e){return t&&oi(t,e,xs)}function ci(t,e){return t&&si(t,e,xs)}function ui(t,e){return se(e,(function(e){return No(t[e])}))}function hi(t,e){for(var n=0,i=(e=or(e,t)).length;null!=t&&n<i;)t=t[Sa(e[n++])];return n&&n==i?t:void 0}function di(t,e,n){var i=e(t);return Do(t)?i:he(i,n(t))}function pi(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":qe&&qe in gt(t)?function(t){var e=Ct.call(t,qe),n=t[qe];try{t[qe]=void 0;var i=!0}catch(a){}var r=Mt.call(t);return i&&(e?t[qe]=n:delete t[qe]),r}(t):function(t){return Mt.call(t)}(t)}function fi(t,e){return t>e}function gi(t,e){return null!=t&&Ct.call(t,e)}function vi(t,e){return null!=t&&e in gt(t)}function mi(t,e,n){for(var r=n?ce:le,a=t[0].length,o=t.length,s=o,l=i(o),c=1/0,u=[];s--;){var h=t[s];s&&e&&(h=ue(h,Me(e))),c=sn(h.length,c),l[s]=!n&&(e||a>=120&&h.length>=120)?new An(s&&h):void 0}h=t[0];var d=-1,p=l[0];t:for(;++d<a&&u.length<c;){var f=h[d],g=e?e(f):f;if(f=n||0!==f?f:0,!(p?Te(p,g):r(u,g,n))){for(s=o;--s;){var v=l[s];if(!(v?Te(v,g):r(t[s],g,n)))continue t}p&&p.push(g),u.push(f)}}return u}function bi(t,e,n){var i=null==(t=fa(t,e=or(e,t)))?t:t[Sa(Ba(e))];return null==i?void 0:ne(i,t,n)}function yi(t){return Uo(t)&&pi(t)==s}function wi(t,e,n,i,r){return t===e||(null==t||null==e||!Uo(t)&&!Uo(e)?t!=t&&e!=e:function(t,e,n,i,r,a){var o=Do(t),d=Do(e),p=o?l:ea(t),x=d?l:ea(e),C=(p=p==s?v:p)==v,k=(x=x==s?v:x)==v,S=p==x;if(S&&Fo(t)){if(!Fo(e))return!1;o=!0,C=!1}if(S&&!C)return a||(a=new jn),o||Qo(t)?Hr(t,e,n,i,r,a):function(t,e,n,i,r,a,o){switch(n){case O:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!a(new Xt(t),new Xt(e)));case c:case u:case g:return Po(+t,+e);case h:return t.name==e.name&&t.message==e.message;case m:case y:return t==e+"";case f:var s=je;case b:var l=1&i;if(s||(s=Ve),t.size!=e.size&&!l)return!1;var d=o.get(t);if(d)return d==e;i|=2,o.set(t,e);var p=Hr(s(t),s(e),i,r,a,o);return o.delete(t),p;case w:if(Sn)return Sn.call(t)==Sn.call(e)}return!1}(t,e,p,n,i,r,a);if(!(1&n)){var M=C&&Ct.call(t,"__wrapped__"),E=k&&Ct.call(e,"__wrapped__");if(M||E){var T=M?t.value():t,P=E?e.value():e;return a||(a=new jn),r(T,P,n,i,a)}}return!!S&&(a||(a=new jn),function(t,e,n,i,r,a){var o=1&n,s=Gr(t),l=s.length;if(l!=Gr(e).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in e:Ct.call(e,u)))return!1}var h=a.get(t),d=a.get(e);if(h&&d)return h==e&&d==t;var p=!0;a.set(t,e),a.set(e,t);for(var f=o;++c<l;){var g=t[u=s[c]],v=e[u];if(i)var m=o?i(v,g,u,e,t,a):i(g,v,u,t,e,a);if(!(void 0===m?g===v||r(g,v,n,i,a):m)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var b=t.constructor,y=e.constructor;b==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(p=!1)}return a.delete(t),a.delete(e),p}(t,e,n,i,r,a))}(t,e,n,i,wi,r))}function xi(t,e,n,i){var r=n.length,a=r,o=!i;if(null==t)return!a;for(t=gt(t);r--;){var s=n[r];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<a;){var l=(s=n[r])[0],c=t[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in t))return!1}else{var h=new jn;if(i)var d=i(c,u,l,t,e,h);if(!(void 0===d?wi(u,c,3,i,h):d))return!1}}return!0}function _i(t){return!(!Go(t)||(e=t,St&&St in e))&&(No(t)?It:at).test(Ma(t));var e}function Oi(t){return"function"==typeof t?t:null==t?qs:"object"==typeof t?Do(t)?Ei(t[0],t[1]):Mi(t):nl(t)}function Ci(t){if(!ua(t))return an(t);var e=[];for(var n in gt(t))Ct.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ki(t,e){return t<e}function Si(t,e){var n=-1,r=Ao(t)?i(t.length):[];return ti(t,(function(t,i,a){r[++n]=e(t,i,a)})),r}function Mi(t){var e=Jr(t);return 1==e.length&&e[0][2]?da(e[0][0],e[0][1]):function(n){return n===t||xi(n,t,e)}}function Ei(t,e){return sa(t)&&ha(e)?da(Sa(t),e):function(n){var i=vs(n,t);return void 0===i&&i===e?ms(n,t):wi(e,i,3)}}function Ti(t,e,n,i,r){t!==e&&oi(e,(function(a,o){if(r||(r=new jn),Go(a))!function(t,e,n,i,r,a,o){var s=va(t,n),l=va(e,n),c=o.get(l);if(c)Hn(t,n,c);else{var u=a?a(s,l,n+"",t,e,o):void 0,h=void 0===u;if(h){var d=Do(l),p=!d&&Fo(l),f=!d&&!p&&Qo(l);u=l,d||p||f?Do(s)?u=s:jo(s)?u=vr(s):p?(h=!1,u=ur(l,!0)):f?(h=!1,u=dr(l,!0)):u=[]:Wo(l)||Io(l)?(u=s,Io(s)?u=ss(s):Go(s)&&!No(s)||(u=ia(l))):h=!1}h&&(o.set(l,u),r(u,l,i,a,o),o.delete(l)),Hn(t,n,u)}}(t,e,o,n,Ti,i,r);else{var s=i?i(va(t,o),a,o+"",t,e,r):void 0;void 0===s&&(s=a),Hn(t,o,s)}}),_s)}function Pi(t,e){var n=t.length;if(n)return aa(e+=e<0?n:0,n)?t[e]:void 0}function Li(t,e,n){e=e.length?ue(e,(function(t){return Do(t)?function(e){return hi(e,1===t.length?t[0]:t)}:t})):[qs];var i=-1;return e=ue(e,Me($r())),function(t,e){var i=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,a=e.criteria,o=r.length,s=n.length;++i<o;){var l=pr(r[i],a[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}));i--;)t[i]=t[i].value;return t}(Si(t,(function(t,n,r){return{criteria:ue(e,(function(e){return e(t)})),index:++i,value:t}})))}function Ri(t,e,n){for(var i=-1,r=e.length,a={};++i<r;){var o=e[i],s=hi(t,o);n(s,o)&&Vi(a,or(o,t),s)}return a}function Ii(t,e,n,i){var r=i?ye:be,a=-1,o=e.length,s=t;for(t===e&&(e=vr(e)),n&&(s=ue(t,Me(n)));++a<o;)for(var l=0,c=e[a],u=n?n(c):c;(l=r(s,u,l,i))>-1;)s!==t&&ge.call(s,l,1),ge.call(t,l,1);return t}function Di(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==a){var a=r;aa(r)?ge.call(t,r,1):Ki(t,r)}}return t}function zi(t,e){return t+Qe(un()*(e-t+1))}function Ai(t,e){var n="";if(!t||e<1||e>9007199254740991)return n;do{e%2&&(n+=t),(e=Qe(e/2))&&(t+=t)}while(e);return n}function ji(t,e){return ya(pa(t,e,qs),t+"")}function Fi(t){return Bn(Ps(t))}function Bi(t,e){var n=Ps(t);return _a(n,$n(e,0,n.length))}function Vi(t,e,n,i){if(!Go(t))return t;for(var r=-1,a=(e=or(e,t)).length,o=a-1,s=t;null!=s&&++r<a;){var l=Sa(e[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(r!=o){var u=s[l];void 0===(c=i?i(u,l,s):void 0)&&(c=Go(u)?u:aa(e[r+1])?[]:{})}Xn(s,l,c),s=s[l]}return t}var Ni=bn?function(t,e){return bn.set(t,e),t}:qs,Hi=We?function(t,e){return We(t,"toString",{configurable:!0,enumerable:!1,value:Gs(e),writable:!0})}:qs;function Xi(t){return _a(Ps(t))}function Gi(t,e,n){var r=-1,a=t.length;e<0&&(e=-e>a?0:a+e),(n=n>a?a:n)<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var o=i(a);++r<a;)o[r]=t[r+e];return o}function Ui(t,e){var n;return ti(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function Yi(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var a=i+r>>>1,o=t[a];null!==o&&!Ko(o)&&(n?o<=e:o<e)?i=a+1:r=a}return r}return qi(t,e,qs,n)}function qi(t,e,n,i){var r=0,a=null==t?0:t.length;if(0===a)return 0;for(var o=(e=n(e))!=e,s=null===e,l=Ko(e),c=void 0===e;r<a;){var u=Qe((r+a)/2),h=n(t[u]),d=void 0!==h,p=null===h,f=h==h,g=Ko(h);if(o)var v=i||f;else v=c?f&&(i||d):s?f&&d&&(i||!p):l?f&&d&&!p&&(i||!g):!p&&!g&&(i?h<=e:h<e);v?r=u+1:a=u}return sn(a,4294967294)}function Wi(t,e){for(var n=-1,i=t.length,r=0,a=[];++n<i;){var o=t[n],s=e?e(o):o;if(!n||!Po(s,l)){var l=s;a[r++]=0===o?0:o}}return a}function $i(t){return"number"==typeof t?t:Ko(t)?NaN:+t}function Zi(t){if("string"==typeof t)return t;if(Do(t))return ue(t,Zi)+"";if(Ko(t))return Mn?Mn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ji(t,e,n){var i=-1,r=le,a=t.length,o=!0,s=[],l=s;if(n)o=!1,r=ce;else if(a>=200){var c=e?null:Ar(t);if(c)return Ve(c);o=!1,r=Te,l=new An}else l=e?[]:s;t:for(;++i<a;){var u=t[i],h=e?e(u):u;if(u=n||0!==u?u:0,o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),s.push(u)}else r(l,h,n)||(l!==s&&l.push(h),s.push(u))}return s}function Ki(t,e){return null==(t=fa(t,e=or(e,t)))||delete t[Sa(Ba(e))]}function Qi(t,e,n,i){return Vi(t,e,n(hi(t,e)),i)}function tr(t,e,n,i){for(var r=t.length,a=i?r:-1;(i?a--:++a<r)&&e(t[a],a,t););return n?Gi(t,i?0:a,i?a+1:r):Gi(t,i?a+1:0,i?r:a)}function er(t,e){var n=t;return n instanceof Rn&&(n=n.value()),de(e,(function(t,e){return e.func.apply(e.thisArg,he([t],e.args))}),n)}function nr(t,e,n){var r=t.length;if(r<2)return r?Ji(t[0]):[];for(var a=-1,o=i(r);++a<r;)for(var s=t[a],l=-1;++l<r;)l!=a&&(o[a]=Qn(o[a]||s,t[l],e,n));return Ji(ai(o,1),e,n)}function ir(t,e,n){for(var i=-1,r=t.length,a=e.length,o={};++i<r;){var s=i<a?e[i]:void 0;n(o,t[i],s)}return o}function rr(t){return jo(t)?t:[]}function ar(t){return"function"==typeof t?t:qs}function or(t,e){return Do(t)?t:sa(t,e)?[t]:ka(ls(t))}var sr=ji;function lr(t,e,n){var i=t.length;return n=void 0===n?i:n,!e&&n>=i?t:Gi(t,e,n)}var cr=$e||function(t){return Gt.clearTimeout(t)};function ur(t,e){if(e)return t.slice();var n=t.length,i=Ut?Ut(n):new t.constructor(n);return t.copy(i),i}function hr(t){var e=new t.constructor(t.byteLength);return new Xt(e).set(new Xt(t)),e}function dr(t,e){var n=e?hr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function pr(t,e){if(t!==e){var n=void 0!==t,i=null===t,r=t==t,a=Ko(t),o=void 0!==e,s=null===e,l=e==e,c=Ko(e);if(!s&&!c&&!a&&t>e||a&&o&&l&&!s&&!c||i&&o&&l||!n&&l||!r)return 1;if(!i&&!a&&!c&&t<e||c&&n&&r&&!i&&!a||s&&n&&r||!o&&r||!l)return-1}return 0}function fr(t,e,n,r){for(var a=-1,o=t.length,s=n.length,l=-1,c=e.length,u=on(o-s,0),h=i(c+u),d=!r;++l<c;)h[l]=e[l];for(;++a<s;)(d||a<o)&&(h[n[a]]=t[a]);for(;u--;)h[l++]=t[a++];return h}function gr(t,e,n,r){for(var a=-1,o=t.length,s=-1,l=n.length,c=-1,u=e.length,h=on(o-l,0),d=i(h+u),p=!r;++a<h;)d[a]=t[a];for(var f=a;++c<u;)d[f+c]=e[c];for(;++s<l;)(p||a<o)&&(d[f+n[s]]=t[a++]);return d}function vr(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function mr(t,e,n,i){var r=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=i?i(n[s],t[s],s,n,t):void 0;void 0===l&&(l=t[s]),r?qn(n,s,l):Xn(n,s,l)}return n}function br(t,e){return function(n,i){var r=Do(n)?ie:Un,a=e?e():{};return r(n,t,$r(i,2),a)}}function yr(t){return ji((function(e,n){var i=-1,r=n.length,a=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(r--,a):void 0,o&&oa(n[0],n[1],o)&&(a=r<3?void 0:a,r=1),e=gt(e);++i<r;){var s=n[i];s&&t(e,s,i,a)}return e}))}function wr(t,e){return function(n,i){if(null==n)return n;if(!Ao(n))return t(n,i);for(var r=n.length,a=e?r:-1,o=gt(n);(e?a--:++a<r)&&!1!==i(o[a],a,o););return n}}function xr(t){return function(e,n,i){for(var r=-1,a=gt(e),o=i(e),s=o.length;s--;){var l=o[t?s:++r];if(!1===n(a[l],l,a))break}return e}}function _r(t){return function(e){var n=Ae(e=ls(e))?Xe(e):void 0,i=n?n[0]:e.charAt(0),r=n?lr(n,1).join(""):e.slice(1);return i[t]()+r}}function Or(t){return function(e){return de(Ns(Is(e).replace(Tt,"")),t,"")}}function Cr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Tn(t.prototype),i=t.apply(n,e);return Go(i)?i:n}}function kr(t){return function(e,n,i){var r=gt(e);if(!Ao(e)){var a=$r(n,3);e=xs(e),n=function(t){return a(r[t],t,r)}}var o=t(e,n,i);return o>-1?r[a?e[o]:o]:void 0}}function Sr(t){return Xr((function(e){var n=e.length,i=n,a=Ln.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new bt(r);if(a&&!s&&"wrapper"==qr(o))var s=new Ln([],!0)}for(i=s?i:n;++i<n;){var l=qr(o=e[i]),c="wrapper"==l?Yr(o):void 0;s=c&&la(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[qr(c[0])].apply(s,c[3]):1==o.length&&la(o)?s[l]():s.thru(o)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&Do(i))return s.plant(i).value();for(var r=0,a=n?e[r].apply(this,t):i;++r<n;)a=e[r].call(this,a);return a}}))}function Mr(t,e,n,r,a,o,s,l,c,u){var h=128&e,d=1&e,p=2&e,f=24&e,g=512&e,v=p?void 0:Cr(t);return function m(){for(var b=arguments.length,y=i(b),w=b;w--;)y[w]=arguments[w];if(f)var x=Wr(m),_=Re(y,x);if(r&&(y=fr(y,r,a,f)),o&&(y=gr(y,o,s,f)),b-=_,f&&b<u){var O=Be(y,x);return Dr(t,e,Mr,m.placeholder,n,y,O,l,c,u-b)}var C=d?n:this,k=p?C[t]:t;return b=y.length,l?y=ga(y,l):g&&b>1&&y.reverse(),h&&c<b&&(y.length=c),this&&this!==Gt&&this instanceof m&&(k=v||Cr(k)),k.apply(C,y)}}function Er(t,e){return function(n,i){return function(t,e,n,i){return li(t,(function(t,r,a){e(i,n(t),r,a)})),i}(n,t,e(i),{})}}function Tr(t,e){return function(n,i){var r;if(void 0===n&&void 0===i)return e;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Zi(n),i=Zi(i)):(n=$i(n),i=$i(i)),r=t(n,i)}return r}}function Pr(t){return Xr((function(e){return e=ue(e,Me($r())),ji((function(n){var i=this;return t(e,(function(t){return ne(t,i,n)}))}))}))}function Lr(t,e){var n=(e=void 0===e?" ":Zi(e)).length;if(n<2)return n?Ai(e,t):e;var i=Ai(e,Ke(t/He(e)));return Ae(e)?lr(Xe(i),0,t).join(""):i.slice(0,t)}function Rr(t){return function(e,n,r){return r&&"number"!=typeof r&&oa(e,n,r)&&(n=r=void 0),e=is(e),void 0===n?(n=e,e=0):n=is(n),function(t,e,n,r){for(var a=-1,o=on(Ke((e-t)/(n||1)),0),s=i(o);o--;)s[r?o:++a]=t,t+=n;return s}(e,n,r=void 0===r?e<n?1:-1:is(r),t)}}function Ir(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=os(e),n=os(n)),t(e,n)}}function Dr(t,e,n,i,r,a,o,s,l,c){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var h=[t,e,r,u?a:void 0,u?o:void 0,u?void 0:a,u?void 0:o,s,l,c],d=n.apply(void 0,h);return la(t)&&ma(d,h),d.placeholder=i,wa(d,t,e)}function zr(t){var e=ft[t];return function(t,n){if(t=os(t),(n=null==n?0:sn(rs(n),292))&&nn(t)){var i=(ls(t)+"e").split("e");return+((i=(ls(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Ar=gn&&1/Ve(new gn([,-0]))[1]==1/0?function(t){return new gn(t)}:Ks;function jr(t){return function(e){var n=ea(e);return n==f?je(e):n==b?Ne(e):function(t,e){return ue(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Fr(t,e,n,o,s,l,c,u){var h=2&e;if(!h&&"function"!=typeof t)throw new bt(r);var d=o?o.length:0;if(d||(e&=-97,o=s=void 0),c=void 0===c?c:on(rs(c),0),u=void 0===u?u:rs(u),d-=s?s.length:0,64&e){var p=o,f=s;o=s=void 0}var g=h?void 0:Yr(t),v=[t,e,n,o,s,p,f,l,c,u];if(g&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,s=128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var l=e[3];if(l){var c=t[3];t[3]=c?fr(c,l,e[4]):l,t[4]=c?Be(t[3],a):e[4]}(l=e[5])&&(c=t[5],t[5]=c?gr(c,l,e[6]):l,t[6]=c?Be(t[5],a):e[6]),(l=e[7])&&(t[7]=l),128&i&&(t[8]=null==t[8]?e[8]:sn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r}(v,g),t=v[0],e=v[1],n=v[2],o=v[3],s=v[4],!(u=v[9]=void 0===v[9]?h?0:t.length:on(v[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)m=8==e||16==e?function(t,e,n){var r=Cr(t);return function a(){for(var o=arguments.length,s=i(o),l=o,c=Wr(a);l--;)s[l]=arguments[l];var u=o<3&&s[0]!==c&&s[o-1]!==c?[]:Be(s,c);if((o-=u.length)<n)return Dr(t,e,Mr,a.placeholder,void 0,s,u,void 0,void 0,n-o);var h=this&&this!==Gt&&this instanceof a?r:t;return ne(h,this,s)}}(t,e,u):32!=e&&33!=e||s.length?Mr.apply(void 0,v):function(t,e,n,r){var a=1&e,o=Cr(t);return function e(){for(var s=-1,l=arguments.length,c=-1,u=r.length,h=i(u+l),d=this&&this!==Gt&&this instanceof e?o:t;++c<u;)h[c]=r[c];for(;l--;)h[c++]=arguments[++s];return ne(d,a?n:this,h)}}(t,e,n,o);else var m=function(t,e,n){var i=1&e,r=Cr(t);return function e(){var a=this&&this!==Gt&&this instanceof e?r:t;return a.apply(i?n:this,arguments)}}(t,e,n);return wa((g?Ni:ma)(m,v),t,e)}function Br(t,e,n,i){return void 0===t||Po(t,xt[n])&&!Ct.call(i,n)?e:t}function Vr(t,e,n,i,r,a){return Go(t)&&Go(e)&&(a.set(e,t),Ti(t,e,void 0,Vr,a),a.delete(e)),t}function Nr(t){return Wo(t)?void 0:t}function Hr(t,e,n,i,r,a){var o=1&n,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(t),u=a.get(e);if(c&&u)return c==e&&u==t;var h=-1,d=!0,p=2&n?new An:void 0;for(a.set(t,e),a.set(e,t);++h<s;){var f=t[h],g=e[h];if(i)var v=o?i(g,f,h,e,t,a):i(f,g,h,t,e,a);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!fe(e,(function(t,e){if(!Te(p,e)&&(f===t||r(f,t,n,i,a)))return p.push(e)}))){d=!1;break}}else if(f!==g&&!r(f,g,n,i,a)){d=!1;break}}return a.delete(t),a.delete(e),d}function Xr(t){return ya(pa(t,void 0,Da),t+"")}function Gr(t){return di(t,xs,Qr)}function Ur(t){return di(t,_s,ta)}var Yr=bn?function(t){return bn.get(t)}:Ks;function qr(t){for(var e=t.name+"",n=yn[e],i=Ct.call(yn,e)?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==t)return r.name}return e}function Wr(t){return(Ct.call(En,"placeholder")?En:t).placeholder}function $r(){var t=En.iteratee||Ws;return t=t===Ws?Oi:t,arguments.length?t(arguments[0],arguments[1]):t}function Zr(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Jr(t){for(var e=xs(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,ha(r)]}return e}function Kr(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return _i(n)?n:void 0}var Qr=tn?function(t){return null==t?[]:(t=gt(t),se(tn(t),(function(e){return $t.call(t,e)})))}:al,ta=tn?function(t){for(var e=[];t;)he(e,Qr(t)),t=Yt(t);return e}:al,ea=pi;function na(t,e,n){for(var i=-1,r=(e=or(e,t)).length,a=!1;++i<r;){var o=Sa(e[i]);if(!(a=null!=t&&n(t,o)))break;t=t[o]}return a||++i!=r?a:!!(r=null==t?0:t.length)&&Xo(r)&&aa(o,r)&&(Do(t)||Io(t))}function ia(t){return"function"!=typeof t.constructor||ua(t)?{}:Tn(Yt(t))}function ra(t){return Do(t)||Io(t)||!!(Oe&&t&&t[Oe])}function aa(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&st.test(t))&&t>-1&&t%1==0&&t<e}function oa(t,e,n){if(!Go(n))return!1;var i=typeof e;return!!("number"==i?Ao(n)&&aa(e,n.length):"string"==i&&e in n)&&Po(n[e],t)}function sa(t,e){if(Do(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ko(t))||X.test(t)||!H.test(t)||null!=e&&t in gt(e)}function la(t){var e=qr(t),n=En[e];if("function"!=typeof n||!(e in Rn.prototype))return!1;if(t===n)return!0;var i=Yr(n);return!!i&&t===i[0]}(dn&&ea(new dn(new ArrayBuffer(1)))!=O||pn&&ea(new pn)!=f||fn&&"[object Promise]"!=ea(fn.resolve())||gn&&ea(new gn)!=b||vn&&ea(new vn)!=x)&&(ea=function(t){var e=pi(t),n=e==v?t.constructor:void 0,i=n?Ma(n):"";if(i)switch(i){case wn:return O;case xn:return f;case _n:return"[object Promise]";case On:return b;case Cn:return x}return e});var ca=_t?No:ol;function ua(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||xt)}function ha(t){return t==t&&!Go(t)}function da(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in gt(n))}}function pa(t,e,n){return e=on(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,o=on(r.length-e,0),s=i(o);++a<o;)s[a]=r[e+a];a=-1;for(var l=i(e+1);++a<e;)l[a]=r[a];return l[e]=n(s),ne(t,this,l)}}function fa(t,e){return e.length<2?t:hi(t,Gi(e,0,-1))}function ga(t,e){for(var n=t.length,i=sn(e.length,n),r=vr(t);i--;){var a=e[i];t[i]=aa(a,n)?r[a]:void 0}return t}function va(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ma=xa(Ni),ba=Je||function(t,e){return Gt.setTimeout(t,e)},ya=xa(Hi);function wa(t,e,n){var i=e+"";return ya(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Z,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return re(o,(function(n){var i="_."+n[0];e&n[1]&&!le(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(J);return e?e[1].split(K):[]}(i),n)))}function xa(t){var e=0,n=0;return function(){var i=ln(),r=16-(i-n);if(n=i,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function _a(t,e){var n=-1,i=t.length,r=i-1;for(e=void 0===e?i:e;++n<e;){var a=zi(n,r),o=t[a];t[a]=t[n],t[n]=o}return t.length=e,t}var Oa,Ca,ka=(Oa=Co((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(G,(function(t,n,i,r){e.push(i?r.replace(tt,"$1"):n||t)})),e}),(function(t){return 500===Ca.size&&Ca.clear(),t})),Ca=Oa.cache,Oa);function Sa(t){if("string"==typeof t||Ko(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ma(t){if(null!=t){try{return Ot.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ea(t){if(t instanceof Rn)return t.clone();var e=new Ln(t.__wrapped__,t.__chain__);return e.__actions__=vr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ta=ji((function(t,e){return jo(t)?Qn(t,ai(e,1,jo,!0)):[]})),Pa=ji((function(t,e){var n=Ba(e);return jo(n)&&(n=void 0),jo(t)?Qn(t,ai(e,1,jo,!0),$r(n,2)):[]})),La=ji((function(t,e){var n=Ba(e);return jo(n)&&(n=void 0),jo(t)?Qn(t,ai(e,1,jo,!0),void 0,n):[]}));function Ra(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:rs(n);return r<0&&(r=on(i+r,0)),me(t,$r(e,3),r)}function Ia(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=rs(n),r=n<0?on(i+r,0):sn(r,i-1)),me(t,$r(e,3),r,!0)}function Da(t){return null!=t&&t.length?ai(t,1):[]}function za(t){return t&&t.length?t[0]:void 0}var Aa=ji((function(t){var e=ue(t,rr);return e.length&&e[0]===t[0]?mi(e):[]})),ja=ji((function(t){var e=Ba(t),n=ue(t,rr);return e===Ba(n)?e=void 0:n.pop(),n.length&&n[0]===t[0]?mi(n,$r(e,2)):[]})),Fa=ji((function(t){var e=Ba(t),n=ue(t,rr);return(e="function"==typeof e?e:void 0)&&n.pop(),n.length&&n[0]===t[0]?mi(n,void 0,e):[]}));function Ba(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Va=ji(Na);function Na(t,e){return t&&t.length&&e&&e.length?Ii(t,e):t}var Ha=Xr((function(t,e){var n=null==t?0:t.length,i=Wn(t,e);return Di(t,ue(e,(function(t){return aa(t,n)?+t:t})).sort(pr)),i}));function Xa(t){return null==t?t:hn.call(t)}var Ga=ji((function(t){return Ji(ai(t,1,jo,!0))})),Ua=ji((function(t){var e=Ba(t);return jo(e)&&(e=void 0),Ji(ai(t,1,jo,!0),$r(e,2))})),Ya=ji((function(t){var e=Ba(t);return e="function"==typeof e?e:void 0,Ji(ai(t,1,jo,!0),void 0,e)}));function qa(t){if(!t||!t.length)return[];var e=0;return t=se(t,(function(t){if(jo(t))return e=on(t.length,e),!0})),Se(e,(function(e){return ue(t,_e(e))}))}function Wa(t,e){if(!t||!t.length)return[];var n=qa(t);return null==e?n:ue(n,(function(t){return ne(e,void 0,t)}))}var $a=ji((function(t,e){return jo(t)?Qn(t,e):[]})),Za=ji((function(t){return nr(se(t,jo))})),Ja=ji((function(t){var e=Ba(t);return jo(e)&&(e=void 0),nr(se(t,jo),$r(e,2))})),Ka=ji((function(t){var e=Ba(t);return e="function"==typeof e?e:void 0,nr(se(t,jo),void 0,e)})),Qa=ji(qa),to=ji((function(t){var e=t.length,n=e>1?t[e-1]:void 0;return n="function"==typeof n?(t.pop(),n):void 0,Wa(t,n)}));function eo(t){var e=En(t);return e.__chain__=!0,e}function no(t,e){return e(t)}var io=Xr((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Wn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Rn&&aa(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:no,args:[r],thisArg:void 0}),new Ln(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)})),ro=br((function(t,e,n){Ct.call(t,n)?++t[n]:qn(t,n,1)})),ao=kr(Ra),oo=kr(Ia);function so(t,e){return(Do(t)?re:ti)(t,$r(e,3))}function lo(t,e){return(Do(t)?ae:ei)(t,$r(e,3))}var co=br((function(t,e,n){Ct.call(t,n)?t[n].push(e):qn(t,n,[e])})),uo=ji((function(t,e,n){var r=-1,a="function"==typeof e,o=Ao(t)?i(t.length):[];return ti(t,(function(t){o[++r]=a?ne(e,t,n):bi(t,e,n)})),o})),ho=br((function(t,e,n){qn(t,n,e)}));function po(t,e){return(Do(t)?ue:Si)(t,$r(e,3))}var fo=br((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),go=ji((function(t,e){if(null==t)return[];var n=e.length;return n>1&&oa(t,e[0],e[1])?e=[]:n>2&&oa(e[0],e[1],e[2])&&(e=[e[0]]),Li(t,ai(e,1),[])})),vo=Ze||function(){return Gt.Date.now()};function mo(t,e,n){return e=n?void 0:e,Fr(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function bo(t,e){var n;if("function"!=typeof e)throw new bt(r);return t=rs(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=void 0),n}}var yo=ji((function(t,e,n){var i=1;if(n.length){var r=Be(n,Wr(yo));i|=32}return Fr(t,i,e,n,r)})),wo=ji((function(t,e,n){var i=3;if(n.length){var r=Be(n,Wr(wo));i|=32}return Fr(e,i,t,n,r)}));function xo(t,e,n){var i,a,o,s,l,c,u=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new bt(r);function f(e){var n=i,r=a;return i=a=void 0,u=e,s=t.apply(r,n)}function g(t){return u=t,l=ba(m,e),h?f(t):s}function v(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-u>=o}function m(){var t=vo();if(v(t))return b(t);l=ba(m,function(t){var n=e-(t-c);return d?sn(n,o-(t-u)):n}(t))}function b(t){return l=void 0,p&&i?f(t):(i=a=void 0,s)}function y(){var t=vo(),n=v(t);if(i=arguments,a=this,c=t,n){if(void 0===l)return g(c);if(d)return cr(l),l=ba(m,e),f(c)}return void 0===l&&(l=ba(m,e)),s}return e=os(e)||0,Go(n)&&(h=!!n.leading,o=(d="maxWait"in n)?on(os(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==l&&cr(l),u=0,i=c=a=l=void 0},y.flush=function(){return void 0===l?s:b(vo())},y}var _o=ji((function(t,e){return Kn(t,1,e)})),Oo=ji((function(t,e,n){return Kn(t,os(e)||0,n)}));function Co(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new bt(r);var n=function n(){var i=arguments,r=e?e.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=t.apply(this,i);return n.cache=a.set(r,o)||a,o};return n.cache=new(Co.Cache||zn),n}function ko(t){if("function"!=typeof t)throw new bt(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Co.Cache=zn;var So=sr((function(t,e){var n=(e=1==e.length&&Do(e[0])?ue(e[0],Me($r())):ue(ai(e,1),Me($r()))).length;return ji((function(i){for(var r=-1,a=sn(i.length,n);++r<a;)i[r]=e[r].call(this,i[r]);return ne(t,this,i)}))})),Mo=ji((function(t,e){return Fr(t,32,void 0,e,Be(e,Wr(Mo)))})),Eo=ji((function(t,e){return Fr(t,64,void 0,e,Be(e,Wr(Eo)))})),To=Xr((function(t,e){return Fr(t,256,void 0,void 0,void 0,e)}));function Po(t,e){return t===e||t!=t&&e!=e}var Lo=Ir(fi),Ro=Ir((function(t,e){return t>=e})),Io=yi(function(){return arguments}())?yi:function(t){return Uo(t)&&Ct.call(t,"callee")&&!$t.call(t,"callee")},Do=i.isArray,zo=Zt?Me(Zt):function(t){return Uo(t)&&pi(t)==_};function Ao(t){return null!=t&&Xo(t.length)&&!No(t)}function jo(t){return Uo(t)&&Ao(t)}var Fo=en||ol,Bo=Jt?Me(Jt):function(t){return Uo(t)&&pi(t)==u};function Vo(t){if(!Uo(t))return!1;var e=pi(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Wo(t)}function No(t){if(!Go(t))return!1;var e=pi(t);return e==d||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ho(t){return"number"==typeof t&&t==rs(t)}function Xo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Go(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Uo(t){return null!=t&&"object"==typeof t}var Yo=Kt?Me(Kt):function(t){return Uo(t)&&ea(t)==f};function qo(t){return"number"==typeof t||Uo(t)&&pi(t)==g}function Wo(t){if(!Uo(t)||pi(t)!=v)return!1;var e=Yt(t);if(null===e)return!0;var n=Ct.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ot.call(n)==Et}var $o=Qt?Me(Qt):function(t){return Uo(t)&&pi(t)==m},Zo=te?Me(te):function(t){return Uo(t)&&ea(t)==b};function Jo(t){return"string"==typeof t||!Do(t)&&Uo(t)&&pi(t)==y}function Ko(t){return"symbol"==typeof t||Uo(t)&&pi(t)==w}var Qo=ee?Me(ee):function(t){return Uo(t)&&Xo(t.length)&&!!jt[pi(t)]},ts=Ir(ki),es=Ir((function(t,e){return t<=e}));function ns(t){if(!t)return[];if(Ao(t))return Jo(t)?Xe(t):vr(t);if(Ye&&t[Ye])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Ye]());var e=ea(t);return(e==f?je:e==b?Ve:Ps)(t)}function is(t){return t?(t=os(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function rs(t){var e=is(t),n=e%1;return e==e?n?e-n:e:0}function as(t){return t?$n(rs(t),0,4294967295):0}function os(t){if("number"==typeof t)return t;if(Ko(t))return NaN;if(Go(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Go(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(q,"");var n=rt.test(t);return n||ot.test(t)?Nt(t.slice(2),n?2:8):it.test(t)?NaN:+t}function ss(t){return mr(t,_s(t))}function ls(t){return null==t?"":Zi(t)}var cs=yr((function(t,e){if(ua(e)||Ao(e))mr(e,xs(e),t);else for(var n in e)Ct.call(e,n)&&Xn(t,n,e[n])})),us=yr((function(t,e){mr(e,_s(e),t)})),hs=yr((function(t,e,n,i){mr(e,_s(e),t,i)})),ds=yr((function(t,e,n,i){mr(e,xs(e),t,i)})),ps=Xr(Wn),fs=ji((function(t,e){t=gt(t);var n=-1,i=e.length,r=i>2?e[2]:void 0;for(r&&oa(e[0],e[1],r)&&(i=1);++n<i;)for(var a=e[n],o=_s(a),s=-1,l=o.length;++s<l;){var c=o[s],u=t[c];(void 0===u||Po(u,xt[c])&&!Ct.call(t,c))&&(t[c]=a[c])}return t})),gs=ji((function(t){return t.push(void 0,Vr),ne(Cs,void 0,t)}));function vs(t,e,n){var i=null==t?void 0:hi(t,e);return void 0===i?n:i}function ms(t,e){return null!=t&&na(t,e,vi)}var bs=Er((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),t[e]=n}),Gs(qs)),ys=Er((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Mt.call(e)),Ct.call(t,e)?t[e].push(n):t[e]=[n]}),$r),ws=ji(bi);function xs(t){return Ao(t)?Fn(t):Ci(t)}function _s(t){return Ao(t)?Fn(t,!0):function(t){if(!Go(t))return function(t){var e=[];if(null!=t)for(var n in gt(t))e.push(n);return e}(t);var e=ua(t),n=[];for(var i in t)("constructor"!=i||!e&&Ct.call(t,i))&&n.push(i);return n}(t)}var Os=yr((function(t,e,n){Ti(t,e,n)})),Cs=yr((function(t,e,n,i){Ti(t,e,n,i)})),ks=Xr((function(t,e){var n={};if(null==t)return n;var i=!1;e=ue(e,(function(e){return e=or(e,t),i||(i=e.length>1),e})),mr(t,Ur(t),n),i&&(n=Zn(n,7,Nr));for(var r=e.length;r--;)Ki(n,e[r]);return n})),Ss=Xr((function(t,e){return null==t?{}:function(t,e){return Ri(t,e,(function(e,n){return ms(t,n)}))}(t,e)}));function Ms(t,e){if(null==t)return{};var n=ue(Ur(t),(function(t){return[t]}));return e=$r(e),Ri(t,n,(function(t,n){return e(t,n[0])}))}var Es=jr(xs),Ts=jr(_s);function Ps(t){return null==t?[]:Ee(t,xs(t))}var Ls=Or((function(t,e,n){return e=e.toLowerCase(),t+(n?Rs(e):e)}));function Rs(t){return Vs(ls(t).toLowerCase())}function Is(t){return(t=ls(t))&&t.replace(lt,Ie).replace(Pt,"")}var Ds=Or((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),zs=Or((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),As=_r("toLowerCase"),js=Or((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Fs=Or((function(t,e,n){return t+(n?" ":"")+Vs(e)})),Bs=Or((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Vs=_r("toUpperCase");function Ns(t,e,n){return t=ls(t),void 0===(e=n?void 0:e)?function(t){return Dt.test(t)}(t)?function(t){return t.match(Rt)||[]}(t):function(t){return t.match(Q)||[]}(t):t.match(e)||[]}var Hs=ji((function(t,e){try{return ne(t,void 0,e)}catch(n){return Vo(n)?n:new dt(n)}})),Xs=Xr((function(t,e){return re(e,(function(e){e=Sa(e),qn(t,e,yo(t[e],t))})),t}));function Gs(t){return function(){return t}}var Us=Sr(),Ys=Sr(!0);function qs(t){return t}function Ws(t){return Oi("function"==typeof t?t:Zn(t,1))}var $s=ji((function(t,e){return function(n){return bi(n,t,e)}})),Zs=ji((function(t,e){return function(n){return bi(t,n,e)}}));function Js(t,e,n){var i=xs(e),r=ui(e,i);null!=n||Go(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=ui(e,xs(e)));var a=!(Go(n)&&"chain"in n&&!n.chain),o=No(t);return re(r,(function(n){var i=e[n];t[n]=i,o&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),r=n.__actions__=vr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,he([this.value()],arguments))})})),t}function Ks(){}var Qs=Pr(ue),tl=Pr(oe),el=Pr(fe);function nl(t){return sa(t)?_e(Sa(t)):function(t){return function(e){return hi(e,t)}}(t)}var il=Rr(),rl=Rr(!0);function al(){return[]}function ol(){return!1}var sl,ll=Tr((function(t,e){return t+e}),0),cl=zr("ceil"),ul=Tr((function(t,e){return t/e}),1),hl=zr("floor"),dl=Tr((function(t,e){return t*e}),1),pl=zr("round"),fl=Tr((function(t,e){return t-e}),0);return En.after=function(t,e){if("function"!=typeof e)throw new bt(r);return t=rs(t),function(){if(--t<1)return e.apply(this,arguments)}},En.ary=mo,En.assign=cs,En.assignIn=us,En.assignInWith=hs,En.assignWith=ds,En.at=ps,En.before=bo,En.bind=yo,En.bindAll=Xs,En.bindKey=wo,En.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Do(t)?t:[t]},En.chain=eo,En.chunk=function(t,e,n){e=(n?oa(t,e,n):void 0===e)?1:on(rs(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var a=0,o=0,s=i(Ke(r/e));a<r;)s[o++]=Gi(t,a,a+=e);return s},En.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var a=t[e];a&&(r[i++]=a)}return r},En.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return he(Do(n)?vr(n):[n],ai(e,1))},En.cond=function(t){var e=null==t?0:t.length,n=$r();return t=e?ue(t,(function(t){if("function"!=typeof t[1])throw new bt(r);return[n(t[0]),t[1]]})):[],ji((function(n){for(var i=-1;++i<e;){var r=t[i];if(ne(r[0],this,n))return ne(r[1],this,n)}}))},En.conforms=function(t){return function(t){var e=xs(t);return function(n){return Jn(n,t,e)}}(Zn(t,1))},En.constant=Gs,En.countBy=ro,En.create=function(t,e){var n=Tn(t);return null==e?n:Yn(n,e)},En.curry=function t(e,n,i){var r=Fr(e,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},En.curryRight=function t(e,n,i){var r=Fr(e,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=t.placeholder,r},En.debounce=xo,En.defaults=fs,En.defaultsDeep=gs,En.defer=_o,En.delay=Oo,En.difference=Ta,En.differenceBy=Pa,En.differenceWith=La,En.drop=function(t,e,n){var i=null==t?0:t.length;return i?Gi(t,(e=n||void 0===e?1:rs(e))<0?0:e,i):[]},En.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Gi(t,0,(e=i-(e=n||void 0===e?1:rs(e)))<0?0:e):[]},En.dropRightWhile=function(t,e){return t&&t.length?tr(t,$r(e,3),!0,!0):[]},En.dropWhile=function(t,e){return t&&t.length?tr(t,$r(e,3),!0):[]},En.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&oa(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=rs(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:rs(i))<0&&(i+=r),i=n>i?0:as(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},En.filter=function(t,e){return(Do(t)?se:ri)(t,$r(e,3))},En.flatMap=function(t,e){return ai(po(t,e),1)},En.flatMapDeep=function(t,e){return ai(po(t,e),1/0)},En.flatMapDepth=function(t,e,n){return n=void 0===n?1:rs(n),ai(po(t,e),n)},En.flatten=Da,En.flattenDeep=function(t){return null!=t&&t.length?ai(t,1/0):[]},En.flattenDepth=function(t,e){return null!=t&&t.length?ai(t,e=void 0===e?1:rs(e)):[]},En.flip=function(t){return Fr(t,512)},En.flow=Us,En.flowRight=Ys,En.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},En.functions=function(t){return null==t?[]:ui(t,xs(t))},En.functionsIn=function(t){return null==t?[]:ui(t,_s(t))},En.groupBy=co,En.initial=function(t){return null!=t&&t.length?Gi(t,0,-1):[]},En.intersection=Aa,En.intersectionBy=ja,En.intersectionWith=Fa,En.invert=bs,En.invertBy=ys,En.invokeMap=uo,En.iteratee=Ws,En.keyBy=ho,En.keys=xs,En.keysIn=_s,En.map=po,En.mapKeys=function(t,e){var n={};return e=$r(e,3),li(t,(function(t,i,r){qn(n,e(t,i,r),t)})),n},En.mapValues=function(t,e){var n={};return e=$r(e,3),li(t,(function(t,i,r){qn(n,i,e(t,i,r))})),n},En.matches=function(t){return Mi(Zn(t,1))},En.matchesProperty=function(t,e){return Ei(t,Zn(e,1))},En.memoize=Co,En.merge=Os,En.mergeWith=Cs,En.method=$s,En.methodOf=Zs,En.mixin=Js,En.negate=ko,En.nthArg=function(t){return t=rs(t),ji((function(e){return Pi(e,t)}))},En.omit=ks,En.omitBy=function(t,e){return Ms(t,ko($r(e)))},En.once=function(t){return bo(2,t)},En.orderBy=function(t,e,n,i){return null==t?[]:(Do(e)||(e=null==e?[]:[e]),Do(n=i?void 0:n)||(n=null==n?[]:[n]),Li(t,e,n))},En.over=Qs,En.overArgs=So,En.overEvery=tl,En.overSome=el,En.partial=Mo,En.partialRight=Eo,En.partition=fo,En.pick=Ss,En.pickBy=Ms,En.property=nl,En.propertyOf=function(t){return function(e){return null==t?void 0:hi(t,e)}},En.pull=Va,En.pullAll=Na,En.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ii(t,e,$r(n,2)):t},En.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ii(t,e,void 0,n):t},En.pullAt=Ha,En.range=il,En.rangeRight=rl,En.rearg=To,En.reject=function(t,e){return(Do(t)?se:ri)(t,ko($r(e,3)))},En.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],a=t.length;for(e=$r(e,3);++i<a;){var o=t[i];e(o,i,t)&&(n.push(o),r.push(i))}return Di(t,r),n},En.rest=function(t,e){if("function"!=typeof t)throw new bt(r);return ji(t,e=void 0===e?e:rs(e))},En.reverse=Xa,En.sampleSize=function(t,e,n){return e=(n?oa(t,e,n):void 0===e)?1:rs(e),(Do(t)?Vn:Bi)(t,e)},En.set=function(t,e,n){return null==t?t:Vi(t,e,n)},En.setWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Vi(t,e,n,i)},En.shuffle=function(t){return(Do(t)?Nn:Xi)(t)},En.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&oa(t,e,n)?(e=0,n=i):(e=null==e?0:rs(e),n=void 0===n?i:rs(n)),Gi(t,e,n)):[]},En.sortBy=go,En.sortedUniq=function(t){return t&&t.length?Wi(t):[]},En.sortedUniqBy=function(t,e){return t&&t.length?Wi(t,$r(e,2)):[]},En.split=function(t,e,n){return n&&"number"!=typeof n&&oa(t,e,n)&&(e=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=ls(t))&&("string"==typeof e||null!=e&&!$o(e))&&!(e=Zi(e))&&Ae(t)?lr(Xe(t),0,n):t.split(e,n):[]},En.spread=function(t,e){if("function"!=typeof t)throw new bt(r);return e=null==e?0:on(rs(e),0),ji((function(n){var i=n[e],r=lr(n,0,e);return i&&he(r,i),ne(t,this,r)}))},En.tail=function(t){var e=null==t?0:t.length;return e?Gi(t,1,e):[]},En.take=function(t,e,n){return t&&t.length?Gi(t,0,(e=n||void 0===e?1:rs(e))<0?0:e):[]},En.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Gi(t,(e=i-(e=n||void 0===e?1:rs(e)))<0?0:e,i):[]},En.takeRightWhile=function(t,e){return t&&t.length?tr(t,$r(e,3),!1,!0):[]},En.takeWhile=function(t,e){return t&&t.length?tr(t,$r(e,3)):[]},En.tap=function(t,e){return e(t),t},En.throttle=function(t,e,n){var i=!0,a=!0;if("function"!=typeof t)throw new bt(r);return Go(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),xo(t,e,{leading:i,maxWait:e,trailing:a})},En.thru=no,En.toArray=ns,En.toPairs=Es,En.toPairsIn=Ts,En.toPath=function(t){return Do(t)?ue(t,Sa):Ko(t)?[t]:vr(ka(ls(t)))},En.toPlainObject=ss,En.transform=function(t,e,n){var i=Do(t),r=i||Fo(t)||Qo(t);if(e=$r(e,4),null==n){var a=t&&t.constructor;n=r?i?new a:[]:Go(t)&&No(a)?Tn(Yt(t)):{}}return(r?re:li)(t,(function(t,i,r){return e(n,t,i,r)})),n},En.unary=function(t){return mo(t,1)},En.union=Ga,En.unionBy=Ua,En.unionWith=Ya,En.uniq=function(t){return t&&t.length?Ji(t):[]},En.uniqBy=function(t,e){return t&&t.length?Ji(t,$r(e,2)):[]},En.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Ji(t,void 0,e):[]},En.unset=function(t,e){return null==t||Ki(t,e)},En.unzip=qa,En.unzipWith=Wa,En.update=function(t,e,n){return null==t?t:Qi(t,e,ar(n))},En.updateWith=function(t,e,n,i){return i="function"==typeof i?i:void 0,null==t?t:Qi(t,e,ar(n),i)},En.values=Ps,En.valuesIn=function(t){return null==t?[]:Ee(t,_s(t))},En.without=$a,En.words=Ns,En.wrap=function(t,e){return Mo(ar(e),t)},En.xor=Za,En.xorBy=Ja,En.xorWith=Ka,En.zip=Qa,En.zipObject=function(t,e){return ir(t||[],e||[],Xn)},En.zipObjectDeep=function(t,e){return ir(t||[],e||[],Vi)},En.zipWith=to,En.entries=Es,En.entriesIn=Ts,En.extend=us,En.extendWith=hs,Js(En,En),En.add=ll,En.attempt=Hs,En.camelCase=Ls,En.capitalize=Rs,En.ceil=cl,En.clamp=function(t,e,n){return void 0===n&&(n=e,e=void 0),void 0!==n&&(n=(n=os(n))==n?n:0),void 0!==e&&(e=(e=os(e))==e?e:0),$n(os(t),e,n)},En.clone=function(t){return Zn(t,4)},En.cloneDeep=function(t){return Zn(t,5)},En.cloneDeepWith=function(t,e){return Zn(t,5,e="function"==typeof e?e:void 0)},En.cloneWith=function(t,e){return Zn(t,4,e="function"==typeof e?e:void 0)},En.conformsTo=function(t,e){return null==e||Jn(t,e,xs(e))},En.deburr=Is,En.defaultTo=function(t,e){return null==t||t!=t?e:t},En.divide=ul,En.endsWith=function(t,e,n){t=ls(t),e=Zi(e);var i=t.length,r=n=void 0===n?i:$n(rs(n),0,i);return(n-=e.length)>=0&&t.slice(n,r)==e},En.eq=Po,En.escape=function(t){return(t=ls(t))&&F.test(t)?t.replace(A,De):t},En.escapeRegExp=function(t){return(t=ls(t))&&Y.test(t)?t.replace(U,"\\$&"):t},En.every=function(t,e,n){var i=Do(t)?oe:ni;return n&&oa(t,e,n)&&(e=void 0),i(t,$r(e,3))},En.find=ao,En.findIndex=Ra,En.findKey=function(t,e){return ve(t,$r(e,3),li)},En.findLast=oo,En.findLastIndex=Ia,En.findLastKey=function(t,e){return ve(t,$r(e,3),ci)},En.floor=hl,En.forEach=so,En.forEachRight=lo,En.forIn=function(t,e){return null==t?t:oi(t,$r(e,3),_s)},En.forInRight=function(t,e){return null==t?t:si(t,$r(e,3),_s)},En.forOwn=function(t,e){return t&&li(t,$r(e,3))},En.forOwnRight=function(t,e){return t&&ci(t,$r(e,3))},En.get=vs,En.gt=Lo,En.gte=Ro,En.has=function(t,e){return null!=t&&na(t,e,gi)},En.hasIn=ms,En.head=za,En.identity=qs,En.includes=function(t,e,n,i){t=Ao(t)?t:Ps(t),n=n&&!i?rs(n):0;var r=t.length;return n<0&&(n=on(r+n,0)),Jo(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&be(t,e,n)>-1},En.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:rs(n);return r<0&&(r=on(i+r,0)),be(t,e,r)},En.inRange=function(t,e,n){return e=is(e),void 0===n?(n=e,e=0):n=is(n),function(t,e,n){return t>=sn(e,n)&&t<on(e,n)}(t=os(t),e,n)},En.invoke=ws,En.isArguments=Io,En.isArray=Do,En.isArrayBuffer=zo,En.isArrayLike=Ao,En.isArrayLikeObject=jo,En.isBoolean=function(t){return!0===t||!1===t||Uo(t)&&pi(t)==c},En.isBuffer=Fo,En.isDate=Bo,En.isElement=function(t){return Uo(t)&&1===t.nodeType&&!Wo(t)},En.isEmpty=function(t){if(null==t)return!0;if(Ao(t)&&(Do(t)||"string"==typeof t||"function"==typeof t.splice||Fo(t)||Qo(t)||Io(t)))return!t.length;var e=ea(t);if(e==f||e==b)return!t.size;if(ua(t))return!Ci(t).length;for(var n in t)if(Ct.call(t,n))return!1;return!0},En.isEqual=function(t,e){return wi(t,e)},En.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?wi(t,e,void 0,n):!!i},En.isError=Vo,En.isFinite=function(t){return"number"==typeof t&&nn(t)},En.isFunction=No,En.isInteger=Ho,En.isLength=Xo,En.isMap=Yo,En.isMatch=function(t,e){return t===e||xi(t,e,Jr(e))},En.isMatchWith=function(t,e,n){return n="function"==typeof n?n:void 0,xi(t,e,Jr(e),n)},En.isNaN=function(t){return qo(t)&&t!=+t},En.isNative=function(t){if(ca(t))throw new dt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return _i(t)},En.isNil=function(t){return null==t},En.isNull=function(t){return null===t},En.isNumber=qo,En.isObject=Go,En.isObjectLike=Uo,En.isPlainObject=Wo,En.isRegExp=$o,En.isSafeInteger=function(t){return Ho(t)&&t>=-9007199254740991&&t<=9007199254740991},En.isSet=Zo,En.isString=Jo,En.isSymbol=Ko,En.isTypedArray=Qo,En.isUndefined=function(t){return void 0===t},En.isWeakMap=function(t){return Uo(t)&&ea(t)==x},En.isWeakSet=function(t){return Uo(t)&&"[object WeakSet]"==pi(t)},En.join=function(t,e){return null==t?"":rn.call(t,e)},En.kebabCase=Ds,En.last=Ba,En.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=rs(n))<0?on(i+r,0):sn(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):me(t,we,r,!0)},En.lowerCase=zs,En.lowerFirst=As,En.lt=ts,En.lte=es,En.max=function(t){return t&&t.length?ii(t,qs,fi):void 0},En.maxBy=function(t,e){return t&&t.length?ii(t,$r(e,2),fi):void 0},En.mean=function(t){return xe(t,qs)},En.meanBy=function(t,e){return xe(t,$r(e,2))},En.min=function(t){return t&&t.length?ii(t,qs,ki):void 0},En.minBy=function(t,e){return t&&t.length?ii(t,$r(e,2),ki):void 0},En.stubArray=al,En.stubFalse=ol,En.stubObject=function(){return{}},En.stubString=function(){return""},En.stubTrue=function(){return!0},En.multiply=dl,En.nth=function(t,e){return t&&t.length?Pi(t,rs(e)):void 0},En.noConflict=function(){return Gt._===this&&(Gt._=Lt),this},En.noop=Ks,En.now=vo,En.pad=function(t,e,n){t=ls(t);var i=(e=rs(e))?He(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Lr(Qe(r),n)+t+Lr(Ke(r),n)},En.padEnd=function(t,e,n){t=ls(t);var i=(e=rs(e))?He(t):0;return e&&i<e?t+Lr(e-i,n):t},En.padStart=function(t,e,n){t=ls(t);var i=(e=rs(e))?He(t):0;return e&&i<e?Lr(e-i,n)+t:t},En.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),cn(ls(t).replace(W,""),e||0)},En.random=function(t,e,n){if(n&&"boolean"!=typeof n&&oa(t,e,n)&&(e=n=void 0),void 0===n&&("boolean"==typeof e?(n=e,e=void 0):"boolean"==typeof t&&(n=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=is(t),void 0===e?(e=t,t=0):e=is(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=un();return sn(t+r*(e-t+Vt("1e-"+((r+"").length-1))),e)}return zi(t,e)},En.reduce=function(t,e,n){var i=Do(t)?de:Ce,r=arguments.length<3;return i(t,$r(e,4),n,r,ti)},En.reduceRight=function(t,e,n){var i=Do(t)?pe:Ce,r=arguments.length<3;return i(t,$r(e,4),n,r,ei)},En.repeat=function(t,e,n){return e=(n?oa(t,e,n):void 0===e)?1:rs(e),Ai(ls(t),e)},En.replace=function(){var t=arguments,e=ls(t[0]);return t.length<3?e:e.replace(t[1],t[2])},En.result=function(t,e,n){var i=-1,r=(e=or(e,t)).length;for(r||(r=1,t=void 0);++i<r;){var a=null==t?void 0:t[Sa(e[i])];void 0===a&&(i=r,a=n),t=No(a)?a.call(t):a}return t},En.round=pl,En.runInContext=t,En.sample=function(t){return(Do(t)?Bn:Fi)(t)},En.size=function(t){if(null==t)return 0;if(Ao(t))return Jo(t)?He(t):t.length;var e=ea(t);return e==f||e==b?t.size:Ci(t).length},En.snakeCase=js,En.some=function(t,e,n){var i=Do(t)?fe:Ui;return n&&oa(t,e,n)&&(e=void 0),i(t,$r(e,3))},En.sortedIndex=function(t,e){return Yi(t,e)},En.sortedIndexBy=function(t,e,n){return qi(t,e,$r(n,2))},En.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Yi(t,e);if(i<n&&Po(t[i],e))return i}return-1},En.sortedLastIndex=function(t,e){return Yi(t,e,!0)},En.sortedLastIndexBy=function(t,e,n){return qi(t,e,$r(n,2),!0)},En.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Yi(t,e,!0)-1;if(Po(t[n],e))return n}return-1},En.startCase=Fs,En.startsWith=function(t,e,n){return t=ls(t),n=null==n?0:$n(rs(n),0,t.length),e=Zi(e),t.slice(n,n+e.length)==e},En.subtract=fl,En.sum=function(t){return t&&t.length?ke(t,qs):0},En.sumBy=function(t,e){return t&&t.length?ke(t,$r(e,2)):0},En.template=function(t,e,n){var i=En.templateSettings;n&&oa(t,e,n)&&(e=void 0),t=ls(t),e=hs({},e,i,Br);var r,a,o=hs({},e.imports,i.imports,Br),s=xs(o),l=Ee(o,s),c=0,u=e.interpolate||ct,h="__p += '",d=vt((e.escape||ct).source+"|"+u.source+"|"+(u===N?et:ct).source+"|"+(e.evaluate||ct).source+"|$","g"),p="//# sourceURL="+(Ct.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++At+"]")+"\n";t.replace(d,(function(e,n,i,o,s,l){return i||(i=o),h+=t.slice(c,l).replace(ut,ze),n&&(r=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),h+="';\n";var f=Ct.call(e,"variable")&&e.variable;f||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(R,""):h).replace(I,"$1").replace(D,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Hs((function(){return pt(s,p+"return "+h).apply(void 0,l)}));if(g.source=h,Vo(g))throw g;return g},En.times=function(t,e){if((t=rs(t))<1||t>9007199254740991)return[];var n=4294967295,i=sn(t,4294967295);t-=4294967295;for(var r=Se(i,e=$r(e));++n<t;)e(n);return r},En.toFinite=is,En.toInteger=rs,En.toLength=as,En.toLower=function(t){return ls(t).toLowerCase()},En.toNumber=os,En.toSafeInteger=function(t){return t?$n(rs(t),-9007199254740991,9007199254740991):0===t?t:0},En.toString=ls,En.toUpper=function(t){return ls(t).toUpperCase()},En.trim=function(t,e,n){if((t=ls(t))&&(n||void 0===e))return t.replace(q,"");if(!t||!(e=Zi(e)))return t;var i=Xe(t),r=Xe(e);return lr(i,Pe(i,r),Le(i,r)+1).join("")},En.trimEnd=function(t,e,n){if((t=ls(t))&&(n||void 0===e))return t.replace($,"");if(!t||!(e=Zi(e)))return t;var i=Xe(t);return lr(i,0,Le(i,Xe(e))+1).join("")},En.trimStart=function(t,e,n){if((t=ls(t))&&(n||void 0===e))return t.replace(W,"");if(!t||!(e=Zi(e)))return t;var i=Xe(t);return lr(i,Pe(i,Xe(e))).join("")},En.truncate=function(t,e){var n=30,i="...";if(Go(e)){var r="separator"in e?e.separator:r;n="length"in e?rs(e.length):n,i="omission"in e?Zi(e.omission):i}var a=(t=ls(t)).length;if(Ae(t)){var o=Xe(t);a=o.length}if(n>=a)return t;var s=n-He(i);if(s<1)return i;var l=o?lr(o,0,s).join(""):t.slice(0,s);if(void 0===r)return l+i;if(o&&(s+=l.length-s),$o(r)){if(t.slice(s).search(r)){var c,u=l;for(r.global||(r=vt(r.source,ls(nt.exec(r))+"g")),r.lastIndex=0;c=r.exec(u);)var h=c.index;l=l.slice(0,void 0===h?s:h)}}else if(t.indexOf(Zi(r),s)!=s){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i},En.unescape=function(t){return(t=ls(t))&&j.test(t)?t.replace(z,Ge):t},En.uniqueId=function(t){var e=++kt;return ls(t)+e},En.upperCase=Bs,En.upperFirst=Vs,En.each=so,En.eachRight=lo,En.first=za,Js(En,(sl={},li(En,(function(t,e){Ct.call(En.prototype,e)||(sl[e]=t)})),sl),{chain:!1}),En.VERSION="4.17.20",re(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){En[t].placeholder=En})),re(["drop","take"],(function(t,e){Rn.prototype[t]=function(n){n=void 0===n?1:on(rs(n),0);var i=this.__filtered__&&!e?new Rn(this):this.clone();return i.__filtered__?i.__takeCount__=sn(n,i.__takeCount__):i.__views__.push({size:sn(n,4294967295),type:t+(i.__dir__<0?"Right":"")}),i},Rn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),re(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;Rn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:$r(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),re(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Rn.prototype[t]=function(){return this[n](1).value()[0]}})),re(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Rn.prototype[t]=function(){return this.__filtered__?new Rn(this):this[n](1)}})),Rn.prototype.compact=function(){return this.filter(qs)},Rn.prototype.find=function(t){return this.filter(t).head()},Rn.prototype.findLast=function(t){return this.reverse().find(t)},Rn.prototype.invokeMap=ji((function(t,e){return"function"==typeof t?new Rn(this):this.map((function(n){return bi(n,t,e)}))})),Rn.prototype.reject=function(t){return this.filter(ko($r(t)))},Rn.prototype.slice=function(t,e){t=rs(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Rn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),void 0!==e&&(n=(e=rs(e))<0?n.dropRight(-e):n.take(e-t)),n)},Rn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Rn.prototype.toArray=function(){return this.take(4294967295)},li(Rn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=En[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);r&&(En.prototype[e]=function(){var e=this.__wrapped__,o=i?[1]:arguments,s=e instanceof Rn,l=o[0],c=s||Do(e),u=function(t){var e=r.apply(En,he([t],o));return i&&h?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,f=s&&!d;if(!a&&c){e=f?e:new Rn(this);var g=t.apply(e,o);return g.__actions__.push({func:no,args:[u],thisArg:void 0}),new Ln(g,h)}return p&&f?t.apply(this,o):(g=this.thru(u),p?i?g.value()[0]:g.value():g)})})),re(["pop","push","shift","sort","splice","unshift"],(function(t){var e=yt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);En.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Do(r)?r:[],t)}return this[n]((function(n){return e.apply(Do(n)?n:[],t)}))}})),li(Rn.prototype,(function(t,e){var n=En[e];if(n){var i=n.name+"";Ct.call(yn,i)||(yn[i]=[]),yn[i].push({name:e,func:n})}})),yn[Mr(void 0,2).name]=[{name:"wrapper",func:void 0}],Rn.prototype.clone=function(){var t=new Rn(this.__wrapped__);return t.__actions__=vr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=vr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=vr(this.__views__),t},Rn.prototype.reverse=function(){if(this.__filtered__){var t=new Rn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Rn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Do(t),i=e<0,r=n?t.length:0,a=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var a=n[i],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=sn(e,t+o);break;case"takeRight":t=on(t,e-o)}}return{start:t,end:e}}(0,r,this.__views__),o=a.start,s=a.end,l=s-o,c=i?s:o-1,u=this.__iteratees__,h=u.length,d=0,p=sn(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return er(t,this.__actions__);var f=[];t:for(;l--&&d<p;){for(var g=-1,v=t[c+=e];++g<h;){var m=u[g],b=m.iteratee,y=m.type,w=b(v);if(2==y)v=w;else if(!w){if(1==y)continue t;break t}}f[d++]=v}return f},En.prototype.at=io,En.prototype.chain=function(){return eo(this)},En.prototype.commit=function(){return new Ln(this.value(),this.__chain__)},En.prototype.next=function(){void 0===this.__values__&&(this.__values__=ns(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},En.prototype.plant=function(t){for(var e,n=this;n instanceof Pn;){var i=Ea(n);i.__index__=0,i.__values__=void 0,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},En.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Rn){var e=t;return this.__actions__.length&&(e=new Rn(this)),(e=e.reverse()).__actions__.push({func:no,args:[Xa],thisArg:void 0}),new Ln(e,this.__chain__)}return this.thru(Xa)},En.prototype.toJSON=En.prototype.valueOf=En.prototype.value=function(){return er(this.__wrapped__,this.__actions__)},En.prototype.first=En.prototype.head,Ye&&(En.prototype[Ye]=function(){return this}),En}();Gt._=Ue,void 0===(i=(function(){return Ue}).call(e,n,e,t))||(t.exports=i)}).call(this)}).call(this,n("YuTi")(t))},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}}]);